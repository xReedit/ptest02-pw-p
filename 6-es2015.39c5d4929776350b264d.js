(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RFh9:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J");class i{}var l=n("pMnS"),a=n("iInd");class s{constructor(){}ngOnInit(){}}var o=r.qb({encapsulation:0,styles:[[""]],data:{}});function u(e){return r.Ob(0,[(e()(),r.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(1,212992,null,0,a.o,[a.b,r.O,r.j,[8,null],r.h],null,null)],function(e,t){e(t,1,0)},null)}function h(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,1,"app-main",[],null,null,null,u,o)),r.rb(1,114688,null,0,s,[],null,null)],function(e,t){e(t,1,0)},null)}var d=r.ob("app-main",s,h,{},{},[]),c=n("bujt"),w=n("Fwaw"),f=n("5GAg"),b=n("omvX");class g{constructor(){}ngOnInit(){screen.orientation.unlock()}}var m=r.qb({encapsulation:0,styles:[[".xfooter[_ngcontent-%COMP%]{bottom:0;text-align:center;width:100%;padding:20px}"]],data:{}});function p(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,27,"div",[],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,26,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.sb(3,0,null,null,3,"div",[["class","text-right text-secondary"],["style","position: absolute; right: 0px;"]],null,null,null,null,null)),(e()(),r.sb(4,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-user-circle-o p-2"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,5).onClick()&&i),i},null,null)),r.rb(5,16384,null,0,a.m,[a.l,a.a,[8,null],r.D,r.k],{routerLink:[0,"routerLink"]},null),r.Fb(6,1),(e()(),r.sb(7,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.sb(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.sb(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.sb(10,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),r.sb(11,0,null,null,0,"img",[["src","assets/images/papaya_text.png"],["width","190px"]],null,null,null,null,null)),(e()(),r.sb(12,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),r.Mb(-1,null,["Restobar "])),(e()(),r.sb(14,0,null,null,1,"span",[["class","fs-13 text-secondary"]],null,null,null,null,null)),(e()(),r.Mb(-1,null,["v.1d"])),(e()(),r.sb(16,0,null,null,3,"div",[["class","text-center p-4"]],null,null,null,null,null)),(e()(),r.sb(17,0,null,null,0,"img",[["alt","ini"],["src","assets/images/img-ini.png"],["style","max-width: 320px; width: 100%;"]],null,null,null,null,null)),(e()(),r.sb(18,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Mb(-1,null,["Software especializado para negocios gastronomicos."])),(e()(),r.sb(20,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.sb(21,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.sb(22,0,null,null,5,"div",[["class","xfooter"]],null,null,null,null,null)),(e()(),r.sb(23,0,null,null,4,"button",[["color","primary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,24).onClick()&&i),i},c.b,c.a)),r.rb(24,16384,null,0,a.m,[a.l,a.a,[8,null],r.D,r.k],{routerLink:[0,"routerLink"]},null),r.Fb(25,1),r.rb(26,180224,null,0,w.b,[r.k,f.d,[2,b.a]],{color:[0,"color"]},null),(e()(),r.Mb(-1,0,["Personal Autorizado"]))],function(e,t){var n=e(t,6,0,"/lector-qr");e(t,5,0,n);var r=e(t,25,0,"/login-personal-autorizado");e(t,24,0,r),e(t,26,0,"primary")},function(e,t){e(t,23,0,r.Eb(t,26).disabled||null,"NoopAnimations"===r.Eb(t,26)._animationMode)})}function v(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,1,"app-inicio",[],null,null,null,p,m)),r.rb(1,114688,null,0,g,[],null,null)],function(e,t){e(t,1,0)},null)}var C=r.ob("app-inicio",g,v,{},{},[]),E=n("s7LF"),y=n("dJrM"),M=n("HsOI"),A=n("Xd0L"),S=n("IP0z"),_=n("/HVE"),k=n("ZwOa"),T=n("oapL"),N=n("MBfO"),P=n("8P0U");class I{}var F=n("IYfF"),B=n("zOUh");class D{constructor(e,t,n){this.router=e,this.authService=t,this.infoToken=n,this.loading=!1,this.msjErr=!1}ngOnInit(){this.usuario=new I}logear(){this.loading=!0,this.msjErr=!1,this.authService.setLocalToken(""),this.authService.getUserLogged(this.usuario).subscribe(e=>{setTimeout(()=>{e.success?(this.authService.setLocalToken(e.token),this.authService.setLoggedStatus(!0),this.authService.setLocalUsuario(this.usuario),this.infoToken.converToJSON(),this.router.navigate(["./pedido"])):(this.loading=!1,this.msjErr=!0)},2e3)})}}var x=r.qb({encapsulation:0,styles:[[".content-login-us[_ngcontent-%COMP%]{background:#eee;border-radius:5px;padding:15px}"]],data:{}});function O(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,66,"div",[["class","text-center animated fadeIn"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.sb(2,0,null,null,0,"img",[["alt",".."],["src","assets/images/login-user.gif"],["style","max-width: 360px;"]],null,null,null,null,null)),(e()(),r.sb(3,0,null,null,63,"div",[["class","text-center ml-5 mr-5"]],null,null,null,null,null)),(e()(),r.sb(4,0,null,null,0,"img",[["src","assets/images/papaya_text.png"],["width","190px"]],null,null,null,null,null)),(e()(),r.sb(5,0,null,null,1,"p",[["class","fs-16 fw-100 text-secondary"]],null,null,null,null,null)),(e()(),r.Mb(-1,null,["Personal Autorizado"])),(e()(),r.sb(7,0,null,null,59,"form",[["class","content-login-us"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0,l=e.component;return"submit"===t&&(i=!1!==r.Eb(e,9).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,9).onReset()&&i),"ngSubmit"===t&&(i=!1!==l.logear()&&i),i},null,null)),r.rb(8,16384,null,0,E.x,[],null,null),r.rb(9,4210688,[["frmpass",4]],0,E.o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Jb(2048,null,E.c,null,[E.o]),r.rb(11,16384,null,0,E.n,[[4,E.c]],null,null),(e()(),r.sb(12,0,null,null,44,"div",[["class","row "]],null,null,null,null,null)),(e()(),r.sb(13,0,null,null,21,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),r.sb(14,0,null,null,20,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,y.b,y.a)),r.rb(15,7520256,null,9,M.b,[r.k,r.h,[2,A.c],[2,S.b],[2,M.a],_.a,r.y,[2,b.a]],null,null),r.Kb(603979776,1,{_controlNonStatic:0}),r.Kb(335544320,2,{_controlStatic:0}),r.Kb(603979776,3,{_labelChildNonStatic:0}),r.Kb(335544320,4,{_labelChildStatic:0}),r.Kb(603979776,5,{_placeholderChild:0}),r.Kb(603979776,6,{_errorChildren:1}),r.Kb(603979776,7,{_hintChildren:1}),r.Kb(603979776,8,{_prefixChildren:1}),r.Kb(603979776,9,{_suffixChildren:1}),(e()(),r.sb(25,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","nomusuario"],["placeholder","Usuario"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==r.Eb(e,26)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,26).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,26)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,26)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,33)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==r.Eb(e,33)._focusChanged(!0)&&i),"input"===t&&(i=!1!==r.Eb(e,33)._onInput()&&i),"ngModelChange"===t&&(i=!1!==(l.usuario.nomusuario=n)&&i),i},null,null)),r.rb(26,16384,null,0,E.d,[r.D,r.k,[2,E.a]],null,null),r.rb(27,16384,null,0,E.s,[],{required:[0,"required"]},null),r.Jb(1024,null,E.j,function(e){return[e]},[E.s]),r.Jb(1024,null,E.k,function(e){return[e]},[E.d]),r.rb(30,671744,null,0,E.p,[[2,E.c],[6,E.j],[8,null],[6,E.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Jb(2048,null,E.l,null,[E.p]),r.rb(32,16384,null,0,E.m,[[4,E.l]],null,null),r.rb(33,999424,null,0,k.a,[r.k,_.a,[6,E.l],[2,E.o],[2,E.h],A.a,[8,null],T.a,r.y],{placeholder:[0,"placeholder"],required:[1,"required"]},null),r.Jb(2048,[[1,4],[2,4]],M.c,null,[k.a]),(e()(),r.sb(35,0,null,null,21,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),r.sb(36,0,null,null,20,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,y.b,y.a)),r.rb(37,7520256,null,9,M.b,[r.k,r.h,[2,A.c],[2,S.b],[2,M.a],_.a,r.y,[2,b.a]],null,null),r.Kb(603979776,10,{_controlNonStatic:0}),r.Kb(335544320,11,{_controlStatic:0}),r.Kb(603979776,12,{_labelChildNonStatic:0}),r.Kb(335544320,13,{_labelChildStatic:0}),r.Kb(603979776,14,{_placeholderChild:0}),r.Kb(603979776,15,{_errorChildren:1}),r.Kb(603979776,16,{_hintChildren:1}),r.Kb(603979776,17,{_prefixChildren:1}),r.Kb(603979776,18,{_suffixChildren:1}),(e()(),r.sb(47,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","pass"],["placeholder","Clave"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==r.Eb(e,48)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,48).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,48)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,48)._compositionEnd(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,55)._focusChanged(!1)&&i),"focus"===t&&(i=!1!==r.Eb(e,55)._focusChanged(!0)&&i),"input"===t&&(i=!1!==r.Eb(e,55)._onInput()&&i),"ngModelChange"===t&&(i=!1!==(l.usuario.pass=n)&&i),i},null,null)),r.rb(48,16384,null,0,E.d,[r.D,r.k,[2,E.a]],null,null),r.rb(49,16384,null,0,E.s,[],{required:[0,"required"]},null),r.Jb(1024,null,E.j,function(e){return[e]},[E.s]),r.Jb(1024,null,E.k,function(e){return[e]},[E.d]),r.rb(52,671744,null,0,E.p,[[2,E.c],[6,E.j],[8,null],[6,E.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Jb(2048,null,E.l,null,[E.p]),r.rb(54,16384,null,0,E.m,[[4,E.l]],null,null),r.rb(55,999424,null,0,k.a,[r.k,_.a,[6,E.l],[2,E.o],[2,E.h],A.a,[8,null],T.a,r.y],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),r.Jb(2048,[[10,4],[11,4]],M.c,null,[k.a]),(e()(),r.sb(57,0,null,null,4,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.sb(58,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","indeterminate"],["role","progressbar"]],[[8,"hidden",0],[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,N.b,N.a)),r.rb(59,4374528,null,0,P.b,[r.k,r.y,[2,b.a],[2,P.a]],{mode:[0,"mode"]},null),(e()(),r.sb(60,0,null,null,1,"span",[["class","fs-14 font-weight-bold text-danger animated flash"]],[[8,"hidden",0]],null,null,null,null)),(e()(),r.Mb(-1,null,["Credenciales Incorrectas."])),(e()(),r.sb(62,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.sb(63,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),r.sb(64,0,null,null,2,"button",[["color","primary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,c.b,c.a)),r.rb(65,180224,null,0,w.b,[r.k,f.d,[2,b.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),r.Mb(-1,0,["Listo, Ingresar"]))],function(e,t){var n=t.component;e(t,27,0,""),e(t,30,0,"nomusuario",n.usuario.nomusuario),e(t,33,0,"Usuario",""),e(t,49,0,""),e(t,52,0,"pass",n.usuario.pass),e(t,55,0,"Clave","","password"),e(t,59,0,"indeterminate"),e(t,65,0,!r.Eb(t,9).valid,"primary")},function(e,t){var n=t.component;e(t,7,0,r.Eb(t,11).ngClassUntouched,r.Eb(t,11).ngClassTouched,r.Eb(t,11).ngClassPristine,r.Eb(t,11).ngClassDirty,r.Eb(t,11).ngClassValid,r.Eb(t,11).ngClassInvalid,r.Eb(t,11).ngClassPending),e(t,14,1,["standard"==r.Eb(t,15).appearance,"fill"==r.Eb(t,15).appearance,"outline"==r.Eb(t,15).appearance,"legacy"==r.Eb(t,15).appearance,r.Eb(t,15)._control.errorState,r.Eb(t,15)._canLabelFloat,r.Eb(t,15)._shouldLabelFloat(),r.Eb(t,15)._hasFloatingLabel(),r.Eb(t,15)._hideControlPlaceholder(),r.Eb(t,15)._control.disabled,r.Eb(t,15)._control.autofilled,r.Eb(t,15)._control.focused,"accent"==r.Eb(t,15).color,"warn"==r.Eb(t,15).color,r.Eb(t,15)._shouldForward("untouched"),r.Eb(t,15)._shouldForward("touched"),r.Eb(t,15)._shouldForward("pristine"),r.Eb(t,15)._shouldForward("dirty"),r.Eb(t,15)._shouldForward("valid"),r.Eb(t,15)._shouldForward("invalid"),r.Eb(t,15)._shouldForward("pending"),!r.Eb(t,15)._animationsEnabled]),e(t,25,1,[r.Eb(t,27).required?"":null,r.Eb(t,32).ngClassUntouched,r.Eb(t,32).ngClassTouched,r.Eb(t,32).ngClassPristine,r.Eb(t,32).ngClassDirty,r.Eb(t,32).ngClassValid,r.Eb(t,32).ngClassInvalid,r.Eb(t,32).ngClassPending,r.Eb(t,33)._isServer,r.Eb(t,33).id,r.Eb(t,33).placeholder,r.Eb(t,33).disabled,r.Eb(t,33).required,r.Eb(t,33).readonly&&!r.Eb(t,33)._isNativeSelect||null,r.Eb(t,33)._ariaDescribedby||null,r.Eb(t,33).errorState,r.Eb(t,33).required.toString()]),e(t,36,1,["standard"==r.Eb(t,37).appearance,"fill"==r.Eb(t,37).appearance,"outline"==r.Eb(t,37).appearance,"legacy"==r.Eb(t,37).appearance,r.Eb(t,37)._control.errorState,r.Eb(t,37)._canLabelFloat,r.Eb(t,37)._shouldLabelFloat(),r.Eb(t,37)._hasFloatingLabel(),r.Eb(t,37)._hideControlPlaceholder(),r.Eb(t,37)._control.disabled,r.Eb(t,37)._control.autofilled,r.Eb(t,37)._control.focused,"accent"==r.Eb(t,37).color,"warn"==r.Eb(t,37).color,r.Eb(t,37)._shouldForward("untouched"),r.Eb(t,37)._shouldForward("touched"),r.Eb(t,37)._shouldForward("pristine"),r.Eb(t,37)._shouldForward("dirty"),r.Eb(t,37)._shouldForward("valid"),r.Eb(t,37)._shouldForward("invalid"),r.Eb(t,37)._shouldForward("pending"),!r.Eb(t,37)._animationsEnabled]),e(t,47,1,[r.Eb(t,49).required?"":null,r.Eb(t,54).ngClassUntouched,r.Eb(t,54).ngClassTouched,r.Eb(t,54).ngClassPristine,r.Eb(t,54).ngClassDirty,r.Eb(t,54).ngClassValid,r.Eb(t,54).ngClassInvalid,r.Eb(t,54).ngClassPending,r.Eb(t,55)._isServer,r.Eb(t,55).id,r.Eb(t,55).placeholder,r.Eb(t,55).disabled,r.Eb(t,55).required,r.Eb(t,55).readonly&&!r.Eb(t,55)._isNativeSelect||null,r.Eb(t,55)._ariaDescribedby||null,r.Eb(t,55).errorState,r.Eb(t,55).required.toString()]),e(t,58,0,!n.loading,"indeterminate"===r.Eb(t,59).mode||"query"===r.Eb(t,59).mode?null:r.Eb(t,59).value,r.Eb(t,59).mode,r.Eb(t,59)._isNoopAnimation),e(t,60,0,!n.msjErr),e(t,64,0,r.Eb(t,65).disabled||null,"NoopAnimations"===r.Eb(t,65)._animationMode)})}function R(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,1,"app-login-personal-autorizado",[],null,null,null,O,x)),r.rb(1,114688,null,0,D,[a.l,F.a,B.a],null,null)],function(e,t){e(t,1,0)},null)}var L=r.ob("app-login-personal-autorizado",D,R,{},{},[]),q=n("XNiG");class z{constructor(e,t,n){this.count=1,this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},this.x=e,this.y=t,this.estimatedModuleSize=n}get EstimatedModuleSize(){return this.estimatedModuleSize}get Count(){return this.count}get X(){return Math.floor(this.x)}get Y(){return Math.floor(this.y)}}class V{constructor(e,t,n,r,i,l,a,s,o){this.possibleCenters=new Array,this.crossCheckStateCount=new Array(0,0,0),this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0},this.crossCheckVertical=function(e,t,n,r){var i=this.image,l=this.imageHeight,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=e;s>=0&&i[t+s*this.imageWidth]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&!i[t+s*this.imageWidth]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<l&&i[t+s*this.imageWidth]&&a[1]<=n;)a[1]++,s++;if(s==l||a[1]>n)return NaN;for(;s<l&&!i[t+s*this.imageWidth]&&a[2]<=n;)a[2]++,s++;return a[2]>n?NaN:5*Math.abs(a[0]+a[1]+a[2]-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,n){var r=e[0]+e[1]+e[2],i=this.centerFromEnd(e,n),l=this.crossCheckVertical(t,Math.floor(i),2*e[1],r);if(!isNaN(l)){for(var a=(e[0]+e[1]+e[2])/3,s=this.possibleCenters.length,o=0;o<s;o++)if(this.possibleCenters[o].aboutEquals(a,l,i))return new z(i,l,a);var u=new z(i,l,a);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},this.find=function(){for(var e=this.startX,t=this.height,n=e+this.width,r=this.startY+(t>>1),i=new Array(0,0,0),l=0;l<t;l++){var a=r+(0==(1&l)?l+1>>1:-(l+1>>1));i[0]=0,i[1]=0,i[2]=0;for(var s=e;s<n&&!this.image[s+this.imageWidth*a];)s++;for(var o=0;s<n;){if(this.image[s+a*this.imageWidth])if(1==o)i[o]++;else if(2==o){var u;if(this.foundPatternCross(i)&&null!=(u=this.handlePossibleCenter(i,a,s)))return u;i[0]=i[2],i[1]=1,i[2]=0,o=1}else i[++o]++;else 1==o&&o++,i[o]++;s++}if(this.foundPatternCross(i)&&null!=(u=this.handlePossibleCenter(i,a,n)))return u}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"},this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=l,this.resultPointCallback=o,this.imageWidth=a,this.imageHeight=s}}class H{constructor(e,t,n,r,i,l,a,s,o){this.transformPoints1=function(e){for(var t=e.length,n=this.a11,r=this.a12,i=this.a13,l=this.a21,a=this.a22,s=this.a23,o=this.a31,u=this.a32,h=this.a33,d=0;d<t;d+=2){var c=e[d],w=e[d+1],f=i*c+s*w+h;e[d]=(n*c+l*w+o)/f,e[d+1]=(r*c+a*w+u)/f}},this.transformPoints2=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r],l=t[r],a=this.a13*i+this.a23*l+this.a33;e[r]=(this.a11*i+this.a21*l+this.a31)/a,t[r]=(this.a12*i+this.a22*l+this.a32)/a}},this.buildAdjoint=function(){return new H(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new H(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},this.a11=e,this.a12=r,this.a13=a,this.a21=t,this.a22=i,this.a23=s,this.a31=n,this.a32=l,this.a33=o}static quadrilateralToQuadrilateral(e,t,n,r,i,l,a,s,o,u,h,d,c,w,f,b){var g=this.quadrilateralToSquare(e,t,n,r,i,l,a,s);return this.squareToQuadrilateral(o,u,h,d,c,w,f,b).times(g)}static squareToQuadrilateral(e,t,n,r,i,l,a,s){var o=s-l,u=t-r+l-s;if(0==o&&0==u)return new H(n-e,i-n,e,r-t,l-r,t,0,0,1);var h=n-i,d=a-i,c=e-n+i-a,w=r-l,f=h*o-d*w,b=(c*o-d*u)/f,g=(h*u-c*w)/f;return new H(n-e+b*n,a-e+g*a,e,r-t+b*r,s-t+g*s,t,b,g,1)}static quadrilateralToSquare(e,t,n,r,i,l,a,s){return this.squareToQuadrilateral(e,t,n,r,i,l,a,s).buildAdjoint()}}class Y{constructor(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t,this.rowSize=e>>5,0!=(31&e)&&this.rowSize++,this.bits=new Array(this.rowSize*t);for(var n=0;n<this.bits.length;n++)this.bits[n]=0}get Width(){return this.width}get Height(){return this.height}get Dimension(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}URShift(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}get_Renamed(e,t){return 0!=(1&this.URShift(this.bits[t*this.rowSize+(e>>5)],31&e))}set_Renamed(e,t){this.bits[t*this.rowSize+(e>>5)]|=1<<(31&e)}flip(e,t){this.bits[t*this.rowSize+(e>>5)]^=1<<(31&e)}clear(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0}setRegion(e,t,n,r){if(t<0||e<0)throw"Left and top must be nonnegative";if(r<1||n<1)throw"Height and width must be at least 1";var i=e+n,l=t+r;if(l>this.height||i>this.width)throw"The region must fit inside the matrix";for(var a=t;a<l;a++)for(var s=a*this.rowSize,o=e;o<i;o++)this.bits[s+(o>>5)]|=1<<(31&o)}}class U{constructor(e,t){this.width=e,this.height=t}checkAndNudgePoints(e,t){for(var n=this.width,r=this.height,i=!0,l=0;l<t.length&&i;l+=2){var a=Math.floor(t[l]),s=Math.floor(t[l+1]);if(a<-1||a>n||s<-1||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[l]=0,i=!0):a==n&&(t[l]=n-1,i=!0),-1==s?(t[l+1]=0,i=!0):s==r&&(t[l+1]=r-1,i=!0)}for(i=!0,l=t.length-2;l>=0&&i;l-=2){if(a=Math.floor(t[l]),s=Math.floor(t[l+1]),a<-1||a>n||s<-1||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[l]=0,i=!0):a==n&&(t[l]=n-1,i=!0),-1==s?(t[l+1]=0,i=!0):s==r&&(t[l+1]=r-1,i=!0)}}sampleGrid3(e,t,n,r){for(var i=new Y(n,n),l=new Array(n<<1),a=0;a<n;a++){for(var s=l.length,o=a+.5,u=0;u<s;u+=2)l[u]=.5+(u>>1),l[u+1]=o;r.transformPoints1(l),this.checkAndNudgePoints(e,l);try{for(u=0;u<s;u+=2){var h=4*Math.floor(l[u])+Math.floor(l[u+1])*this.width*4,d=e[Math.floor(l[u])+this.width*Math.floor(l[u+1])];t.data[h]=d?255:0,t.data[h+1]=d?255:0,t.data[h+2]=0,t.data[h+3]=255,d&&i.set_Renamed(u>>1,a)}}catch(c){throw"Error.checkAndNudgePoints"}}return i}sampleGridx(e,t,n,r,i,l,a,s,o,u,h,d,c,w,f,b,g,m){var p=H.quadrilateralToQuadrilateral(n,r,i,l,a,s,o,u,h,d,c,w,f,b,g,m);return this.sampleGrid3(e,{},t,p)}}let K=(()=>{class e{constructor(e,t,n){this.ordinal_Renamed_Field=e,this.bits=t,this.name=n}static forBits(e){if(e<0||e>=this.FOR_BITS.length)throw"ArgumentException";return this.FOR_BITS[e]}get Bits(){return this.bits}get Name(){return this.name}ordinal(){return this.ordinal_Renamed_Field}}return e.L=new e(0,1,"L"),e.M=new e(1,0,"M"),e.Q=new e(2,3,"Q"),e.H=new e(3,2,"H"),e.FOR_BITS=new Array(e.M,e.L,e.H,e.Q),e})(),W=(()=>{class e{constructor(e){this.Equals=function(e){return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask},this.errorCorrectionLevel=K.forBits(e>>3&3),this.dataMask=7&e}get ErrorCorrectionLevel(){return this.errorCorrectionLevel}get DataMask(){return this.dataMask}GetHashCode(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask}static URShift(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}static numBitsDiffering(t,n){return e.BITS_SET_IN_HALF_BYTE[15&(t^=n)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,4)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,8)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,12)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,16)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,20)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,24)]+e.BITS_SET_IN_HALF_BYTE[15&this.URShift(t,28)]}static decodeFormatInformation(t){var n=this.doDecodeFormatInformation(t);return null!=n?n:this.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t){for(var n=4294967295,r=0,i=0;i<e.FORMAT_INFO_DECODE_LOOKUP.length;i++){var l=e.FORMAT_INFO_DECODE_LOOKUP[i],a=l[0];if(a==t)return new e(l[1]);var s=e.numBitsDiffering(t,a);s<n&&(r=l[1],n=s)}return n<=3?new e(r):null}static forBits(t){if(t<0||t>=e.FOR_BITS.length)throw"ArgumentException";return e.FOR_BITS[t]}}return e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),e.BITS_SET_IN_HALF_BYTE=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4),e.L=new K(0,1,"L"),e.M=new K(1,0,"M"),e.Q=new K(2,3,"Q"),e.H=new K(3,2,"H"),e.FOR_BITS=new Array(e.M,e.L,e.H,e.Q),e})();class X{constructor(e,t){this.count=e,this.dataCodewords=t}get Count(){return this.count}get DataCodewords(){return this.dataCodewords}}class Q{constructor(e,t,n){this.getECBlocks=function(){return this.ecBlocks},this.ecCodewordsPerBlock=e,this.ecBlocks=n?new Array(t,n):new Array(t)}get ECCodewordsPerBlock(){return this.ecCodewordsPerBlock}get TotalECCodewords(){return this.ecCodewordsPerBlock*this.NumBlocks}get NumBlocks(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}}let G=(()=>{class e{constructor(e,t,n,r,i,l){this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new Y(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,l=0;l<n;l++)0==r&&(0==l||l==n-1)||r==n-1&&0==l||t.setRegion(this.alignmentPatternCenters[l]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]},this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(n,r,i,l);for(var a=0,s=n.ECCodewordsPerBlock,o=n.getECBlocks(),u=0;u<o.length;u++){var h=o[u];a+=h.Count*(h.DataCodewords+s)}this.totalCodewords=a}get VersionNumber(){return this.versionNumber}get AlignmentPatternCenters(){return this.alignmentPatternCenters}get TotalCodewords(){return this.totalCodewords}get DimensionForVersion(){return 17+4*this.versionNumber}static getVersionForNumber(t){if(t<1||t>40)throw"ArgumentException";return e.VERSIONS[t-1]}static getProvisionalVersionForDimension(t){if(t%4!=1)throw"Error getProvisionalVersionForDimension";try{return e.getVersionForNumber(t-17>>2)}catch(n){throw"Error getVersionForNumber"}}static decodeVersionInformation(t){for(var n=4294967295,r=0,i=0;i<e.VERSION_DECODE_INFO.length;i++){var l=e.VERSION_DECODE_INFO[i];if(l==t)return this.getVersionForNumber(i+7);var a=W.numBitsDiffering(t,l);a<n&&(r=i+7,n=a)}return n<=3?this.getVersionForNumber(r):null}static buildVersions(){return new Array(new e(1,new Array,new Q(7,new X(1,19)),new Q(10,new X(1,16)),new Q(13,new X(1,13)),new Q(17,new X(1,9))),new e(2,new Array(6,18),new Q(10,new X(1,34)),new Q(16,new X(1,28)),new Q(22,new X(1,22)),new Q(28,new X(1,16))),new e(3,new Array(6,22),new Q(15,new X(1,55)),new Q(26,new X(1,44)),new Q(18,new X(2,17)),new Q(22,new X(2,13))),new e(4,new Array(6,26),new Q(20,new X(1,80)),new Q(18,new X(2,32)),new Q(26,new X(2,24)),new Q(16,new X(4,9))),new e(5,new Array(6,30),new Q(26,new X(1,108)),new Q(24,new X(2,43)),new Q(18,new X(2,15),new X(2,16)),new Q(22,new X(2,11),new X(2,12))),new e(6,new Array(6,34),new Q(18,new X(2,68)),new Q(16,new X(4,27)),new Q(24,new X(4,19)),new Q(28,new X(4,15))),new e(7,new Array(6,22,38),new Q(20,new X(2,78)),new Q(18,new X(4,31)),new Q(18,new X(2,14),new X(4,15)),new Q(26,new X(4,13),new X(1,14))),new e(8,new Array(6,24,42),new Q(24,new X(2,97)),new Q(22,new X(2,38),new X(2,39)),new Q(22,new X(4,18),new X(2,19)),new Q(26,new X(4,14),new X(2,15))),new e(9,new Array(6,26,46),new Q(30,new X(2,116)),new Q(22,new X(3,36),new X(2,37)),new Q(20,new X(4,16),new X(4,17)),new Q(24,new X(4,12),new X(4,13))),new e(10,new Array(6,28,50),new Q(18,new X(2,68),new X(2,69)),new Q(26,new X(4,43),new X(1,44)),new Q(24,new X(6,19),new X(2,20)),new Q(28,new X(6,15),new X(2,16))),new e(11,new Array(6,30,54),new Q(20,new X(4,81)),new Q(30,new X(1,50),new X(4,51)),new Q(28,new X(4,22),new X(4,23)),new Q(24,new X(3,12),new X(8,13))),new e(12,new Array(6,32,58),new Q(24,new X(2,92),new X(2,93)),new Q(22,new X(6,36),new X(2,37)),new Q(26,new X(4,20),new X(6,21)),new Q(28,new X(7,14),new X(4,15))),new e(13,new Array(6,34,62),new Q(26,new X(4,107)),new Q(22,new X(8,37),new X(1,38)),new Q(24,new X(8,20),new X(4,21)),new Q(22,new X(12,11),new X(4,12))),new e(14,new Array(6,26,46,66),new Q(30,new X(3,115),new X(1,116)),new Q(24,new X(4,40),new X(5,41)),new Q(20,new X(11,16),new X(5,17)),new Q(24,new X(11,12),new X(5,13))),new e(15,new Array(6,26,48,70),new Q(22,new X(5,87),new X(1,88)),new Q(24,new X(5,41),new X(5,42)),new Q(30,new X(5,24),new X(7,25)),new Q(24,new X(11,12),new X(7,13))),new e(16,new Array(6,26,50,74),new Q(24,new X(5,98),new X(1,99)),new Q(28,new X(7,45),new X(3,46)),new Q(24,new X(15,19),new X(2,20)),new Q(30,new X(3,15),new X(13,16))),new e(17,new Array(6,30,54,78),new Q(28,new X(1,107),new X(5,108)),new Q(28,new X(10,46),new X(1,47)),new Q(28,new X(1,22),new X(15,23)),new Q(28,new X(2,14),new X(17,15))),new e(18,new Array(6,30,56,82),new Q(30,new X(5,120),new X(1,121)),new Q(26,new X(9,43),new X(4,44)),new Q(28,new X(17,22),new X(1,23)),new Q(28,new X(2,14),new X(19,15))),new e(19,new Array(6,30,58,86),new Q(28,new X(3,113),new X(4,114)),new Q(26,new X(3,44),new X(11,45)),new Q(26,new X(17,21),new X(4,22)),new Q(26,new X(9,13),new X(16,14))),new e(20,new Array(6,34,62,90),new Q(28,new X(3,107),new X(5,108)),new Q(26,new X(3,41),new X(13,42)),new Q(30,new X(15,24),new X(5,25)),new Q(28,new X(15,15),new X(10,16))),new e(21,new Array(6,28,50,72,94),new Q(28,new X(4,116),new X(4,117)),new Q(26,new X(17,42)),new Q(28,new X(17,22),new X(6,23)),new Q(30,new X(19,16),new X(6,17))),new e(22,new Array(6,26,50,74,98),new Q(28,new X(2,111),new X(7,112)),new Q(28,new X(17,46)),new Q(30,new X(7,24),new X(16,25)),new Q(24,new X(34,13))),new e(23,new Array(6,30,54,74,102),new Q(30,new X(4,121),new X(5,122)),new Q(28,new X(4,47),new X(14,48)),new Q(30,new X(11,24),new X(14,25)),new Q(30,new X(16,15),new X(14,16))),new e(24,new Array(6,28,54,80,106),new Q(30,new X(6,117),new X(4,118)),new Q(28,new X(6,45),new X(14,46)),new Q(30,new X(11,24),new X(16,25)),new Q(30,new X(30,16),new X(2,17))),new e(25,new Array(6,32,58,84,110),new Q(26,new X(8,106),new X(4,107)),new Q(28,new X(8,47),new X(13,48)),new Q(30,new X(7,24),new X(22,25)),new Q(30,new X(22,15),new X(13,16))),new e(26,new Array(6,30,58,86,114),new Q(28,new X(10,114),new X(2,115)),new Q(28,new X(19,46),new X(4,47)),new Q(28,new X(28,22),new X(6,23)),new Q(30,new X(33,16),new X(4,17))),new e(27,new Array(6,34,62,90,118),new Q(30,new X(8,122),new X(4,123)),new Q(28,new X(22,45),new X(3,46)),new Q(30,new X(8,23),new X(26,24)),new Q(30,new X(12,15),new X(28,16))),new e(28,new Array(6,26,50,74,98,122),new Q(30,new X(3,117),new X(10,118)),new Q(28,new X(3,45),new X(23,46)),new Q(30,new X(4,24),new X(31,25)),new Q(30,new X(11,15),new X(31,16))),new e(29,new Array(6,30,54,78,102,126),new Q(30,new X(7,116),new X(7,117)),new Q(28,new X(21,45),new X(7,46)),new Q(30,new X(1,23),new X(37,24)),new Q(30,new X(19,15),new X(26,16))),new e(30,new Array(6,26,52,78,104,130),new Q(30,new X(5,115),new X(10,116)),new Q(28,new X(19,47),new X(10,48)),new Q(30,new X(15,24),new X(25,25)),new Q(30,new X(23,15),new X(25,16))),new e(31,new Array(6,30,56,82,108,134),new Q(30,new X(13,115),new X(3,116)),new Q(28,new X(2,46),new X(29,47)),new Q(30,new X(42,24),new X(1,25)),new Q(30,new X(23,15),new X(28,16))),new e(32,new Array(6,34,60,86,112,138),new Q(30,new X(17,115)),new Q(28,new X(10,46),new X(23,47)),new Q(30,new X(10,24),new X(35,25)),new Q(30,new X(19,15),new X(35,16))),new e(33,new Array(6,30,58,86,114,142),new Q(30,new X(17,115),new X(1,116)),new Q(28,new X(14,46),new X(21,47)),new Q(30,new X(29,24),new X(19,25)),new Q(30,new X(11,15),new X(46,16))),new e(34,new Array(6,34,62,90,118,146),new Q(30,new X(13,115),new X(6,116)),new Q(28,new X(14,46),new X(23,47)),new Q(30,new X(44,24),new X(7,25)),new Q(30,new X(59,16),new X(1,17))),new e(35,new Array(6,30,54,78,102,126,150),new Q(30,new X(12,121),new X(7,122)),new Q(28,new X(12,47),new X(26,48)),new Q(30,new X(39,24),new X(14,25)),new Q(30,new X(22,15),new X(41,16))),new e(36,new Array(6,24,50,76,102,128,154),new Q(30,new X(6,121),new X(14,122)),new Q(28,new X(6,47),new X(34,48)),new Q(30,new X(46,24),new X(10,25)),new Q(30,new X(2,15),new X(64,16))),new e(37,new Array(6,28,54,80,106,132,158),new Q(30,new X(17,122),new X(4,123)),new Q(28,new X(29,46),new X(14,47)),new Q(30,new X(49,24),new X(10,25)),new Q(30,new X(24,15),new X(46,16))),new e(38,new Array(6,32,58,84,110,136,162),new Q(30,new X(4,122),new X(18,123)),new Q(28,new X(13,46),new X(32,47)),new Q(30,new X(48,24),new X(14,25)),new Q(30,new X(42,15),new X(32,16))),new e(39,new Array(6,26,54,82,110,138,166),new Q(30,new X(20,117),new X(4,118)),new Q(28,new X(40,47),new X(7,48)),new Q(30,new X(43,24),new X(22,25)),new Q(30,new X(10,15),new X(67,16))),new e(40,new Array(6,30,58,86,114,142,170),new Q(30,new X(19,118),new X(6,119)),new Q(28,new X(18,47),new X(31,48)),new Q(30,new X(34,24),new X(34,25)),new Q(30,new X(20,15),new X(61,16))))}}return e.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),e.VERSIONS=e.buildVersions(),e})();Array.prototype.remove||(Array.prototype.remove=function(e){var t=this.slice(e+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,t)});let j=(()=>{class e{constructor(e,t,n){this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var r=Math.abs(e-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n}get EstimatedModuleSize(){return this.estimatedModuleSize}get Count(){return this.count}get X(){return this.x}get Y(){return this.y}}return e.MIN_SKIP=3,e.MAX_MODULES=57,e.INTEGER_MATH_SHIFT=8,e.CENTER_QUORUM=2,e})();class Z{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}get BottomLeft(){return this.bottomLeft}get TopLeft(){return this.topLeft}get TopRight(){return this.topRight}}class J{constructor(e,t){this.possibleCenters=new Array,this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.orderBestPatterns=function(e){function t(e,t){let n=e.X-t.X,r=e.Y-t.Y;return Math.sqrt(n*n+r*r)}var n,r,i,l=t(e[0],e[1]),a=t(e[1],e[2]),s=t(e[0],e[2]);if(a>=l&&a>=s?(r=e[0],n=e[1],i=e[2]):s>=a&&s>=l?(r=e[1],n=e[0],i=e[2]):(r=e[2],n=e[0],i=e[1]),function(e,t,n){var r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}(n,r,i)<0){var o=n;n=i,i=o}e[0]=n,e[1]=r,e[2]=i},this.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var r=e[n];if(0==r)return!1;t+=r}if(t<7)return!1;var i=Math.floor((t<<j.INTEGER_MATH_SHIFT)/7),l=Math.floor(i/2);return Math.abs(i-(e[0]<<j.INTEGER_MATH_SHIFT))<l&&Math.abs(i-(e[1]<<j.INTEGER_MATH_SHIFT))<l&&Math.abs(3*i-(e[2]<<j.INTEGER_MATH_SHIFT))<3*l&&Math.abs(i-(e[3]<<j.INTEGER_MATH_SHIFT))<l&&Math.abs(i-(e[4]<<j.INTEGER_MATH_SHIFT))<l},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,n,r){for(var i=this.image,l=this.height,a=this.CrossCheckStateCount,s=e;s>=0&&i[t+s*this.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i[t+s*this.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i[t+s*this.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<l&&i[t+s*this.width];)a[2]++,s++;if(s==l)return NaN;for(;s<l&&!i[t+s*this.width]&&a[3]<n;)a[3]++,s++;if(s==l||a[3]>=n)return NaN;for(;s<l&&i[t+s*this.width]&&a[4]<n;)a[4]++,s++;return a[4]>=n?NaN:5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.crossCheckHorizontal=function(e,t,n,r){for(var i=this.image,l=this.width,a=this.CrossCheckStateCount,s=e;s>=0&&i[s+t*this.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i[s+t*this.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i[s+t*this.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=e+1;s<l&&i[s+t*this.width];)a[2]++,s++;if(s==l)return NaN;for(;s<l&&!i[s+t*this.width]&&a[3]<n;)a[3]++,s++;if(s==l||a[3]>=n)return NaN;for(;s<l&&i[s+t*this.width]&&a[4]<n;)a[4]++,s++;return a[4]>=n?NaN:5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-r)>=r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,n){var r=e[0]+e[1]+e[2]+e[3]+e[4],i=this.centerFromEnd(e,n),l=this.crossCheckVertical(t,Math.floor(i),e[2],r);if(!isNaN(l)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(l),e[2],r),!isNaN(i))){for(var a=r/7,s=!1,o=this.possibleCenters.length,u=0;u<o;u++){var h=this.possibleCenters[u];if(h.aboutEquals(a,l,i)){h.incrementCount(),s=!0;break}}if(!s){var d=new j(i,l,a);this.possibleCenters.push(d),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw`Couldn't find enough finder patterns (found: ${e})`;if(e>3){for(var t=0,n=0,r=0;r<e;r++){var i=this.possibleCenters[r].EstimatedModuleSize;t+=i,n+=i*i}var l=t/e;this.possibleCenters.sort(function(e,t){var n=Math.abs(t.EstimatedModuleSize-l),r=Math.abs(e.EstimatedModuleSize-l);return n<r?-1:n==r?0:1});var a=Math.sqrt(n/e-l*l),s=Math.max(.2*l,a);for(r=this.possibleCenters.length-1;r>=0;r--)Math.abs(this.possibleCenters[r].EstimatedModuleSize-l)>s&&this.possibleCenters.remove(r)}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,n=0;n<e;n++){var r=this.possibleCenters[n];if(r.Count>=j.CENTER_QUORUM){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-r.X)-Math.abs(t.Y-r.Y))/2);t=r}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,n=this.possibleCenters.length,r=0;r<n;r++){var i=this.possibleCenters[r];i.Count>=j.CENTER_QUORUM&&(e++,t+=i.EstimatedModuleSize)}if(e<3)return!1;var l=t/n,a=0;for(r=0;r<n;r++)i=this.possibleCenters[r],a+=Math.abs(i.EstimatedModuleSize-l);return a<=.05*t},this.findFinderPattern=function(e){this.image=e;var t=this.height,n=this.width,r=Math.floor(3*t/(4*j.MAX_MODULES));r<j.MIN_SKIP&&(r=j.MIN_SKIP);for(var i=!1,l=new Array(5),a=r-1;a<t&&!i;a+=r){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var s=0,o=0;o<n;o++)if(e[o+a*this.width])1==(1&s)&&s++,l[s]++;else if(0==(1&s))if(4==s)if(this.foundPatternCross(l)){if(this.handlePossibleCenter(l,a,o))if(r=2,this.hasSkipped)i=this.haveMultiplyConfirmedCenters();else{var u=this.findRowSkip();u>l[2]&&(a+=u-l[2]-r,o=n-1)}else{do{o++}while(o<n&&!e[o+a*this.width]);o--}s=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,s=3;else l[++s]++;else l[s]++;this.foundPatternCross(l)&&this.handlePossibleCenter(l,a,n)&&(r=l[0],this.hasSkipped&&(i=this.haveMultiplyConfirmedCenters()))}var h=this.selectBestPatterns();return this.orderBestPatterns(h),new Z(h)},this.width=e,this.height=t}get CrossCheckStateCount(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}}class ${constructor(e,t){this.bits=e,this.points=t}}class ee{constructor(e,t,n,r){this.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},this.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},this.distance=function(e,t){let n=e.X-t.X,r=e.Y-t.Y;return Math.sqrt(n*n+r*r)},this.computeDimension=function(e,t,n,r){var i=7+(Math.round(this.distance(e,t)/r)+Math.round(this.distance(e,n)/r)>>1);switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw"Error"}return i},this.findAlignmentInRegion=function(e,t,n,r){var i=Math.floor(r*e),l=Math.max(0,t-i),a=Math.min(this.width-1,t+i);if(a-l<3*e)throw"Error";var s=Math.max(0,n-i),o=Math.min(this.height-1,n+i);return new V(this.image,l,s,a-l,o-s,e,this.width,this.height,this.resultPointCallback).find()},this.createTransform=function(e,t,n,r,i){var l,a,s,o,u=i-3.5;return null!=r?(l=r.X,a=r.Y,s=o=u-3):(l=t.X-e.X+n.X,a=t.Y-e.Y+n.Y,s=o=u),H.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,s,o,3.5,u,e.X,e.Y,t.X,t.Y,l,a,n.X,n.Y)},this.sampleGrid=function(e,t,n){return new U(this.width,this.height).sampleGrid3(e,this.rawImage,n,t)},this.detect=function(){var e=new J(this.width,this.height).findFinderPattern(this.image);return this.processFinderPatternInfo(e)},this.image=e,this.rawImage=t,this.height=r,this.width=n}sizeOfBlackWhiteBlackRun(e,t,n,r){var i=Math.abs(r-t)>Math.abs(n-e);if(i){var l=e;e=t,t=l,l=n,n=r,r=l}for(var a=Math.abs(n-e),s=Math.abs(r-t),o=-a>>1,u=t<r?1:-1,h=e<n?1:-1,d=0,c=e,w=t;c!=n;c+=h){var f=i?w:c,b=i?c:w;if(1==d?this.image[f+b*this.width]&&d++:this.image[f+b*this.width]||d++,3==d){var g=c-e,m=w-t;return Math.sqrt(g*g+m*m)}if((o+=s)>0){if(w==r)break;w+=u,o-=a}}var p=n-e,v=r-t;return Math.sqrt(p*p+v*v)}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){var i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),l=1,a=e-(n-e);a<0?(l=e/(e-a),a=0):a>=this.width&&(l=(this.width-1-e)/(a-e),a=this.width-1);var s=Math.floor(t-(r-t)*l);return l=1,s<0?(l=t/(t-s),s=0):s>=this.height&&(l=(this.height-1-t)/(s-t),s=this.height-1),a=Math.floor(e+(a-e)*l),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1}processFinderPatternInfo(e){var t=e.TopLeft,n=e.TopRight,r=e.BottomLeft,i=this.calculateModuleSize(t,n,r);if(i<1)throw"Error";var l=this.computeDimension(t,n,r,i),a=G.getProvisionalVersionForDimension(l),s=null;if(a.AlignmentPatternCenters.length>0)for(var o=n.Y-t.Y+r.Y,u=1-3/(a.DimensionForVersion-7),h=Math.floor(t.X+u*(n.X-t.X+r.X-t.X)),d=Math.floor(t.Y+u*(o-t.Y)),c=4;c<=16;c<<=1){s=this.findAlignmentInRegion(i,h,d,c);break}var w,f=this.createTransform(t,n,r,s,l),b=this.sampleGrid(this.image,f,l);return w=null==s?new Array(r,t,n):new Array(r,t,n,s),new $(b,w)}}class te{constructor(e,t){if(this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,n=this,r=e.getCoefficient(e.Degree),i=this.field.inverse(r);n.Degree>=e.Degree&&!n.Zero;){var l=n.Degree-e.Degree,a=this.field.multiply(n.getCoefficient(n.Degree),i),s=e.multiplyByMonomial(l,a),o=this.field.buildMonomial(l,a);t=t.addOrSubtract(o),n=n.addOrSubtract(s)}return new Array(t,n)},null==t||0==t.length)throw"System.ArgumentException";this.field=e;var n=t.length;if(n>1&&0==t[0]){for(var r=1;r<n&&0==t[r];)r++;if(r==n)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var l=0;l<this.coefficients.length;l++)this.coefficients[l]=t[r+l]}}else this.coefficients=t}get Zero(){return 0==this.coefficients[0]}get Degree(){return this.coefficients.length-1}get Coefficients(){return this.coefficients}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var n=0,r=0;r<t;r++)n=ne.addOrSubtract(n,this.coefficients[r]);return n}var i=this.coefficients[0];for(r=1;r<t;r++)i=ne.addOrSubtract(this.field.multiply(e,i),this.coefficients[r]);return i}addOrSubtract(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var r=t;t=n,n=r}for(var i=new Array(n.length),l=n.length-t.length,a=0;a<l;a++)i[a]=n[a];for(var s=l;s<n.length;s++)i[s]=ne.addOrSubtract(t[s-l],n[s]);return new te(this.field,i)}multiply1(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,l=new Array(n+i-1),a=0;a<n;a++)for(var s=t[a],o=0;o<i;o++)l[a+o]=ne.addOrSubtract(l[a+o],this.field.multiply(s,r[o]));return new te(this.field,l)}multiply2(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,n=new Array(t),r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new te(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var n=this.coefficients.length,r=new Array(n+e),i=0;i<r.length;i++)r[i]=0;for(i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new te(this.field,r)}}let ne=(()=>{class e{constructor(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,n=0;n<256;n++)this.expTable[n]=t,(t<<=1)>=256&&(t^=e);for(n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new te(this,new Array(r));var i=new Array(1);i[0]=1,this.one=new te(this,new Array(i))}get Zero(){return this.zero}get One(){return this.one}buildMonomial(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var n=new Array(e+1),r=0;r<n.length;r++)n[r]=0;return n[0]=t,new te(this,n)}exp(e){return this.expTable[e]}log(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]}inverse(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]}multiply(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}static addOrSubtract(e,t){return e^t}}return e.QR_CODE_FIELD=new e(285),e.DATA_MATRIX_FIELD=new e(301),e})();class re{constructor(e){this.field=e}decode(e,t){for(var n=new te(this.field,e),r=new Array(t),i=0;i<r.length;i++)r[i]=0;var l=!0;for(i=0;i<t;i++){var a=n.evaluateAt(this.field.exp(i));r[r.length-1-i]=a,0!=a&&(l=!1)}if(!l){var s=new te(this.field,r),o=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),u=o[1],h=this.findErrorLocations(o[0]),d=this.findErrorMagnitudes(u,h,!1);for(i=0;i<h.length;i++){var c=e.length-1-this.field.log(h[i]);if(c<0)throw"ReedSolomonException Bad error location";e[c]=ne.addOrSubtract(e[c],d[i])}}}runEuclideanAlgorithm(e,t,n){if(e.Degree<t.Degree){var r=e;e=t,t=r}for(var i=e,l=t,a=this.field.One,s=this.field.Zero,o=this.field.Zero,u=this.field.One;l.Degree>=Math.floor(n/2);){var h=i,d=a,c=o;if(a=s,o=u,(i=l).Zero)throw"r_{i-1} was zero";l=h;for(var w=this.field.Zero,f=i.getCoefficient(i.Degree),b=this.field.inverse(f);l.Degree>=i.Degree&&!l.Zero;){var g=l.Degree-i.Degree,m=this.field.multiply(l.getCoefficient(l.Degree),b);w=w.addOrSubtract(this.field.buildMonomial(g,m)),l=l.addOrSubtract(i.multiplyByMonomial(g,m))}s=w.multiply1(a).addOrSubtract(d),u=w.multiply1(o).addOrSubtract(c)}var p=u.getCoefficient(0);if(0==p)throw"ReedSolomonException sigmaTilde(0) was zero";var v=this.field.inverse(p),C=u.multiply2(v),E=l.multiply2(v);return new Array(C,E)}findErrorLocations(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var n=new Array(t),r=0,i=1;i<256&&r<t;i++)0==e.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=t)throw"Error locator degree does not match number of roots";return n}findErrorMagnitudes(e,t,n){for(var r=t.length,i=new Array(r),l=0;l<r;l++){for(var a=this.field.inverse(t[l]),s=1,o=0;o<r;o++)l!=o&&(s=this.field.multiply(s,ne.addOrSubtract(1,this.field.multiply(t[o],a))));i[l]=this.field.multiply(e.evaluateAt(a),this.field.inverse(s)),n&&(i[l]=this.field.multiply(i[l],a))}return i}}class ie{constructor(){this.isMasked=function(e,t){return 0==(e+t&1)}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class le{constructor(){this.isMasked=function(e,t){return 0==(1&e)}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class ae{constructor(){this.isMasked=function(e,t){return t%3==0}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class se{constructor(){this.isMasked=function(e,t){return(e+t)%3==0}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class oe{constructor(){this.isMasked=function(e,t){return 0==(this.URShift(e,1)+t/3&1)}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}URShift(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}}class ue{constructor(){this.isMasked=function(e,t){var n=e*t;return(1&n)+n%3==0}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class he{constructor(){this.isMasked=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}class de{constructor(){this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}unmaskBitMatrix(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}let ce=(()=>{class e{static forReference(t){if(t<0||t>7)throw"System.ArgumentException";return e.DATA_MASKS[t]}}return e.DATA_MASKS=new Array(new ie,new le,new ae,new se,new oe,new ue,new he,new de),e})();class we{constructor(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e}copyBit(e,t,n){return this.bitMatrix.get_Renamed(e,t)?n<<1|1:n<<1}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=W.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;e=0;var i=r-8;for(t=r-1;t>=i;t--)e=this.copyBit(t,8,e);for(n=r-7;n<r;n++)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=W.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return G.getVersionForNumber(t);for(var n=0,r=e-11,i=5;i>=0;i--)for(var l=e-9;l>=r;l--)n=this.copyBit(l,i,n);if(this.parsedVersion=G.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;for(n=0,l=5;l>=0;l--)for(i=e-9;i>=r;i--)n=this.copyBit(l,i,n);if(this.parsedVersion=G.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"}readCodewords(){var e=this.readFormatInformation(),t=this.readVersion(),n=ce.forReference(e.DataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=t.buildFunctionPattern(),l=!0,a=new Array(t.TotalCodewords),s=0,o=0,u=0,h=r-1;h>0;h-=2){6==h&&h--;for(var d=0;d<r;d++)for(var c=l?r-1-d:d,w=0;w<2;w++)i.get_Renamed(h-w,c)||(u++,o<<=1,this.bitMatrix.get_Renamed(h-w,c)&&(o|=1),8==u&&(a[s++]=o,u=0,o=0));l=!l}if(s!=t.TotalCodewords)throw"Error readCodewords";return a}}class fe{constructor(e,t){this.numDataCodewords=e,this.codewords=t}get NumDataCodewords(){return this.numDataCodewords}get Codewords(){return this.codewords}static getDataBlocks(e,t,n){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var r=t.getECBlocksForLevel(n),i=0,l=r.getECBlocks(),a=0;a<l.length;a++)i+=l[a].Count;for(var s=new Array(i),o=0,u=0;u<l.length;u++){var h=l[u];for(a=0;a<h.Count;a++){var d=h.DataCodewords;s[o++]=new fe(d,new Array(r.ECCodewordsPerBlock+d))}}for(var c=s[0].codewords.length,w=s.length-1;w>=0&&s[w].codewords.length!=c;)w--;w++;var f=c-r.ECCodewordsPerBlock,b=0;for(a=0;a<f;a++)for(u=0;u<o;u++)s[u].codewords[a]=e[b++];for(u=w;u<o;u++)s[u].codewords[f]=e[b++];var g=s[0].codewords.length;for(a=f;a<g;a++)for(u=0;u<o;u++)s[u].codewords[u<w?a:a+1]=e[b++];return s}}let be=(()=>{class e{constructor(e,t,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=n,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2)}getNextBits(e){var t=0;if(e<this.bitPointer+1){for(var n=0,r=0;r<e;r++)n+=1<<r;return t=(this.blocks[this.blockPointer]&(n<<=this.bitPointer-e+1))>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var i=0;for(r=0;r<this.bitPointer+1;r++)i+=1<<r;return t=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){i=0;var l=0;for(r=0;r<this.bitPointer+1;r++)i+=1<<r;var a=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);for(this.blockPointer++,r=0;r<e-(this.bitPointer+1+8);r++)l+=1<<r;return t=a+s+((this.blocks[this.blockPointer]&(l<<=8-(e-(this.bitPointer+1+8))))>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0}NextMode(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)}getDataLength(t){for(var n=0;t>>n!=1;)n++;return this.getNextBits(e.sizeOfDataLengthInfo[this.dataLengthMode][n])}getRomanAndFigureString(e){var t=e,n=0,r="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{t>1?(n=this.getNextBits(11),r+=i[Math.floor(n/45)],r+=i[n%45],t-=2):1==t&&(r+=i[n=this.getNextBits(6)],t-=1)}while(t>0);return r}getFigureString(e){var t=e,n=0,r="";do{t>=3?((n=this.getNextBits(10))<100&&(r+="0"),n<10&&(r+="0"),t-=3):2==t?((n=this.getNextBits(7))<10&&(r+="0"),t-=2):1==t&&(n=this.getNextBits(4),t-=1),r+=n}while(t>0);return r}get8bitByteArray(e){var t=e,n=0,r=new Array;do{n=this.getNextBits(8),r.push(n),t--}while(t>0);return r}getKanjiString(e){var t=e,n=0,r="";do{var i=((n=this.getNextBits(13))/192<<8)+n%192;r+=String.fromCharCode(i+33088<=40956?i+33088:i+49472),t--}while(t>0);return r}get DataByte(){for(var e=new Array;;){var t=this.NextMode();if(0==t){if(e.length>0)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";let a=this.getDataLength(t);if(a<1)throw"Invalid data length: "+a;switch(t){case 1:for(var n=this.getFigureString(a),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e.push(r);break;case 2:for(n=this.getRomanAndFigureString(a),r=new Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);e.push(r);break;case 4:var l=this.get8bitByteArray(a);e.push(l);break;case 8:n=this.getKanjiString(a),e.push(n)}}return e}}return e.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],e})();class ge{constructor(){this.rsDecoder=new re(ne.QR_CODE_FIELD),this.decode=function(e){for(var t=new we(e),n=t.readVersion(),r=t.readFormatInformation().ErrorCorrectionLevel,i=t.readCodewords(),l=fe.getDataBlocks(i,n,r),a=0,s=0;s<l.length;s++)a+=l[s].NumDataCodewords;for(var o=new Array(a),u=0,h=0;h<l.length;h++){var d=l[h],c=d.Codewords,w=d.NumDataCodewords;for(this.correctErrors(c,w),s=0;s<w;s++)o[u++]=c[s]}return new be(o,n.VersionNumber,r.Bits)}}correctErrors(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=255&e[i];var l=e.length-t;try{this.rsDecoder.decode(r,l)}catch(a){throw a}for(i=0;i<t;i++)e[i]=r[i]}}class me{constructor(){this.debug=!1,this.maxImgSize=1048576,this.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]]}decode(e){let t=e.getContext("2d");return this.width=e.width,this.height=e.height,this.imagedata=t.getImageData(0,0,this.width,this.height),this.result=this.process(t),null!=this.myCallback&&this.myCallback(this.result),this.result}process(e){var t=(new Date).getTime(),n=this.grayScaleToBitmap(this.grayscale());if(this.debug){for(var r=0;r<this.height;r++)for(var i=0;i<this.width;i++){var l=4*i+r*this.width*4;this.imagedata.data[l]=0,this.imagedata.data[l+1]=0,this.imagedata.data[l+2]=n[i+r*this.width]?255:0}e.putImageData(this.imagedata,0,0)}var a=new ee(n,this.imagedata,this.width,this.height).detect();this.debug&&e.putImageData(this.imagedata,0,0);for(var s=(new ge).decode(a.bits).DataByte,o="",u=0;u<s.length;u++)for(var h=0;h<s[u].length;h++)o+=String.fromCharCode(s[u][h]);var d=(new Date).getTime();return console.log(d-t),o}grayScaleToBitmap(e){for(var t=this.getMiddleBrightnessPerArea(e),n=t.length,r=Math.floor(this.width/n),i=Math.floor(this.height/n),l=new Array(this.height*this.width),a=0;a<n;a++)for(var s=0;s<n;s++)for(var o=0;o<i;o++)for(var u=0;u<r;u++)l[r*s+u+(i*a+o)*this.width]=e[r*s+u+(i*a+o)*this.width]<t[s][a];return l}grayscale(){for(var e=new Array(this.width*this.height),t=0;t<this.height;t++)for(var n=0;n<this.width;n++){var r=this.getPixel(n,t);e[n+t*this.width]=r}return e}getPixel(e,t){if(this.width<e)throw"point error";if(this.height<t)throw"point error";let n=4*e+t*this.width*4;return(33*this.imagedata.data[n]+34*this.imagedata.data[n+1]+33*this.imagedata.data[n+2])/100}getMiddleBrightnessPerArea(e){for(var t=Math.floor(this.width/4),n=Math.floor(this.height/4),r=new Array(4),i=0;i<4;i++){r[i]=new Array(4);for(var l=0;l<4;l++)r[i][l]=new Array(0,0)}for(var a=0;a<4;a++)for(var s=0;s<4;s++){r[s][a][0]=255;for(var o=0;o<n;o++)for(var u=0;u<t;u++){var h=e[t*s+u+(n*a+o)*this.width];h<r[s][a][0]&&(r[s][a][0]=h),h>r[s][a][1]&&(r[s][a][1]=h)}}for(var d=new Array(4),c=0;c<4;c++)d[c]=new Array(4);for(a=0;a<4;a++)for(s=0;s<4;s++)d[s][a]=Math.floor((r[s][a][0]+r[s][a][1])/2);return d}}class pe{constructor(e){this.renderer=e,this.canvasWidth=640,this.canvasHeight=480,this.debug=!1,this.stopAfterScan=!0,this.updateTime=500,this.capturedQr=new r.m,this.foundCameras=new r.m,this.chooseCamera=new q.a,this.canvasHidden=!0}get isCanvasSupported(){const e=this.renderer.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}ngOnInit(){}ngOnDestroy(){this.chooseCamera$.unsubscribe(),this.stopScanning()}ngAfterViewInit(){this.debug&&console.log("[QrScanner] ViewInit, isSupported: ",this.isCanvasSupported),this.isCanvasSupported&&(this.gCtx=this.qrCanvas.nativeElement.getContext("2d"),this.gCtx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.qrCode=new me,this.debug&&(this.qrCode.debug=!0),this.qrCode.myCallback=e=>this.QrDecodeCallback(e)),this.chooseCamera$=this.chooseCamera.subscribe(e=>this.useDevice(e)),this.getMediaDevices().then(e=>this.foundCameras.next(e))}startScanning(e){this.useDevice(e)}stopScanning(){this.captureTimeout&&(clearTimeout(this.captureTimeout),this.captureTimeout=0),this.canvasHidden=!1;const e=this.stream&&this.stream.getTracks().length&&this.stream;e&&(e.getTracks().forEach(e=>e.enabled&&e.stop()),this.stream=null)}getMediaDevices(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(e=>e).catch(e=>(this.debug&&console.warn("Error",e),[])):Promise.resolve([])}QrDecodeCallback(e){this.stopAfterScan?(this.stopScanning(),this.capturedQr.next(e)):(this.capturedQr.next(e),this.captureTimeout=setTimeout(()=>this.captureToCanvas(),this.updateTime))}captureToCanvas(){try{this.gCtx.drawImage(this.videoElement,0,0,this.canvasWidth,this.canvasHeight),this.qrCode.decode(this.qrCanvas.nativeElement)}catch(e){if(this.debug&&console.log("[QrScanner] Thrown",e),!this.stream)return;this.captureTimeout=setTimeout(()=>this.captureToCanvas(),this.updateTime)}}setStream(e){this.canvasHidden=!0,this.gCtx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.stream=e,this.videoElement.srcObject=e,this.captureTimeout=setTimeout(()=>this.captureToCanvas(),this.updateTime)}useDevice(e){const t=navigator;this.captureTimeout&&this.stopScanning(),this.videoElement||(this.videoElement=this.renderer.createElement("video"),this.videoElement.setAttribute("autoplay","true"),this.videoElement.setAttribute("muted","true"),this.renderer.appendChild(this.videoWrapper.nativeElement,this.videoElement));const n=this;let r;t.mediaDevices.getUserMedia(r=e?{audio:!1,video:{deviceId:e.deviceId}}:{audio:!1,video:!0}).then(function(e){n.setStream(e)}).catch(function(e){return n.debug&&console.warn("Error",e)})}}class ve{static forRoot(){return{ngModule:ve}}}var Ce=n("SVse"),Ee=r.qb({encapsulation:0,styles:["[_nghost-%COMP%]   video[_ngcontent-%COMP%] {height: auto; width: 100%;}","[_nghost-%COMP%]   .mirrored[_ngcontent-%COMP%] { transform: rotateY(180deg); -webkit-transform:rotateY(180deg); -moz-transform:rotateY(180deg); }","[_nghost-%COMP%] {}"],data:{}});function ye(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),r.sb(1,0,[[2,0],["qrCanvas",1]],null,0,"canvas",[],[[8,"hidden",0],[8,"width",0],[8,"height",0]],null,null,null,null)),(e()(),r.sb(2,0,[[1,0],["videoWrapper",1]],null,0,"div",[],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,1,0,n.canvasHidden,n.canvasWidth,n.canvasHeight),e(t,2,0,n.canvasWidth,n.canvasHeight)})}function Me(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),r.sb(1,0,null,null,7,"p",[],null,null,null,null,null)),(e()(),r.Mb(-1,null,[" You are using an "])),(e()(),r.sb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),r.Mb(-1,null,["outdated"])),(e()(),r.Mb(-1,null,[" browser. Please "])),(e()(),r.sb(6,0,null,null,1,"a",[["href","http://browsehappy.com/"]],null,null,null,null,null)),(e()(),r.Mb(-1,null,["upgrade your browser"])),(e()(),r.Mb(-1,null,[" to improve your experience. "]))],null,null)}function Ae(e){return r.Ob(0,[r.Kb(671088640,1,{videoWrapper:0}),r.Kb(671088640,2,{qrCanvas:0}),(e()(),r.sb(2,0,null,null,5,null,null,null,null,null,null,null)),r.rb(3,16384,null,0,Ce.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r.hb(16777216,null,null,1,null,ye)),r.rb(5,16384,null,0,Ce.s,[r.O,r.L,Ce.q],null,null),(e()(),r.hb(16777216,null,null,1,null,Me)),r.rb(7,278528,null,0,Ce.r,[r.O,r.L,Ce.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,t){e(t,3,0,t.component.isCanvasSupported),e(t,7,0,!1)},null)}class Se{constructor(){this.resultado=""}ngOnInit(){this.qrScannerComponent.getMediaDevices().then(e=>{console.log(e);const t=[];for(const n of e)"videoinput"===n.kind.toString()&&t.push(n);if(t.length>0){let e;for(const n of t)if(n.label.includes("front")){e=n;break}this.qrScannerComponent.chooseCamera.next(e||t[0])}}),this.qrScannerComponent.capturedQr.subscribe(e=>{this.resultado=e,console.log(e)})}}var _e=r.qb({encapsulation:2,styles:[[""]],data:{}});function ke(e){return r.Ob(0,[r.Kb(402653184,1,{qrScannerComponent:0}),(e()(),r.sb(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Mb(-1,null,["lector-codigo-qr works!"])),(e()(),r.sb(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Mb(4,null,["",""])),(e()(),r.sb(5,0,null,null,1,"qr-scanner",[],null,null,null,Ae,Ee)),r.rb(6,4440064,[[1,4]],0,pe,[r.D],{canvasWidth:[0,"canvasWidth"],canvasHeight:[1,"canvasHeight"],debug:[2,"debug"],stopAfterScan:[3,"stopAfterScan"],updateTime:[4,"updateTime"]},null)],function(e,t){e(t,6,0,1080,720,!1,!0,500)},function(e,t){e(t,4,0,t.component.resultado)})}function Te(e){return r.Ob(0,[(e()(),r.sb(0,0,null,null,1,"app-lector-codigo-qr",[],null,null,null,ke,_e)),r.rb(1,114688,null,0,Se,[],null,null)],function(e,t){e(t,1,0)},null)}var Ne=r.ob("app-lector-codigo-qr",Se,Te,{},{},[]),Pe=n("t68o"),Ie=n("xYTU"),Fe=n("POq0"),Be=n("QQfA"),De=n("s6ns");const xe={titulo:"Inicio"},Oe={titulo:"Inicio"},Re={titulo:"Login Personal Autorizado"},Le={titulo:"Lector QR"};class qe{}var ze=n("cUpR"),Ve=n("Gi4r"),He=n("zMNK"),Ye=n("rWV4"),Ue=n("BzsH"),Ke=n("hOhj"),We=n("r0V8"),Xe=n("dFDH"),Qe=n("rsRi");n.d(t,"InicioModuleNgFactory",function(){return Ge});var Ge=r.pb(i,[],function(e){return r.Bb([r.Cb(512,r.j,r.ab,[[8,[l.a,d,C,L,Ne,Pe.a,Ie.a,Ie.b]],[3,r.j],r.w]),r.Cb(4608,Ce.o,Ce.n,[r.t,[2,Ce.E]]),r.Cb(4608,E.v,E.v,[]),r.Cb(4608,Fe.c,Fe.c,[]),r.Cb(4608,A.a,A.a,[]),r.Cb(4608,Be.a,Be.a,[Be.g,Be.c,r.j,Be.f,Be.d,r.q,r.y,Ce.d,S.b,[2,Ce.h]]),r.Cb(5120,Be.h,Be.i,[Be.a]),r.Cb(5120,De.c,De.d,[Be.a]),r.Cb(135680,De.e,De.e,[Be.a,r.q,[2,Ce.h],[2,De.b],De.c,[3,De.e],Be.c]),r.Cb(1073742336,Ce.c,Ce.c,[]),r.Cb(1073742336,E.u,E.u,[]),r.Cb(1073742336,E.i,E.i,[]),r.Cb(1073742336,a.n,a.n,[[2,a.s],[2,a.l]]),r.Cb(1073742336,qe,qe,[]),r.Cb(1073742336,S.a,S.a,[]),r.Cb(1073742336,A.e,A.e,[[2,A.b],[2,ze.f]]),r.Cb(1073742336,_.b,_.b,[]),r.Cb(1073742336,A.g,A.g,[]),r.Cb(1073742336,w.c,w.c,[]),r.Cb(1073742336,Ve.a,Ve.a,[]),r.Cb(1073742336,T.c,T.c,[]),r.Cb(1073742336,Fe.d,Fe.d,[]),r.Cb(1073742336,M.d,M.d,[]),r.Cb(1073742336,k.b,k.b,[]),r.Cb(1073742336,He.g,He.g,[]),r.Cb(1073742336,f.a,f.a,[]),r.Cb(1073742336,Ye.k,Ye.k,[]),r.Cb(1073742336,P.c,P.c,[]),r.Cb(1073742336,Ue.b,Ue.b,[]),r.Cb(1073742336,Ke.b,Ke.b,[]),r.Cb(1073742336,Be.e,Be.e,[]),r.Cb(1073742336,De.j,De.j,[]),r.Cb(1073742336,We.d,We.d,[]),r.Cb(1073742336,We.c,We.c,[]),r.Cb(1073742336,Xe.e,Xe.e,[]),r.Cb(1073742336,Qe.a,Qe.a,[]),r.Cb(1073742336,ve,ve,[]),r.Cb(1073742336,i,i,[]),r.Cb(1024,a.j,function(){return[[{path:"",component:s,data:xe,children:[{path:"",redirectTo:"inicio"},{path:"inicio",component:g,data:Oe},{path:"login-personal-autorizado",component:D,data:Re},{path:"lector-qr",component:Se,data:Le}]}]]},[])])})}}]);