(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{h29n:function(e,t,i){"use strict";i.r(t),i.d(t,"ReservarMesaModule",(function(){return L}));var n=i("ofXK"),o=i("tyNb"),c=i("fXoL"),s=i("FKr1");let a=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}goBack(){this.router.navigate(["../home"])}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(o.d))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-main"]],decls:10,vars:0,consts:[[1,"animated","fadeIn","overflow-hidden","w-100"],[1,"header-app-1","p-3","d-flex","justify-content-between"],[1,"fa","fa-arrow-left",3,"click"],["matRipple","",1,"text-center"],[1,"pl-2","fs-13","fw-100","text-puntos"],[1,"d-flex"],[1,"fa","fa-table"],[1,"div-content"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"i",2),c.Zb("click",(function(){return t.goBack()})),c.Qb(),c.Rb(3,"div",3),c.Rb(4,"span",4),c.Fc(5,"Reservar"),c.Qb(),c.Qb(),c.Rb(6,"div",5),c.Mb(7,"i",6),c.Qb(),c.Qb(),c.Rb(8,"div",7),c.Mb(9,"router-outlet"),c.Qb(),c.Qb())},directives:[s.n,o.h],styles:[".header-app-1[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;width:100%;top:0;left:0;z-index:1;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline}"]}),e})();var r=i("bTqV");let l=(()=>{class e{constructor(e){this.router=e}ngOnInit(){}btnNext(){this.router.navigate(["/reservar-mesa/lista-comercios-reserva"])}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(o.d))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-info-reserva"]],decls:28,vars:0,consts:[[1,"animated","fadeIn","w-100","div-content","overflow-auto"],[2,"min-width","186px","text-align","center"],["src","assets/images/icon-app/reserva.JPG",1,"w-50"],[1,"text-center","p-3"],[1,"fw-600","fs-15"],[1,"w-100"],[1,"fs-13"],["mat-raised-button","","color","primary",1,"w-75",3,"click"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Mb(1,"br"),c.Rb(2,"div",1),c.Mb(3,"img",2),c.Qb(),c.Mb(4,"hr"),c.Rb(5,"div",3),c.Rb(6,"p",4),c.Fc(7,"Para reservar tenga en cuenta lo siguiente:"),c.Qb(),c.Mb(8,"br"),c.Rb(9,"div",5),c.Rb(10,"p",6),c.Fc(11," La reserva por la aplicaci\xf3n tiene por objetivo: "),c.Rb(12,"strong"),c.Fc(13,"Primero"),c.Qb(),c.Fc(14,", reservar la comida si el stock es limitado, por ejemplo, en los locales que cambian de carta a diario. Y "),c.Rb(15,"strong"),c.Fc(16,"segundo"),c.Qb(),c.Fc(17,", que al llegar al local su pedido pase al primer lugar de la cola, es decir sea servido en mesa lo m\xe1s r\xe1pido posible. "),c.Qb(),c.Mb(18,"hr"),c.Rb(19,"p",6),c.Fc(20," Si por alg\xfan motivo no llega en el tiempo que indico el local "),c.Rb(21,"strong"),c.Fc(22,"no"),c.Qb(),c.Fc(23," estar\xe1 en la obligaci\xf3n de mantener su reserva y tampoco colocar su pedido primero en la cola. "),c.Qb(),c.Qb(),c.Mb(24,"hr"),c.Mb(25,"br"),c.Rb(26,"button",7),c.Zb("click",(function(){return t.btnNext()})),c.Fc(27," Si lo entiendo, continuar "),c.Qb(),c.Qb(),c.Qb())},directives:[r.a],styles:["p[_ngcontent-%COMP%]{margin:0}.div-content[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto}"]}),e})();var d=i("+lji"),b=i("yFR0"),p=i("AA5P"),f=i("JOr0"),v=i("nx09"),u=i("zOUh"),m=i("IYfF"),h=i("bv9b");function g(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div",2),c.Rb(1,"div",3),c.Zb("click",(function(){c.xc(e);const i=t.$implicit;return c.dc().selectedCiudad(i)})),c.Rb(2,"span"),c.Fc(3),c.Qb(),c.Rb(4,"span"),c.Mb(5,"i",4),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=t.$implicit;c.zb(3),c.Hc(" ",e.ciudad,"")}}let w=(()=>{class e{constructor(e){this.crudService=e,this.cuidadSelected=new c.n}ngOnInit(){this.loadCiudades()}loadCiudades(){this.crudService.getAll("delivery","get-ciudades-delivery",!1,!1,!1).subscribe(e=>{console.log("res",e),this.listCiudadesServicio=e.data,this.isOnlyReserva&&(this.listCiudadesServicio=this.listCiudadesServicio.filter(e=>1===e.isreserva))})}selectedCiudad(e){this.cuidadSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(d.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-select-ciudad-delivery"]],inputs:{isOnlyReserva:"isOnlyReserva"},outputs:{cuidadSelected:"cuidadSelected"},decls:2,vars:1,consts:[[1,"p-2"],["class","pb-2 border-bottom",4,"ngFor","ngForOf"],[1,"pb-2","border-bottom"],["matRipple","",1,"d-flex","justify-content-between","p-2","align-items-center",3,"click"],[1,"fa","fa-arrow-right"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Dc(1,g,6,1,"div",1),c.Qb()),2&e&&(c.zb(1),c.lc("ngForOf",t.listCiudadesServicio))},directives:[n.m,s.n],styles:[""]}),e})();var y=i("7jE7");function k(e,t){1&e&&(c.Rb(0,"div",4),c.Rb(1,"div",5),c.Mb(2,"mat-progress-bar",6),c.Rb(3,"span",7),c.Fc(4,"Obteniendo datos..."),c.Qb(),c.Qb(),c.Qb())}function x(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div",8),c.Rb(1,"div",9),c.Rb(2,"p",10),c.Fc(3,"Elige una ciudad donde contamos con el servicio"),c.Qb(),c.Mb(4,"hr"),c.Rb(5,"app-select-ciudad-delivery",11),c.Zb("cuidadSelected",(function(t){return c.xc(e),c.dc().selectedCiudad(t)})),c.Qb(),c.Qb(),c.Qb()}2&e&&(c.zb(5),c.lc("isOnlyReserva",!0))}function R(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div",15),c.Rb(1,"p",16),c.Fc(2,"No se encontro comercios que acepten reservas en esta ciudad."),c.Qb(),c.Mb(3,"br"),c.Rb(4,"button",17),c.Zb("click",(function(){return c.xc(e),c.dc(2).showListComercios=!1})),c.Rb(5,"span"),c.Mb(6,"i",18),c.Qb(),c.Fc(7," Regresar "),c.Qb(),c.Qb()}}function S(e,t){if(1&e){const e=c.Sb();c.Rb(0,"app-item-comercio",23),c.Zb("itemSelected",(function(t){return c.xc(e),c.dc(4).itemSelected(t)})),c.Qb()}if(2&e){const e=c.dc().$implicit;c.lc("itemEstablecimiento",e)("reserva",!0)}}function C(e,t){if(1&e&&(c.Rb(0,"div"),c.Dc(1,S,1,2,"app-item-comercio",22),c.Qb()),2&e){const e=t.$implicit;c.zb(1),c.lc("ngIf",e.visible)}}function Q(e,t){if(1&e&&(c.Rb(0,"div",19),c.Rb(1,"div",20),c.Dc(2,C,2,1,"div",21),c.Qb(),c.Mb(3,"br"),c.Mb(4,"br"),c.Qb()),2&e){const e=c.dc(2);c.zb(2),c.lc("ngForOf",e.listEstablecimientos)}}function O(e,t){if(1&e&&(c.Rb(0,"div",12),c.Mb(1,"br"),c.Dc(2,R,8,0,"div",13),c.Dc(3,Q,5,1,"div",14),c.Qb()),2&e){const e=c.dc();c.zb(2),c.lc("ngIf",0===e.listEstablecimientos.length),c.zb(1),c.lc("ngIf",e.listEstablecimientos)}}const M=[{path:"",component:a,data:{titulo:"Inicio"},children:[{path:"",redirectTo:"info-reserva"},{path:"info-reserva",component:l,data:{titulo:"Informacion reserva"}},{path:"lista-comercios-reserva",component:(()=>{class e{constructor(e,t,i,n,o,c,s,a){this.crudService=e,this.socketService=t,this.verifyClientService=i,this.establecimientoService=n,this.pedidoService=o,this.router=c,this.infoToken=s,this.authService=a,this.loaderPage=!1,this.veryfyClient=null,this.showListComercios=!1}ngOnInit(){}selectedCiudad(e){this.ciudadSeleted=e,this.loaderPage=!0,this.loadEstablecimientos(),this.infoClient=this.verifyClientService.getDataClient(),this.socketService.connect(this.infoClient,0,!0,!1)}setInfoToken(e){const t="eyCJ9."+btoa(JSON.stringify(e));this.authService.setLocalToken(t),this.authService.setLoggedStatus(!0),this.infoToken.converToJSON()}loadEstablecimientos(){this.loaderPage=!0;const e={idsede_categoria:-1,codigo_postal:this.ciudadSeleted.ciudad};this.listEstablecimientos=[],this.crudService.postFree(e,"delivery","get-establecimientos",!1).subscribe(e=>{this.listEstablecimientos=e.data.filter(e=>1===e.pwa_acepta_reservas),this.listEstablecimientos.map(e=>{e.visible=!0}),setTimeout(()=>{this.loaderPage=!1,this.showListComercios=!0},500)})}itemSelected(e){this.loaderPage=!0,this.socketService.closeConnection(),this.verifyClientService.setIdSede(e.idsede),this.verifyClientService.setIdOrg(e.idorg),this.verifyClientService.setIsDelivery(!1),this.verifyClientService.setIsReserva(!0),this.verifyClientService.setDataClient(),this.establecimientoService.set(e),this.pedidoService.resetAllNewPedido(),this.veryfyClient=this.verifyClientService.verifyClient().subscribe(e=>{e&&(this.setInfoToken(e),this.infoToken.converToJSON(),this.infoToken.infoUsToken.isReserva=!0,this.infoToken.infoUsToken.isDelivery=!1,this.infoToken.set(),this.loaderPage=!1,this.router.navigate(["./pedido"]))})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(d.a),c.Lb(b.a),c.Lb(p.a),c.Lb(f.a),c.Lb(v.a),c.Lb(o.d),c.Lb(u.a),c.Lb(m.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-lista-comercios"]],decls:4,vars:3,consts:[["class","animated fadeIn div-loader-2",4,"ngIf"],[1,"animated","fadeInRight"],["class","p-5 text-center w-100",4,"ngIf"],["class","animated fadeInRight content-body",4,"ngIf"],[1,"animated","fadeIn","div-loader-2"],[1,"loader"],["mode","indeterminate"],[1,"pt-2"],[1,"p-5","text-center","w-100"],[2,"max-width","500px","display","inline-block"],[1,"fs-15","fw-600","text-secondary"],[3,"isOnlyReserva","cuidadSelected"],[1,"animated","fadeInRight","content-body"],["class","text-center p-3",4,"ngIf"],["class","content-master-establecimiento",4,"ngIf"],[1,"text-center","p-3"],[1,"fw-600","fs-18","text-secondary"],["mat-raised-button","","color","primary",3,"click"],[1,"fa","fa-arrow-left","pr-2"],[1,"content-master-establecimiento"],[1,"content-all-comercio"],[4,"ngFor","ngForOf"],[3,"itemEstablecimiento","reserva","itemSelected",4,"ngIf"],[3,"itemEstablecimiento","reserva","itemSelected"]],template:function(e,t){1&e&&(c.Dc(0,k,5,0,"div",0),c.Rb(1,"div",1),c.Dc(2,x,6,1,"div",2),c.Dc(3,O,4,2,"div",3),c.Qb()),2&e&&(c.lc("ngIf",t.loaderPage),c.zb(2),c.lc("ngIf",!t.showListComercios),c.zb(1),c.lc("ngIf",t.showListComercios))},directives:[n.n,h.a,w,r.a,n.m,y.a],styles:[".content-body[_ngcontent-%COMP%]{height:-webkit-calc(100vh - 56px);height:calc(100vh - 56px);overflow:auto;background-color:#eee}.content-all-comercio[_ngcontent-%COMP%]{width:100%;overflow-x:auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.div-img-gps[_ngcontent-%COMP%]{text-align:center}.content-op-filter[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.btn-link-cat-filtro[_ngcontent-%COMP%]{padding:5px}.content-categoria-filtro[_ngcontent-%COMP%]{top:0;bottom:0}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding-bottom:7px}.btn-link-cat-filtro[_ngcontent-%COMP%]{display:inline-block;padding:8px;background:#e0e0e0;margin:5px;border-radius:10px;font-size:13px}.btn-link-cat-filtro.active[_ngcontent-%COMP%]{font-weight:600;background:#81d4fa}@media only screen and (min-width:600px){.scrolling-wrapper[_ngcontent-%COMP%]{width:300px;overflow-x:hidden;overflow-y:auto;white-space:normal;height:-webkit-calc(100vh - 140px);height:calc(100vh - 140px);border-right:1px solid #dee2e6!important;border-bottom:0 solid #dee2e6!important}.btn-link-cat-filtro[_ngcontent-%COMP%]{display:table}.content-master-establecimiento[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:flex}.content-categoria-filtro[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}}"]}),e})(),data:{titulo:"Lista de comercios"}}]}];let I=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[o.g.forChild(M)],o.g]}),e})();var F=i("rsRi"),P=i("lSLK");let L=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[n.c,I,F.a,P.a]]}),e})()}}]);