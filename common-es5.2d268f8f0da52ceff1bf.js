(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{MBfO:function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"b",function(){return o});var r=e("CcnG"),i=(e("Z+uX"),e("Ip0R")),n=(e("Fzqc"),e("Wf4p"),e("ZYjt"),e("wFw1"),r.sb({encapsulation:2,styles:[".mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-background{display:none}}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}"],data:{}}));function o(t){return r.Qb(2,[r.Mb(671088640,1,{_primaryValueBar:0}),(t()(),r.ub(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(t()(),r.ub(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(t()(),r.ub(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(t()(),r.ub(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(t()(),r.ub(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(t()(),r.ub(6,0,null,null,2,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),r.Lb(512,null,i.C,i.D,[r.k,r.u,r.F]),r.tb(8,278528,null,0,i.q,[i.C],{ngStyle:[0,"ngStyle"]},null),(t()(),r.ub(9,0,[[1,0],["primaryValueBar",1]],null,2,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),r.Lb(512,null,i.C,i.D,[r.k,r.u,r.F]),r.tb(11,278528,null,0,i.q,[i.C],{ngStyle:[0,"ngStyle"]},null),(t()(),r.ub(12,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],function(t,a){var e=a.component;t(a,8,0,e._bufferTransform()),t(a,11,0,e._primaryTransform())},function(t,a){var e=a.component;t(a,3,0,e.progressbarId),t(a,5,0,e._rectangleFillValue)})}},OzqD:function(t,a,e){"use strict";e.d(a,"a",function(){return d});var r=e("A8zI"),i=e("eI2u"),n=e("+lji"),o=e("zOUh"),s=e("7RJT"),l=e("CcnG"),d=function(){function t(t,a,e){this.listenStatusService=t,this.crudService=a,this.infoTokenService=e,this.estadoPedido=new r.a,this.keyStorage="sys::status",this.timeInterval=null,this.timeNow=new Date,this.hayPedidoPendiente=!1,this.timeRestanteAproxSource=new s.BehaviorSubject(0),this.timeRestanteAprox$=this.timeRestanteAproxSource.asObservable(),this.hayCuentaClienteSource=new s.BehaviorSubject(null),this.hayCuentaCliente$=this.hayCuentaClienteSource.asObservable(),this.deserializar(),this.dataPost={idsede:this.infoTokenService.getInfoUs().idsede,idcliente:this.infoTokenService.getInfoUs().idcliente}}return t.prototype.deserializar=function(){var t=localStorage.getItem(this.keyStorage);this.estadoPedido=(t="{}"===t?null:t)?JSON.parse(t):new r.a},t.prototype.get=function(){this.deserializar(),this.getCuentaTotales()},t.prototype.getCuentaTotales=function(){var t=this,a=0;return this.crudService.postFree(this.dataPost,"pedido","lacuenta-cliente-totales",!1).subscribe(function(e){0!==e.data.length?(t.setImporte(a=e.data[0].importe||0),t.estadoPedido.hayPedidoCliente=!0,t.calcTimeAprox(),t.notifyChange()):t.estadoPedido.hayPedidoCliente=!1}),a},t.prototype.getCuenta=function(){var t=this;this.crudService.postFree(this.dataPost,"pedido","lacuenta-cliente",!1).subscribe(function(a){if(0!==a.data.length)return t.estadoPedido.hayPedidoCliente=!0,t.calcTimeAprox(),t.hayCuentaClienteSource.next(a),t.notifyChange(),a;t.estadoPedido.hayPedidoCliente=!1})},t.prototype.getImporteCuenta=function(){var t=this;return new Promise(function(a){t.crudService.postFree(t.dataPost,"pedido","lacuenta-cliente-totales",!1).subscribe(function(t){a(t.success?t.data[0].importe:0)})})},t.prototype.getObj=function(){return this.estadoPedido||this.deserializar(),this.estadoPedido},t.prototype.setEstado=function(t){this.deserializar(),this.estadoPedido.estado=t,this.notifyChange()},t.prototype.setImporte=function(t){this.deserializar(),this.estadoPedido.importe=t,this.notifyChange()},t.prototype.setHoraInitPedido=function(t){this.deserializar(),this.estadoPedido.horaInt=t,this.notifyChange()},t.prototype.setTimeAprox=function(t){this.deserializar(),this.estadoPedido.isTiempoAproxCumplido=t,this.notifyChange()},t.prototype.setHayPedidoPendiente=function(t){this.deserializar(),this.estadoPedido.hayPedidoClientePendiente=t,this.notifyChange()},t.prototype.setisPagada=function(t){this.deserializar(),this.estadoPedido.isPagada=t,this.notifyChange()},t.prototype.setisRegisterPago=function(t){this.deserializar(),this.estadoPedido.isRegisterOnePago=t,this.notifyChange()},t.prototype.calcTimeAprox=function(){var t=this;this.crudService.postFree(this.dataPost,"pedido","calc-time-despacho",!1).subscribe(function(a){t.estadoPedido.estado=0,t.estadoPedido.numMinAprox=a.data[0].rpt,t.estadoPedido.isTiempoAproxCumplido=!1,t.notifyChange(),t.getTimeAprox()})},t.prototype.getTimeAprox=function(){var t=this;return 0===this.estadoPedido.estado?this.timeInterval=setTimeout(function(){var a=t.calTimeMin();a<=0?(t.estadoPedido.estado=1,t.notifyChange(),t.clearTimeout(),clearTimeout(t.timeInterval),a=0):t.getTimeAprox(),t.timeRestanteAproxSource.next(a)},2e3):this.clearTimeout(),0},t.prototype.calTimeMin=function(){var t=(new Date).getTime()-this.estadoPedido.horaInt;return t=Math.round(t%864e5%36e5/6e4),t=this.estadoPedido.numMinAprox-t,isNaN(t)?0:t},t.prototype.clearTimeout=function(){clearTimeout(this.timeInterval),this.timeInterval=null},t.prototype.notifyChange=function(){this.listenStatusService.setEstadoPedido(this.estadoPedido),localStorage.setItem(this.keyStorage,JSON.stringify(this.estadoPedido))},t.ngInjectableDef=l.Ub({factory:function(){return new t(l.Vb(i.a),l.Vb(n.a),l.Vb(o.a))},token:t,providedIn:"root"}),t}()},lzlj:function(t,a,e){"use strict";e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n});var r=e("CcnG"),i=(e("FVSy"),e("Fzqc"),e("Wf4p"),e("ZYjt"),e("wFw1"),r.sb({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}}));function n(t){return r.Qb(2,[r.Fb(null,0),r.Fb(null,1)],null,null)}},"nYx/":function(t,a,e){"use strict";e.d(a,"a",function(){return s});var r=e("zOUh"),i=e("+lji"),n=e("yFR0"),o=e("CcnG"),s=function(){function t(t,a,e){this.infoTokenService=t,this.crudService=a,this.socketService=e,this.infoToken=this.infoTokenService.getInfoUs()}return t.prototype.getSubtotales=function(){this.objTotales=JSON.parse(atob(localStorage.getItem("sys::st")))},t.prototype.registrarPago=function(t,a,e,r){var i=this;void 0===r&&(r=!1),this.getSubtotales();var n={idcliente:this.infoToken.idcliente,idorg:this.infoToken.idorg,idsede:this.infoToken.idsede,mesa:this.infoToken.numMesaLector,importe:t},o={idcliente:n.idcliente,idorg:n.idorg,idsede:n.idsede,mesa:n.mesa,importe:n.importe,isdelivery:r,objSubTotal:this.objTotales,objTransaction:a,objCliente:e,objOperacion:n};this.crudService.postFree(o,"transaction","registrar-pago",!1).subscribe(function(t){i.setIdRegistroPagoTransaction(t.data[0].idregistro_pago),i.socketService.emit("notificar-pago-pwa",o)})},t.prototype.getIpClient=function(){var t="";return this.crudService.getFree("https://api.ipify.org?format=jsonp&callback=?").subscribe(function(a){t=a.ip}),t},t.prototype.getDataTrasaction=function(){return this.loadDataTransaction(),this.responseTransaction.isSuccess=!(this.responseTransaction&&!this.responseTransaction.error),this.responseTransaction},t.prototype.setIdRegistroPagoTransaction=function(t){this.loadDataTransaction(),this.responseTransaction.idregistro_pago=t,this.upDataTransaction()},t.prototype.loadDataTransaction=function(){this.responseTransaction=JSON.parse(localStorage.getItem("sys::transaction-response"))},t.prototype.upDataTransaction=function(){localStorage.setItem("sys::transaction-response",JSON.stringify(this.responseTransaction))},t.prototype.removeLocalDataTransaction=function(){localStorage.removeItem("sys::transaction-response"),this.responseTransaction=null},t.ngInjectableDef=o.Ub({factory:function(){return new t(o.Vb(r.a),o.Vb(i.a),o.Vb(n.a))},token:t,providedIn:"root"}),t}()}}]);