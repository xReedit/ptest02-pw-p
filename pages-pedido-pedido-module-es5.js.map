{"version":3,"sources":["webpack:///src/app/pages/pedido/buscar-item/buscar-item.component.html","webpack:///src/app/pages/pedido/busqueda/busqueda.component.html","webpack:///src/app/pages/pedido/carta/carta.component.html","webpack:///src/app/pages/pedido/estado-pedido/estado-pedido.component.html","webpack:///src/app/pages/pedido/inicio/inicio.component.html","webpack:///src/app/pages/pedido/main/main.component.html","webpack:///src/app/pages/pedido/resumen-pedido/dialog-loading/dialog-loading.component.html","webpack:///src/app/pages/pedido/resumen-pedido/resumen-pedido.component.html","webpack:///src/app/pages/pedido/buscar-item/buscar-item.component.css","webpack:///src/app/pages/pedido/buscar-item/buscar-item.component.ts","webpack:///src/app/pages/pedido/busqueda/busqueda.component.css","webpack:///src/app/pages/pedido/busqueda/busqueda.component.ts","webpack:///src/app/pages/pedido/carta/carta.component.css","webpack:///src/app/pages/pedido/carta/carta.component.ts","webpack:///src/app/pages/pedido/estado-pedido/estado-pedido.component.css","webpack:///src/app/pages/pedido/estado-pedido/estado-pedido.component.ts","webpack:///src/app/pages/pedido/inicio/inicio.component.css","webpack:///src/app/pages/pedido/inicio/inicio.component.ts","webpack:///src/app/pages/pedido/main/main.component.css","webpack:///src/app/pages/pedido/main/main.component.ts","webpack:///src/app/pages/pedido/pedido.module.ts","webpack:///src/app/pages/pedido/pedido.routing.ts","webpack:///src/app/pages/pedido/pedido.style.css","webpack:///src/app/pages/pedido/resumen-pedido/dialog-loading/dialog-loading.component.css","webpack:///src/app/pages/pedido/resumen-pedido/dialog-loading/dialog-loading.component.ts","webpack:///src/app/pages/pedido/resumen-pedido/resumen-pedido.component.css","webpack:///src/app/pages/pedido/resumen-pedido/resumen-pedido.component.ts","webpack:///src/app/shared/services/json-print.service.ts","webpack:///src/app/shared/services/reglascarta.service.ts"],"names":["BuscarItemComponent","selector","template","BusquedaComponent","socketService","miPedidoService","dialog","objCartaBus","objNewItemTiposConsumo","_objFind","getObjCartaLibery","_itemFind","carta","map","c","secciones","s","items","i","seccion","des","selected","push","getDataTipoConsumo","selectedItem","x","itemSelected","_objNewItemTiposConsumo","JSON","parse","stringify","objItemTipoConsumoSelected","itemtiposconsumo","setobjItemTipoConsumoSelected","openDlgItemBusq","_item","dialogConfig","_itemFromCarta","findItemCarta","autoFocus","data","idTpcItemResumenSelect","item","dialogRef","open","afterClosed","subscribe","stock","_stock","parseInt","CartaComponent","reglasCartaService","navigatorService","listenStatusService","infoToken","establecimientoService","calcDistanciaService","crudService","speechDataProviderService","cocinarPromoShowService","unsubscribeCarta","isBusqueda","rutaImgItem","imgNull","isCargado","showCategoria","showSecciones","showItems","showToolBar","tituloToolBar","rippleColor","objSecciones","objItems","objPromociones","tiposConsumo","countSeeBack","nomCategoriaSeleted","destroy$","isFirstLoadListen","isScreenIsMobile","isViewMercado","isShowCalificacion","isCliente","isPuntoAutoPedido","isTomaPedidoRapido","isCantidadCero","event","detectScreenSize","window","innerWidth","_configPunto","localStorage","getItem","get","pwa_show_item_view_mercado","infoUsToken","ispunto_autopedido","istoma_pedido_rapido","canalConsumoTomaPedidoRapido","canal_consumo","initCarta","calificacion","dataCalificacion","cantidad","listCalificacion","_dataSendCalificacion","idsede","postFree","res","numpedidos","reduce","a","b","getInfoUs","isReserva","calcCostoEntregaApiGoogleRain","direccionEnvioSelected","connect","setLoaderCarta","listeStatusBusqueda","getDeliveryConstCantEscala","resNavigatorSourceObserve$","pageActive","goBack","getComsionEntrega","onGetCarta","isSocketOpenReconect","setObjCarta","resetParamsCarta","findIsHayItems","updatePedidoFromStrorage","setPageActive","objCarta","promociones","lista_promociones","filter","p","parametros","body","solo_app","iniReloadOpenPromo","clearPedidoIsLimitTime","restoreTimerLimit","loadItemsBusqueda","listenChangeCantItem","onGetTipoConsumo","t","_objTpcAdd","descripcion","idtipo_consumo","titulo","isDelivery","isSoloLlevar","indexOf","setObjNewItemTiposConsumo","addLink","initFirtsCategoria","onGetDataSedeDescuentos","setObjCartaDescuentos","loadReglasCarta","length","getSecciones","getItems","unsubscribe","next","categoria","categoriaSeleted","setTimeout","setItem","idcategoria","toString","setObjSeccionSeleced","seccionSelected","_itemBus","_seccionBus","idseccion","idimpresora","sec_orden","ver_stock_cero","getObjCarta","visible","error","split","_selectedItem","openDetalle","count_subitems","resultCantItemMercado","cantidad_seleccionada","idSeccionSelected","_lastSeccionObjSeleted","getObjSeccionSeleced","_reasignarSeccion","findItemSeccionCarta","openDlgItem","ispromo","panelClass","tpcSelect","suma","addItem2","getItems_seccion_from_busqueda","itemCarta","_indicaciones","indicaciones","isNaN","isBusqueda$","charBuqueda$","pipe","isBusquedaFindNow","isSocketOpen$","commandNavegacionSeccion$","rpt_seccion","_categoria","commandNavegacionRecomendado$","itemsRecomendados","getItemsPromo","commandAddItem$","itemVoz","isSuma","charFind","toLowerCase","_charConcat","detalles","resp","index","slice","isSuma_selected","toLocaleLowerCase","_isSuma","is_visible_control_last_add","promo","itemsPromo","promoFilterShow","EstadoPedidoComponent","estadoPedidoClienteService","infoTokenService","router","tituloMesa","isViewMsjSolicitudPersoanl","isBtnPagoShow","destroyEstado$","isDeliveryCliente","simbolo_moneda","getSimboloMoneda","listenStatus","isSoloLLevar","getCuentaTotales","getImporteCuenta","_importe","estadoPedido","importe","hayPedidoPendiente$","setHayPedidoPendiente","estadoPedido$","isRegisterOnePago","setisRegisterPago","_router","timeRestanteAprox$","tiempoEspera","onPedidoPagado","isBtnPagoShow$","getCuenta","verCuenta","navigate","then","location","reload","setIsPagePagarCuentaShow","emit","numMesaLector","InicioComponent","isVisibleToolBar","countTotalItems","lastValScrollTop","events","console","log","countItemsObserve$","$event","val","srcElement","scrollTop","propiedad","id","MainComponent","verifyClientService","isHayCuentaBusqueda","selectedTab","isUsuarioCliente","isClienteDelivery","isClienteReserva","isPagePagarShow","loaderPage","timeLoader","isSpeechVoiceAcivado","importeTotalProductos","speech_disabled","verifyClient","setIsUsuarioCliente","getIsDelivery","getIsQrSuccess","isSocketOpen","hayCuentaBusqueda$","isPagePagarCuentaShow$","resetObjCuenta","getSubTotalMiPedido","isLoaderCarta$","verificarLoaderReload","clearTimeout","_pageActive","tab","textLabel","resetObjMiPedido","setHayCuentaBuesqueda","_tabList","isActive","origin","position","clickTab","PedidoModule","declarations","imports","exports","routes","path","component","children","PedidoRoutingModule","forChild","DialogLoadingComponent","isSusccess","close","ResumenPedidoComponent","jsonPrintService","estadoPedidoClientService","registrarPagoService","utilService","_miPedido","_arrSubtotales","hayItems","isVisibleConfirmar","isVisibleConfirmarAnimated","numMesaCuenta","msjErr","isRequiereMesa","isDeliveryValid","frmConfirma","frmDelivery","frmReservaCliente","rippleColorSubItem","loadPrinterPrecuenta","objCuenta","isReadyClienteDelivery","isReadyClienteReserva","isReloadListPedidos","systemOS","nombreClienteValido","isShowNombreClienteLoginInvitado","showCuentaCliente","getOS","getMiPedido","isPuntoAuntoPedido","validarNomhbreCliente","rulesCarta","reglas","rulesSubtoTales","subtotales","setRulesSubtotales","listenMiPedido","newFomrConfirma","localBtnP","commandFinalizarPedido$","checkTiposDeConsumo","checkIsRequierMesa","checkIsDelivery","isClienteSetValues","commandIsShowPedido$","isReservaCliente","getDataClient","isLoginByInvitado","nomClienteInvitato","nombres","set","nummesa","nummesa_resplado","referencia","reserva","solo_llevar","delivery","validarReglasCarta","getArrSubTotales","btoa","parseFloat","pintarMiPedido","miPedidoObserver$","isPagoSucces$","resPago","getDataTrasaction","isSuccess","removeLocalDataTransaction","enviarPedido","onGetNuevoPedido","hayCuentaCliente$","xLoadCuentaMesa","isOutEstablecimientoDelivery$","goBackOutEstablecimiento","setIsOutEstablecimientoDelivery","_tpc","_seccion","_subItems","_tpc_item_carta","subitems_selected","subitems","backConfirmacion","_dialogConfig","disableClose","hasBackdrop","dialogReset","result","resetAllNewPedido","formData","_frmConfirma","nombre_reserva","empresa","hora_reserva","metodoPago","idtipo_pago","prepararEnvio","showLoaderPedido","setLoaderSendPedido","setMetodoPagoSelected","isPagoConTarjeta","atob","dataUsuario","dataFrmConfirma","m","r","toUpperCase","nom_us","m_respaldo","arrReqFrm","nombre","addslashes","_p_header","reservar","correlativo_dia","num_pedido","idregistro_pago","arrDatosDelivery","arrDatosReserva","idregistra_scan_qr","getLocalIdScanQr","is_print_subtotales","objDatosSede","datossede","isprint_copy_short","isprint_all_short","appv","isClienteBuscaRepartidores","buscarRepartidor","_subTotalesSave","subTotales","dataPedido","p_header","p_body","p_subtotales","idpedido","arrPrint","enviarMiPedido","dataPrint","Array_enca","ArraySubTotales","ArrayItem","arrBodyPrint","Array_print","arrPrinters","_dataUsuarioSend","idusuario","idcliente","idorg","cargo","usuario","dataSend","isDeliveryAPP","isClienteRecogeLocal","pasoRecoger","dataDescuento","listPrinters","setOrderDelivery","pagarCuentaDeliveryCliente","isHayDescuento","_listDsc","getIdsDescuentos","setIdCliente","savePedidoSocket","findEvaluateTPCMiPedido","isTpcSoloDelivery","isTpcSoloLLevar","num","numMesasSede","mesas","isMesaValid","numMesaIngresado","findMiPedidoIsTPCDelivery","formIsValid","_getPrinterCaja","getPrinterPrecuenta","xArrayEncabezado","_data","isprecuenta","printerPrecuenta","mesa","_resCuentaFromCliente","datos","desglozarCuenta","setImporte","_miPedidoCuenta","c_tiposConsumo","tp","hayTpc","des_tp","_tp","_s","haySeccion","des_seccion","count_items_seccion","_i","hayItem","iditem","idcarta_lista","isalmacen","precio","punitario","precio_print","ptotal","precio_total","procede","subitems_view","count_items","tipoconsumo","setObjMiPedido","idMjs","cerrarSession","emitRes","resSocket","alert","dataError","elerror","elorigen","stopTimerLimit","prepareNewPedido","_res","print","setHoraInitPedido","Date","getTime","confirmarPedidoDeliveryEnviado","backConfirmarPedido","JsonPrintService","pedidoService","datosSede","impresoras","iscliente","getDataSede","_objMiPedido","xRptPrint","listOnlyPrinters","xImpresoraPrint","xArrayBodyPrint","printerAsigando","num_copias_all","num_copias","var_size_font_tall_comanda","pie_pagina","pie_pagina_comprobante","isHayDatosPrintObj","setFirstPrinterSeccionCliente","_puntoConfig","tpc","indexP","imprimir_comanda","conDatos","padStart","toFixed","idimpresora_otro","impresora","ip_print","ip","childPrinter","var_margen_iz","var_size_font","local","copia_local","img64","papel_size","listPrinter","firtsPrinter","countPrinters","firtsIdPrinter","GetFirstPrinter","precio_print_app","idtipo_otro","relationRowToPrint","providedIn","ReglascartaService","storageService","keyStorage","dataReglasCarta","objReglasCarta","observer","onReglasCarta","codeObjInSotrage","objFromStorage"],"mappings":"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","file":"pages-pedido-pedido-module-es5.js","sourcesContent":["export default \"<p>buscar-item works!</p>\\n\";","export default \"<p>busqueda works!</p>\\n<!-- <button (click)=\\\"buscar()\\\">aaa</button> -->\\n<!-- items -->\\n<div class=\\\"xtransicion m-main-pt-40 color-fondo-ul\\\">\\n        <ng-container>\\n          <ul>\\n              <!-- [ngClass]=\\\"{'li-padding-selected': item.selected}\\\" -->\\n            <li *ngFor=\\\"let item of objCartaBus\\\">\\n              <div class=\\\"xcontent border-left-item-{{getEstadoStockItem(item.cantidad)}}\\\"> \\n                <div class=\\\"m1 d-flex xtitulo\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" [ngClass]=\\\"{'li-tachado': item.cantidad==='0'}\\\" (click)=\\\"selectedItemBusq(item)\\\">\\n                  <div class=\\\"w-100\\\"><span>{{item.des}}</span></div>\\n                  <div class=\\\"text-right d-flex\\\">\\n                    <div class=\\\"flag-stock text-center estado-color-{{getEstadoStockItem(item.cantidad)}}\\\">\\n                      <div [ngClass]=\\\"{'xanimated xwobble': item.cantidad===0}\\\">\\n                        <span class=\\\"fs-9\\\">Stock</span><br>\\n                        <span class=\\\"fs-15\\\">{{item.cantidad}}</span>\\n                      </div>\\n                    </div>\\n                    <span>{{item.precio | number:'0.2' }}</span>\\n                  </div>\\n                </div>              \\n                \\n                <!-- <ng-container *ngIf=\\\"item.selected\\\">\\n                  <div>\\n                    -- detalle --\\n                    <ng-container *ngIf=\\\"item.detalles === ''; else elseTemplate\\\">\\n                      <br>\\n                    </ng-container>\\n                    <ng-template #elseTemplate>\\n                      <div class=\\\"pl-3 pr-3\\\">\\n                        <span class=\\\"fs-14 text-secondary\\\">{{ item.detalles | lowercase }}</span>\\n                      </div>\\n                      <hr>                    \\n                    </ng-template>\\n                    \\n                    -- especificaciones --\\n                    <div class=\\\"pl-3 pr-3\\\">\\n                      <mat-form-field class=\\\"w-100 margin-input\\\">\\n                        <input matInput placeholder=\\\"Escribe aqui las especificaciones\\\" [(ngModel)]=\\\"itemSelected.indicaciones\\\" name=\\\"indicaciones\\\" #txtIdicaciones (keyup)=\\\"addItemIndicaciones(item, txtIdicaciones.value)\\\">\\n                      </mat-form-field>\\n                    </div>\\n                    <hr>\\n                    -- tipos de consumo --\\n                    <div class=\\\"pl-3 pr-3\\\">\\n                      <table width=\\\"100%\\\" class=\\\"tb-tpc\\\">\\n                        <tr *ngFor=\\\"let tp of objItemTipoConsumoSelected\\\">\\n                          <td>{{tp.descripcion}}</td>\\n                          <td>\\n                            <div class=\\\"d-flex float-right\\\">\\n                              <span [hidden]=\\\"tp.cantidad_seleccionada === 0\\\" class=\\\"fs-19 pr-2\\\">{{tp.cantidad_seleccionada}}</span>\\n                              <div class=\\\"btn-tbl bg-danger xCursor\\\" matRipple (click)=\\\"addItemToPedido(tp, 1)\\\">-</div>\\n                              <div class=\\\"btn-tbl bg-success xCursor\\\" matRipple (click)=\\\"addItemToPedido(tp, 0)\\\">+</div>\\n                            </div>\\n                          </td>\\n                        </tr>\\n                      </table>\\n                      <br>\\n                    </div>                  \\n                  </div>                \\n                </ng-container> -->\\n                \\n              </div>            \\n            </li>          \\n          </ul>        \\n        </ng-container>\\n      </div>\\n      <br>\";","export default \"<div class=\\\"fondo\\\">\\n\\n  <div [hidden]=\\\"isBusqueda\\\" class=\\\"content-master\\\">\\n    <!-- toolbar -->\\n    <ng-container *ngIf=\\\"showToolBar isBusqueda\\\">\\n      <div matRipple class=\\\"text-white bg-primary p-2 m-toolbar-seccion xanimated xfadeInDown text-puntos-suspensivos\\\" (click)=\\\"goBack()\\\">\\n        <i class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i>\\n        <span class=\\\"pl-2 font-weight-light fs-13\\\">{{tituloToolBar}}</span>        \\n      </div>\\n    </ng-container>\\n\\n    <!-- categorias -->\\n    <div [hidden]=\\\"!showCategoria\\\" class=\\\"content-secciones xanimated xfadeIn\\\">\\n\\n        <!-- informacion y comentarios solo delivery cliente -->\\n        <div class=\\\"p-2 pl-3 pr-3 border-bottom d-flex justify-content-between fs-14\\\" \\n            style=\\\"background: #e3f2fd;\\\" matRipple [matRippleColor]=\\\"rippleColor\\\"\\n            *ngIf=\\\"isShowCalificacion && isCliente\\\"\\n            (click)=\\\"openDialogComentarios()\\\"\\n            >\\n          <div class=\\\"d-flex\\\">\\n            <span class=\\\"pr-2\\\"><i class=\\\"fa fa-star text-warning pr-1\\\"></i> {{ dataCalificacion.calificacion | number: '.1' }}</span>\\n          </div>\\n          <div>\\n            <span>{{ dataCalificacion.cantidad }} Opiniones <i class=\\\"fa fa-angle-right text-secondary pl-2\\\"></i></span>            \\n          </div>\\n        </div>\\n\\n        <ng-container *ngIf=\\\"miPedidoService.objCarta\\\">                 \\n              <ul>\\n                  <li *ngFor=\\\"let item of miPedidoService.objCarta.carta\\\" class=\\\"xCursor\\\"\\n                      matRipple [matRippleColor]=\\\"rippleColor\\\"\\n                      (click)=\\\"getSecciones(item)\\\">\\n                      <div class=\\\"m1 seccion\\\">                          \\n                        <div class=\\\"img mt-2\\\">\\n                          <img src=\\\"assets/images/048-grill.png\\\" alt=\\\"\\\">\\n                        </div>                        \\n                        <div>\\n                          <span class=\\\"fw-100 fs-20\\\">{{item.des}}</span><br>                        \\n                          <div class=\\\"text-secondary\\\">\\n                            <span class=\\\"mt-2 fs-15\\\">{{ item.detalle | lowercase }}</span><br>\\n                            <i class=\\\"fa fa-clock-o pr-2\\\" aria-hidden=\\\"true\\\"></i>\\n                            <span class=\\\"mt-2 fs-12\\\">Horario de atencion: de {{item.hora_ini}} a {{item.hora_fin}} </span>\\n                          </div>\\n                        </div>\\n                      </div>\\n                  </li>\\n              </ul>    \\n            \\n        </ng-container>\\n    </div>    \\n\\n  \\n\\n    <!-- Secciones -->\\n    <div [hidden]=\\\"!showSecciones && isScreenIsMobile\\\" class=\\\"content-secciones xanimated xfadeIn m-main-pt-40\\\">\\n\\n        <!-- promociones -->\\n        <ng-container *ngIf=\\\"objPromociones\\\">\\n          <div *ngFor=\\\"let item of objPromociones; let i = index\\\" class=\\\"m1 seccion li-seccion xCursor\\\"\\n                matRipple [matRippleColor]=\\\"rippleColor\\\">        \\n            <app-item-promocion [promo]=\\\"item\\\" class=\\\"w-100\\\" (selected)=\\\"showItemsPromo(item)\\\"></app-item-promocion>\\n          </div> \\n        </ng-container>\\n\\n      <ng-container>\\n        <ul>\\n          <li *ngFor=\\\"let item of objSecciones; let i = index\\\" class=\\\"li-seccion xCursor\\\"\\n              matRipple [matRippleColor]=\\\"rippleColor\\\"\\n              (click)=\\\"getItems(item)\\\">\\n            <div class=\\\"m1 seccion\\\">\\n              <div class=\\\"img\\\">\\n                <ng-container *ngIf=\\\"item.img === ''; else elseTemplateImg\\\">\\n                  <img src=\\\"assets/images/{{i}}.png\\\" alt=\\\"img-icon\\\">                  \\n                </ng-container>\\n                <ng-template #elseTemplateImg>\\n                  <img src=\\\"assets/images/{{item.img}}\\\" alt=\\\"img-icon\\\">\\n                </ng-template>\\n                \\n              </div>\\n              <div style=\\\"width: calc(100% - 50px) !important;\\\">\\n                <div>\\n                  <div class=\\\"d-flex\\\">\\n                    <span class=\\\"fw-100 fs-19\\\">{{item.des}}</span><br>\\n                    <div *ngIf=\\\"item.descuento\\\">\\n                      <span class=\\\"badge badge-danger ml-2\\\">- {{ item.descuento}}</span>\\n                    </div>\\n                  </div>\\n                  <div class=\\\"titulo-detalle-seccion text-secondary\\\">\\n                    <span class=\\\"fw-100 mt-2 fs-13\\\">{{getObjDetalleSeccion(item)}}</span>\\n                  </div>\\n                </div>                \\n              </div>\\n            </div>\\n          </li>\\n        </ul>\\n        <br><br>\\n      </ng-container>      \\n    </div>\\n\\n    <!-- items -->\\n    <!-- color-fondo-ul -->\\n    <div [hidden]=\\\"!showItems && isScreenIsMobile\\\" class=\\\"content-items xtransicion m-main-pt-40\\\">\\n      <ng-container>\\n\\n\\n        <!-- vista tradiciconal -->\\n        <ng-container *ngIf=\\\"!isViewMercado; else elseViewItemMercado\\\">\\n          \\n          <ul class=\\\"ul-items\\\">\\n            <li *ngFor=\\\"let item of objItems\\\" class=\\\"li-item\\\">\\n              <div class=\\\"border-bottom-li xcontent child-item border-left-item-{{getEstadoStockItem(item.cantidad)}}\\\" matRipple [matRippleColor]=\\\"rippleColor\\\"> \\n                <div class=\\\"m1 d-flex xtitulo\\\"  [ngClass]=\\\"{'li-tachado': item.cantidad < 1, 'p-titulo-item-sin-detalle': item.detalles.length === 0}\\\" (click)=\\\"selectedItem(item)\\\">                                \\n                  <!-- style 2.0 200720 -->\\n                  <div class=\\\"content-titulo-item w-100 d-flex align-items-center justify-content-between w-100\\\">\\n                      <ng-container *ngIf=\\\"item.img === ''; else elseConImagen\\\">\\n                        <!-- sin imagen -->                      \\n                          <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <div>\\n                              <span class=\\\"fw-600 fs-12 item-titulo\\\">{{item.des}} <i *ngIf=\\\"item.is_recomendacion === '1'\\\" class=\\\"fa fa-star text-warning pr-1\\\"></i></span>\\n                              \\n                              <ng-container *ngIf=\\\"item.detalles.length > 0\\\">\\n                                <p class=\\\"titlo-detalle mb-1\\\" >{{item.detalles}}</p>                    \\n                                \\n                              </ng-container>                            \\n                            </div>\\n                            <!-- si no hay detalles -->\\n                            <div class=\\\"text-right pl-1\\\">\\n                              <p class=\\\"mb-0 fw-600\\\">\\n                                <span *ngIf=\\\"item.precio_antes\\\" class=\\\"fw-600 li-tachado mr-1\\\">{{item.precio_antes | number:'0.2' }}</span>\\n                                {{item.precio | number:'0.2' }}\\n                              </p>                            \\n                            </div>\\n                          </div>                      \\n                      </ng-container>                    \\n                      <ng-template #elseConImagen>\\n                        <!-- con imagen -->\\n                        <div class=\\\"d-flex justify-content-between w-100 align-items-center\\\">\\n                          <div>\\n                            <span class=\\\"fw-600 fs-12 item-titulo\\\">{{item.des}} <i *ngIf=\\\"item.is_recomendacion === '1'\\\" class=\\\"fa fa-star text-warning pr-1\\\"></i></span>\\n                            \\n                            <ng-container>\\n                              <p *ngIf=\\\"item.detalles.length > 0\\\" class=\\\"titlo-detalle mb-1\\\" >{{item.detalles}}</p>                    \\n                              \\n                              <!-- si hay detalles los precios abajo -->\\n                              <div>\\n                                <p *ngIf=\\\"item.precio_antes\\\" class=\\\"mb-0 fw-600 li-tachado\\\">{{item.precio_antes | number:'0.2' }}</p>\\n                                <p class=\\\"mb-0 fw-600 pr-2\\\">{{item.precio | number:'0.2' }}</p>\\n                              </div>\\n                            </ng-container>                            \\n                          </div>\\n                          <!-- imagen -->\\n                          <div class=\\\"text-right ml-1\\\">\\n                            <div class=\\\"rounded-circle icon-div-carta\\\">\\n                              <img class=\\\"icon-item-carta rounded-circle\\\" src=\\\"{{rutaImgItem}}{{item.img}}\\\" alt=\\\"icon-item-carta\\\">\\n                            </div>\\n                          </div>\\n                        </div>\\n                      </ng-template>\\n                      \\n                    </div>\\n\\n                    \\n                  </div>\\n                  \\n                  <!-- control para aumentar con un clic  - para una sola opcion de consumo | delivery o autopedido (llevar) -->\\n                  <ng-container *ngIf=\\\"isPuntoAutoPedido || isTomaPedidoRapido || isCliente\\\">\\n                    <div class=\\\"control-more-clic animated fadeInUp\\\" *ngIf=\\\"item.is_visible_control_last_add || item.cantidad_seleccionada > 0\\\">                    \\n                      <app-comp-ctrl-add-fast class=\\\"float-left mr-1\\\"\\n                          (objResponse)=\\\"resultCantItemMercado($event)\\\" \\n                          [cantidad_show] = \\\"item.cantidad_seleccionada\\\"\\n                          [objItem]=\\\"item\\\"\\n                          [comprimir] = \\\"false\\\"\\n                          [quitarFadeUp] = \\\"true\\\"\\n                          [limitAdd]=\\\"item.cantidad\\\">\\n                      </app-comp-ctrl-add-fast>\\n                      <div class=\\\"btn-indicacion-last-control\\\" (click)=\\\"selectedItem(item, true)\\\">\\n                        <i class=\\\"fa fa-pencil pr-1\\\"></i>\\n                        <span class=\\\"fs-11\\\">Indicaciones</span>\\n                      </div>\\n                    </div>\\n                  </ng-container>\\n                  \\n\\n              </div>            \\n            </li>          \\n          </ul> \\n\\n        </ng-container>\\n\\n        <!-- vista mercado -->\\n        <ng-template #elseViewItemMercado>\\n          <ul class=\\\"content-view-item-mercado\\\">\\n            <li *ngFor=\\\"let item of objItems\\\" class=\\\"li-content-mercado\\\">\\n                <div class=\\\"li-item-mercado d-flex xtitulo p-titulo-item-sin-detalle\\\" matRipple [ngClass]=\\\"{'li-tachado': item.cantidad < 1}\\\">\\n                  <div class=\\\"w-100\\\">                                            \\n                        <!-- con imagen -->\\n                        <div class=\\\"w-100 align-items-center\\\">\\n\\n                          <div>\\n                            \\n                            <app-comp-ctrl-add-fast class=\\\"div-control-add-fast\\\"\\n                              (objResponse)=\\\"resultCantItemMercado($event)\\\" \\n                              [cantidad_show] = \\\"item.cantidad_seleccionada\\\"\\n                              [objItem]=\\\"item\\\"\\n                              [limitAdd]=\\\"item.cantidad\\\">\\n                            </app-comp-ctrl-add-fast>\\n  \\n                            <!-- imagen -->\\n                            <div class=\\\"text-right ml-1\\\">\\n                              <div class=\\\"text-center\\\">\\n                                <ng-container *ngIf=\\\"item.img===''; else elseTemplateConImg\\\" >\\n                                  <img class=\\\"icon-item-carta\\\" src=\\\"{{imgNull}}\\\" alt=\\\"icon-item-carta\\\" (click)=\\\"selectedItem(item)\\\">\\n                                </ng-container>\\n                                <ng-template #elseTemplateConImg>\\n                                  <img class=\\\"icon-item-carta\\\" src=\\\"{{rutaImgItem}}{{item.img}}\\\" alt=\\\"icon-item-carta\\\" (click)=\\\"selectedItem(item)\\\">                                  \\n                                </ng-template>\\n                                \\n                              </div>\\n                            </div>\\n                          </div>\\n                          \\n                          <div class=\\\"text-center\\\" (click)=\\\"selectedItem(item)\\\">\\n                            <span class=\\\"fw-600 fs-11 item-titulo\\\">{{item.des}} <i *ngIf=\\\"item.is_recomendacion === '1'\\\" class=\\\"fa fa-star text-warning pr-1\\\"></i></span>                                                          \\n                            <div>\\n                                <p *ngIf=\\\"item.precio_antes\\\" class=\\\"mb-0 fw-600 li-tachado\\\">{{item.precio_antes | number:'0.2' }}</p>\\n                                <p class=\\\"mb-0 fw-600 pr-2\\\">{{item.precio | number:'0.2' }}</p>\\n                            </div>             \\n                          </div>\\n                          \\n                        </div>\\n                  </div>\\n  \\n                </div>      \\n            </li>          \\n          </ul> \\n        </ng-template>\\n        \\n\\n        \\n               \\n      </ng-container>\\n    </div>\\n\\n\\n    <!-- mi orden siempre que la pantalla no sea mobile -->\\n    <ng-container>\\n      <div class=\\\"content-resumen\\\">\\n          <app-resumen-pedido></app-resumen-pedido>\\n      </div>\\n    </ng-container>\\n    \\n\\n    <br>\\n\\n  </div>\\n\\n    <!-- busqueda -->\\n    <div [hidden]=\\\"!isBusqueda\\\" class=\\\"xtransicion color-fondo-ul xanimated xfadeInDown\\\" style=\\\"border-top: 8px solid #3f51b5;\\\">\\n        <ng-container>\\n          <ul>\\n              <!-- [ngClass]=\\\"{'li-padding-selected': item.selected}\\\" -->\\n            <li *ngFor=\\\"let item of objCartaBus\\\" [hidden]=\\\"!item.visible\\\">\\n              <div class=\\\"xcontent border-left-item-{{getEstadoStockItem(item.cantidad)}}\\\">\\n                <div class=\\\"m1 d-flex xtitulo\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" [ngClass]=\\\"{'li-tachado': item.cantidad < 1, 'p-titulo-item-sin-detalle': item.detalles.length === 0, 'p-titulo-item-select': item.selected}\\\" (click)=\\\"selectedItem(item)\\\">\\n                  <!-- titulo item -->\\n                  <div class=\\\"content-titulo-item w-100\\\">\\n                    <span>{{item.des}}</span>\\n                    <ng-container *ngIf=\\\"item.detalles.length > 0\\\">\\n                        <p class=\\\"titlo-detalle\\\" >{{item.seccion}}: {{item.detalles}}</p>                    \\n                      </ng-container>                    \\n                  </div>\\n    \\n                </div>\\n\\n                \\n              </div>            \\n            </li>          \\n          </ul>        \\n        </ng-container>\\n      </div>\\n      <br>\\n</div>\\n\";","export default \"<div class=\\\"animated fadeIn\\\">     \\n     \\n    <ng-container *ngIf=\\\"!isDeliveryCliente; else templateDelivery\\\">\\n        \\n        <div class=\\\"row xboder-abajo m-0 p-2\\\">\\n            <div class=\\\"col-4 text-center xboder-derecha\\\">\\n                <span>{{tituloMesa}}</span>\\n                <h3>{{infoToken.numMesaLector | number:'2.'}}</h3>\\n            </div>\\n            <!-- <span *ngIf=\\\"!estadoPedido\\\">.</span> -->    \\n            <ng-template #elseTemplate>\\n                \\n            </ng-template>\\n            \\n            <div class=\\\"col-8 xcontainer-center text-right\\\" *ngIf=\\\"estadoPedido\\\">\\n                <span *ngIf=\\\"estadoPedido.estado === 0\\\">Tiempo de espera <strong>{{ tiempoEspera }} min</strong> aprox.</span>\\n                <span *ngIf=\\\"estadoPedido.estado === 1\\\">Su pedido esta por llegar.</span>\\n                <span *ngIf=\\\"estadoPedido.estado === 2\\\">Su pedido ya fue despachado.</span>\\n            </div>\\n        </div>\\n\\n        <!-- importe -->\\n        <div class=\\\"row xboder-abajo m-0 p-2 xcontainer-center\\\">\\n            <div class=\\\"col-6 pb-3 pt-3\\\">\\n                <span class=\\\"fs-13\\\">Importe a pagar</span><br>\\n                <ng-container *ngIf=\\\"estadoPedido.hayPedidoClientePendiente; else elseTemplateCuenta\\\">\\n                    <span class=\\\"text-danger\\\">Tiene pedido pendiente.</span>\\n                </ng-container>\\n                <ng-template #elseTemplateCuenta>                \\n                    <span class=\\\"text-info xCursor\\\" (click)=\\\"verCuenta()\\\">Ver cuenta</span>\\n                </ng-template>\\n                \\n            </div>\\n            <div class=\\\"col-6 text-right\\\">\\n                <span class=\\\"fs-25\\\">{{simbolo_moneda}} {{ estadoPedido.importe | number: '.2' }}</span>\\n            </div>\\n        </div>\\n\\n        <!-- link pagar -->\\n        <div class=\\\"row xboder-abajo m-0 p-2 pt-3 pb-3 xcontainer-center\\\">\\n            <div class=\\\"col-8\\\">\\n                <img class=\\\"pr-2\\\" src=\\\"./assets/images/001-visa.png\\\" alt=\\\"visa-card\\\">\\n                <img class=\\\"pr-2\\\" src=\\\"./assets/images/002-mastercard.png\\\" alt=\\\"maestro-card\\\">\\n                <img src=\\\"./assets/images/002-american-express.png\\\" alt=\\\"american-express\\\">\\n                <!-- <img src=\\\"./assets/images/003-diners-club.png\\\" alt=\\\"diners-club\\\"> -->\\n            </div>\\n            <div class=\\\"col-4 text-right\\\">\\n                <button [disabled]=\\\"estadoPedido.hayPedidoClientePendiente || estadoPedido.importe == 0\\\" mat-flat-button color=\\\"primary\\\" (click)=\\\"pagarCuenta()\\\">Pagar</button>\\n            </div>\\n        </div>\\n\\n        <!-- SOLCITAR ATENCION - LLAMAR AL PERSOANL -->\\n\\n        <div *ngIf=\\\"!infoToken.isSoloLLevar\\\" class=\\\"row xboder-abajo m-0 p-2 xcontainer-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"solicitarAtencion()\\\">\\n            <div class=\\\"col-8 pb-3 pt-3\\\">\\n                <span class=\\\"fs-13\\\">Solicitar atencin del personal.</span>\\n                <span class=\\\"fs-13 text-info pl-2 animated flash\\\" [hidden]=\\\"!isViewMsjSolicitudPersoanl\\\">Solicitud enviada.</span>\\n            </div>\\n            <div class=\\\"col-4 text-right\\\">\\n                <img src=\\\"./assets/images/solicitar-atencion.png\\\" alt=\\\"solicitar-atencion\\\">\\n            </div>\\n        </div>\\n\\n        <!-- link encuesta -->\\n        <div class=\\\"row xboder-abajo m-0 p-2 xcontainer-center\\\">\\n            <div class=\\\"col-12 pb-3 pt-3\\\">\\n                <span class=\\\"fs-13\\\">Al cancelar la cuenta por favor tomece un minuto para calificar nuestro servicio, su opinin es muy importante.</span>\\n            </div>\\n        </div>\\n\\n        <!-- link completar datos -->\\n        <!-- <div class=\\\"row xboder-abajo m-0 p-2 xcontainer-center\\\">\\n            <div class=\\\"col-8 pb-3 pt-3\\\">\\n                <span class=\\\"fs-13\\\">Complete su informacin para recibir promociones y descuentos.</span>            \\n            </div>\\n            <div class=\\\"col-4 text-right\\\">\\n                <button mat-flat-button color=\\\"primary\\\"><i class=\\\"fa fa-arrow-right\\\"></i></button>\\n            </div>\\n        </div> -->\\n    </ng-container>\\n\\n\\n\\n    <!-- cunado es DELIVERY  -->\\n    <ng-template #templateDelivery>\\n        <div class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n            <span class=\\\"fw-100 fs-12 text-secondary\\\">Direccion de entrega:</span>\\n            <p class=\\\"m-0\\\">Jr. Reyes Guerra 456</p>\\n        </div>\\n        <div class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n            <!-- <span class=\\\"fw-100 fs-12 text-secondary\\\">Hora de entrega:</span> -->            \\n            <p class=\\\"m-0\\\"><i class=\\\"fa fa-clock-o\\\"></i> Hora de entrega: 10 - 15 min</p>\\n        </div>\\n        <div class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n            \\n            <!-- <p class=\\\"m-0\\\">Jr. Reyes Guerra 456</p> -->\\n            <mat-form-field class=\\\"w-100\\\">\\n                <input type=\\\"number\\\" matInput placeholder=\\\"Telefono\\\">\\n            </mat-form-field>\\n            <span class=\\\"fw-100 fs-12 text-secondary\\\">Aade un nmero de telfono para que podamos contactarte e informarte de tu pedido.</span>\\n        </div>\\n\\n        <div class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n            <div class=\\\"row border-bottom\\\">\\n                \\n            </div>\\n        </div>\\n    </ng-template>    \\n    <br><br>\\n</div>\";","export default \"\\n<div class=\\\"h-100 overflow-hidden\\\"> \\n  <div class=\\\"toolbar-main\\\" [ngClass]=\\\"{'fadeInTool': isVisibleToolBar, 'fadeOutTool': !isVisibleToolBar}\\\">\\n    <app-tool-bar></app-tool-bar>\\n  </div>\\n  <div>\\n    <mat-tab-group backgroundColor=\\\"primary\\\" color=\\\"accent\\\" class=\\\"main-contemt transicion\\\">\\n      <mat-tab label=\\\"Carta\\\">\\n        <div class=\\\"x100-toolbar-hidden\\\" (scroll)=\\\"onScroll($event)\\\">\\n          <app-carta></app-carta>\\n          <br>\\n        </div>\\n      </mat-tab>\\n      <mat-tab>\\n        <ng-template matTabLabel>\\n          <span>Mi Pedido</span>\\n          <div *ngIf=\\\"countTotalItems > 0\\\" class=\\\"countItem countTotal animated fadeInUp\\\">\\n            {{countTotalItems | number: '2.'}}</div>\\n        </ng-template>\\n        <div class=\\\"x100-toolbar-hidden\\\" (scroll)=\\\"onScroll($event)\\\">\\n          <app-resumen-pedido></app-resumen-pedido>\\n          <br>\\n        </div>\\n      </mat-tab>\\n      <!-- <mat-tab label=\\\"Estado\\\">\\n        <app-estado-pedido></app-estado-pedido>\\n      </mat-tab> -->\\n    </mat-tab-group>\\n  </div>\\n\\n</div>\";","export default \"<!-- loader -->\\n  <div [ngClass]=\\\"{'loaded': socketService.isSocketOpen$ | async}\\\">\\n    <div class=\\\"wrapper\\\">\\n        <div id=\\\"loader-wrapper\\\">\\n        <div id=\\\"loader\\\"></div>                \\n        <div class=\\\"loader-msj\\\">{{socketService.msjConex$ | async}}</div>\\n        <div class=\\\"loader-section section-left\\\"></div>\\n        <div class=\\\"loader-section section-right\\\"></div>\\n        </div>\\n    </div>\\n  </div>     \\n<!-- loader -->\\n\\n<!-- loader send pedido or transaction -->\\n<div class=\\\"animated fadeIn div-loader-2\\\" *ngIf=\\\"listenStatusService.isLoaderSendPedido$ | async\\\">\\n  <div class=\\\"loader\\\">\\n      <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n      <span class=\\\"pt-2\\\">Enviando pedido...</span>\\n  </div>    \\n</div>\\n<!-- loader send pedido or transaction -->\\n\\n<!-- loader send pedido or transaction -->\\n<div class=\\\"animated fadeIn div-loader-2\\\" *ngIf=\\\"listenStatusService.isLoaderCarta$ | async\\\">\\n  <div class=\\\"loader\\\">\\n      <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n      <span class=\\\"pt-2\\\">Obteniendo productos...</span>\\n  </div>    \\n</div>\\n<!-- loader send pedido or transaction -->\\n\\n\\n<!-- <div *ngIf=\\\"isPagePagarShow\\\">\\n  <router-outlet></router-outlet>\\n</div> -->\\n\\n<!-- <router-outlet></router-outlet> -->\\n<!-- *ngIf=\\\"!isPagePagarShow\\\" -->\\n<div class=\\\"h-100 overflow-hidden\\\" >  \\n    <app-progress-time-limit></app-progress-time-limit>\\n    <div class=\\\"toolbar-main\\\" [ngClass]=\\\"{'fadeInTool': isVisibleToolBar, 'fadeOutTool': !isVisibleToolBar}\\\">\\n      <app-tool-bar></app-tool-bar>      \\n    </div>        \\n\\n    <div>      \\n      \\n      <mat-tab-group (selectedTabChange)=\\\"clickTab($event)\\\" backgroundColor=\\\"primary\\\" color=\\\"accent\\\"\\n        class=\\\"main-contemt transicion xanimated xfadeIn\\\" [selectedIndex]=\\\"selectedTab\\\"\\n        [ngClass]=\\\"{'header-less-tabs pt-0': isBusqueda}\\\">\\n        <mat-tab label=\\\"Carta\\\">\\n          <div class=\\\"x100-toolbar-hidden\\\" (scroll)=\\\"onScroll($event)\\\">          \\n            <app-carta></app-carta>\\n            <br>\\n\\n            <!-- footer boton ir a mi pedido -->\\n            <div class=\\\"footer-btn-go-lista animated fadeIn\\\" \\n              [ngClass]=\\\"{'fadeInUp':  countTotalItems > 0,'fadeOutDown': countTotalItems <= 0}\\\" \\n              *ngIf=\\\"(isUsuarioCliente || isPuntoAutoPedido) && isScreenIsMobile\\\">\\n              <div class=\\\"content\\\" (click)=\\\"goListaProductos()\\\">\\n                <p class=\\\"badge badge-light\\\">{{ countTotalItems }}</p>\\n                <p>Ver pedido</p>\\n                <p>S/. {{ importeTotalProductos | number: '.2' }}</p>\\n              </div>\\n            </div>\\n\\n          </div>     \\n        </mat-tab>\\n        <mat-tab label=\\\"MiPedido\\\" [disabled]=\\\"!isScreenIsMobile\\\">\\n          <ng-template matTabLabel>\\n              <span class=\\\"fs-11\\\">Mi Pedido </span>\\n              <i class=\\\"fa fa-shopping-basket pl-2\\\" aria-hidden=\\\"true\\\"></i>\\n              \\n              <div *ngIf=\\\"countTotalItems > 0\\\" class=\\\"countItem countTotal animated fadeInUp d-flex\\\">\\n                {{countTotalItems | number: '2.'}}\\n                <div class=\\\"div-spinner\\\">\\n                </div>\\n              </div>              \\n          </ng-template>\\n          <div class=\\\"x100-toolbar-hidden\\\" [ngClass]=\\\"{'fondo-gris': isUsuarioCliente}\\\" (scroll)=\\\"onScroll($event)\\\">\\n            <ng-container *ngIf=\\\"isScreenIsMobile\\\">              \\n              <app-resumen-pedido></app-resumen-pedido>\\n            </ng-container>\\n            \\n            <br>\\n          </div>\\n        </mat-tab>\\n\\n        <!-- solo si es usuario cliente  -->\\n        <mat-tab label=\\\"Estado\\\" *ngIf=\\\"isUsuarioCliente && !isClienteDelivery && !isClienteReserva\\\">\\n          <!-- <ng-container *ngIf=\\\"isUsuarioCliente\\\"> -->\\n            <div class=\\\"x100-toolbar-hidden\\\" (scroll)=\\\"onScroll($event)\\\"> \\n              <app-estado-pedido></app-estado-pedido>\\n              <br>\\n            </div>\\n          <!-- </ng-container>         -->\\n        </mat-tab>\\n      </mat-tab-group>\\n    </div>    \\n    \\n    \\n    <app-mozo-show-traduce-text></app-mozo-show-traduce-text>\\n   \\n\\n</div>\";","export default \"<div class=\\\"text-center p-3\\\">\\n  <!-- <ng-container *ngIf=\\\"isSusccess; else elseTemplate\\\"> -->\\n      <!-- <div class=\\\"text-center\\\" class=\\\"animated fadeInDown\\\" *ngIf=\\\"isSusccess\\\">\\n        <span>\\n      </div>     -->\\n  <!-- </ng-container> -->\\n  <!-- <ng-template #elseTemplate> -->\\n    <div class=\\\"fw-100 fs-18\\\">\\n      <ng-container *ngIf=\\\"!isSusccess; else elseTemplate\\\">\\n          <span><i class=\\\"fa fa-spinner fa-spin fa-2x fa-fw pr-1\\\"></i>Enviando ...</span>  \\n      </ng-container>\\n      <ng-template #elseTemplate>          \\n          <span class=\\\"animated fadeInLeft\\\"><i class=\\\"fa fa-check text-success pr-1\\\" aria-hidden=\\\"true\\\"></i>Envio correcto</span>\\n      </ng-template>          \\n      <!-- <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar> -->\\n    </div>\\n  <!-- </ng-template> -->\\n</div>\";","export default \"<div *ngIf=\\\"!isHayCuentaBusqueda && isCliente || isPuntoAuntoPedido\\\" class=\\\"animated fadeIn transicion\\\" [ngClass]=\\\"[!isVisibleConfirmarAnimated ? 'fadeInLeft' : 'fadeOutLeft d-none']\\\">\\n    <app-comp-list-item-pedido-cliente        \\n        [arrSubtotales]=\\\"_arrSubtotales\\\"\\n    ></app-comp-list-item-pedido-cliente>\\n</div>\\n\\n<div [hidden]=\\\"!isHayCuentaBusqueda\\\" class=\\\"bg-dark fs-13 p-2 text-white text-center\\\">\\n    CUENTA DE LA MESA {{numMesaCuenta | number: '2.'}}\\n</div>\\n\\n<div class=\\\"d-flex w-100 xanimated xfadeIn div-content-all\\\" \\n    [ngClass]=\\\"{'xh-100': isVisibleConfirmarAnimated}\\\"\\n    *ngIf=\\\"hayItems \\\" id=\\\"cardcontentall\\\">\\n    <!-- <div class=\\\"w-100\\\"> -->\\n        <div *ngIf=\\\"!isCliente && !isPuntoAuntoPedido || isHayCuentaBusqueda\\\" class=\\\"w-100 div-resumen-pedido transicion\\\"\\n        [ngClass]=\\\"[!isVisibleConfirmarAnimated ? 'd-inline' : 'd-none']\\\">\\n            <div *ngFor=\\\"let tpc of _miPedido.tipoconsumo\\\" class=\\\"xCursor\\\">\\n                <ng-container *ngIf=\\\"tpc.count_items_seccion > 0\\\">\\n                    <div class=\\\"div-plr titulo-tpc\\\">\\n                        <span [hidden]=\\\"isDeliveryCliente\\\">{{tpc.descripcion}}</span>\\n                        <span [hidden]=\\\"!isDeliveryCliente\\\"><i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goBackCarta()\\\"></i>  Resumen de mi orden</span>\\n                        <div class=\\\"countItem countTpc\\\">{{tpc.count_items_seccion}}</div>\\n                    </div>\\n                    <div *ngFor=\\\"let seccion of tpc.secciones\\\">\\n                        <ng-container *ngIf=\\\"seccion.count_items > 0\\\">\\n                            <div class=\\\"div-plr titulo-seccion\\\">\\n                                <span>{{seccion.des | titlecase}}</span>\\n                                <div class=\\\"countItem countSeccion\\\">{{seccion.count_items}}</div>\\n                            </div>\\n                            <ul class=\\\"w-100\\\">\\n                                <div *ngFor=\\\"let item of seccion.items\\\">\\n                                    <ng-container *ngIf=\\\"item.cantidad_seleccionada > 0\\\">\\n                                        <li class=\\\"d-flex div-plr li-item\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDlgItemToResumen(seccion, item)\\\">\\n                                            <div class=\\\"pr-2 fw-100\\\">{{item.cantidad_seleccionada | number: '2.'}}</div>\\n                                            <div class=\\\"w-100 fw-100 pr-1\\\">{{item.des | lowercase}}  \\n                                                <span [hidden]=\\\"!item.indicaciones\\\">( {{item.indicaciones}} )</span> \\n                                                <span *ngIf=\\\"item.ispromo\\\" style=\\\"font-size: 9px; font-weight: 100;\\\" class=\\\"badge badge-info fw-100 fs-9\\\">Promo</span> \\n                                            </div>\\n                                            <div class=\\\"fw-100\\\">{{item.precio_print | number:'0.2' }}</div>\\n                                        </li>\\n                                            <!-- subitems -->\\n                                            <ng-container *ngIf=\\\"item.subitems_view\\\">                                                \\n                                                <div>\\n                                                    <ul class=\\\"w-100\\\">                                                        \\n                                                        <!-- <div *ngFor=\\\"let subitem of item.subitems_view\\\">                   -->\\n                                                                <!-- (click)=\\\"openDlgSubItem(tpc, seccion, item, subitem)\\\"                                       -->\\n                                                            <li class=\\\"d-flex div-plr li-item fw-100 fs-13 text-secondary subitem-content-resumen\\\" *ngFor=\\\"let subitem of item.subitems_view\\\" matRipple [matRippleColor]=\\\"rippleColorSubItem\\\">\\n                                                                <!-- <div class=\\\"w-100 d-flex\\\"> -->\\n                                                                    <div class=\\\"d-flex w-100\\\" [ngClass]=\\\"{'pl-4': isHayCuentaBusqueda}\\\">\\n                                                                        <div class=\\\"btnCount btnMenos\\\" *ngIf=\\\"!isHayCuentaBusqueda\\\" (click)=\\\"addItemToResumen(tpc, seccion, item, subitem, 1)\\\">-</div> \\n                                                                            {{subitem.cantidad_seleccionada | number: '2.'}} {{subitem.des}}\\n                                                                        <div class=\\\"btnCount btnMas\\\" *ngIf=\\\"!isHayCuentaBusqueda\\\" (click)=\\\"addItemToResumen(tpc, seccion, item, subitem, 0)\\\">+</div> \\n                                                                    </div>\\n\\n                                                                    <div class=\\\"fs-11 text-right\\\" style=\\\"width: 45px;\\\" [hidden]=\\\"subitem.precio === 0\\\">\\n                                                                        + {{subitem.precio | number:'0.2' }}\\n                                                                    </div>                                                                    \\n                                                                <!-- </div> -->\\n                                                            </li>\\n                                                        <!-- </div> -->\\n                                                    </ul>\\n                                                </div>\\n                                            </ng-container>\\n                                            \\n                                       \\n                                    </ng-container>                            \\n                                </div>\\n                            </ul>            \\n                        </ng-container>\\n                    </div>\\n                </ng-container>\\n            </div>    \\n\\n            <!-- subtotales -->    \\n            <div class=\\\"div-total\\\">\\n                <ul class=\\\"w-100 ul-total\\\">\\n                    <li class=\\\"d-flex div-plr li-item\\\" *ngFor=\\\"let item of _arrSubtotales\\\" matRipple\\n                    [matRippleColor]=\\\"rippleColor\\\">\\n                    <div class=\\\"w-100\\\">{{item.descripcion | titlecase}}</div>\\n                    <div>{{item.importe | number:'0.2' }}</div>\\n                    </li>\\n                </ul>\\n            </div>        \\n            <br>\\n            \\n            <ng-container *ngIf=\\\"isHayCuentaBusqueda\\\">\\n                <div class=\\\"text-center\\\">                    \\n                    <button mat-flat-button color=\\\"accent\\\" (click)=\\\"nuevoPedidoFromCuenta()\\\">Nuevo Pedido</button>\\n                    <button *ngIf=\\\"!isCliente\\\" mat-flat-button color=\\\"primary\\\" class=\\\"ml-2\\\" (click)=\\\"imprimirPrecuenta()\\\" [disabled]=\\\"loadPrinterPrecuenta\\\">\\n                        <i class=\\\"fa fa-spinner fa-spin\\\" *ngIf=\\\"loadPrinterPrecuenta\\\"></i>\\n                        Imprimir Precuenta\\n                    </button>\\n                </div>\\n            </ng-container>\\n            <br>\\n            <br><br>\\n            <br><br>\\n        </div>\\n    <!-- </div> -->\\n\\n    <!-- confirma pedido -->\\n    <div class=\\\"div-resumen-pre-pago w-100\\\" [hidden]=\\\"!isVisibleConfirmar\\\">\\n        <div class=\\\"xcontent div-confirma-pedido w-100 p-3 transicion animated fadeInRight\\\"\\n          [ngClass]=\\\"[isVisibleConfirmarAnimated ? 'show' : 'hide', isVisibleConfirmarAnimated ? 'fadeInRight' : 'fadeInLeft', !isDeliveryCliente ? 'bg-1': 'bg-2']\\\">\\n            <div class=\\\"text-center d-flex justify-content-center\\\" style=\\\"max-width: 500px;\\\">\\n\\n                <!-- cuando es usuario cliente y escaneo codigo solo para llevar -->\\n                <!-- <ng-container *ngIf=\\\"isCliente && isSoloLLevar\\\">\\n                    <div class=\\\"text-center\\\">                        \\n                        <hr>\\n                        <p class=\\\"fw-100 fs-17\\\">\\n                            <i class=\\\"fa fa-info-circle\\\" aria-hidden=\\\"true\\\"></i>\\n                            Para confirmar su pedido seleccione entre estas opciones:\\n                            </p>\\n                        <hr>\\n                        \\n                        <br>\\n                        <div class=\\\"text-center\\\">                            \\n                            <div class=\\\"btn-footer-next transicion w-50 m-auto\\\" matRipple (click)=\\\"pagarCuentaSoloLLevar()\\\">\\n                                <div>\\n                                    <span class=\\\"animated fadeInLeft\\\">Pagar con tarjeta</span>\\n                                </div>\\n                            </div>\\n                            <br>\\n                            <hr>\\n                            <br>\\n                            <div class=\\\"btn-footer-next transicion w-50 m-auto bg-primary\\\" matRipple>\\n                                <div>\\n                                    <span class=\\\"animated fadeInLeft\\\">Acercarse a pagar en caja.</span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </ng-container> -->\\n                \\n                <!-- cuando es usuario cliente -->                                \\n                <ng-container *ngIf=\\\"isCliente || isPuntoAuntoPedido\\\">\\n                    <ng-container *ngIf=\\\"isReservaCliente; else elseTemplateDelivery\\\">                        \\n\\n                        <div class=\\\"w-100 p-2\\\" style=\\\"max-width: 500px;\\\">\\n                            <app-comp-datos-reserva \\n                            (isReady)=\\\"isReadyClienteReserva = $event\\\"\\n                            (dataReserva) = \\\"getDatosFormConfirmaReserva($event)\\\"></app-comp-datos-reserva>\\n\\n                            <p class=\\\"fw-100 fs-14 text-secondary\\\">\\n                                <i class=\\\"fa fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\n                                Por favor, verifique su pedido, una vez enviado ya no podra realizar ningun\\n                                cambio.</p>\\n                                <hr>\\n                        </div>\\n\\n                        \\n                    </ng-container>\\n                    <ng-template #elseTemplateDelivery>\\n                        <ng-container *ngIf=\\\"!isDeliveryCliente || isPuntoAuntoPedido; else templateDelivery\\\" class=\\\"w-100\\\">\\n    \\n                            <div class=\\\"text-center\\\">\\n                                <br><br>             \\n                                <div *ngIf=\\\"isShowNombreClienteLoginInvitado\\\">\\n                                    <app-text-nom-cliente [sizeTextBg]=\\\"true\\\" (isNombreValid)=\\\"nombreClienteValido = $event\\\"></app-text-nom-cliente>\\n                                </div>                   \\n                                <hr>\\n                                <div>\\n                                    <p class=\\\"fw-100 fs-15 text-dark\\\">\\n                                        <i class=\\\"fa fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\n                                        Por favor, verifique su pedido, una vez enviado ya no podra realizar ningun\\n                                    cambio.</p>\\n                                    <hr>\\n                                    \\n                                    <br>\\n                                    <div class=\\\"text-center\\\">\\n                                        <button [disabled]=\\\"!nombreClienteValido\\\" class=\\\"btn btn-footer-next transicion w-50 m-auto\\\" matRipple (click)=\\\"prepararEnvio()\\\"\\n                                                    [ngClass]=\\\"{'xdisabled': isRequiereMesa}\\\">\\n                                            <div>\\n                                                <span class=\\\"animated fadeInLeft\\\">Enviar Pedido</span>\\n                                            </div>\\n                                        </button>\\n                                        <!-- <p class=\\\"text-danger fs-15\\\" *ngIf=\\\"!nombreClienteValido\\\">Su nombre es necesario para adjuntar al pedido</p> -->\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        \\n                        </ng-container>\\n                        <ng-template #templateDelivery>\\n                            \\n                            <!-- si es cliente deliver -->\\n    \\n    \\n                            <app-confirmar-delivery \\n                                [listSubtotales] = \\\"_arrSubtotales\\\" \\n                                (isReady)=\\\"isReadyClienteDelivery = $event\\\"\\n                                (dataDelivery) = \\\"getDatosFormConfirmaDelivery($event)\\\">\\n                            </app-confirmar-delivery>\\n                           \\n    \\n                            <!-- si es cliente deliver -->\\n    \\n                        </ng-template>\\n\\n                    </ng-template>\\n                    \\n\\n                    \\n                </ng-container>\\n\\n                <!-- cuando es personal autorizado -->\\n                <ng-container *ngIf=\\\"!isCliente && !isPuntoAuntoPedido\\\" #divUsuarioAutorizado>\\n                    <!-- datos del pedido -->\\n                    <div [hidden]=\\\"isDelivery\\\" class=\\\"div-confirma-pedido-mesa w-100\\\">\\n                        <form #frmconfirma=\\\"ngForm\\\">\\n                            <div *ngIf=\\\"frmConfirma.reserva\\\" class=\\\"xanimated xfadeIn\\\">\\n                                <p class=\\\"fs-30 fw-100\\\">RESERVAR</p>\\n                            </div>\\n\\n                            <div *ngIf=\\\"!frmConfirma.reserva\\\" class=\\\"xanimated xfadeIn\\\">\\n                            <span class=\\\"fw-100 fs-20\\\">Indique # de mesa</span>\\n                            <div class=\\\"w-100\\\">\\n                                <mat-form-field class=\\\"text-center fs-20\\\">\\n                                <input \\n                                    type=\\\"number\\\"\\n                                    matInput\\n                                    [(ngModel)]=\\\"frmConfirma.nummesa\\\" name=\\\"mesa\\\"\\n                                    [required]=\\\"isRequiereMesa\\\" (keyup)=\\\"checkIsRequierMesa(txtNumMesa.value)\\\" #txtNumMesa>\\n                                </mat-form-field>\\n                            </div>\\n                            </div>\\n                                            \\n                            <div class=\\\"w-100\\\">\\n                            <mat-form-field class=\\\"w-100 text-center\\\">\\n                                <input matInput placeholder=\\\"Indique alguna referencia\\\" [(ngModel)]=\\\"frmConfirma.referencia\\\"\\n                                name=\\\"referencia\\\">\\n                            </mat-form-field>\\n                            </div>\\n                            <br>\\n                            <div class=\\\"w-50\\\">               \\n                                <mat-checkbox [(ngModel)]=\\\"frmConfirma.reserva\\\" name=\\\"reserva\\\" (change)=\\\"checkIsRequierMesa()\\\">\\n                                Esto es una reserva.\\n                                </mat-checkbox>\\n                            </div>\\n                            <br><br>\\n                            <hr>\\n                            <p class=\\\"fw-100 fs-17 text-secondary\\\">\\n                                <i class=\\\"fa fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\n                                Por favor, verifique su pedido, una vez enviado ya no podra realizar ningun\\n                            cambio.</p>\\n                            <hr>\\n                            <!-- {{isRequiereMesa}} -->\\n                        </form>\\n                    </div>\\n                    <!-- datos del pedido -->\\n\\n                    <!-- datos del delivery -->\\n                    <div [hidden]=\\\"!isDelivery\\\">\\n                        <app-datos-delivery (changeStatus)=\\\"checkDataDelivery($event)\\\" [listSubtotales] = \\\"_arrSubtotales\\\" ></app-datos-delivery>\\n                        \\n                        <p class=\\\"fw-100 fs-14 text-secondary\\\">\\n                        <i class=\\\"fa fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\n                        Por favor, verifique su pedido, una vez enviado ya no podra realizar ningun\\n                        cambio.</p>\\n                        <hr>\\n                        <br><br><br><br>\\n                    </div>\\n                    \\n                    <!-- datos del delivery -->\\n                    \\n                </ng-container>\\n                                \\n                \\n            </div>\\n        </div>\\n    </div>\\n    <!-- confirma pedido -->\\n</div>\\n\\n<!-- ver la cuenta solo personal autorizado -->\\n<div class=\\\"text-center\\\" *ngIf=\\\"!hayItems && !isCliente && !isPuntoAuntoPedido\\\">\\n    <br>    \\n    <img class=\\\"img-cuenta\\\" src=\\\"./assets/images/icon_1.gif\\\" width=\\\"300px\\\" alt=\\\"..\\\">\\n    <br>\\n    <span class=\\\"fw-100 fs-20\\\">Ver cuenta de la mesa #:</span>\\n    <div class=\\\"w-100\\\">\\n        <mat-form-field class=\\\"text-center fs-20\\\">\\n        <input \\n            type=\\\"number\\\"\\n            matInput\\n            #txt_mesa_cuenta\\n            >\\n        </mat-form-field>\\n    </div>        \\n    <span class=\\\"fs-14 font-weight-bold text-danger animated flash\\\" [hidden]=\\\"!msjErr\\\">No se encontro cuenta de esta mesa.</span>\\n    <br><br>\\n    <button mat-flat-button color=\\\"primary\\\" (click)=\\\"xLoadCuentaMesa(txt_mesa_cuenta.value)\\\">Listo, buscar</button>\\n    <br><br><br>\\n</div>\\n\\n<!-- resumen de mi orden cuand es usuario cliente -->\\n<ng-container *ngIf=\\\"!hayItems && isCliente && !isDeliveryCliente\\\">\\n    <div class=\\\"text-center d-flex flex-column h-75\\\">        \\n        <div class=\\\"m-auto\\\">\\n            <p>Aun no tiene ningun producto en lista.</p>\\n            <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"pintarMiPedidoNuevamente()\\\"> \\n                <ng-container *ngIf=\\\"isReloadListPedidos; else elseTemplateText\\\">\\n                    <i class=\\\"fa fa-spinner fa-spin\\\"></i>\\n                </ng-container>\\n                <ng-template #elseTemplateText>\\n                    Recargar Lista\\n                </ng-template>                            \\n            </button>        \\n        </div>\\n    </div>    \\n</ng-container>\\n\\n\\n<!-- footer -->\\n<ng-container *ngIf=\\\"hayItems && !isHayCuentaBusqueda\\\">\\n    <div class=\\\"xfooter\\\">\\n      <div class=\\\"m-0 w-100 d-flex justify-content-between\\\">\\n        <div class=\\\"btn-footer-cancel\\\" matRipple (click)=\\\"nuevoPedido()\\\">\\n            <span [hidden]=\\\"isVisibleConfirmarAnimated\\\" class=\\\"animated fadeInRight\\\">\\n                <ng-container *ngIf=\\\"isCliente; else elseTemplateisDeliveryCliente\\\">\\n                    Borrar Lista\\n                </ng-container>\\n                <ng-template #elseTemplateisDeliveryCliente>\\n                    Nuevo Pedido\\n                </ng-template>\\n                \\n            </span>            \\n            <span [hidden]=\\\"!isVisibleConfirmarAnimated\\\" class=\\\"animated fadeInLeft\\\"><i class=\\\"fa fa-arrow-left\\\"></i> Atras </span>\\n        </div>\\n        \\n        <ng-container *ngIf=\\\"!isVisibleConfirmarAnimated; then divBtnListo; else divBtnEnviar\\\"></ng-container>\\n        <ng-template #divBtnListo>\\n            <div class=\\\"btn-footer-next transicion\\\" matRipple (click)=\\\"confirmarPeiddo()\\\">\\n              <div>\\n                <span class=\\\"animated fadeInRight\\\">Continuar <i class=\\\"fa fa-arrow-right\\\"></i></span>\\n              </div>\\n            </div>\\n        </ng-template>\\n        <ng-template #divBtnEnviar>\\n            <ng-container *ngIf=\\\"!isDelivery; else elseTemplate\\\">\\n              <div *ngIf=\\\"!isCliente && !isPuntoAuntoPedido\\\" class=\\\"btn-footer-next transicion\\\" matRipple (click)=\\\"prepararEnvio()\\\"\\n                [ngClass]=\\\"{'xdisabled': isRequiereMesa}\\\">\\n                <div>\\n                  <span class=\\\"animated fadeInLeft\\\">Enviar Pedido</span>\\n                </div>\\n              </div>\\n            </ng-container>\\n            <ng-template #elseTemplate>\\n              <div class=\\\"btn-footer-next transicion\\\" matRipple (click)=\\\"prepararEnvio()\\\"\\n                [ngClass]=\\\"{'xdisabled': isDelivery && !isDeliveryValid}\\\">\\n                <div>\\n                  <span class=\\\"animated fadeInLeft\\\">Enviar delivery</span>\\n                </div>\\n              </div>\\n            </ng-template>\\n\\n\\n            <!-- cliente delivery -->\\n            <ng-container *ngIf=\\\"isDeliveryCliente\\\">\\n                <div class=\\\"btn-footer-next transicion\\\" matRipple (click)=\\\"prepararEnvio()\\\"\\n                [ngClass]=\\\"{'xdisabled': !isReadyClienteDelivery}\\\">\\n                <div>\\n                    <span class=\\\"animated fadeInLeft\\\">Confirmar</span>\\n                </div>\\n                </div>\\n            </ng-container>\\n\\n             <!-- cliente reserva -->\\n             <ng-container *ngIf=\\\"isReservaCliente\\\">\\n                <div class=\\\"btn-footer-next transicion\\\" matRipple (click)=\\\"prepararEnvio()\\\"\\n                [ngClass]=\\\"{'xdisabled': !isReadyClienteReserva}\\\">\\n                <div>\\n                    <span class=\\\"animated fadeInLeft\\\">Enviar Reserva</span>\\n                </div>\\n                </div>\\n            </ng-container>\\n\\n        </ng-template>        \\n\\n\\n        \\n\\n      </div>\\n    </div>\\n</ng-container>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9idXNjYXItaXRlbS9idXNjYXItaXRlbS5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-buscar-item',\n  templateUrl: './buscar-item.component.html',\n  styleUrls: ['./buscar-item.component.css']\n})\nexport class BuscarItemComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9idXNxdWVkYS9idXNxdWVkYS5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { CategoriaModel } from 'src/app/modelos/categoria.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { DialogItemEditComponent } from 'src/app/componentes/dialog-item-edit/dialog-item-edit.component';\n\n@Component({\n  selector: 'app-busqueda',\n  templateUrl: './busqueda.component.html',\n  styleUrls: ['./busqueda.component.css', '../pedido.style.css']\n})\nexport class BusquedaComponent implements OnInit {\n\n  objCartaBus: any = [];\n\n  private itemSelected: ItemModel;\n  private objItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  private objNewItemTiposConsumo: ItemTipoConsumoModel[] = [];\n\n  constructor(\n    private socketService: SocketService,\n    private miPedidoService: MipedidoService,\n    private dialog: MatDialog,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  loadItemsBusqueda() {\n    let _objFind: any;\n    _objFind = this.miPedidoService.getObjCartaLibery();\n\n    // extraemos\n    let _itemFind: any;\n    _objFind.carta.map((c: CategoriaModel) => {\n      c.secciones.map((s: SeccionModel) => {\n        s.items.map((i: ItemModel) => {\n          _itemFind = i;\n          _itemFind.seccion = s.des;\n          _itemFind.selected = false;\n          this.objCartaBus.push(_itemFind);\n        });\n      });\n    });\n\n    // tipo consumo\n    this.objNewItemTiposConsumo = this.socketService.getDataTipoConsumo();\n    // console.log('_objFind', this.objCartaBus);\n  }\n\n  selectedItemBusq(selectedItem: ItemModel) {\n    this.objCartaBus.map(x => x.selected = false);\n    selectedItem.selected = true;\n    this.itemSelected = selectedItem;\n\n    const _objNewItemTiposConsumo = JSON.parse(JSON.stringify(this.objNewItemTiposConsumo));\n    this.objItemTipoConsumoSelected = selectedItem.itemtiposconsumo ? selectedItem.itemtiposconsumo : _objNewItemTiposConsumo;\n\n    if ( !selectedItem.itemtiposconsumo ) {\n      selectedItem.itemtiposconsumo = this.objItemTipoConsumoSelected;\n    }\n\n    this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);\n\n    this.openDlgItemBusq(selectedItem);\n  }\n\n  private openDlgItemBusq(_item: ItemModel): void {\n    const dialogConfig = new MatDialogConfig();\n    const _itemFromCarta = this.miPedidoService.findItemCarta(_item);\n\n    dialogConfig.autoFocus = false;\n    dialogConfig.data = {\n      idTpcItemResumenSelect: null,\n      // seccion: this.seccionSelected,\n      item: _itemFromCarta,\n      objItemTipoConsumoSelected: this.itemSelected.itemtiposconsumo\n    };\n\n    const dialogRef = this.dialog.open(DialogItemEditComponent, dialogConfig);\n\n    // subscribe al cierre y obtiene los datos\n    dialogRef.afterClosed().subscribe(\n        data => {\n          if ( !data ) { return; }\n          // console.log('data dialog', data);\n        }\n    );\n\n  }\n\n  getEstadoStockItem(stock: string): string {\n    if ( stock === 'ND' ) {\n      return 'verde';\n    } else {\n      const _stock = parseInt(stock, 0);\n      return _stock > 10 ? 'verde' : _stock > 5 ? 'amarillo' : 'rojo';\n    }\n  }\n\n}\n","export default \"/* @import '../pedido.style.css'; */\\r\\n.text-puntos-suspensivos {\\r\\n\\twidth: 100%;\\r\\n    white-space: nowrap;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n.content-view-item-mercado {\\r\\n    display: grid;\\r\\n    grid-gap: 10px;\\r\\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\\r\\n}\\r\\n.li-content-mercado {\\r\\n    list-style-type: none;\\r\\n}\\r\\n.li-item-mercado {\\r\\n    background: white;\\r\\n    padding: 8px;\\r\\n    padding-left: 15px;\\r\\n    padding-right: 15px;\\r\\n}\\r\\n.div-control-add-fast {\\r\\n    position: absolute;\\r\\n    right: 20px;\\r\\n    top: 5px;\\r\\n}\\r\\n.control-more-clic {\\r\\n    padding-left: 15px;\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n.btn-indicacion-last-control {    \\r\\n    width: -webkit-fit-content;    \\r\\n    width: -moz-fit-content;    \\r\\n    width: fit-content;\\r\\n    background: mediumseagreen;\\r\\n    color: white;    \\r\\n    text-align: center;\\r\\n    padding: 2px 10px;\\r\\n    border-radius: 5px;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n    height: 28px;\\r\\n}\\r\\n@media only screen and (min-width: 600px) {\\r\\n    .content-master {\\r\\n        display: -webkit-box;\\r\\n        display: -webkit-flex;\\r\\n        display: flex;\\r\\n    }\\r\\n\\r\\n    .content-secciones {\\r\\n        width: 100%;\\r\\n        max-width: 350px;\\r\\n        min-width: 310px;\\r\\n        border-right: 2px solid #bdbdbd;\\r\\n        height: -webkit-calc(100vh - 110px);\\r\\n        height: calc(100vh - 110px);\\r\\n        overflow: auto;\\r\\n    }\\r\\n\\r\\n    .content-items {\\r\\n        width: 100%;\\r\\n        /* max-width: 500px; */\\r\\n        min-width: 320px;\\r\\n        border-right: 1px solid #dee2e6!important;\\r\\n        height: -webkit-calc(100vh - 110px);\\r\\n        height: calc(100vh - 110px);\\r\\n        overflow: auto;\\r\\n    }\\r\\n\\r\\n    .content-resumen {\\r\\n        min-width: 360px;\\r\\n        max-width: 420px;\\r\\n        width: 100%;\\r\\n        padding: 50px 20px 0px 20px;\\r\\n        border: 2px solid #bdbdbd;\\r\\n        height: -webkit-calc(100vh - 110px);\\r\\n        height: calc(100vh - 110px);\\r\\n        overflow: auto;\\r\\n        background: #eeeeee;\\r\\n    }\\r\\n\\r\\n  }\\r\\n@media only screen and (max-width: 1050px) {\\r\\n    .content-resumen{\\r\\n        display: none;\\r\\n    }\\r\\n}\\r\\n/* cuando es mayot o igual a 1500 */\\r\\n@media only screen and (min-width: 1250px) {\\r\\n    .ul-items {\\r\\n        display: -webkit-box;\\r\\n        display: -webkit-flex;\\r\\n        display: flex;\\r\\n        -webkit-flex-wrap: wrap;\\r\\n                flex-wrap: wrap;\\r\\n        -webkit-box-orient: horizontal;\\r\\n        -webkit-box-direction: normal;\\r\\n        -webkit-flex-flow: row wrap;\\r\\n                flex-flow: row wrap;\\r\\n    }\\r\\n    .li-item {\\r\\n        -webkit-flex-basis: 50%;\\r\\n                flex-basis: 50%;\\r\\n        border-right: 2px solid #eeee;\\r\\n    }\\r\\n\\r\\n    .child-item {\\r\\n        height: 100%;\\r\\n    }\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL2NhcnRhL2NhcnRhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUNBQW1DO0FBQ25DO0NBQ0MsV0FBVztJQUNSLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsdUJBQXVCO0FBQzNCO0FBRUE7SUFDSSxhQUFhO0lBQ2IsY0FBYztJQUNkLDJEQUEyRDtBQUMvRDtBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCO0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsUUFBUTtBQUNaO0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0VBQ3JCO0FBRUY7SUFDSSwwQkFBa0I7SUFBbEIsdUJBQWtCO0lBQWxCLGtCQUFrQjtJQUNsQiwwQkFBMEI7SUFDMUIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0lBQ2IseUJBQW1CO0lBQW5CLDJCQUFtQjtZQUFuQixtQkFBbUI7SUFDbkIsWUFBWTtBQUNoQjtBQUVBO0lBQ0k7UUFDSSxvQkFBYTtRQUFiLHFCQUFhO1FBQWIsYUFBYTtJQUNqQjs7SUFFQTtRQUNJLFdBQVc7UUFDWCxnQkFBZ0I7UUFDaEIsZ0JBQWdCO1FBQ2hCLCtCQUErQjtRQUMvQixtQ0FBMkI7UUFBM0IsMkJBQTJCO1FBQzNCLGNBQWM7SUFDbEI7O0lBRUE7UUFDSSxXQUFXO1FBQ1gsc0JBQXNCO1FBQ3RCLGdCQUFnQjtRQUNoQix5Q0FBeUM7UUFDekMsbUNBQTJCO1FBQTNCLDJCQUEyQjtRQUMzQixjQUFjO0lBQ2xCOztJQUVBO1FBQ0ksZ0JBQWdCO1FBQ2hCLGdCQUFnQjtRQUNoQixXQUFXO1FBQ1gsMkJBQTJCO1FBQzNCLHlCQUF5QjtRQUN6QixtQ0FBMkI7UUFBM0IsMkJBQTJCO1FBQzNCLGNBQWM7UUFDZCxtQkFBbUI7SUFDdkI7O0VBRUY7QUFHRjtJQUNJO1FBQ0ksYUFBYTtJQUNqQjtBQUNKO0FBRUEsbUNBQW1DO0FBQ25DO0lBQ0k7UUFDSSxvQkFBYTtRQUFiLHFCQUFhO1FBQWIsYUFBYTtRQUNiLHVCQUFlO2dCQUFmLGVBQWU7UUFDZiw4QkFBbUI7UUFBbkIsNkJBQW1CO1FBQW5CLDJCQUFtQjtnQkFBbkIsbUJBQW1CO0lBQ3ZCO0lBQ0E7UUFDSSx1QkFBZTtnQkFBZixlQUFlO1FBQ2YsNkJBQTZCO0lBQ2pDOztJQUVBO1FBQ0ksWUFBWTtJQUNoQjtBQUNKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGVkaWRvL2NhcnRhL2NhcnRhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAaW1wb3J0ICcuLi9wZWRpZG8uc3R5bGUuY3NzJzsgKi9cclxuLnRleHQtcHVudG9zLXN1c3BlbnNpdm9zIHtcclxuXHR3aWR0aDogMTAwJTtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbn1cclxuXHJcbi5jb250ZW50LXZpZXctaXRlbS1tZXJjYWRvIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBncmlkLWdhcDogMTBweDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xyXG59XHJcblxyXG4ubGktY29udGVudC1tZXJjYWRvIHtcclxuICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxufVxyXG5cclxuLmxpLWl0ZW0tbWVyY2FkbyB7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIHBhZGRpbmctbGVmdDogMTVweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbn1cclxuXHJcbi5kaXYtY29udHJvbC1hZGQtZmFzdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIHRvcDogNXB4O1xyXG59XHJcblxyXG4uY29udHJvbC1tb3JlLWNsaWMge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcblxyXG4uYnRuLWluZGljYWNpb24tbGFzdC1jb250cm9sIHsgICAgXHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBiYWNrZ3JvdW5kOiBtZWRpdW1zZWFncmVlbjtcclxuICAgIGNvbG9yOiB3aGl0ZTsgICAgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAycHggMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAyOHB4O1xyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XHJcbiAgICAuY29udGVudC1tYXN0ZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB9XHJcblxyXG4gICAgLmNvbnRlbnQtc2VjY2lvbmVzIHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBtYXgtd2lkdGg6IDM1MHB4O1xyXG4gICAgICAgIG1pbi13aWR0aDogMzEwcHg7XHJcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI2JkYmRiZDtcclxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMTBweCk7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLmNvbnRlbnQtaXRlbXMge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIC8qIG1heC13aWR0aDogNTAwcHg7ICovXHJcbiAgICAgICAgbWluLXdpZHRoOiAzMjBweDtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGVlMmU2IWltcG9ydGFudDtcclxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMTBweCk7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLmNvbnRlbnQtcmVzdW1lbiB7XHJcbiAgICAgICAgbWluLXdpZHRoOiAzNjBweDtcclxuICAgICAgICBtYXgtd2lkdGg6IDQyMHB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBhZGRpbmc6IDUwcHggMjBweCAwcHggMjBweDtcclxuICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjYmRiZGJkO1xyXG4gICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDExMHB4KTtcclxuICAgICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZWVlZWVlO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIFxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwNTBweCkge1xyXG4gICAgLmNvbnRlbnQtcmVzdW1lbntcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBjdWFuZG8gZXMgbWF5b3QgbyBpZ3VhbCBhIDE1MDAgKi9cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjUwcHgpIHtcclxuICAgIC51bC1pdGVtcyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAgICAgZmxleC1mbG93OiByb3cgd3JhcDtcclxuICAgIH1cclxuICAgIC5saS1pdGVtIHtcclxuICAgICAgICBmbGV4LWJhc2lzOiA1MCU7XHJcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI2VlZWU7XHJcbiAgICB9XHJcblxyXG4gICAgLmNoaWxkLWl0ZW0ge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxufSJdfQ== */\";","import { Component, OnInit, OnDestroy, AfterViewInit, HostListener, Input } from '@angular/core';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\n\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { CategoriaModel } from 'src/app/modelos/categoria.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { ReglascartaService } from 'src/app/shared/services/reglascarta.service';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { DialogItemEditComponent } from 'src/app/componentes/dialog-item-edit/dialog-item-edit.component';\n\n// import { Subscription } from 'rxjs/internal/Subscription';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\nimport { URL_IMG_CARTA } from 'src/app/shared/config/config.const';\nimport { Subscription } from 'rxjs';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { DialogCalificacionSedeComponent } from 'src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component';\nimport { SpeechDataProviderService } from 'src/app/shared/services/speech/speech-data-provider.service';\nimport { CocinarPromoShowService } from 'src/app/shared/services/promo/cocinar-promo-show.service';\n\n\n\n@Component({\n  selector: 'app-carta',\n  templateUrl: './carta.component.html',\n  styleUrls: ['./carta.component.css', '../pedido.style.css']\n})\nexport class CartaComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  private unsubscribeCarta = new Subscription();\n  // private destroyCarta$: Subject<boolean> = new Subject<boolean>();\n  // objCartaCarta: any;\n  objCartaBus: any = [];\n  isBusqueda = false;\n  rutaImgItem = URL_IMG_CARTA;\n  imgNull = './assets/images/icon-app/img-null.png';\n  private isCargado = true;\n\n  public showCategoria = false;\n  public showSecciones = false;\n  public showItems = false;\n  public showToolBar = false;\n\n  // max_minute_order = MAX_MINUTE_ORDER;\n  // time = new Date();\n\n  tituloToolBar = '';\n\n  rippleColor = 'rgb(255,238,88, 0.5)';\n\n  objSecciones: SeccionModel[] = [];\n  objItems: ItemModel[] = [];\n  objPromociones: any = null;\n  private categoriaSeleted: CategoriaModel;\n\n  // objSelectedItem: ItemModel;\n  // objSeccionSelected: SeccionModel = new SeccionModel();\n\n  // listItemsPedido: ItemModel[] = [];\n  // miPedido: PedidoModel = new PedidoModel();\n\n  private tiposConsumo: TipoConsumoModel[] = [];\n  private objItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  private objNewItemTiposConsumo: ItemTipoConsumoModel[] = [];\n  private itemSelected: ItemModel;\n  private seccionSelected: SeccionModel;\n  private countSeeBack = 2; // primera vista al dar goback\n  private nomCategoriaSeleted = '';\n\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n\n  private isFirstLoadListen = false; // si es la primera vez que se carga, para no volver a cargar los observables\n\n\n  // tamao de la pamtalla\n  isScreenIsMobile = true;\n\n  isViewMercado = false;\n  isShowCalificacion = false;\n  isCliente = false;\n  isPuntoAutoPedido = false;\n  isTomaPedidoRapido = false;\n  canalConsumoTomaPedidoRapido: any;\n  dataCalificacion: any;\n\n  isCantidadCero = true;\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: any) {\n    this.detectScreenSize();\n  }\n\n\n\n  constructor(\n      private socketService: SocketService,\n      public miPedidoService: MipedidoService,\n      private reglasCartaService: ReglascartaService,\n      // private jsonPrintService: JsonPrintService,\n      private navigatorService: NavigatorLinkService,\n      private listenStatusService: ListenStatusService,\n      private infoToken: InfoTockenService,\n      private dialog: MatDialog,\n      private establecimientoService: EstablecimientoService,\n      private calcDistanciaService: CalcDistanciaService,\n      private crudService: CrudHttpService,\n      private speechDataProviderService: SpeechDataProviderService,\n      private cocinarPromoShowService: CocinarPromoShowService,\n      ) {\n\n  }\n\n  private detectScreenSize() {\n    this.isScreenIsMobile = window.innerWidth > 599 ? false : true;\n    // console.log(' window.innerWidth',  window.innerWidth);\n    // console.log(' this.isScreenIsMobile',  this.isScreenIsMobile);\n  }\n\n  ngOnInit() {\n    this.detectScreenSize();\n    // this.initCarta();\n\n    const _configPunto = JSON.parse(localStorage.getItem('sys::punto')) || {};\n    // console.log('this.establecimientoService.get()', this.establecimientoService.get());\n    this.isViewMercado = this.establecimientoService.get().pwa_show_item_view_mercado === 1;\n    this.isCliente = this.infoToken.infoUsToken.isCliente;\n    this.isPuntoAutoPedido = _configPunto.ispunto_autopedido || false;\n    this.isTomaPedidoRapido = _configPunto.istoma_pedido_rapido || false;\n\n    if ( this.isTomaPedidoRapido ) {\n      this.canalConsumoTomaPedidoRapido = _configPunto?.canal_consumo;\n    }\n\n    this.initCarta();\n    // console.log('this.establecimientoService.get()', this.establecimientoService.get());\n\n    // calificacion y comentarios\n    this.isShowCalificacion = this.establecimientoService.get().calificacion >= 3.7;\n    if ( this.isShowCalificacion ) {\n      this.dataCalificacion = {\n        calificacion: this.establecimientoService.get().calificacion,\n        cantidad: 0,\n        listCalificacion: []\n      };\n\n      const _dataSendCalificacion = {\n        idsede: this.establecimientoService.get().idsede\n      };\n\n      this.crudService.postFree(_dataSendCalificacion, 'delivery', 'get-calificacion-sede', false)\n      .subscribe((res: any) => {\n        this.dataCalificacion.listCalificacion = res.data;\n        this.dataCalificacion.cantidad = this.dataCalificacion.listCalificacion.map(c => c.numpedidos).reduce((a, b) => a + b, 0);\n      });\n    }\n\n    if ( this.infoToken.getInfoUs().isCliente &&  !this.infoToken.getInfoUs().isReserva) {\n      // console.log('calcula distancia desde carta');\n      this.calcDistanciaService.calcCostoEntregaApiGoogleRain(this.infoToken.getInfoUs().direccionEnvioSelected, this.establecimientoService.get());\n    }\n  }\n\n  ngAfterViewInit() {\n    // this.initCarta();\n  }\n\n  initCarta() {\n    this.isCargado = true;\n    this.socketService.connect();\n    // console.log('loader carta');\n    this.listenStatusService.setLoaderCarta(true);\n\n    this.listeStatusBusqueda();\n\n    // descarga la constate del items scala delivery // tanto para cliente como para usuario\n    // if ( this.infoToken.isDelivery() ) {\n      if ( !this.infoToken.isReserva() ) {\n        this.miPedidoService.getDeliveryConstCantEscala();\n      }\n    // }\n\n    this.unsubscribeCarta = this.navigatorService.resNavigatorSourceObserve$.subscribe((res: any) => {\n\n      if (res.pageActive === 'carta') {\n        if (this.countSeeBack < 2) { this.countSeeBack++; return; }\n        this.goBack();\n      } else {\n        this.countSeeBack = 0;\n      }\n    });\n\n    // console.log('aaa');\n    this.establecimientoService.getComsionEntrega();\n    // if (!this.socketService.isSocketOpen) {\n      this.unsubscribeCarta = this.socketService.onGetCarta().subscribe((res: any) => {\n\n        // console.log('onGetCarta', res);\n        // this.objCartaCarta = {\n        //   'carta': <CartaModel[]>res[0].carta,\n        //   'bodega': <SeccionModel[]>res[0].bodega\n        // };\n        this.listenStatusService.setLoaderCarta(false);\n        // console.log('cerrar loader carta');\n\n        if (this.socketService.isSocketOpenReconect) {\n          // actualizar cantidad actual (stock actual) de ObjCarta del item\n          // if ( !this.miPedidoService.findIsHayItems() ) {\n          //   this.miPedidoService.updatePedidoFromStrorage();\n          // }\n\n            // this.objCartaCarta = res;\n            //\n            this.miPedidoService.setObjCarta(res);\n\n            this.resetParamsCarta();\n\n            if ( this.miPedidoService.findIsHayItems() ) {\n              this.miPedidoService.updatePedidoFromStrorage();\n            }\n\n            // console.log('objCartaCarta desde socket reconect');\n            this.navigatorService.setPageActive('carta');\n          // }\n\n          return;\n        }\n        // this.objCartaCarta = res;\n        //\n        this.miPedidoService.setObjCarta(res);\n\n        if ( this.miPedidoService.objCarta.promociones ) {\n          if ( this.miPedidoService.objCarta.promociones.lista_promociones ) {\n          // if (this.miPedidoService.objCarta.promociones[0].idpromocion) {\n            this.objPromociones = this.miPedidoService.objCarta.promociones.lista_promociones;\n            // filtramos si hay solo app\n            if (!this.isCliente) {\n              this.objPromociones = this.objPromociones.filter(p => p.parametros.body.solo_app === 0);\n            }\n            this.cocinarPromoShowService.iniReloadOpenPromo(this.objPromociones);\n          }\n          // }\n        }\n        // console.log('this.objPromociones', this.objPromociones);\n\n        this.resetParamsCarta();\n\n        // this.isCargado = false;\n        // // this.showCategoria = true;\n\n        // this.objSecciones = [];\n        // this.objItems = [];\n        // this.showCategoria = false;\n        // this.showSecciones = false;\n        // this.showItems = false;\n        // this.showCategoria = true;\n\n\n        this.miPedidoService.clearPedidoIsLimitTime();\n        this.miPedidoService.updatePedidoFromStrorage();\n\n        // restaurar cuenta de timepo limite\n        // console.log('restore timer limt');\n        this.miPedidoService.restoreTimerLimit();\n\n        this.loadItemsBusqueda();\n\n        if ( this.isFirstLoadListen ) {return; }\n        this.isFirstLoadListen = true; // para que no vuelva a cargar los observables cuando actualizan desde sockets\n        this.miPedidoService.listenChangeCantItem(); // cuando se reconecta para que actualize\n      });\n\n      // tipo de consumo\n      this.unsubscribeCarta = this.socketService.onGetTipoConsumo().subscribe((res: TipoConsumoModel[]) => {\n        // console.log('tipo consumo ', res);\n        if (this.socketService.isSocketOpenReconect) {return; }\n        this.tiposConsumo = res;\n\n        // set tipos de consumo a new item tipo cosnumo para los item vista\n        this.tiposConsumo.map((t: TipoConsumoModel) => {\n          const _objTpcAdd = new ItemTipoConsumoModel();\n          _objTpcAdd.descripcion = t.descripcion;\n          _objTpcAdd.idtipo_consumo = t.idtipo_consumo;\n          _objTpcAdd.titulo = t.titulo;\n\n          // filtramos los tipos de consumo segun qr escaneado o personal autorizado\n\n\n          if ( this.infoToken.isCliente() ) {\n            if ( !this.infoToken.isDelivery() ) {\n              if ( t.descripcion === 'DELIVERY' ) { return; }\n              if ( this.infoToken.isSoloLlevar() && t.descripcion.indexOf('LLEVAR') === -1 ) { return; }\n            } else {\n              if ( t.descripcion !== 'DELIVERY' ) { return; } else {_objTpcAdd.descripcion = 'CANTIDAD'; }\n            }\n          }\n\n          if ( this.infoToken.isPuntoAutoPedido()  ) {\n            // solo para llevar\n            if ( t.descripcion.indexOf('LLEVAR') === -1 ) { return; }\n          }\n\n          // if ( this.infoToken.isCliente() && t.descripcion === 'DELIVERY' ) {\n\n          // } else {\n            this.objNewItemTiposConsumo.push(_objTpcAdd);\n          // }\n        });\n\n        // console.log('this.objNewItemTiposConsumo', this.objNewItemTiposConsumo);\n\n        this.miPedidoService.setObjNewItemTiposConsumo(this.objNewItemTiposConsumo);\n\n        this.navigatorService.addLink('carta-i-');\n\n        // console.log('this.objNewItemTiposConsumo', this.objNewItemTiposConsumo);\n        // this.tiposConsumo.secciones = [];\n\n        // this.loadItemsBusqueda();\n\n        this.initFirtsCategoria();\n      });\n\n\n      // descuentos\n      this.unsubscribeCarta = this.socketService.onGetDataSedeDescuentos().subscribe((res: any) => {\n        // console.log('onGetDataSedeDescuentos', res);\n        // console.log('infoToken', this.infoToken.infoUsToken);\n        this.miPedidoService.setObjCartaDescuentos(res);\n      });\n\n    // }\n\n    // reglas de la carta y subtotales\n    this.reglasCartaService.loadReglasCarta();\n\n    // this.miPedidoService.listenChangeCantItem();\n\n    // datos de la sede, impresoras\n    // this.jsonPrintService.getDataSede();\n  }\n\n  // si la carta solo tiene un categoria ( cena almuerzo entra de frente)\n  private initFirtsCategoria() {\n    // if ( this.isScreenIsMobile ) {return; }\n    if ( this.miPedidoService.objCarta.carta.length === 1 ) {\n      this.objSecciones = this.miPedidoService.objCarta.carta[0].secciones;\n      this.tituloToolBar = this.miPedidoService.objCarta.carta[0].des;\n      this.showSecciones = true;\n      this.showCategoria = false;\n      this.showToolBar = true;\n\n      // if ( this.isScreenIsMobile ) {\n        this.getSecciones(this.miPedidoService.objCarta.carta[0]);\n        // return; }\n\n      if ( !this.isScreenIsMobile ) {\n        this.getItems(this.objSecciones[0]);\n      }\n\n      // seleciona la primera seccion\n      this.objItems = this.objSecciones[0].items;\n    }\n\n    // if ( this.miPedidoService.objCarta.promociones.length !== 0 ) {\n    //   this.objPromociones = this.miPedidoService.objCarta.promociones;\n    // }\n    // console.log('this.miPedidoService.objCarta.carta;', this.miPedidoService.objCarta.carta);\n  }\n\n\n  // al obtener la carta\n  private resetParamsCarta(): void {\n    this.isCargado = false;\n    this.objSecciones = [];\n    this.objItems = [];\n    // this.showCategoria = false;\n    this.showSecciones = false;\n    this.showItems = false;\n    this.showToolBar = false;\n    this.showCategoria = true;\n  }\n\n  ngOnDestroy(): void {\n    // console.log('======= unsubscribe ======= ');\n    this.unsubscribeCarta.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n    // this.unsubscribe$.next();\n    // this.unsubscribe$.complete();\n  }\n\n  getSecciones(categoria: CategoriaModel) {\n    this.categoriaSeleted = categoria;\n    setTimeout(() => {\n      this.objSecciones = categoria.secciones;\n      this.showSecciones = true;\n      this.showCategoria = false;\n      this.showToolBar = true;\n\n      // local storage categoria\n      localStorage.setItem('sys::cat', categoria.idcategoria.toString());\n\n      this.tituloToolBar = categoria.des;\n      this.nomCategoriaSeleted = categoria.des;\n      this.navigatorService.addLink('carta-i-secciones');\n    }, 250);\n  }\n\n  getItems(seccion: SeccionModel) {\n    this.miPedidoService.setObjSeccionSeleced(seccion);\n    setTimeout(() => {\n      this.seccionSelected = seccion;\n      this.objItems = seccion.items;\n      this.showSecciones = false;\n      this.showItems = true;\n      if ( this.isScreenIsMobile ) {\n        // if ( this.tituloToolBar.indexOf(seccion.des) === -1) {\n          this.tituloToolBar = this.nomCategoriaSeleted + ' / ' + seccion.des;\n        // }\n      }\n\n      // console.log('this.objItems', this.objItems);\n\n      this.navigatorService.addLink('carta-i-secciones-items');\n    }, 150);\n\n  }\n\n  getItemsPromo(items: ItemModel[]) {\n    setTimeout(() => {\n      this.objItems = items;\n      this.showSecciones = false;\n      this.showItems = true;\n      this.navigatorService.addLink('carta-i-secciones-items');\n    }, 150);\n  }\n\n  private getItems_seccion_from_busqueda(_itemBus: any): any {\n    const _seccionBus = {\n      des: _itemBus.seccion,\n      idseccion: _itemBus.idseccion,\n      idimpresora: _itemBus.idimpresora,\n      sec_orden: _itemBus.sec_orden,\n      ver_stock_cero: _itemBus.ver_stock_cero,\n    };\n\n    this.miPedidoService.setObjSeccionSeleced(<SeccionModel>_seccionBus);\n  }\n\n\n  /// busqueda\n  loadItemsBusqueda() {\n    let _objFind: any;\n    // _objFind = this.miPedidoService.getObjCartaLibery();\n    _objFind = this.miPedidoService.getObjCarta();\n\n    // extraemos\n    let _itemFind: any;\n    if ( !_objFind.carta ) { return; }\n    _objFind.carta.map((c: CategoriaModel) => {\n      c.secciones.map((s: SeccionModel) => {\n        s.items.map((i: ItemModel) => {\n          _itemFind = i;\n          _itemFind.seccion = s.des;\n          _itemFind.idimpresora = s.idimpresora;\n          _itemFind.sec_orden = s.sec_orden;\n          _itemFind.ver_stock_cero = s.ver_stock_cero;\n          _itemFind.selected = false;\n          _itemFind.visible = true;\n          this.objCartaBus.push(_itemFind);\n        });\n      });\n    });\n\n    // reset busqueda\n    window.localStorage.setItem('sys::find', '');\n    // tipo consumo\n    // console.log('_objFind', this.objCartaBus);\n  }\n\n\n\n  goBack() {\n\n    try {\n      if ( this.miPedidoService.objCarta.carta.length === 1 && !this.isScreenIsMobile ) {return; } // si no es celular no regresa\n    } catch (error) {}\n\n    this.objItems.map(x => x.selected = false);\n    if (this.showItems) {\n      this.showItems = false;\n      this.showSecciones = true;\n      this.tituloToolBar = this.tituloToolBar.split(' / ')[0];\n      // this.navigatorService.addLink('carta-i-secciones');\n      return;\n    }\n    if (this.showSecciones) {\n      this.showSecciones = false; this.showToolBar = false; this.showCategoria = true;\n      // this.navigatorService.addLink('carta-i-');\n    }\n  }\n\n  selectedItem(_selectedItem: ItemModel, openDetalle = false) {\n    // if (!this.isBusqueda) {\n    //   this.objItems.map(x => x.selected = false);\n    // } else {\n    //   this.objCartaBus.map(x => x.selected = false);\n    // }\n\n    // console.log('_selectedItem', _selectedItem);\n\n    if ( (this.isPuntoAutoPedido || this.isTomaPedidoRapido || this.isCliente) && !openDetalle && _selectedItem?.count_subitems === 0 ) {\n      if ( !this.isViewMercado ) {\n        this.resultCantItemMercado(_selectedItem, true);\n        return;\n      }\n    }\n\n    if ( _selectedItem.cantidad.toString() === '0' && !_selectedItem.cantidad_seleccionada ) { return; }\n\n    _selectedItem.selected = true;\n    this.itemSelected = _selectedItem;\n\n    const _objNewItemTiposConsumo = JSON.parse(JSON.stringify(this.objNewItemTiposConsumo));\n    this.objItemTipoConsumoSelected = _selectedItem.itemtiposconsumo ? _selectedItem.itemtiposconsumo : _objNewItemTiposConsumo;\n\n    if ( !_selectedItem.itemtiposconsumo ) {\n      _selectedItem.itemtiposconsumo = this.objItemTipoConsumoSelected;\n    }\n\n    // confirma que la seccion del item sea igual a la seccion del // si viene x ej de promo\n    const idSeccionSelected = this.seccionSelected?.idseccion || 0;\n    const _lastSeccionObjSeleted = this.miPedidoService.getObjSeccionSeleced();\n    const _reasignarSeccion = _lastSeccionObjSeleted.idseccion !== idSeccionSelected;\n    if ( this.itemSelected.idseccion !== idSeccionSelected || _reasignarSeccion) {\n      this.seccionSelected = this.miPedidoService.findItemSeccionCarta(this.itemSelected.idseccion);\n      this.miPedidoService.setObjSeccionSeleced(this.seccionSelected);\n    }\n\n\n\n    this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);\n\n    this.openDlgItem(_selectedItem);\n  }\n\n  // abrir el dialog item\n  private openDlgItem(_item: ItemModel): void {\n    const dialogConfig = new MatDialogConfig();\n    const _itemFromCarta = _item.ispromo ? _item : this.miPedidoService.findItemCarta(_item);\n    if ( !_itemFromCarta.itemtiposconsumo ) {\n      _itemFromCarta.itemtiposconsumo = _item.itemtiposconsumo;\n    }\n    // const _seccionItemSelect = this.miPedidoService.findItemSeccionCarta(_itemFromCarta.idseccion);\n\n    dialogConfig.autoFocus = false;\n    dialogConfig.data = {\n      idTpcItemResumenSelect: null,\n      seccion: !this.isBusqueda ? this.seccionSelected : this.miPedidoService.findItemSeccionCarta(_itemFromCarta.idseccion),\n      item: _itemFromCarta,\n      objItemTipoConsumoSelected: this.itemSelected.itemtiposconsumo\n    };\n    dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'margen-0', 'my-dialog-item-producto'];\n\n    const dialogRef = this.dialog.open(DialogItemEditComponent, dialogConfig);\n\n    // subscribe al cierre y obtiene los datos\n    dialogRef.afterClosed().subscribe(\n        data => {\n          if ( !data ) { return; }\n          // console.log('data dialog', data);\n        }\n    );\n\n  }\n\n\n  addItemToPedido(tpcSelect: ItemTipoConsumoModel, suma: number): void {\n    this.miPedidoService.addItem2(tpcSelect, this.itemSelected, suma);\n  }\n\n  addItemToPedidoFromBusqueda(tpcSelect: ItemTipoConsumoModel, suma: number): void {\n    // setea la seccion del item\n    this.getItems_seccion_from_busqueda(this.itemSelected);\n\n    // agrega el item\n    this.miPedidoService.addItem2(tpcSelect, this.itemSelected, suma);\n  }\n\n  addItemIndicaciones(itemCarta: ItemModel, _indicaciones: string): void {\n    // console.log('indicaciones', _indicaciones);\n    this.itemSelected.indicaciones = _indicaciones;\n    itemCarta.indicaciones = _indicaciones;\n\n    // const _itemInMipedido = this.miPedidoService.findOnlyItemMiPedido(itemCarta);\n    // if ( _itemInMipedido ) {\n    //   _itemInMipedido.indicaciones = _indicaciones;\n    // }\n  }\n\n  getEstadoStockItem(stock: any): string {\n    if ( stock === 'ND' || isNaN(stock) ) {\n      // stock = 'ND';\n      return 'verde';\n    } else {\n      const _stock = parseInt(stock, 0);\n      return _stock > 10 ? 'verde' : _stock > 5 ? 'amarillo' : 'rojo';\n    }\n  }\n\n  private listeStatusBusqueda(): void {\n    this.listenStatusService.isBusqueda$.subscribe(res => {\n      this.isBusqueda = res;\n    });\n\n    this.listenStatusService.charBuqueda$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((res: string) => {\n      this.isBusquedaFindNow(res);\n    });\n\n    this.socketService.isSocketOpen$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe(res => {\n      if (!res) {\n        // console.log('===== unsubscribe unsubscribe Carta =====');\n        this.unsubscribeCarta.unsubscribe();\n      }\n    });\n\n\n    // ===== COMANDOS DE VOZ =========== //\n    // listen comando voz navegacion;\n    this.speechDataProviderService.commandNavegacionSeccion$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((rpt_seccion: SeccionModel) => {\n      if (rpt_seccion) {\n        // if (this.showCategoria ) {\n          const _categoria = this.miPedidoService.objCarta.carta[0];\n          this.getSecciones(_categoria);\n          setTimeout(() => {\n            this.getItems(rpt_seccion);\n          }, 100);\n        // } else {\n        //   this.getItems(rpt_seccion);\n        // }\n      }\n    });\n\n    // listen comando voz navegacion;\n    this.speechDataProviderService.commandNavegacionRecomendado$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((itemsRecomendados: any) => {\n      if (itemsRecomendados.length > 0) {\n          this.getItemsPromo(itemsRecomendados);\n      }\n    });\n\n    // escuhar si se aumenta pedido\n    this.speechDataProviderService.commandAddItem$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((itemVoz: any) => {\n      if (itemVoz) {\n        this.resultCantItemMercado(itemVoz.item, itemVoz.isSuma);\n      }\n    });\n\n\n    // ===== COMANDOS DE VOZ =========== //\n  }\n\n  private isBusquedaFindNow(charFind: string): void {\n    charFind = charFind.toLowerCase();\n    // console.log(charFind);\n    let _charConcat = '';\n    this.objCartaBus.map((i: any) => {\n      _charConcat = `${i.des} ${i.seccion} ${i.detalles}`;\n      _charConcat = _charConcat.toLowerCase();\n      i.visible = _charConcat.indexOf(charFind) > -1 ? true : false;\n    });\n  }\n\n  getObjDetalleSeccion(seccion: SeccionModel): String {\n    let resp = '';\n    if (seccion.items === null ) {return; }\n    seccion.items.map((i: ItemModel, index: number) => {\n      if (index > 5) {return; }\n      resp += i.des.toLowerCase() + ', ';\n    });\n\n    return resp.slice(0, -2);\n  }\n\n  resultCantItemMercado(_selectedItem: any, isSuma_selected = false) {\n    // solo para delivery\n    // isSuma_selected viene de agregar al clic\n    this.itemSelected = _selectedItem;\n\n    // busca el canal consumo predeteminado\n    // if ( this.isTomaPedidoRapido ) {\n    //   this.objItemTipoConsumoSelected = this.canalConsumoTomaPedidoRapido;\n    // } else {\n      const _objNewItemTiposConsumo = JSON.parse(JSON.stringify(this.objNewItemTiposConsumo));\n      this.objItemTipoConsumoSelected = _selectedItem.itemtiposconsumo ? _selectedItem.itemtiposconsumo : _objNewItemTiposConsumo;\n    // }\n\n    if ( !_selectedItem.itemtiposconsumo ) {\n      _selectedItem.itemtiposconsumo = this.objItemTipoConsumoSelected;\n    }\n\n    this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);\n    let tpcSelect =  this.objItemTipoConsumoSelected[0];\n    if ( this.isTomaPedidoRapido ) {\n      tpcSelect = this.objItemTipoConsumoSelected.filter(x => x.descripcion.toLocaleLowerCase() === this.canalConsumoTomaPedidoRapido.descripcion.toLocaleLowerCase())[0];\n    }\n    const _isSuma = isSuma_selected ? 0 : _selectedItem.isSuma_selected ? 0 : 1;\n\n\n    // confirma que la seccion del item sea igual a la seccion del\n    const idSeccionSelected = this.seccionSelected?.idseccion || 0;\n    const _lastSeccionObjSeleted = this.miPedidoService.getObjSeccionSeleced();\n    const _reasignarSeccion = _lastSeccionObjSeleted.idseccion !== idSeccionSelected;\n    if ( this.itemSelected.idseccion !== idSeccionSelected || _reasignarSeccion) {\n      this.seccionSelected = this.miPedidoService.findItemSeccionCarta(this.itemSelected.idseccion);\n      this.miPedidoService.setObjSeccionSeleced(this.seccionSelected);\n    }\n\n    // console.log('_selectedItem carta', _selectedItem);\n    this.miPedidoService.addItem2(tpcSelect, this.itemSelected, _isSuma);\n\n    _selectedItem.is_visible_control_last_add = _selectedItem.cantidad_seleccionada !== 0;\n  }\n\n  // addSubItem(subitem: SubItem): void {\n  //   // subitem.selected = !subitem.selected;\n\n  //   // if ( subitem.selected ) {\n  //     // const listSubItemChecked = this.itemSelected.subitems.filter((x: SubItem) => x.selected);\n  //     // let countSelectReq = listSubItemChecked.length;\n\n  //     // // adicional el importe al precio del item\n  //     // this.itemSelected.precio = this.itemSelected.precio_unitario + subitem.precio;\n  //     // // this.itemSelected.precio_total = parseFloat(this.itemSelected.precio);\n\n\n  //     // listSubItemChecked.map( (_subItem: SubItem, i: number) =>  {\n  //     //   if (countSelectReq > this.itemSelected.subitem_cant_select && _subItem !== subitem) {\n  //     //     _subItem.selected = false;\n  //     //     countSelectReq--;\n  //     //   }\n  //     // });\n\n\n  //   // }\n  // }\n\n\n  openDialogComentarios() {\n    const dialogConfig = new MatDialogConfig();\n\n    // dialogConfig.panelClass = 'dialog-item-edit';\n    dialogConfig.autoFocus = false;\n    dialogConfig.data = this.dataCalificacion;\n    dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogRef = this.dialog.open(DialogCalificacionSedeComponent, dialogConfig);\n\n    // subscribe al cierre y obtiene los datos\n    dialogRef.afterClosed().subscribe(\n        data => {\n          if ( !data ) { return; }\n\n        }\n    );\n  }\n\n\n  showItemsPromo(promo: any) {\n    // if ( this.cocinarPromoShowService.consultarPromoAbierto(promo) ) {\n      const itemsPromo = this.cocinarPromoShowService.promoFilterShow(promo, this.categoriaSeleted);\n      this.getItemsPromo(itemsPromo);\n    // } else {\n    //   promo.abierto = 0;\n    //   console.log('aaaaaaaaaaaaaa');\n    // }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9lc3RhZG8tcGVkaWRvL2VzdGFkby1wZWRpZG8uY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { EstadoPedidoModel } from 'src/app/modelos/estado.pedido.model';\nimport { EstadoPedidoClienteService } from 'src/app/shared/services/estado-pedido-cliente.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil } from 'rxjs/operators';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\n// import { takeUntil } from 'rxjs/internal/operators/takeUntil';\n\n@Component({\n  selector: 'app-estado-pedido',\n  templateUrl: './estado-pedido.component.html',\n  styleUrls: ['./estado-pedido.component.css']\n})\nexport class EstadoPedidoComponent implements OnInit, OnDestroy {\n  estadoPedido: EstadoPedidoModel;\n  infoToken: UsuarioTokenModel;\n  tiempoEspera: number;\n  rippleColor = 'rgb(255,238,88, 0.5)';\n  tituloMesa = 'Mesa';\n\n  isViewMsjSolicitudPersoanl = false;\n  isDeliveryCliente: boolean;\n\n  private isBtnPagoShow = false; // si el boton de pago ha sido visible entonces recarga la pagina de pago\n\n  // private unsubscribeEstado = new Subscription();\n  private destroyEstado$: Subject<boolean> = new Subject<boolean>();\n\n  simbolo_moneda: string;\n\n\n\n  constructor(\n    private listenStatusService: ListenStatusService,\n    private estadoPedidoClienteService: EstadoPedidoClienteService,\n    private infoTokenService: InfoTockenService,\n    private navigatorService: NavigatorLinkService,\n    private socketService: SocketService,\n    private router: Router,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit() {\n\n    // verificar en el localstorage\n    this.infoToken = this.infoTokenService.getInfoUs();\n    this.isDeliveryCliente = this.infoToken.isDelivery;\n\n    // this.estadoPedidoClienteService.get();\n\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n\n\n    // escuchar cambios\n    this.listenStatus();\n\n  }\n\n  ngOnDestroy(): void {\n    // this.unsubscribeEstado.unsubscribe();\n    // this.unsubscribe$.next();\n    // this.unsubscribe$.complete();\n\n    this.destroyEstado$.next(true);\n    this.destroyEstado$.unsubscribe();\n  }\n\n  private listenStatus() {\n\n    this.navigatorService.resNavigatorSourceObserve$\n    .pipe(takeUntil(this.destroyEstado$))\n    .subscribe((res: any) => {\n      if (res.pageActive === 'estado') {\n        this.tituloMesa = this.infoToken.isSoloLLevar ? 'Para Llevar' : 'Mesa';\n        // if ( this.estadoPedido.importe > 0 ) {\n\n          setTimeout(() => {\n            this.estadoPedidoClienteService.getCuentaTotales();\n          }, 2500);\n        // }\n      }\n    });\n\n    this.navigatorService.resNavigatorSourceObserve$\n    .pipe(takeUntil(this.destroyEstado$))\n    .subscribe(async (res: any) => {\n      if (res.pageActive === 'estado') {\n\n        const _importe = await this.estadoPedidoClienteService.getImporteCuenta();\n        this.estadoPedido.importe = <number>_importe || 0;\n        // this.estadoPedidoClienteService.getCuentaTotales();\n      }\n    });\n\n    this.listenStatusService.hayPedidoPendiente$\n      .pipe(takeUntil(this.destroyEstado$))\n      .subscribe((res: boolean) => {\n        this.estadoPedidoClienteService.setHayPedidoPendiente(res);\n      });\n\n    this.listenStatusService.estadoPedido$\n    .pipe(takeUntil(this.destroyEstado$))\n    .subscribe(res => {\n      this.estadoPedido = res;\n\n\n      // if ( _importe === 0 ) {\n      if ( this.estadoPedido.importe === 0 && this.estadoPedido.isRegisterOnePago ) {\n        // this.unsubscribeEstado.unsubscribe();\n        this.estadoPedidoClienteService.setisRegisterPago(false);\n        this.navigatorService._router('../lanzar-encuesta');\n      }\n\n      // recalcular cuenta si es 0 agradecimiento y lanzar encuesta si aun no la lleno\n      // if (this.estadoPedido.isPagada) {\n      //   this.navigatorService._router('../lanzar-encuesta');\n      // }\n    });\n\n    // tiempo de espera\n    this.estadoPedidoClienteService.timeRestanteAprox$.subscribe((res: any) => {\n      this.tiempoEspera = res;\n\n    });\n\n    this.socketService.onPedidoPagado()\n    .pipe(takeUntil(this.destroyEstado$))\n    .subscribe(res => {\n\n      // recalcular cuenta si es 0 agradecimiento y lanzar encuesta si aun no la lleno\n      this.estadoPedidoClienteService.getCuentaTotales();\n      this.estadoPedidoClienteService.setisRegisterPago(true);\n    });\n\n    this.listenStatusService.isBtnPagoShow$\n    .pipe(takeUntil(this.destroyEstado$))\n    .subscribe((res: boolean) => { this.isBtnPagoShow = res; });\n  }\n\n  verCuenta() {\n\n    this.estadoPedidoClienteService.getCuenta();\n    this.navigatorService.setPageActive('mipedido');\n  }\n\n  pagarCuenta() {\n    // this.navigatorService._router('./pagar-cuenta');\n    if ( !localStorage.getItem('sys::st') ) {\n      this.verCuenta();\n      return;\n    }\n\n    this.estadoPedidoClienteService.getCuenta(); // get subtotales - esta listen resumen-pedido;\n    this.router.navigate(['./pagar-cuenta'])\n    .then(() => {\n      if ( this.isBtnPagoShow ) {\n        window.location.reload();\n      }\n    });\n\n    this.listenStatusService.setIsPagePagarCuentaShow(true);\n  }\n\n  // el cleinte solicita atencion del personal. -- notifica en caja\n  solicitarAtencion() {\n    if ( this.isViewMsjSolicitudPersoanl ) { return; }\n    this.socketService.emit('notificar-cliente-llamado', this.infoToken.numMesaLector);\n    this.isViewMsjSolicitudPersoanl = true;\n    setTimeout(() => {\n      this.isViewMsjSolicitudPersoanl = false;\n    }, 30000);\n  }\n\n}\n","export default \"/* .mat-tab-header {\\r\\n  z-index: 9999;\\r\\n  position: sticky !important;\\r\\n  top: 0px;\\r\\n  background-color: white !important;\\r\\n} */\\r\\n\\r\\n/* ::ng-deep .mat-tab-body-wrapper {\\r\\n  height: calc(100vh - 105px);\\r\\n} */\\r\\n\\r\\n/* .color-fondo {\\r\\n  background: #eeeeee;\\r\\n} */\\r\\n\\r\\n.main-contemt {\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n\\r\\n.x100 {\\r\\n  height: 100vh;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n/* .transicion {\\r\\n    transition: all 0.3s ease-out;\\r\\n} */\\r\\n\\r\\n.toolbar-main {\\r\\n  -webkit-animation-duration: 0.3s;\\r\\n          animation-duration: 0.3s;\\r\\n  -webkit-animation-timing-function: ease-out;\\r\\n          animation-timing-function: ease-out;\\r\\n  -webkit-animation-fill-mode: both;\\r\\n          animation-fill-mode: both;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeOutTool {\\r\\n  from {\\r\\n    margin-top: 0px;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    margin-top: -60px;\\r\\n    display: none;\\r\\n    visibility: hidden;\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes fadeOutTool {\\r\\n  from {\\r\\n    margin-top: 0px;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    margin-top: -60px;\\r\\n    display: none;\\r\\n    visibility: hidden;\\r\\n  }\\r\\n}\\r\\n\\r\\n.toolbar-main.fadeOutTool {\\r\\n  -webkit-animation-name: fadeOutTool;\\r\\n          animation-name: fadeOutTool;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeInTool {\\r\\n  from {\\r\\n    margin-top: -60px;\\r\\n    display: inline-block;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    margin-top: 0px;\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes fadeInTool {\\r\\n  from {\\r\\n    margin-top: -60px;\\r\\n    display: inline-block;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    margin-top: 0px;\\r\\n  }\\r\\n}\\r\\n\\r\\n.toolbar-main.fadeInTool {\\r\\n  -webkit-animation-name: fadeInTool;\\r\\n          animation-name: fadeInTool;\\r\\n}\\r\\n\\r\\n.x100-toolbar-visible {\\r\\n  height: -webkit-calc(100vh - 105px);\\r\\n  height: calc(100vh - 105px);\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.x100-toolbar-hidden {\\r\\n  height: -webkit-calc(100vh - 49px);\\r\\n  height: calc(100vh - 49px);\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.countItem {\\r\\n  padding: 2px 6px 2px 3px;\\r\\n  border-radius: 50%;\\r\\n  line-height: 18px;\\r\\n  font-size: 12px;\\r\\n  margin-bottom: 15px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.countTotal {\\r\\n  float: right;\\r\\n  background: #f44336;\\r\\n  color: #eeeeee;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL2luaWNpby9pbmljaW8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7R0FLRzs7QUFFSDs7R0FFRzs7QUFFSDs7R0FFRzs7QUFDSDtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixjQUFjO0FBQ2hCOztBQUVBOztHQUVHOztBQUVIO0VBQ0UsZ0NBQXdCO1VBQXhCLHdCQUF3QjtFQUN4QiwyQ0FBbUM7VUFBbkMsbUNBQW1DO0VBQ25DLGlDQUF5QjtVQUF6Qix5QkFBeUI7QUFDM0I7O0FBR0E7RUFDRTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGtCQUFrQjtFQUNwQjtBQUNGOztBQVZBO0VBQ0U7SUFDRSxlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixrQkFBa0I7RUFDcEI7QUFDRjs7QUFFQTtFQUNFLG1DQUEyQjtVQUEzQiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRTtJQUNFLGlCQUFpQjtJQUNqQixxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxlQUFlO0VBQ2pCO0FBQ0Y7O0FBVEE7RUFDRTtJQUNFLGlCQUFpQjtJQUNqQixxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxlQUFlO0VBQ2pCO0FBQ0Y7O0FBRUE7RUFDRSxrQ0FBMEI7VUFBMUIsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsbUNBQTJCO0VBQTNCLDJCQUEyQjtFQUMzQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUMxQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usd0JBQXdCO0VBQ3hCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wZWRpZG8vaW5pY2lvL2luaWNpby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLm1hdC10YWItaGVhZGVyIHtcclxuICB6LWluZGV4OiA5OTk5O1xyXG4gIHBvc2l0aW9uOiBzdGlja3kgIWltcG9ydGFudDtcclxuICB0b3A6IDBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG59ICovXHJcblxyXG4vKiA6Om5nLWRlZXAgLm1hdC10YWItYm9keS13cmFwcGVyIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDVweCk7XHJcbn0gKi9cclxuXHJcbi8qIC5jb2xvci1mb25kbyB7XHJcbiAgYmFja2dyb3VuZDogI2VlZWVlZTtcclxufSAqL1xyXG4ubWFpbi1jb250ZW10IHtcclxuICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi54MTAwIHtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcblxyXG4vKiAudHJhbnNpY2lvbiB7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLW91dDtcclxufSAqL1xyXG5cclxuLnRvb2xiYXItbWFpbiB7XHJcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjNzO1xyXG4gIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2Utb3V0O1xyXG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XHJcbn1cclxuXHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGVPdXRUb29sIHtcclxuICBmcm9tIHtcclxuICAgIG1hcmdpbi10b3A6IDBweDtcclxuICB9XHJcblxyXG4gIHRvIHtcclxuICAgIG1hcmdpbi10b3A6IC02MHB4O1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICB9XHJcbn1cclxuXHJcbi50b29sYmFyLW1haW4uZmFkZU91dFRvb2wge1xyXG4gIGFuaW1hdGlvbi1uYW1lOiBmYWRlT3V0VG9vbDtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlSW5Ub29sIHtcclxuICBmcm9tIHtcclxuICAgIG1hcmdpbi10b3A6IC02MHB4O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIH1cclxuXHJcbiAgdG8ge1xyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gIH1cclxufVxyXG5cclxuLnRvb2xiYXItbWFpbi5mYWRlSW5Ub29sIHtcclxuICBhbmltYXRpb24tbmFtZTogZmFkZUluVG9vbDtcclxufVxyXG5cclxuLngxMDAtdG9vbGJhci12aXNpYmxlIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDVweCk7XHJcbiAgb3ZlcmZsb3c6IGF1dG87XHJcbn1cclxuXHJcbi54MTAwLXRvb2xiYXItaGlkZGVuIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0OXB4KTtcclxuICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuLmNvdW50SXRlbSB7XHJcbiAgcGFkZGluZzogMnB4IDZweCAycHggM3B4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBsaW5lLWhlaWdodDogMThweDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jb3VudFRvdGFsIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgYmFja2dyb3VuZDogI2Y0NDMzNjtcclxuICBjb2xvcjogI2VlZWVlZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\n\nimport { Event as NavigationEvent, Router, NavigationStart } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-inicio',\n  templateUrl: './inicio.component.html',\n  styleUrls: ['./inicio.component.css']\n})\nexport class InicioComponent implements OnInit {\n\n  isVisibleToolBar = true;\n  countTotalItems = 0;\n  private lastValScrollTop = 0;\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    private router: Router\n  ) {\n\n    router.events.pipe(\n      filter((event: NavigationEvent) => {\n        return (event instanceof NavigationStart);\n      })\n    ).subscribe(\n      (event: NavigationStart) => {\n        console.log('navigation', event);\n      });\n  }\n\n  ngOnInit() {\n\n    this.miPedidoService.countItemsObserve$.subscribe((res) => {\n      this.countTotalItems = res;\n    });\n  }\n\n  onScroll($event: any): void {\n    const val = $event.srcElement.scrollTop;\n    this.isVisibleToolBar = val >= this.lastValScrollTop && val > 54 ? false : true;\n\n    setTimeout(() => {\n      this.lastValScrollTop = val;\n    }, 100);\n  }\n\n  addLink(propiedad) {\n    // this.router.navigate(['/', { id: propiedad}]);\n    this.router.navigate(['../../', { id: propiedad }]);\n  }\n}\n","export default \"/* .mat-tab-header {\\r\\n  z-index: 9999;\\r\\n  position: sticky !important;\\r\\n  top: 0px;\\r\\n  background-color: white !important;\\r\\n} */\\r\\n\\r\\n/* ::ng-deep .mat-tab-body-wrapper {\\r\\n  height: calc(100vh - 105px);\\r\\n} */\\r\\n\\r\\n/* .color-fondo {\\r\\n  background: #eeeeee;\\r\\n} */\\r\\n\\r\\n.main-contemt {\\r\\n    overflow:  hidden !important;\\r\\n}\\r\\n\\r\\n.x100 {\\r\\n    height: 100vh;\\r\\n    overflow: auto;    \\r\\n}\\r\\n\\r\\n.toolbar-main {\\r\\n    -webkit-animation-duration: 0.3s;\\r\\n            animation-duration: 0.3s;\\r\\n    -webkit-animation-timing-function: ease-out;\\r\\n            animation-timing-function: ease-out;\\r\\n    -webkit-animation-fill-mode: both;\\r\\n            animation-fill-mode: both;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeOutTool {\\r\\n  from {    \\r\\n    margin-top: 0px;\\r\\n  }\\r\\n\\r\\n  to {     \\r\\n    margin-top: -60px;\\r\\n    display: none; \\r\\n    visibility: hidden;\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes fadeOutTool {\\r\\n  from {    \\r\\n    margin-top: 0px;\\r\\n  }\\r\\n\\r\\n  to {     \\r\\n    margin-top: -60px;\\r\\n    display: none; \\r\\n    visibility: hidden;\\r\\n  }\\r\\n}\\r\\n\\r\\n.toolbar-main.fadeOutTool {\\r\\n  -webkit-animation-name: fadeOutTool;\\r\\n          animation-name: fadeOutTool;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes fadeInTool {\\r\\n  from {    \\r\\n    margin-top: -60px;\\r\\n    display: inline-block;\\r\\n  }\\r\\n\\r\\n  to {    \\r\\n    margin-top: 0px;\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes fadeInTool {\\r\\n  from {    \\r\\n    margin-top: -60px;\\r\\n    display: inline-block;\\r\\n  }\\r\\n\\r\\n  to {    \\r\\n    margin-top: 0px;\\r\\n  }\\r\\n}\\r\\n\\r\\n.toolbar-main.fadeInTool {\\r\\n  -webkit-animation-name: fadeInTool;\\r\\n          animation-name: fadeInTool;\\r\\n}\\r\\n\\r\\n.x100-toolbar-visible {    \\r\\n  height: -webkit-calc(100vh - 105px);    \\r\\n  height: calc(100vh - 105px);\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.x100-toolbar-hidden {\\r\\n  position: relative;\\r\\n  height: -webkit-calc(100vh - 49px);\\r\\n  height: calc(100vh - 49px);\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.countItem {\\r\\n  padding: 2px 6px 2px 3px;\\r\\n  border-radius: 50%;\\r\\n  line-height: 18px;\\r\\n  font-size: 12px;\\r\\n  margin-bottom: 15px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.countTotal {\\r\\n  float: right;\\r\\n  background: #f44336;  \\r\\n  color: #eeeeee;\\r\\n}\\r\\n\\r\\n.footer-btn-go-lista {\\r\\n  position: fixed;\\r\\n  bottom: -15px;\\r\\n  width: 100%;  \\r\\n  text-align: center;  \\r\\n  background: #e0e0e0;\\r\\n  display: -webkit-box;\\r\\n  display: -webkit-flex;\\r\\n  display: flex;\\r\\n  -webkit-box-pack: center;\\r\\n  -webkit-justify-content: center;\\r\\n          justify-content: center;\\r\\n}\\r\\n\\r\\n.footer-btn-go-lista .content {\\r\\n  background: #3f51b5;\\r\\n  color: white;\\r\\n  width: 85%;\\r\\n  font-size: 14px;\\r\\n  border-radius: 5px 5px 0px 0px;\\r\\n  padding: 10px;\\r\\n  font-weight: 100;\\r\\n  margin-top: 10px;\\r\\n\\r\\n  display: -webkit-box;\\r\\n\\r\\n  display: -webkit-flex;\\r\\n\\r\\n  display: flex;\\r\\n  -webkit-box-pack: justify;\\r\\n  -webkit-justify-content: space-between;\\r\\n          justify-content: space-between;\\r\\n  -webkit-box-align: center;\\r\\n  -webkit-align-items: center;\\r\\n          align-items: center;\\r\\n}\\r\\n\\r\\n.fondo-gris {\\r\\n  background: #eeeeee;\\r\\n}\\r\\n\\r\\n::ng-deep.header-less-tabs.mat-tab-group .mat-tab-header { display: none; }\\r\\n\\r\\n/* #loader-wrapper .loader-msj {\\r\\n  color: #e0e0e0;\\r\\n  width: 100%;\\r\\n  z-index: 2000;\\r\\n  position: absolute;\\r\\n  text-align: center;\\r\\n  font-size: 12px;\\r\\n  bottom: 25%;\\r\\n} */\\r\\n\\r\\n/* .loaded #loader-wrapper .loader-msj {\\r\\n  opacity: 0;\\r\\n  -webkit-transition: all 0.3s ease-out;\\r\\n          transition: all 0.3s ease-out;\\r\\n} */\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL21haW4vbWFpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztHQUtHOztBQUVIOztHQUVHOztBQUVIOztHQUVHOztBQUVIO0lBQ0ksNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxnQ0FBd0I7WUFBeEIsd0JBQXdCO0lBQ3hCLDJDQUFtQztZQUFuQyxtQ0FBbUM7SUFDbkMsaUNBQXlCO1lBQXpCLHlCQUF5QjtBQUM3Qjs7QUFHQTtFQUNFO0lBQ0UsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isa0JBQWtCO0VBQ3BCO0FBQ0Y7O0FBVkE7RUFDRTtJQUNFLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGtCQUFrQjtFQUNwQjtBQUNGOztBQUVBO0VBQ0UsbUNBQTJCO1VBQTNCLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFO0lBQ0UsaUJBQWlCO0lBQ2pCLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7QUFDRjs7QUFUQTtFQUNFO0lBQ0UsaUJBQWlCO0lBQ2pCLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7QUFDRjs7QUFFQTtFQUNFLGtDQUEwQjtVQUExQiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxtQ0FBMkI7RUFBM0IsMkJBQTJCO0VBQzNCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUMxQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usd0JBQXdCO0VBQ3hCLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLG9CQUFhO0VBQWIscUJBQWE7RUFBYixhQUFhO0VBQ2Isd0JBQXVCO0VBQXZCLCtCQUF1QjtVQUF2Qix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLFVBQVU7RUFDVixlQUFlO0VBQ2YsOEJBQThCO0VBQzlCLGFBQWE7RUFDYixnQkFBZ0I7RUFDaEIsZ0JBQWdCOztFQUVoQixvQkFBYTs7RUFBYixxQkFBYTs7RUFBYixhQUFhO0VBQ2IseUJBQThCO0VBQTlCLHNDQUE4QjtVQUE5Qiw4QkFBOEI7RUFDOUIseUJBQW1CO0VBQW5CLDJCQUFtQjtVQUFuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUEsMkRBQTJELGFBQWEsRUFBRTs7QUFJMUU7Ozs7Ozs7O0dBUUc7O0FBRUg7Ozs7R0FJRyIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9tYWluL21haW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC5tYXQtdGFiLWhlYWRlciB7XHJcbiAgei1pbmRleDogOTk5OTtcclxuICBwb3NpdGlvbjogc3RpY2t5ICFpbXBvcnRhbnQ7XHJcbiAgdG9wOiAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcclxufSAqL1xyXG5cclxuLyogOjpuZy1kZWVwIC5tYXQtdGFiLWJvZHktd3JhcHBlciB7XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTA1cHgpO1xyXG59ICovXHJcblxyXG4vKiAuY29sb3ItZm9uZG8ge1xyXG4gIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn0gKi9cclxuXHJcbi5tYWluLWNvbnRlbXQge1xyXG4gICAgb3ZlcmZsb3c6ICBoaWRkZW4gIWltcG9ydGFudDtcclxufVxyXG5cclxuLngxMDAge1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIG92ZXJmbG93OiBhdXRvOyAgICBcclxufVxyXG5cclxuLnRvb2xiYXItbWFpbiB7XHJcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuM3M7XHJcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLW91dDtcclxuICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XHJcbn1cclxuXHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGVPdXRUb29sIHtcclxuICBmcm9tIHsgICAgXHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgfVxyXG5cclxuICB0byB7ICAgICBcclxuICAgIG1hcmdpbi10b3A6IC02MHB4O1xyXG4gICAgZGlzcGxheTogbm9uZTsgXHJcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgfVxyXG59XHJcblxyXG4udG9vbGJhci1tYWluLmZhZGVPdXRUb29sIHtcclxuICBhbmltYXRpb24tbmFtZTogZmFkZU91dFRvb2w7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZUluVG9vbCB7XHJcbiAgZnJvbSB7ICAgIFxyXG4gICAgbWFyZ2luLXRvcDogLTYwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgfVxyXG5cclxuICB0byB7ICAgIFxyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gIH1cclxufVxyXG5cclxuLnRvb2xiYXItbWFpbi5mYWRlSW5Ub29sIHtcclxuICBhbmltYXRpb24tbmFtZTogZmFkZUluVG9vbDtcclxufVxyXG5cclxuLngxMDAtdG9vbGJhci12aXNpYmxlIHsgICAgXHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTA1cHgpO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcblxyXG4ueDEwMC10b29sYmFyLWhpZGRlbiB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDQ5cHgpO1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcblxyXG4uY291bnRJdGVtIHtcclxuICBwYWRkaW5nOiAycHggNnB4IDJweCAzcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGxpbmUtaGVpZ2h0OiAxOHB4O1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmNvdW50VG90YWwge1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBiYWNrZ3JvdW5kOiAjZjQ0MzM2OyAgXHJcbiAgY29sb3I6ICNlZWVlZWU7XHJcbn1cclxuXHJcbi5mb290ZXItYnRuLWdvLWxpc3RhIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgYm90dG9tOiAtMTVweDtcclxuICB3aWR0aDogMTAwJTsgIFxyXG4gIHRleHQtYWxpZ246IGNlbnRlcjsgIFxyXG4gIGJhY2tncm91bmQ6ICNlMGUwZTA7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmZvb3Rlci1idG4tZ28tbGlzdGEgLmNvbnRlbnQge1xyXG4gIGJhY2tncm91bmQ6ICMzZjUxYjU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHdpZHRoOiA4NSU7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweCA1cHggMHB4IDBweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiAxMDA7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuXHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmZvbmRvLWdyaXMge1xyXG4gIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn1cclxuXHJcbjo6bmctZGVlcC5oZWFkZXItbGVzcy10YWJzLm1hdC10YWItZ3JvdXAgLm1hdC10YWItaGVhZGVyIHsgZGlzcGxheTogbm9uZTsgfVxyXG5cclxuXHJcblxyXG4vKiAjbG9hZGVyLXdyYXBwZXIgLmxvYWRlci1tc2oge1xyXG4gIGNvbG9yOiAjZTBlMGUwO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHotaW5kZXg6IDIwMDA7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgYm90dG9tOiAyNSU7XHJcbn0gKi9cclxuXHJcbi8qIC5sb2FkZWQgI2xvYWRlci13cmFwcGVyIC5sb2FkZXItbXNqIHtcclxuICBvcGFjaXR5OiAwO1xyXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1vdXQ7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlLW91dDtcclxufSAqL1xyXG4iXX0= */\";","import { Component, OnInit, HostListener } from '@angular/core';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\nimport { SocketClientModel } from 'src/app/modelos/socket.client.model';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { ComandAnalizerService } from 'src/app/shared/services/speech/comand-analizer.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  isVisibleToolBar = true;\n  isBusqueda = false;\n  isHayCuentaBusqueda = false;\n  countTotalItems = 0;\n  selectedTab = 0;\n  isUsuarioCliente = false; // si es usuario cliente\n  isClienteDelivery = false;\n  isClienteReserva = false;\n  isPagePagarShow = false;\n  isPuntoAutoPedido = false;\n  loaderPage = false;\n  timeLoader = null;\n  isSpeechVoiceAcivado = false;\n\n\n  private lastValScrollTop = 0;\n  importeTotalProductos = 0;\n\n\n  // tamao de la pamtalla\n  isScreenIsMobile = true;\n  @HostListener('window:resize', ['$event'])\n  onResize(event: any) {\n    this.detectScreenSize();\n  }\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    private navigatorService: NavigatorLinkService,\n    public listenStatusService: ListenStatusService,\n    public socketService: SocketService,\n    private verifyClientService: VerifyAuthClientService,\n    private infoTokenService: InfoTockenService,\n    // private comandAnalizerService: ComandAnalizerService,\n    private establecimientoService: EstablecimientoService,\n    ) {\n      // console.log('verifyClientService', this.verifyClientService.get);\n      // this.comandAnalizerService.getIsActive();\n      // this.comandAnalizerService.getComands();\n    }\n\n  private detectScreenSize() {\n    this.isScreenIsMobile = window.innerWidth > 1049 ? false : true;\n    // console.log('window.innerWidth', window.innerWidth);\n    // console.log('this.isScreenIsMobile', this.isScreenIsMobile);\n  }\n\n  ngOnInit() {\n    this.detectScreenSize();\n    this.socketService.isSocketOpenReconect = false;\n    this.navigatorService.setPageActive('carta');\n\n    this.infoTokenService.getInfoUs();\n    this.isPuntoAutoPedido = this.infoTokenService.isPuntoAutoPedido();\n    this.isSpeechVoiceAcivado = this.establecimientoService.get().speech_disabled === 1;\n    // this.navigatorService.addLink('carta');\n\n    // console.log('this.infoTokenService.infoUsToken', this.infoTokenService.infoUsToken);\n    // console.log('pedido main verifyClient');\n    this.verifyClientService.verifyClient().subscribe((res: SocketClientModel) => {\n      // console.log('desde incio', res);\n      if ( !res ) { this.isUsuarioCliente = this.infoTokenService.infoUsToken.isCliente; } else {\n        this.isUsuarioCliente = res.isCliente || false;\n      }\n      this.listenStatusService.setIsUsuarioCliente(this.isUsuarioCliente);\n      this.isClienteDelivery = res?.isDelivery;\n      this.isClienteReserva = res?.isReserva;\n\n      // -----------------> ACTIVAR MOZO VIRTUAL\n      // 250122 quitamos speech x mejorar\n      // const _isActiveMozoVoz =  this.isSpeechVoiceAcivado && this.isUsuarioCliente && !this.isClienteDelivery;\n      // console.log('_isActiveMozoVoz', _isActiveMozoVoz);\n      // this.infoTokenService.setIsAvtiveMozoVoz(_isActiveMozoVoz);\n\n      // if ( _isActiveMozoVoz ) {\n      //   this.comandAnalizerService.getComands();\n      //   setTimeout(() => {\n      //     this.comandAnalizerService.cocinarComand('bienvenido');\n      //   }, 700);\n      // }\n      // -----------------> ACTIVAR MOZO VIRTUAL\n\n      // para que reconecte, porque al iniciar no conecta si viene delivery codigo qr\n      if (this.verifyClientService.getIsDelivery() && this.verifyClientService.getIsQrSuccess()) {\n        this.socketService.isSocketOpen = false;\n      }\n    });\n\n    this.listenStatusService.isBusqueda$.subscribe(res => {\n      this.isBusqueda = res;\n    });\n\n    this.listenStatusService.hayCuentaBusqueda$.subscribe(res => {\n      this.isHayCuentaBusqueda = res;\n    });\n\n    this.listenStatusService.isPagePagarCuentaShow$.subscribe(res => {\n      this.isPagePagarShow = res;\n    });\n\n    this.navigatorService.resNavigatorSourceObserve$.subscribe((res: any) => {\n      switch (res.pageActive) {\n        case 'carta':\n          this.selectedTab = 0;\n          this.resetObjCuenta();\n          // console.log(this.selectedTab);\n          break;\n        case 'estado':\n          this.selectedTab = 2;\n          break;\n        case 'mipedido':\n          this.selectedTab = 1;\n          break;\n      }\n\n      // if (res.pageActive === 'carta') {\n      //   this.selectedTab = 0;\n      //   this.resetObjCuenta();\n      //   console.log(this.selectedTab);\n      // }\n\n    });\n\n    this.miPedidoService.countItemsObserve$.subscribe((res) => {\n      this.countTotalItems = res;\n      this.importeTotalProductos = this.miPedidoService.getSubTotalMiPedido();\n    });\n\n    this.listenStatusService.isLoaderCarta$.subscribe(res => {\n      this.loaderPage = res;\n      if ( this.loaderPage ) {\n        this.verificarLoaderReload();\n      } else {\n        clearTimeout(this.timeLoader);\n      }\n    });\n\n    // this.tooltip.show();\n    // setTimeout(() => {\n    //   // this._matTooltip.position = 'below';\n    //   // this._matTooltip.tooltipClass = 'example-tooltip-red-1';\n    //   this._matTooltip.show();\n    // }, 1000);\n\n\n    // setTimeout(() => {\n    //   this.comandAnalizerService.cocinarComand('bienvenido');\n    // }, 500);\n\n  }\n\n  // 12 segundos de cargar, reload page\n  private verificarLoaderReload() {\n    this.timeLoader = setTimeout(() => {\n      if ( this.loaderPage ) {\n        window.location.reload();\n      }\n    }, 15000);\n  }\n\n  onScroll($event: any): void {\n    const val = $event.srcElement.scrollTop;\n    this.isVisibleToolBar = val >= this.lastValScrollTop && val > 0 ? false : true;\n\n    setTimeout(() => {\n      this.lastValScrollTop = val;\n    }, 100);\n  }\n\n  clickTab($event: any) {\n\n\n\n    // console.log('event tab', $event);\n    this.selectedTab = $event.index;\n\n    // if ( this.selectedTab === 1 && !this.isScreenIsMobile ) {return false; }\n\n    const _pageActive = $event.tab.textLabel.toLowerCase();\n    this.navigatorService.setPageActive(_pageActive);\n    // $event.srcElement.scrollTop = 0;\n    this.isVisibleToolBar = true;\n    // this.navigatorService.restorePage(_pageActive);\n  }\n\n  private resetObjCuenta(): void {\n    if ( !this.isHayCuentaBusqueda ) { return; }\n    this.miPedidoService.resetObjMiPedido();\n    this.listenStatusService.setHayCuentaBuesqueda(false);\n  }\n\n  goListaProductos() {\n    const _tabList = {\n      index: 1,\n      tab: {\n        isActive: true,\n        origin: 1,\n        position: 0,\n        textLabel: 'MiPedido'\n      }\n    };\n\n    this.clickTab(_tabList);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FormsModule } from '@angular/forms';\nimport { ComponentesModule } from 'src/app/componentes/componentes.module';\n\nimport { MainComponent } from './main/main.component';\nimport { InicioComponent } from './inicio/inicio.component';\nimport { CartaComponent } from './carta/carta.component';\nimport { ResumenPedidoComponent } from './resumen-pedido/resumen-pedido.component';\nimport { EstadoPedidoComponent } from './estado-pedido/estado-pedido.component';\nimport { BuscarItemComponent } from './buscar-item/buscar-item.component';\nimport { PedidoRoutingModule } from './pedido.routing';\nimport { CoreModule } from 'src/app/core/core.module';\n\n// import { DialogItemComponent } from './resumen-pedido/dialog-item/dialog-item.component';\nimport { BusquedaComponent } from './busqueda/busqueda.component';\n// import { DialogSubitemRemoveComponent } from './resumen-pedido/dialog-subitem-remove/dialog-subitem-remove.component';\n\nimport { DialogResetComponent } from './resumen-pedido/dialog-reset/dialog-reset.component';\nimport { DialogLoadingComponent } from './resumen-pedido/dialog-loading/dialog-loading.component';\nimport { DialogItemEditComponent } from 'src/app/componentes/dialog-item-edit/dialog-item-edit.component';\nimport { DialogVerificarTelefonoComponent } from 'src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component';\n// import { DialogSelectDireccionComponent } from 'src/app/componentes/dialog-select-direccion/dialog-select-direccion.component';\n// import { DialogMetodoPagoComponent } from 'src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component';\n// import { PagarCuentaComponent } from './pagar-cuenta/pagar-cuenta.component';\n\n\n\n@NgModule({\n  declarations: [\n    MainComponent,\n    InicioComponent,\n    CartaComponent,\n    ResumenPedidoComponent,\n    EstadoPedidoComponent,\n    BuscarItemComponent,\n    // DialogItemComponent,\n    DialogResetComponent,\n    DialogLoadingComponent,\n    // DialogSubitemRemoveComponent,\n    DialogItemEditComponent,\n    BusquedaComponent,\n    // DialogSelectDireccionComponent\n    // PagarCuentaComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    PedidoRoutingModule,\n    CoreModule,\n    ComponentesModule\n  ],\n  exports: [\n    // DialogItemComponent,\n    DialogResetComponent,\n    DialogLoadingComponent,\n    DialogItemEditComponent\n  ],\n  // entryComponents: [\n  //   DialogResetComponent,\n  //   DialogLoadingComponent,\n  //   DialogItemEditComponent,\n  //   DialogVerificarTelefonoComponent,\n  //   // DialogSelectDireccionComponent\n\n  //   // DialogMetodoPagoComponent\n  // ]\n})\nexport class PedidoModule { }\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MainComponent } from './main/main.component';\r\nimport { InicioComponent } from './inicio/inicio.component';\r\nimport { CartaComponent } from './carta/carta.component';\r\nimport { BusquedaComponent } from './busqueda/busqueda.component';\r\n// import { PagarCuentaComponent } from './pagar-cuenta/pagar-cuenta.component';\r\n\r\n\r\nconst routes: Routes = [{\r\n    path: '', component: MainComponent,\r\n    data: { titulo: 'Pedido' },\r\n    children: [\r\n        // {\r\n        //     path: '', redirectTo: 'inicio/1', pathMatch: 'full'\r\n        // },\r\n        // {\r\n        //     path: 'inicio/:id',\r\n        //     component: InicioComponent,\r\n        //     data: { titulo: 'Inicio' }\r\n        // },\r\n        {\r\n            path: 'lacarta/:id',\r\n            component: CartaComponent,\r\n            data: { titulo: 'Carta' }\r\n        },\r\n        // {\r\n        //     path: 'pagar-cuenta',\r\n        //     component: PagarCuentaComponent,\r\n        //     data: { titulo: 'Pagar' }\r\n        // },\r\n        // {\r\n        //     path: 'busqueda',\r\n        //     component: BusquedaComponent,\r\n        //     data: { titulo: 'Buscar' }\r\n        // },\r\n        // // {\r\n        //     path: 'resumen',\r\n        //     component: ResumenPedidoComponent,\r\n        //     data: { titulo: 'Resumen' }\r\n        // }\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class PedidoRoutingModule { }\r\n","export default \".m1 {\\r\\n\\r\\n  /* border:0px; */\\r\\n  /* border-bottom: 1px solid #e0e0e0; */\\r\\n  background: white;\\r\\n  padding: 8px;\\r\\n  padding-left: 15px;\\r\\n  padding-right: 15px;\\r\\n}\\r\\n\\r\\n.m1.seccion{\\r\\n\\r\\n  /* border:0px; */\\r\\n  border-bottom: 1px solid #e0e0e0;\\r\\n  background: white;\\r\\n  padding: 8px;\\r\\n  padding-left: 15px;\\r\\n  padding-right: 15px;\\r\\n\\r\\n  display: -webkit-box;\\r\\n\\r\\n  display: -webkit-flex;\\r\\n\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.border-bottom-li {\\r\\n  border-bottom: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.img {\\r\\n  border: 1px solid #bdbdbd;\\r\\n  text-align: center;\\r\\n  border-radius: 50px;\\r\\n  width: 50px;\\r\\n  line-height: 10px;\\r\\n  padding: 8px;\\r\\n  float: left;\\r\\n  margin-right: 10px;\\r\\n  max-height: 52px;\\r\\n}\\r\\n\\r\\n.estado-color-verde {\\r\\n  background: #43a047;\\r\\n  color: #e0e0e0;\\r\\n}\\r\\n\\r\\n.estado-color-amarillo {\\r\\n  background: #ffb300;\\r\\n  color: #424242;\\r\\n}\\r\\n\\r\\n.estado-color-rojo {\\r\\n  background: #d81b60;\\r\\n  color: #e0e0e0;\\r\\n}\\r\\n\\r\\n.trasicion-border {\\r\\n  -webkit-transition: border-left 0.3s ease-out;\\r\\n  transition: border-left 0.3s ease-out;\\r\\n}\\r\\n\\r\\n.border-left-item-verde {\\r\\n  border-left: 5px solid #43a047;\\r\\n}\\r\\n\\r\\n.border-left-item-rojo {\\r\\n  border-left: 5px solid #d81b60;\\r\\n}\\r\\n\\r\\n.border-left-item-amarillo {\\r\\n  border-left: 5px solid #ffb300;\\r\\n}\\r\\n\\r\\n.m1-selected {\\r\\n  /* margin: 10px; */\\r\\n  border: 1px solid #e0e0e0;\\r\\n  background: #eeeeee;\\r\\n  border-radius: 5px;\\r\\n}\\r\\n\\r\\n.margin-input {\\r\\n  margin-bottom: -20px;\\r\\n  margin-top: -20px;\\r\\n}\\r\\n\\r\\n.color-fondo-ul {\\r\\n  background: #616161;\\r\\n}\\r\\n\\r\\n.li-padding-selected {\\r\\n  padding: 12px;\\r\\n}\\r\\n\\r\\n.li-padding-selected .xcontent {\\r\\n  border: 1px solid #e0e0e0;\\r\\n  background: #eeeeee;\\r\\n  border-radius: 5px;\\r\\n  /* position: inherit; */\\r\\n\\r\\n}\\r\\n\\r\\n.p-titulo-item-sin-detalle {\\r\\n  padding-top: 15px;\\r\\n  padding-bottom: 15px;\\r\\n}\\r\\n\\r\\n.p-titulo-item-select {\\r\\n  padding: 8px;\\r\\n  padding-left: 15px;\\r\\n  padding-right: 15px;  \\r\\n}\\r\\n\\r\\n.content-titulo-item {\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n.content-titulo-item .titlo-detalle {\\r\\n  font-size: 13px;\\r\\n  font-family: Ubuntu-Light;\\r\\n  color: #616161;\\r\\n\\r\\n  display: -webkit-box;\\r\\n  max-width: 100%;\\r\\n  max-height: 40px;\\r\\n  margin: 0 auto;  \\r\\n  -webkit-line-clamp: 2;\\r\\n  -webkit-box-orient: vertical;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  text-transform: lowercase;\\r\\n}\\r\\n\\r\\n.titulo-detalle-seccion {\\r\\n  width: 80%;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.li-padding-selected .xtitulo {\\r\\n  background: #e0e0e0;\\r\\n  /* position: static; */\\r\\n}\\r\\n\\r\\n.li-padding-selected .flag-stock {\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.tb-tpc tr>td {\\r\\n  font-size: 12px;\\r\\n  border-bottom: 1px dashed #e0e0e0;\\r\\n}\\r\\n\\r\\n.btn-tbl {\\r\\n  text-align: center;\\r\\n  color: white;\\r\\n  padding: 5px 15px 5px 15px;\\r\\n  font-size: 15px;\\r\\n}\\r\\n\\r\\n.flag-stock {\\r\\n  position: absolute;\\r\\n  float: right;\\r\\n  margin-top: -9px;\\r\\n  margin-right: 50px;\\r\\n  /* padding: 0px 10px 0px 10px; */\\r\\n  padding: 5px;\\r\\n  border-radius: 0px 0px 5px 5px;\\r\\n  right: 10px;\\r\\n  line-height: 1;\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.li-padding-selected .flag-stock-dialog {\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.li-tachado {\\r\\n  text-decoration: line-through;\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.flag-stock-dialog{\\r\\n    float: right;\\r\\n    margin-top: -9px;    \\r\\n    padding: 5px;\\r\\n    border-radius: 0px 0px 5px 5px;\\r\\n    right: 10px;\\r\\n    line-height: 1;    \\r\\n}\\r\\n\\r\\n.mat-dialog-container {\\r\\n  padding: 0px !important;\\r\\n}\\r\\n\\r\\n.m-toolbar-seccion {\\r\\n  position: fixed;\\r\\n  width: 100%;\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n.m-main-pt-40 {\\r\\n  padding-top: 40px;\\r\\n}\\r\\n\\r\\n.titulo-num-mesa {\\r\\n  background: #757575;\\r\\n  color: black;\\r\\n}\\r\\n\\r\\n/* subitems */\\r\\n\\r\\n.subitem-content {\\r\\n  display: -webkit-inline-box;\\r\\n  display: -webkit-inline-flex;\\r\\n  display: inline-flex;\\r\\n  width: 100%;\\r\\n  padding-bottom: 20px;\\r\\n  background: lightgoldenrodyellow;\\r\\n  padding: 5px;\\r\\n  -webkit-flex-wrap: wrap;\\r\\n          flex-wrap: wrap;\\r\\n  margin-top: 20px;\\r\\n  margin-bottom: 20px;\\r\\n  border-top: 1px solid #bdbdbd;\\r\\n  border-bottom: 1px solid #bdbdbd;\\r\\n}\\r\\n\\r\\n.subitem-content .xoption {\\r\\n  display: -webkit-inline-box;\\r\\n  display: -webkit-inline-flex;\\r\\n  display: inline-flex;  \\r\\n  padding-right: 8px;\\r\\n  min-width: 150px;\\r\\n}\\r\\n\\r\\n.subitem-content .xoption .agotado {\\r\\n  text-decoration: line-through;\\r\\n  color: palevioletred;\\r\\n}\\r\\n\\r\\n/* \\r\\n.subitem-content .xoption .precio {\\r\\n  position: relative;\\r\\n  right: -50%;\\r\\n} */\\r\\n\\r\\n.item-titulo {\\r\\n  color: #424242;\\r\\n}\\r\\n\\r\\n.icon-div-carta {\\r\\n  border: solid 1px #bdbdbd;\\r\\n}\\r\\n\\r\\n.icon-item-carta {\\r\\n  height: 60px;\\r\\n  -o-object-fit: cover;\\r\\n     object-fit: cover;\\r\\n  -webkit-transition: all 0.1s;\\r\\n  transition: all 0.1s;\\r\\n  width: 60px;\\r\\n  border-radius: 5px;\\r\\n  /* margin-right: 5px; */\\r\\n}\\r\\n\\r\\n.li-seccion {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL3BlZGlkby5zdHlsZS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUUsZ0JBQWdCO0VBQ2hCLHNDQUFzQztFQUN0QyxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixtQkFBbUI7QUFDckI7O0FBRUE7O0VBRUUsZ0JBQWdCO0VBQ2hCLGdDQUFnQztFQUNoQyxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixtQkFBbUI7O0VBRW5CLG9CQUFhOztFQUFiLHFCQUFhOztFQUFiLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGdDQUFnQztBQUNsQzs7QUFLQTtFQUNFLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsNkNBQXFDO0VBQXJDLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQix1QkFBdUI7O0FBRXpCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsY0FBYzs7RUFFZCxvQkFBb0I7RUFDcEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLDRCQUE0QjtFQUM1QixnQkFBZ0I7RUFDaEIsdUJBQXVCO0VBQ3ZCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFVBQVU7RUFDVixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUNBQWlDO0FBQ25DOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWiwwQkFBMEI7RUFDMUIsZUFBZTtBQUNqQjs7QUFHQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixnQ0FBZ0M7RUFDaEMsWUFBWTtFQUNaLDhCQUE4QjtFQUM5QixXQUFXO0VBQ1gsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixVQUFVO0FBQ1o7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWiw4QkFBOEI7SUFDOUIsV0FBVztJQUNYLGNBQWM7QUFDbEI7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBR0E7RUFDRSxlQUFlO0VBQ2YsV0FBVztFQUNYLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0FBQ2Q7O0FBRUEsYUFBYTs7QUFDYjtFQUNFLDJCQUFvQjtFQUFwQiw0QkFBb0I7RUFBcEIsb0JBQW9CO0VBQ3BCLFdBQVc7RUFDWCxvQkFBb0I7RUFDcEIsZ0NBQWdDO0VBQ2hDLFlBQVk7RUFDWix1QkFBZTtVQUFmLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLDZCQUE2QjtFQUM3QixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSwyQkFBb0I7RUFBcEIsNEJBQW9CO0VBQXBCLG9CQUFvQjtFQUNwQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsNkJBQTZCO0VBQzdCLG9CQUFvQjtBQUN0Qjs7QUFDQTs7OztHQUlHOztBQUVIO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixvQkFBaUI7S0FBakIsaUJBQWlCO0VBQ2pCLDRCQUFvQjtFQUFwQixvQkFBb0I7RUFDcEIsV0FBVztFQUNYLGtCQUFrQjtFQUNsQix1QkFBdUI7QUFDekI7O0FBR0E7RUFDRSxlQUFlO0FBQ2pCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGVkaWRvL3BlZGlkby5zdHlsZS5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubTEge1xyXG5cclxuICAvKiBib3JkZXI6MHB4OyAqL1xyXG4gIC8qIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOyAqL1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICBwYWRkaW5nLWxlZnQ6IDE1cHg7XHJcbiAgcGFkZGluZy1yaWdodDogMTVweDtcclxufVxyXG5cclxuLm0xLnNlY2Npb257XHJcblxyXG4gIC8qIGJvcmRlcjowcHg7ICovXHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIHBhZGRpbmctbGVmdDogMTVweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG5cclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uYm9yZGVyLWJvdHRvbS1saSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi5pbWcge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgbGluZS1oZWlnaHQ6IDEwcHg7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIG1hcmdpbi1yaWdodDogMTBweDtcclxuICBtYXgtaGVpZ2h0OiA1MnB4O1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLXZlcmRlIHtcclxuICBiYWNrZ3JvdW5kOiAjNDNhMDQ3O1xyXG4gIGNvbG9yOiAjZTBlMGUwO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLWFtYXJpbGxvIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZiMzAwO1xyXG4gIGNvbG9yOiAjNDI0MjQyO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLXJvam8ge1xyXG4gIGJhY2tncm91bmQ6ICNkODFiNjA7XHJcbiAgY29sb3I6ICNlMGUwZTA7XHJcbn1cclxuXHJcbi50cmFzaWNpb24tYm9yZGVyIHtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItbGVmdCAwLjNzIGVhc2Utb3V0O1xyXG59XHJcblxyXG4uYm9yZGVyLWxlZnQtaXRlbS12ZXJkZSB7XHJcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjNDNhMDQ3O1xyXG59XHJcblxyXG4uYm9yZGVyLWxlZnQtaXRlbS1yb2pvIHtcclxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNkODFiNjA7XHJcbn1cclxuXHJcbi5ib3JkZXItbGVmdC1pdGVtLWFtYXJpbGxvIHtcclxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNmZmIzMDA7XHJcbn1cclxuXHJcbi5tMS1zZWxlY3RlZCB7XHJcbiAgLyogbWFyZ2luOiAxMHB4OyAqL1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYmFja2dyb3VuZDogI2VlZWVlZTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5tYXJnaW4taW5wdXQge1xyXG4gIG1hcmdpbi1ib3R0b206IC0yMHB4O1xyXG4gIG1hcmdpbi10b3A6IC0yMHB4O1xyXG59XHJcblxyXG4uY29sb3ItZm9uZG8tdWwge1xyXG4gIGJhY2tncm91bmQ6ICM2MTYxNjE7XHJcbn1cclxuXHJcbi5saS1wYWRkaW5nLXNlbGVjdGVkIHtcclxuICBwYWRkaW5nOiAxMnB4O1xyXG59XHJcblxyXG4ubGktcGFkZGluZy1zZWxlY3RlZCAueGNvbnRlbnQge1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYmFja2dyb3VuZDogI2VlZWVlZTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgLyogcG9zaXRpb246IGluaGVyaXQ7ICovXHJcblxyXG59XHJcblxyXG4ucC10aXR1bG8taXRlbS1zaW4tZGV0YWxsZSB7XHJcbiAgcGFkZGluZy10b3A6IDE1cHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbi5wLXRpdHVsby1pdGVtLXNlbGVjdCB7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIHBhZGRpbmctbGVmdDogMTVweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAxNXB4OyAgXHJcbn1cclxuXHJcbi5jb250ZW50LXRpdHVsby1pdGVtIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuXHJcbi5jb250ZW50LXRpdHVsby1pdGVtIC50aXRsby1kZXRhbGxlIHtcclxuICBmb250LXNpemU6IDEzcHg7XHJcbiAgZm9udC1mYW1pbHk6IFVidW50dS1MaWdodDtcclxuICBjb2xvcjogIzYxNjE2MTtcclxuXHJcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIG1heC1oZWlnaHQ6IDQwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87ICBcclxuICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XHJcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gIHRleHQtdHJhbnNmb3JtOiBsb3dlcmNhc2U7XHJcbn1cclxuXHJcbi50aXR1bG8tZGV0YWxsZS1zZWNjaW9uIHtcclxuICB3aWR0aDogODAlO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxufVxyXG5cclxuLmxpLXBhZGRpbmctc2VsZWN0ZWQgLnh0aXR1bG8ge1xyXG4gIGJhY2tncm91bmQ6ICNlMGUwZTA7XHJcbiAgLyogcG9zaXRpb246IHN0YXRpYzsgKi9cclxufVxyXG5cclxuLmxpLXBhZGRpbmctc2VsZWN0ZWQgLmZsYWctc3RvY2sge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG5cclxuLnRiLXRwYyB0cj50ZCB7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgI2UwZTBlMDtcclxufVxyXG5cclxuLmJ0bi10Ymwge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogNXB4IDE1cHggNXB4IDE1cHg7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG59XHJcblxyXG5cclxuLmZsYWctc3RvY2sge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luLXRvcDogLTlweDtcclxuICBtYXJnaW4tcmlnaHQ6IDUwcHg7XHJcbiAgLyogcGFkZGluZzogMHB4IDEwcHggMHB4IDEwcHg7ICovXHJcbiAgcGFkZGluZzogNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDBweCAwcHggNXB4IDVweDtcclxuICByaWdodDogMTBweDtcclxuICBsaW5lLWhlaWdodDogMTtcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4ubGktcGFkZGluZy1zZWxlY3RlZCAuZmxhZy1zdG9jay1kaWFsb2cge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG5cclxuLmxpLXRhY2hhZG8ge1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xyXG4gIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi5mbGFnLXN0b2NrLWRpYWxvZ3tcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIG1hcmdpbi10b3A6IC05cHg7ICAgIFxyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCA1cHggNXB4O1xyXG4gICAgcmlnaHQ6IDEwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTsgICAgXHJcbn1cclxuXHJcbi5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG4ubS10b29sYmFyLXNlY2Npb24ge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB3aWR0aDogMTAwJTtcclxuICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubS1tYWluLXB0LTQwIHtcclxuICBwYWRkaW5nLXRvcDogNDBweDtcclxufVxyXG5cclxuLnRpdHVsby1udW0tbWVzYSB7XHJcbiAgYmFja2dyb3VuZDogIzc1NzU3NTtcclxuICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi8qIHN1Yml0ZW1zICovXHJcbi5zdWJpdGVtLWNvbnRlbnQge1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xyXG4gIGJhY2tncm91bmQ6IGxpZ2h0Z29sZGVucm9keWVsbG93O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjYmRiZGJkO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmRiZGJkO1xyXG59XHJcblxyXG4uc3ViaXRlbS1jb250ZW50IC54b3B0aW9uIHtcclxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDsgIFxyXG4gIHBhZGRpbmctcmlnaHQ6IDhweDtcclxuICBtaW4td2lkdGg6IDE1MHB4O1xyXG59XHJcblxyXG4uc3ViaXRlbS1jb250ZW50IC54b3B0aW9uIC5hZ290YWRvIHtcclxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcclxuICBjb2xvcjogcGFsZXZpb2xldHJlZDtcclxufVxyXG4vKiBcclxuLnN1Yml0ZW0tY29udGVudCAueG9wdGlvbiAucHJlY2lvIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgcmlnaHQ6IC01MCU7XHJcbn0gKi9cclxuXHJcbi5pdGVtLXRpdHVsbyB7XHJcbiAgY29sb3I6ICM0MjQyNDI7XHJcbn1cclxuXHJcbi5pY29uLWRpdi1jYXJ0YSB7XHJcbiAgYm9yZGVyOiBzb2xpZCAxcHggI2JkYmRiZDtcclxufVxyXG5cclxuLmljb24taXRlbS1jYXJ0YSB7XHJcbiAgaGVpZ2h0OiA2MHB4O1xyXG4gIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjFzO1xyXG4gIHdpZHRoOiA2MHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAvKiBtYXJnaW4tcmlnaHQ6IDVweDsgKi9cclxufVxyXG5cclxuXHJcbi5saS1zZWNjaW9uIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuIl19 */\";","export default \".img-success {\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL3Jlc3VtZW4tcGVkaWRvL2RpYWxvZy1sb2FkaW5nL2RpYWxvZy1sb2FkaW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGVkaWRvL3Jlc3VtZW4tcGVkaWRvL2RpYWxvZy1sb2FkaW5nL2RpYWxvZy1sb2FkaW5nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1nLXN1Y2Nlc3Mge1xyXG4gICAgd2lkdGg6IDE1MHB4O1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-dialog-loading',\n  templateUrl: './dialog-loading.component.html',\n  styleUrls: ['./dialog-loading.component.css']\n})\nexport class DialogLoadingComponent implements OnInit {\n\n  isSusccess = false;\n  constructor(\n    private dialogRef: MatDialogRef<DialogLoadingComponent>\n    ) {\n    }\n\n  ngOnInit() {\n    setTimeout(() => {\n      // this.dialogRef.close();\n      this.isSusccess = true;\n      setTimeout(() => {\n        // this.isSusccess = false;\n        this.dialogRef.close();\n      }, 1500);\n    }, 1500);\n  }\n\n}\n","export default \".xcontent {\\r\\n        position: absolute;\\r\\n        top: 0;\\r\\n        bottom: 0;\\r\\n}\\r\\n.div-plr {\\r\\n    padding-left: 7px;\\r\\n    padding-right: 7px;\\r\\n}\\r\\n.div-content-all {\\r\\n    top: 0px;\\r\\n    position: relative;\\r\\n    background: white;\\r\\n}\\r\\n.titulo-tpc {\\r\\n    background: #424242;\\r\\n    color: #e0e0e0;\\r\\n    padding-top: 8px;\\r\\n    padding-bottom: 8px;\\r\\n}\\r\\n.titulo-seccion {\\r\\n    padding-top: 8px;\\r\\n    padding-bottom: 8px;\\r\\n    background: blanchedalmond;\\r\\n}\\r\\n.li-item {\\r\\n    padding-top: 6px;\\r\\n    padding-bottom: 6px;\\r\\n    border-top: 1px solid #e0e0e0;\\r\\n}\\r\\n.div-total {\\r\\n    border-top: 2px dashed #9e9e9e;\\r\\n}\\r\\n.ul-total li:last-child{\\r\\n    font-size: 20px;\\r\\n    font-weight: 800;\\r\\n}\\r\\n.countItem {\\r\\n    /* padding: 4px 7px 4px 7px;\\r\\n    border-radius: 90%;\\r\\n    line-height: 1;\\r\\n    font-size: 12px;\\r\\n    margin-top: 2px;\\r\\n     */\\r\\n    \\r\\n    border-radius: 50%;\\r\\n    line-height: 1.2;\\r\\n    font-size: 12px;\\r\\n    min-width: 20px;\\r\\n    min-height: 20px;    \\r\\n    padding: 4px;\\r\\n    text-align: center;\\r\\n}\\r\\n.countTpc{\\r\\n    float: right;\\r\\n    background: #212121;\\r\\n    color: #bdbdbd;\\r\\n}\\r\\n.countSeccion {\\r\\n  float: right;\\r\\n  color: #616161;\\r\\n  background: #ffcc80;\\r\\n}\\r\\n.btn-footer-cancel {\\r\\n    padding: 12px;\\r\\n    background: #f44336;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    width: 40%;\\r\\n}\\r\\n.btn-footer-next {\\r\\n    padding: 12px;\\r\\n    background: #00c853;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n    width: 40%;\\r\\n}\\r\\n.btn-footer-next.xdisabled {\\r\\n    pointer-events: none;\\r\\n    opacity: 0.5;\\r\\n    white-space: nowrap;\\r\\n    background: #CCC;\\r\\n}\\r\\n/* RESUMEN pedido */\\r\\n.div-resumen-pedido {\\r\\n  position: absolute;  \\r\\n  height: -webkit-calc(100vh - 49px);  \\r\\n  height: calc(100vh - 49px);\\r\\n  overflow: auto;\\r\\n}\\r\\n.div-resumen-pedido.hide {\\r\\n  margin-left: -100%;\\r\\n  /* visibility: hidden; */\\r\\n}\\r\\n.div-resumen-pedido.show {\\r\\n  margin-left: 0;\\r\\n  /* visibility: visible; */\\r\\n}\\r\\n/* RESUMEN pedido */\\r\\n/* confirmar pedido */\\r\\n.div-confirma-pedido-mesa {\\r\\n    height: 100vh;\\r\\n    position: relative;\\r\\n}\\r\\n.div-confirma-pedido {        \\r\\n    /* position: absolute; */\\r\\n    background: white;\\r\\n    /* position: relative; */\\r\\n    /* height: calc(100vh - 50px); */\\r\\n    /* overflow: auto; */\\r\\n\\r\\n    overflow: hidden;\\r\\n    /* height: 100%; */\\r\\n    top: 0;\\r\\n    margin: 0;\\r\\n    position: relative;\\r\\n\\r\\n    text-align: center;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n\\r\\n}\\r\\n.bg-1 {\\r\\n    /* background: antiquewhite; */\\r\\n    background: white;\\r\\n}\\r\\n.bg-2 {\\r\\n    background: white;\\r\\n}\\r\\n.div-confirma-pedido.hide {\\r\\n    margin-left: 100%;\\r\\n}\\r\\n.div-confirma-pedido.show {\\r\\n    margin-left: 0;\\r\\n}\\r\\n.xh-100 {\\r\\n    height: 100vh;\\r\\n}\\r\\n/* confirmar pedido */\\r\\n/* .subitem-content-resumen {\\r\\n    background: #eceff1;\\r\\n    display: flex;\\r\\n    border-bottom: 1px solid #e0e0e0;\\r\\n  } */\\r\\n.subitem-content-resumen {\\r\\n    background: #d3eafd;\\r\\n    /* border-bottom: 1px solid #e0e0e0; */\\r\\n    font-size: 12px;\\r\\n    color: #616161;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n  }\\r\\n.subitem-content-resumen .btnCount {\\r\\n    -webkit-transition: all ease-in 0.1s;\\r\\n    transition: all ease-in 0.1s;\\r\\n    height: 18px;    \\r\\n    cursor: pointer;\\r\\n    opacity: 0;\\r\\n}\\r\\n.subitem-content-resumen:hover .btnCount {\\r\\n    opacity: 1;\\r\\n}\\r\\n.subitem-content-resumen .btnMenos {\\r\\n    /* font-size: 15px; */\\r\\n    font-weight: bold;\\r\\n    background: #D32F2F;\\r\\n    padding: 0px 8px 0px 8px;\\r\\n    margin-right: 3px;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n}\\r\\n.subitem-content-resumen .btnMas {\\r\\n    /* font-size: 15px; */\\r\\n    font-weight: bold;\\r\\n    background: #1565C0;\\r\\n    padding: 0px 8px 0px 8px;\\r\\n    margin-left: 3px;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n}\\r\\n@media only screen and (min-width: 600px) {\\r\\n    \\r\\n\\r\\n    .div-resumen-pedido {\\r\\n        position: relative;\\r\\n        height: auto;\\r\\n        overflow: hidden;\\r\\n    }\\r\\n\\r\\n    .div-resumen-pre-pago {\\r\\n        position: absolute;\\r\\n        /* height: calc(100vh - 212px); */\\r\\n    }\\r\\n\\r\\n    .xfooter {\\r\\n        bottom: 0px;\\r\\n        position: fixed;\\r\\n        background: #e0e0e0;\\r\\n        /* height: 48px; */\\r\\n        box-sizing: border-box;\\r\\n        /* position: sticky; */\\r\\n        min-width: 230px;\\r\\n        max-width: 360px;\\r\\n        width: -webkit-calc(100% / 9.8 * 3);\\r\\n        width: calc(100% / 9.8 * 3);\\r\\n    }\\r\\n\\r\\n    /* .btn-footer-cancel {\\r\\n        width: auto;\\r\\n    }\\r\\n\\r\\n    .btn-footer-next {\\r\\n        width: auto;\\r\\n    } */\\r\\n\\r\\n    .div-content-all {\\r\\n        font-size: 14px !important;\\r\\n    }\\r\\n    \\r\\n}\\r\\n.content-resumen{\\r\\n    background: #eeeeee;\\r\\n}\\r\\n@media only screen and (max-width: 1050px) {\\r\\n    .content-resumen{\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .xfooter{\\r\\n        width: 100%;\\r\\n        max-width: 100%;\\r\\n    }\\r\\n    \\r\\n}\\r\\n.img-cuenta {\\r\\n    border-radius: 10px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVkaWRvL3Jlc3VtZW4tcGVkaWRvL3Jlc3VtZW4tcGVkaWRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7UUFDUSxrQkFBa0I7UUFDbEIsTUFBTTtRQUNOLFNBQVM7QUFDakI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLFFBQVE7SUFDUixrQkFBa0I7SUFDbEIsaUJBQWlCO0FBQ3JCO0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsMEJBQTBCO0FBQzlCO0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDZCQUE2QjtBQUNqQztBQUVBO0lBQ0ksOEJBQThCO0FBQ2xDO0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0FBQ3BCO0FBRUE7SUFDSTs7Ozs7TUFLRTs7SUFFRixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsY0FBYztBQUNsQjtBQUVBO0VBQ0UsWUFBWTtFQUNaLGNBQWM7RUFDZCxtQkFBbUI7QUFDckI7QUFHQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0FBQ2Q7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsVUFBVTtBQUNkO0FBRUE7SUFDSSxvQkFBb0I7SUFDcEIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixnQkFBZ0I7QUFDcEI7QUFFQSxtQkFBbUI7QUFDbkI7RUFDRSxrQkFBa0I7RUFDbEIsa0NBQTBCO0VBQTFCLDBCQUEwQjtFQUMxQixjQUFjO0FBQ2hCO0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsd0JBQXdCO0FBQzFCO0FBRUE7RUFDRSxjQUFjO0VBQ2QseUJBQXlCO0FBQzNCO0FBRUEsbUJBQW1CO0FBRW5CLHFCQUFxQjtBQUNyQjtJQUNJLGFBQWE7SUFDYixrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixpQkFBaUI7SUFDakIsd0JBQXdCO0lBQ3hCLGdDQUFnQztJQUNoQyxvQkFBb0I7O0lBRXBCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFNBQVM7SUFDVCxrQkFBa0I7O0lBRWxCLGtCQUFrQjtJQUNsQixvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLHdCQUF1QjtJQUF2QiwrQkFBdUI7WUFBdkIsdUJBQXVCOztBQUUzQjtBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGlCQUFpQjtBQUNyQjtBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7QUFFQTtJQUNJLGNBQWM7QUFDbEI7QUFFQTtJQUNJLGFBQWE7QUFDakI7QUFFQSxxQkFBcUI7QUFFckI7Ozs7S0FJSztBQUVMO0lBQ0ksbUJBQW1CO0lBQ25CLHNDQUFzQztJQUN0QyxlQUFlO0lBQ2YsY0FBYztJQUNkLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0VBQ2Y7QUFFRjtJQUNJLG9DQUE0QjtJQUE1Qiw0QkFBNEI7SUFDNUIsWUFBWTtJQUNaLGVBQWU7SUFDZixVQUFVO0FBQ2Q7QUFFQTtJQUNJLFVBQVU7QUFDZDtBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsd0JBQXdCO0lBQ3hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsd0JBQXdCO0lBQ3hCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUdBOzs7SUFHSTtRQUNJLGtCQUFrQjtRQUNsQixZQUFZO1FBQ1osZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLGlDQUFpQztJQUNyQzs7SUFFQTtRQUNJLFdBQVc7UUFDWCxlQUFlO1FBQ2YsbUJBQW1CO1FBQ25CLGtCQUFrQjtRQUNsQixzQkFBc0I7UUFDdEIsc0JBQXNCO1FBQ3RCLGdCQUFnQjtRQUNoQixnQkFBZ0I7UUFDaEIsbUNBQTJCO1FBQTNCLDJCQUEyQjtJQUMvQjs7SUFFQTs7Ozs7O09BTUc7O0lBRUg7UUFDSSwwQkFBMEI7SUFDOUI7O0FBRUo7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QjtBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksV0FBVztRQUNYLGVBQWU7SUFDbkI7O0FBRUo7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixtQkFBbUI7QUFDdkIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wZWRpZG8vcmVzdW1lbi1wZWRpZG8vcmVzdW1lbi1wZWRpZG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi54Y29udGVudCB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBib3R0b206IDA7XHJcbn1cclxuLmRpdi1wbHIge1xyXG4gICAgcGFkZGluZy1sZWZ0OiA3cHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA3cHg7XHJcbn1cclxuXHJcbi5kaXYtY29udGVudC1hbGwge1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLnRpdHVsby10cGMge1xyXG4gICAgYmFja2dyb3VuZDogIzQyNDI0MjtcclxuICAgIGNvbG9yOiAjZTBlMGUwO1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbn1cclxuXHJcbi50aXR1bG8tc2VjY2lvbiB7XHJcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcclxuICAgIGJhY2tncm91bmQ6IGJsYW5jaGVkYWxtb25kO1xyXG59XHJcblxyXG4ubGktaXRlbSB7XHJcbiAgICBwYWRkaW5nLXRvcDogNnB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDZweDtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uZGl2LXRvdGFsIHtcclxuICAgIGJvcmRlci10b3A6IDJweCBkYXNoZWQgIzllOWU5ZTtcclxufVxyXG5cclxuLnVsLXRvdGFsIGxpOmxhc3QtY2hpbGR7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBmb250LXdlaWdodDogODAwO1xyXG59XHJcblxyXG4uY291bnRJdGVtIHtcclxuICAgIC8qIHBhZGRpbmc6IDRweCA3cHggNHB4IDdweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDkwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMnB4O1xyXG4gICAgICovXHJcbiAgICBcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBtaW4td2lkdGg6IDIwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAyMHB4OyAgICBcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmNvdW50VHBje1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgYmFja2dyb3VuZDogIzIxMjEyMTtcclxuICAgIGNvbG9yOiAjYmRiZGJkO1xyXG59XHJcblxyXG4uY291bnRTZWNjaW9uIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgY29sb3I6ICM2MTYxNjE7XHJcbiAgYmFja2dyb3VuZDogI2ZmY2M4MDtcclxufVxyXG5cclxuXHJcbi5idG4tZm9vdGVyLWNhbmNlbCB7XHJcbiAgICBwYWRkaW5nOiAxMnB4O1xyXG4gICAgYmFja2dyb3VuZDogI2Y0NDMzNjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiA0MCU7XHJcbn1cclxuXHJcbi5idG4tZm9vdGVyLW5leHQge1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICAgIGJhY2tncm91bmQ6ICMwMGM4NTM7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgd2lkdGg6IDQwJTtcclxufVxyXG5cclxuLmJ0bi1mb290ZXItbmV4dC54ZGlzYWJsZWQge1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgYmFja2dyb3VuZDogI0NDQztcclxufVxyXG5cclxuLyogUkVTVU1FTiBwZWRpZG8gKi9cclxuLmRpdi1yZXN1bWVuLXBlZGlkbyB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlOyAgXHJcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNDlweCk7XHJcbiAgb3ZlcmZsb3c6IGF1dG87XHJcbn1cclxuXHJcbi5kaXYtcmVzdW1lbi1wZWRpZG8uaGlkZSB7XHJcbiAgbWFyZ2luLWxlZnQ6IC0xMDAlO1xyXG4gIC8qIHZpc2liaWxpdHk6IGhpZGRlbjsgKi9cclxufVxyXG5cclxuLmRpdi1yZXN1bWVuLXBlZGlkby5zaG93IHtcclxuICBtYXJnaW4tbGVmdDogMDtcclxuICAvKiB2aXNpYmlsaXR5OiB2aXNpYmxlOyAqL1xyXG59XHJcblxyXG4vKiBSRVNVTUVOIHBlZGlkbyAqL1xyXG5cclxuLyogY29uZmlybWFyIHBlZGlkbyAqL1xyXG4uZGl2LWNvbmZpcm1hLXBlZGlkby1tZXNhIHtcclxuICAgIGhlaWdodDogMTAwdmg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5kaXYtY29uZmlybWEtcGVkaWRvIHsgICAgICAgIFxyXG4gICAgLyogcG9zaXRpb246IGFic29sdXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAvKiBwb3NpdGlvbjogcmVsYXRpdmU7ICovXHJcbiAgICAvKiBoZWlnaHQ6IGNhbGMoMTAwdmggLSA1MHB4KTsgKi9cclxuICAgIC8qIG92ZXJmbG93OiBhdXRvOyAqL1xyXG5cclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXHJcbiAgICB0b3A6IDA7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cclxufVxyXG5cclxuLmJnLTEge1xyXG4gICAgLyogYmFja2dyb3VuZDogYW50aXF1ZXdoaXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbn1cclxuXHJcbi5iZy0yIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcblxyXG4uZGl2LWNvbmZpcm1hLXBlZGlkby5oaWRlIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMDAlO1xyXG59XHJcblxyXG4uZGl2LWNvbmZpcm1hLXBlZGlkby5zaG93IHtcclxuICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG59XHJcblxyXG4ueGgtMTAwIHtcclxuICAgIGhlaWdodDogMTAwdmg7XHJcbn1cclxuXHJcbi8qIGNvbmZpcm1hciBwZWRpZG8gKi9cclxuXHJcbi8qIC5zdWJpdGVtLWNvbnRlbnQtcmVzdW1lbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWNlZmYxO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xyXG4gIH0gKi9cclxuXHJcbi5zdWJpdGVtLWNvbnRlbnQtcmVzdW1lbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZDNlYWZkO1xyXG4gICAgLyogYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7ICovXHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBjb2xvcjogIzYxNjE2MTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgfVxyXG5cclxuLnN1Yml0ZW0tY29udGVudC1yZXN1bWVuIC5idG5Db3VudCB7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbiAwLjFzO1xyXG4gICAgaGVpZ2h0OiAxOHB4OyAgICBcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG9wYWNpdHk6IDA7XHJcbn1cclxuXHJcbi5zdWJpdGVtLWNvbnRlbnQtcmVzdW1lbjpob3ZlciAuYnRuQ291bnQge1xyXG4gICAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuLnN1Yml0ZW0tY29udGVudC1yZXN1bWVuIC5idG5NZW5vcyB7XHJcbiAgICAvKiBmb250LXNpemU6IDE1cHg7ICovXHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGJhY2tncm91bmQ6ICNEMzJGMkY7XHJcbiAgICBwYWRkaW5nOiAwcHggOHB4IDBweCA4cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnN1Yml0ZW0tY29udGVudC1yZXN1bWVuIC5idG5NYXMge1xyXG4gICAgLyogZm9udC1zaXplOiAxNXB4OyAqL1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMTU2NUMwO1xyXG4gICAgcGFkZGluZzogMHB4IDhweCAwcHggOHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDNweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIHtcclxuICAgIFxyXG5cclxuICAgIC5kaXYtcmVzdW1lbi1wZWRpZG8ge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAuZGl2LXJlc3VtZW4tcHJlLXBhZ28ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAvKiBoZWlnaHQ6IGNhbGMoMTAwdmggLSAyMTJweCk7ICovXHJcbiAgICB9XHJcblxyXG4gICAgLnhmb290ZXIge1xyXG4gICAgICAgIGJvdHRvbTogMHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZTBlMGUwO1xyXG4gICAgICAgIC8qIGhlaWdodDogNDhweDsgKi9cclxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIC8qIHBvc2l0aW9uOiBzdGlja3k7ICovXHJcbiAgICAgICAgbWluLXdpZHRoOiAyMzBweDtcclxuICAgICAgICBtYXgtd2lkdGg6IDM2MHB4O1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLyA5LjggKiAzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiAuYnRuLWZvb3Rlci1jYW5jZWwge1xyXG4gICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgIC5idG4tZm9vdGVyLW5leHQge1xyXG4gICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgfSAqL1xyXG5cclxuICAgIC5kaXYtY29udGVudC1hbGwge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbi5jb250ZW50LXJlc3VtZW57XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWVlZWVlO1xyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEwNTBweCkge1xyXG4gICAgLmNvbnRlbnQtcmVzdW1lbntcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC54Zm9vdGVye1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG4uaW1nLWN1ZW50YSB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG4iXX0= */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { ReglascartaService } from 'src/app/shared/services/reglascarta.service';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { JsonPrintService } from 'src/app/shared/services/json-print.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { RegistrarPagoService } from 'src/app/shared/services/registrar-pago.service';\n\n\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { FormValidRptModel } from 'src/app/modelos/from.valid.rpt.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { SubItemsView } from 'src/app/modelos/subitems.view.model';\n\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\n\nimport { DialogLoadingComponent } from './dialog-loading/dialog-loading.component';\nimport { DialogResetComponent } from './dialog-reset/dialog-reset.component';\nimport { DialogItemEditComponent } from 'src/app/componentes/dialog-item-edit/dialog-item-edit.component';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil, take, last, takeLast } from 'rxjs/operators';\nimport { EstadoPedidoClienteService } from 'src/app/shared/services/estado-pedido-cliente.service';\n// import { throwToolbarMixedModesError } from '@angular/material/toolbar';\nimport { Router } from '@angular/router';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\nimport { SpeechDataProviderService } from 'src/app/shared/services/speech/speech-data-provider.service';\n// import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\n// import { Subscription } from 'rxjs/internal/Subscription';\n\n@Component({\n  selector: 'app-resumen-pedido',\n  templateUrl: './resumen-pedido.component.html',\n  styleUrls: ['./resumen-pedido.component.css']\n})\nexport class ResumenPedidoComponent implements OnInit, OnDestroy {\n\n  // private unsubscribeRe = new Subscription();\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n\n  _miPedido: PedidoModel = new PedidoModel();\n  _arrSubtotales: any = [];\n  hayItems = false;\n  isVisibleConfirmar = false;\n  isVisibleConfirmarAnimated = false;\n  isHayCuentaBusqueda: boolean;\n  numMesaCuenta = '';\n  rulesCarta: any;\n  rulesSubtoTales: any;\n\n  msjErr = false;\n\n  isReserva = false;\n  isRequiereMesa = false;\n  isDelivery = false;\n  isDeliveryValid = false;\n  frmConfirma: any = {};\n  frmDelivery: any = {};\n  frmReservaCliente: any = {};\n\n  arrReqFrm: FormValidRptModel;\n\n  rippleColor = 'rgb(255,238,88, 0.5)';\n  rippleColorSubItem = 'rgba(117,117,117,0.1)';\n\n  loadPrinterPrecuenta = false; // si se mando a imprimir precuenta\n\n  objCuenta: any = [];\n\n  isCliente: boolean; // si es cliente quien hace el pedido\n  isSoloLLevar: boolean; // si es solo llevar\n  isDeliveryCliente: boolean; // si es cliente delivery\n  isReservaCliente: boolean; // si es cliente delivery\n  isReadyClienteDelivery = false; // si el formulario(confirmacion) clienteDelivery esta listo\n  isReadyClienteReserva = false; // si el formulario(confirmacion) reserva esta listo\n  isReloadListPedidos = false;\n  isPuntoAuntoPedido: boolean; // si es cliente quien hace el pedido\n\n  private isFirstLoadListen = false; // si es la primera vez que se carga, para no volver a cargar los observables\n\n  private isBtnPagoShow = false; // si el boton de pago ha sido visible entonces recarga la pagina de pago\n\n  private systemOS = ''; // sistema operativo cliente\n\n  nombreClienteValido = false; // cuando es cliente e ingresa como invitado pide nombre\n  isShowNombreClienteLoginInvitado = false;\n  showCuentaCliente = false;\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    private reglasCartaService: ReglascartaService,\n    private navigatorService: NavigatorLinkService,\n    private socketService: SocketService,\n    private jsonPrintService: JsonPrintService,\n    private infoToken: InfoTockenService,\n    private crudService: CrudHttpService,\n    private listenStatusService: ListenStatusService,\n    private estadoPedidoClientService: EstadoPedidoClienteService,\n    private dialog: MatDialog,\n    private router: Router,\n    private registrarPagoService: RegistrarPagoService,\n    private establecimientoService: EstablecimientoService,\n    private utilService: UtilitariosService,\n    private verifyClientService: VerifyAuthClientService,\n    private speechDataProviderService: SpeechDataProviderService\n    ) { }\n\n  ngOnInit() {\n\n    // this.establecimientoService.get();\n\n    this.systemOS = this.utilService.getOS();\n\n    this._miPedido = this.miPedidoService.getMiPedido();\n\n    this.isPuntoAuntoPedido = this.infoToken.isPuntoAutoPedido();\n\n    this.validarNomhbreCliente();\n\n    // this.verificarConexionSocket();\n\n    // console.log('si es invitado');\n    // this.isShowNombreClienteLoginInvitado = this.verifyClientService.getDataClient().isLoginByInvitado;\n    // if ( this.isShowNombreClienteLoginInvitado || this.isPuntoAuntoPedido ) {\n    //   let nomClienteInvitato = this.infoToken.infoUsToken.nombres;\n\n    //   if ( this.isPuntoAuntoPedido ) {\n    //     nomClienteInvitato = '';\n    //   }\n\n    //   nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;\n    //   this.isShowNombreClienteLoginInvitado = nomClienteInvitato === '';\n    //   this.nombreClienteValido = !this.isShowNombreClienteLoginInvitado;\n    // } else {\n    //   let nomClienteInvitato = this.infoToken.infoUsToken.nombres;\n    //   nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;\n    //   this.nombreClienteValido = nomClienteInvitato !== '';\n    // }\n\n    this.reglasCartaService.loadReglasCarta()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((res: any) => {\n      this.rulesCarta = res[0] ? res[0].reglas ? res[0].reglas : [] : res.reglas ? res.reglas : [];\n      this.rulesSubtoTales = res.subtotales || res[0].subtotales;\n\n      this.establecimientoService.setRulesSubtotales(this.rulesSubtoTales);\n\n\n      this.listenMiPedido();\n\n      this.newFomrConfirma();\n\n      // this.frmDelivery = new DatosDeliveryModel();\n    });\n\n    // this.navigatorService.resNavigatorSourceObserve$\n    // .pipe(takeUntil(this.destroy$))\n    // .subscribe((res: any) => {\n    //       if (res.pageActive === 'mipedido') {\n    //         if (res.url.indexOf('confirma') > 0) {\n    //           // this.confirmarPeiddo();\n\n    //         } else {\n    //           // this.backConfirmacion();\n    //         }\n    //       }\n    //     });\n\n    this.listenStatusService.isBtnPagoShow$\n        .pipe(takeUntil(this.destroy$))\n        .subscribe((res: boolean) => {\n          this.isBtnPagoShow = res;\n          if (!res) {\n            const localBtnP = localStorage.getItem('sys::btnP');\n            if ( localBtnP && localBtnP.toString() === '1' ) {\n              this.isBtnPagoShow = true;\n             }\n          }\n        });\n\n    // speech data finaliza pedido\n    this.speechDataProviderService.commandFinalizarPedido$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res: boolean) => {\n      if (res) {\n        // this.confirmarPeiddo();\n        this.isVisibleConfirmarAnimated = true;\n\n        setTimeout(() => {\n          this.isVisibleConfirmar = true;\n        }, 300);\n\n        this.checkTiposDeConsumo();\n        this.checkIsRequierMesa();\n        this.checkIsDelivery();\n\n        this.navigatorService.addLink('mipedido-confirma');\n\n        this.isClienteSetValues();\n      }\n    });\n\n    // speech show pedido\n    this.speechDataProviderService.commandIsShowPedido$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res: boolean) => {\n      if (res) {\n        // this.backConfirmacion();\n        this.isVisibleConfirmarAnimated = false;\n        this.isRequiereMesa = false;\n        setTimeout(() => {\n          this.isVisibleConfirmar = false;\n        }, 300);\n      }\n    });\n\n\n    // si es cliente\n    this.isCliente = this.infoToken.isCliente();\n    this.isSoloLLevar = this.infoToken.isSoloLlevar();\n    this.isDeliveryCliente = this.infoToken.isDelivery();\n    this.isReservaCliente = this.infoToken.isReserva();\n    this.isClienteSetValues();\n\n\n  }\n\n  // si es cliente asigna mesa\n  private isClienteSetValues(): void {\n    if ( this.isCliente ) {\n      this.isRequiereMesa = false;\n    }\n  }\n\n  private validarNomhbreCliente(): void {\n    this.isShowNombreClienteLoginInvitado = this.verifyClientService.getDataClient().isLoginByInvitado;\n    if ( this.isShowNombreClienteLoginInvitado || this.isPuntoAuntoPedido ) {\n      let nomClienteInvitato = this.infoToken.infoUsToken.nombres;\n\n      if ( this.isPuntoAuntoPedido ) {\n        nomClienteInvitato = '';\n        this.infoToken.infoUsToken.nombres = '';\n        this.infoToken.set();\n      }\n\n      nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;\n      this.isShowNombreClienteLoginInvitado = nomClienteInvitato === '';\n      this.nombreClienteValido = !this.isShowNombreClienteLoginInvitado;\n    } else {\n      let nomClienteInvitato = this.infoToken.infoUsToken.nombres;\n      nomClienteInvitato = nomClienteInvitato ? nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato : '';\n      this.nombreClienteValido = nomClienteInvitato !== '';\n    }\n  }\n\n  ngOnDestroy(): void {\n    // this.unsubscribe$.next();\n    // this.unsubscribe$.complete();\n    // this.unsubscribeRe.unsubscribe();\n    // Now let's also unsubscribe from the subject itself:\n    this.destroy$.next(true);\n    this.destroy$.unsubscribe();\n  }\n\n  private newFomrConfirma(): void {\n    this.frmConfirma = {\n      nummesa: '',\n      nummesa_resplado: '',\n      referencia: '',\n      reserva: false,\n      solo_llevar: false,\n      delivery: false\n    };\n\n    // traer los ultimos datos de comisiones\n    this.establecimientoService.getComsionEntrega();\n\n    if ( this.isPuntoAuntoPedido ) {\n      // se coloca vacio para asignar nuevo nombre\n      this.validarNomhbreCliente();\n    }\n  }\n\n  pintarMiPedido() {\n    this.isReloadListPedidos = true;\n    // if (!this.isHayCuentaBusqueda) {\n      this.miPedidoService.validarReglasCarta(this.rulesCarta);\n    // }\n\n    this._arrSubtotales = this.miPedidoService.getArrSubTotales(this.rulesSubtoTales);\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._arrSubtotales)));\n    this.hayItems = parseFloat(this._arrSubtotales[0].importe) > 0 ? true : false;\n\n    setTimeout(() => {\n      this.isReloadListPedidos = false;\n    }, 1000);\n\n  }\n\n  pintarMiPedidoNuevamente() {\n    this.isReloadListPedidos = true;\n    if ( !this.rulesCarta ) {\n      window.location.reload();\n      return;\n    }\n\n    this.pintarMiPedido();\n  }\n\n  listenMiPedido() {\n    // 090121 // comentamos estas lineas para corregir error de \"Aun no tiene ningun producto en lista\"\n    // if ( this.isFirstLoadListen ) {return; }\n    // this.isFirstLoadListen = true; // para que no vuelva a cargar los observables cuando actualizan desde sockets\n\n\n    this.miPedidoService.countItemsObserve$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res) => {\n      this.hayItems = res > 0 ? true : false;\n    });\n\n    // .pipe(last())\n    this.miPedidoService.miPedidoObserver$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res) => {\n      // this.miPedidoService.clearObjMiPedido(); // quita las cantidades 0\n      // this._miPedido = this.miPedidoService.getMiPedido();\n      this._miPedido = <PedidoModel>res;\n      this.pintarMiPedido();\n\n    });\n\n    this.listenStatusService.hayCuentaBusqueda$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe(res => {\n      this.isHayCuentaBusqueda = res;\n    });\n\n    // cuando es solo llevar // estar pendiente de pago suscces para enviar el pedido\n    this.listenStatusService.isPagoSucces$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe(res => {\n      if ( !res ) {return; }\n      // toma la respuesta de pago\n      // const resPago = JSON.parse(localStorage.getItem('sys::transaction-response'));\n      // const resPagoIsSucces = resPago ? !resPago.error : false;\n      const resPago = this.registrarPagoService.getDataTrasaction();\n      if (resPago.isSuccess && this.isSoloLLevar) {\n        // localStorage.removeItem('sys::transaction-response');\n        this.registrarPagoService.removeLocalDataTransaction();\n        this.enviarPedido();\n      }\n    });\n\n    this.socketService.isSocketOpen$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe(res => {\n      if (!res) {\n\n        // this.unsubscribeRe.unsubscribe();\n      }\n    });\n\n\n    // si es cliente escucha cunado termina de hacer el pedido\n    if ( this.isCliente ) {\n      this.socketService.onGetNuevoPedido()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(res => {\n        // this.estadoPedidoClientService.getCuentaTotales();\n        // this.xLoadCuentaMesa('', this.estadoPedidoClientService.getCuenta());\n        // this.estadoPedidoClientService.setImporte(this._arrSubtotales[this._arrSubtotales.length - 1].importe);\n      });\n    }\n\n    // escucha que haya cuenta del cliente\n    this.estadoPedidoClientService.hayCuentaCliente$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res: any) => {\n      if ( res ) {\n\n        this.showCuentaCliente = true;\n        this.xLoadCuentaMesa('', res);\n      }\n    });\n\n\n    // escucha isOutEstablecimientoDelivery\n    this.listenStatusService.isOutEstablecimientoDelivery$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res: any) => {\n      if ( res ) {\n        this.goBackOutEstablecimiento();\n        this.listenStatusService.setIsOutEstablecimientoDelivery(false);\n      }\n    });\n  }\n\n  addItemToResumen(_tpc: ItemTipoConsumoModel, _seccion: SeccionModel, _item: ItemModel, _subItems: SubItemsView, suma: number): void {\n\n    this.miPedidoService.setObjSeccionSeleced(_seccion);\n    const _itemFromCarta = this.miPedidoService.findItemCarta(_item);\n\n    // obtenemos el tipo consumo de carta\n    const _tpc_item_carta = _itemFromCarta.itemtiposconsumo.filter((x: ItemTipoConsumoModel) => x.idtipo_consumo === _tpc.idtipo_consumo)[0];\n\n    // this.miPedidoService.setobjItemTipoConsumoSelected( _itemInList.itemtiposconsumo);\n    _itemFromCarta.subitems_selected = _subItems.subitems;\n    _itemFromCarta.cantidad_seleccionada = _item.cantidad_seleccionada;\n\n    this.miPedidoService.addItem2(_tpc_item_carta, _itemFromCarta, suma);\n\n  }\n\n  openDlgItemToResumen(_seccion: SeccionModel, _item: ItemModel): void {\n\n    if ( this.isHayCuentaBusqueda ) { return; }\n\n    const dialogConfig = new MatDialogConfig();\n    const _itemFromCarta = this.miPedidoService.findItemCarta(_item);\n    _itemFromCarta.indicaciones = _itemFromCarta.indicaciones ? _itemFromCarta.indicaciones :  _item.indicaciones || '';\n\n    // dialogConfig.panelClass = 'dialog-item-edit';\n    dialogConfig.autoFocus = false;\n    dialogConfig.data = {\n      idTpcItemResumenSelect: null,\n      seccion: _seccion,\n      item: _itemFromCarta,\n      objItemTipoConsumoSelected: _itemFromCarta.itemtiposconsumo\n    };\n    dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'margen-0', 'margen-0'];\n\n    const dialogRef = this.dialog.open(DialogItemEditComponent, dialogConfig);\n\n    // subscribe al cierre y obtiene los datos\n    dialogRef.afterClosed().subscribe(\n        data => {\n          if ( !data ) { return; }\n\n        }\n    );\n\n  }\n\n  nuevoPedido() {\n    this.backConfirmacion();\n    if (this.isVisibleConfirmar) {\n      this.backConfirmacion();\n      // this.isVisibleConfirmarAnimated = false;\n      // setTimeout(() => {\n      //   this.isVisibleConfirmar = false;\n      // }, 300);\n      return;\n    }\n\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n\n    const dialogReset = this.dialog.open(DialogResetComponent, _dialogConfig);\n    dialogReset.afterClosed().subscribe(result => {\n      if (result ) {\n        // enviamos this._miPedido esta visa no se modifica\n        this.miPedidoService.resetAllNewPedido();\n        this.navigatorService.setPageActive('carta');\n        this.isDeliveryValid = false; // formulario no valido para delivery\n      }\n    });\n\n    this.newFomrConfirma();\n  }\n\n  nuevoPedidoFromCuenta(): void {\n    this.navigatorService.setPageActive('carta');\n  }\n\n  private backConfirmacion(): void {\n    this.navigatorService.addLink('mipedido');\n    this.isVisibleConfirmarAnimated = false;\n    this.isRequiereMesa = false;\n    setTimeout(() => {\n      this.isVisibleConfirmar = false;\n    }, 300);\n  }\n\n  getDatosFormConfirmaDelivery($event: any) {\n    this.frmDelivery = $event;\n  }\n\n  getDatosFormConfirmaReserva($event: any) {\n    this.frmReservaCliente = $event.formData;\n\n    const _frmConfirma = {\n      nummesa: '',\n      nummesa_resplado: '',\n      referencia: this.frmReservaCliente.nombre_reserva + ' ' + this.frmReservaCliente.empresa + ' ' + this.frmReservaCliente.hora_reserva,\n      reserva: true,\n      solo_llevar: false,\n      delivery: false\n    };\n\n    this.frmConfirma = _frmConfirma;\n  }\n\n  private confirmarPeiddo(): void {\n    if (this.isVisibleConfirmarAnimated ) { // enviar pedido\n      if (this.isRequiereMesa || !this.isDeliveryValid ) {\n\n        // si el pago del delivery es en efectivo procesa pago\n        if ( this.infoToken.infoUsToken.metodoPago.idtipo_pago === 1 && this.isDeliveryValid) {\n          this.prepararEnvio();\n        }\n        return;\n      }\n\n      this.prepararEnvio();\n    } else {\n\n      this.isVisibleConfirmar = true;\n      this.isVisibleConfirmarAnimated = true;\n\n      this.checkTiposDeConsumo();\n      this.checkIsRequierMesa();\n      this.checkIsDelivery();\n\n      this.navigatorService.addLink('mipedido-confirma');\n\n      this.isClienteSetValues();\n    }\n  }\n\n  private prepararEnvio(): void {\n    if ( !this.isDeliveryCliente) {\n      this.showLoaderPedido();\n      // const _dialogConfig = new MatDialogConfig();\n      // _dialogConfig.disableClose = true;\n      // _dialogConfig.hasBackdrop = true;\n\n      // const dialogLoading = this.dialog.open(DialogLoadingComponent, _dialogConfig);\n      // dialogLoading.afterClosed().subscribe(result => {\n      //   this.enviarPedido();\n      // });\n    } else {\n      // si es delivery y paga en efectivo o yape envia de\n      // 1 efectivo 2 tarjeta 3 yape\n      if ( this.infoToken.infoUsToken.metodoPago.idtipo_pago !== 2 ) {\n        this.showLoaderPedido();\n      } else {\n        this.enviarPedido();\n      }\n    }\n\n  }\n\n  private showLoaderPedido(): void {\n    this.listenStatusService.setLoaderSendPedido(true);\n\n\n    // seteamos el metodo pago que el cliente selecciona\n    this.infoToken.setMetodoPagoSelected(this.infoToken.infoUsToken.metodoPago);\n\n    setTimeout(() => {\n      this.enviarPedido();\n    }, 1400);\n\n    // const _dialogConfig = new MatDialogConfig();\n    // _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.disableClose = true;\n\n    // const dialogLoading = this.dialog.open(DialogLoadingComponent, _dialogConfig);\n    // dialogLoading.afterClosed().subscribe(result => {\n    //   this.enviarPedido();\n    // });\n  }\n\n  private enviarPedido(): void {\n\n    // this.verificarConexionSocket();\n\n    // para asegurar que marque delivery si es\n    const isPagoConTarjeta = this.infoToken.getInfoUs().metodoPago.idtipo_pago === 2;\n\n    this.checkTiposDeConsumo();\n\n    // get subtotales // si es delivery porque puede que modifique la distancia y modifica el precio // que se va ver en comanda\n    // this._arrSubtotales = this.miPedidoService.getArrSubTotales(this.rulesSubtoTales);\n\n    // seteamos el metodo pago que el cliente selecciona\n    this.infoToken.setMetodoPagoSelected(this.infoToken.getInfoUs().metodoPago);\n    // this.infoToken.setMetodoPagoSelected(this.infoToken.infoUsToken.metodoPago);\n\n    // saca del local por que puede que se haya puestro propina\n    this._arrSubtotales = JSON.parse(atob(localStorage.getItem('sys::st')));\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._arrSubtotales)));\n\n    // console.log('this._arrSubtotales', this._arrSubtotales);\n\n    // usuario o cliente\n    const dataUsuario = this.infoToken.getInfoUs();\n    // const dataUsuario = this.infoToken.infoUsToken;\n\n    // console.log('aaaaaaaaaaaa');\n\n    const dataFrmConfirma: any = {};\n    if ( this.isCliente || this.isPuntoAuntoPedido && !this.isReservaCliente) {\n      this.frmConfirma.solo_llevar = this.isSoloLLevar ? true : this.frmConfirma.solo_llevar;\n      dataFrmConfirma.m = this.isSoloLLevar ? '' : dataUsuario.numMesaLector;\n      dataFrmConfirma.m = this.isDeliveryCliente ? '' : dataUsuario.numMesaLector;\n      dataFrmConfirma.r = dataUsuario.nombres.toUpperCase();\n      dataFrmConfirma.nom_us = dataUsuario.nombres.toUpperCase();\n      dataFrmConfirma.m_respaldo = dataFrmConfirma.m;\n    } else {\n      // dataFrmConfirma.m = this.frmConfirma.mesa ? this.frmConfirma.mesa.toString().padStart(2, '0') || '00' : '00';\n      dataFrmConfirma.m_respaldo = this.frmConfirma.nummesa_resplado;\n      dataFrmConfirma.m = this.frmConfirma.nummesa ? this.frmConfirma.nummesa : this.arrReqFrm.isRequiereMesa ? this.frmConfirma.nummesa_resplado : '00';\n      dataFrmConfirma.r = this.frmConfirma.delivery ? this.frmDelivery.nombre : this.utilService.addslashes(this.frmConfirma.referencia) || '';\n      dataFrmConfirma.nom_us = dataUsuario.nombres.split(' ')[0].toUpperCase();\n    }\n\n\n    // console.log('bbbbbbbbbbbbbb');\n\n    // header //\n\n    // const _subTotalesSave = _p_header.delivery === 1 ? this.frmDelivery.subTotales : this._arrSubtotales;\n    // debugger\n    // const idPwaPago = this.registrarPagoService.getIdPwaPago();\n\n\n\n    const _p_header = {\n      m: dataFrmConfirma.m, // this.frmConfirma.mesa ? this.frmConfirma.mesa.toString().padStart(2, '0') || '00' : '00',\n      m_respaldo: dataFrmConfirma.m_respaldo,\n      r: dataFrmConfirma.r, // this.frmConfirma.referencia || '',\n      nom_us: dataFrmConfirma.nom_us, // this.infoToken.getInfoUs().nombres.split(' ')[0].toLowerCase(),\n      delivery: this.frmConfirma.delivery || this.isDeliveryCliente ? 1 : 0,\n      reservar: this.frmConfirma.reserva ? 1 : 0,\n      solo_llevar: this.frmConfirma.solo_llevar ? 1 : 0,\n      idcategoria: localStorage.getItem('sys::cat'),\n      correlativo_dia: '', // en backend\n      num_pedido: '', // en backend\n      isCliente: this.isCliente ? 1 : 0,\n      isSoloLLevar: this.isSoloLLevar,\n      idregistro_pago: 0,\n      // idregistro_pago: this.isSoloLLevar ? this.registrarPagoService.getDataTrasaction().idregistro_pago : 0,\n      arrDatosDelivery: this.frmDelivery,\n      arrDatosReserva: this.frmReservaCliente, // datos de la reserva que hace el cliente\n      systemOS: this.systemOS,\n      idregistra_scan_qr: this.establecimientoService.getLocalIdScanQr(), // el id del scan register\n      is_print_subtotales: this.miPedidoService.objDatosSede.datossede[0].is_print_subtotales,\n      isprint_copy_short: this.miPedidoService.objDatosSede.datossede[0].isprint_copy_short,\n      isprint_all_short: this.miPedidoService.objDatosSede.datossede[0].isprint_all_short,\n      appv: 'v.2z'\n    };\n\n    // console.log('cccccccccccccc');\n    // frmDelivery.buscarRepartidor este dato viene de datos-delivery pedido tomado por el mismo comercio // si es cliente de todas maneras busca repartidores\n    const isClienteBuscaRepartidores = this.frmDelivery.buscarRepartidor ? this.frmDelivery.buscarRepartidor : this.isDeliveryCliente || false;\n    // const _subTotalesSave = _p_header.delivery === 1 ? this.frmDelivery.subTotales : this._arrSubtotales;\n    let _subTotalesSave = this._arrSubtotales;\n\n    // si el importe total es igual a cero hay un error, entonces toma los subtotales de frmDelivery\n    if (parseFloat(_subTotalesSave[_subTotalesSave.length - 1].importe) === 0) {\n      _subTotalesSave = this.frmDelivery.subTotales;\n      this._arrSubtotales = _subTotalesSave;\n      localStorage.setItem('sys::st', btoa(JSON.stringify(this._arrSubtotales)));\n    }\n\n    const dataPedido = {\n      p_header: _p_header,\n      p_body: this._miPedido,\n      p_subtotales: _subTotalesSave,\n      idpedido: 0 // setea despues de guardar el pedido para enviarlo al socket\n    };\n\n    // console.log('ddddddddddd');\n    // console.log('_p_header', _p_header);\n\n    // enviar a print_server_detalle // para imprimir\n    const arrPrint = this.jsonPrintService.enviarMiPedido(this.isCliente);\n    const dataPrint: any = [];\n    arrPrint.map((x: any) => {\n      dataPrint.push({\n        Array_enca: _p_header,\n        ArraySubTotales: _subTotalesSave,\n        ArrayItem: x.arrBodyPrint,\n        Array_print: x.arrPrinters\n      });\n    });\n\n\n\n    const _dataUsuarioSend = {\n      'idusuario': dataUsuario.idusuario,\n      'idcliente': dataUsuario.idcliente,\n      'idorg': dataUsuario.idorg,\n      'idsede': dataUsuario.idsede,\n      'nombres': dataUsuario.nombres,\n      'cargo': dataUsuario.cargo,\n      'usuario': dataUsuario.usuario\n    };\n\n    const dataSend = {\n      dataPedido: dataPedido,\n      dataPrint: dataPrint,\n      dataUsuario: _dataUsuarioSend,\n      isDeliveryAPP: _p_header.delivery === 1 ? true : false, // isClienteBuscaRepartidores, // this.isDeliveryCliente,\n      isClienteRecogeLocal: this.infoToken.infoUsToken.pasoRecoger, // indica si el cliente pasa a recoger entonces ya no busca repartidor\n      dataDescuento: [], // lista de ids de descuento para restar cantidad num_pedidos\n      listPrinters: arrPrint.listPrinters\n    };\n\n\n    // console.log('eeeeeeeeeeeeeeeeeeeee');\n    // ya no lo envio\n    // quitamos el order delivery de los datos del usuario para que no sea mucho el json\n    // dataSend.dataUsuario.orderDelivery = '';\n    // dataSend.dataUsuario.importeDelivery = '';\n\n    // this.socketService.emit('printerComanda', dataPrint);\n\n    // si es clienteDelivery no se emite nada\n    // primero confirma el pago y luego guarda pedido y posteriormente el pago\n    // guardamos el pedido\n\n    if ( this.isDeliveryCliente && dataUsuario.metodoPago.idtipo_pago === 2) {\n      this.infoToken.setOrderDelivery(JSON.stringify(dataSend), JSON.stringify(_subTotalesSave));\n      this.pagarCuentaDeliveryCliente();\n      // enviamos a pagar\n      return;\n    }\n\n\n    // descuentos\n    if ( this.infoToken.infoUsToken.isHayDescuento ) {\n      const _listDsc = this.miPedidoService.getIdsDescuentos();\n      dataSend.dataDescuento = _listDsc;\n\n    }\n\n    // registrar el id cliente para consultar luego en mis pedidos\n    if ( this.infoToken.infoUsToken.isCliente ) {\n      this.infoToken.setIdCliente();\n    }\n\n    // console.log('ffffffffffffffffffff');\n\n    // enviar a guardar // guarda pedido e imprime comanda\n\n    // prioridad socket, por crud demora mucho aveces se queda enviando datos...\n    this.savePedidoSocket(dataSend, isPagoConTarjeta, _subTotalesSave);\n\n    // prioridad guardar por post\n    // this.crudService.postFree(JSON.stringify(dataSend), 'pedido', 'registrar-nuevo-pedido', false)\n    //     .subscribe((res: any) => {\n\n    // // // this.socketService.emit('nuevoPedido', dataSend); // !> 150920\n    // // this.socketService.emitRes('nuevoPedido', JSON.stringify(dataSend)).subscribe(resSocket => { // prioridad guardar por post\n    //   // seteamos el metodo pago que el cliente selecciona\n    //   // this.infoToken.setMetodoPagoSelected(_p_header.arrDatosDelivery.metodoPago);\n    //   // error\n    //   // console.log('recibido la respuesta del servidor', resSocket);\n    //   // if ( resSocket === false ) {\n    //   if ( !res.success ) {\n    //     // si tiene error lo intenta enviar por http\n    //     // this.crudService.postFree(JSON.stringify(dataSend), 'pedido', 'registrar-nuevo-pedido', false) // prioridad guardar por post\n    //     // .subscribe((res: any) => { // prioridad guardar por post\n    //     this.socketService.emitRes('nuevoPedido', JSON.stringify(dataSend)).subscribe(resSocket => {\n\n    //       // if ( !res.success ) {\n    //       if ( resSocket === false ) {\n    //         alert('!Ups a ocurrido un error, por favor verifique los datos y vuelve a intentarlo.');\n    //         // guardamos el error\n    //         const dataError = {\n    //           elerror: res.error,\n    //           elorigen: 'resumen-pedido'\n    //         };\n\n    //         this.crudService.postFree(dataError, 'error', 'set-error', false)\n    //         .subscribe(resp => console.log(resp));\n\n    //         this.listenStatusService.setLoaderSendPedido(false);\n    //         return;\n    //       }\n\n    //       setTimeout(() => {\n    //         this.listenStatusService.setLoaderSendPedido(false);\n    //         this.miPedidoService.stopTimerLimit();\n    //         this.miPedidoService.prepareNewPedido();\n    //       }, 600);\n    //       // post\n    //       // dataSend.dataPedido.idpedido = res.data[0].idpedido;\n    //       // dataSend.dataPrint = res.data[0].data;\n    //       // this.socketService.emit('nuevoPedido2', dataSend);\n\n    //       // socket\n    //       const _res = resSocket[0];\n    //       dataSend.dataPedido.idpedido = _res.idpedido;\n    //       dataSend.dataPrint = _res.data[1] ? _res.data[1]?.print : null;\n\n    //       this.newFomrConfirma();\n    //       // this.backConfirmacion();\n\n    //       // hora del pedido\n    //       this.estadoPedidoClientService.setHoraInitPedido(new Date().getTime());\n\n    //       // this.miPedidoService.prepareNewPedido();\n\n    //       // this.miPedidoService.prepareNewPedido();\n\n    //       // si es delivery y el pago es en efectivo o en yape, notificamos transaccion conforme\n    //       // if ( this.isDeliveryCliente && dataUsuario.metodoPago.idtipo_pago !== 2) {\n    //       // if ( this.isDeliveryCliente && _p_header.arrDatosDelivery.metodoPago.idtipo_pago !== 2) {\n    //         // if ( this.isDeliveryCliente && this.infoToken.infoUsToken.metodoPago.idtipo_pago !== 2) {\n    //       if ( this.isDeliveryCliente && !isPagoConTarjeta) {\n    //         this.infoToken.setOrderDelivery(JSON.stringify(dataSend), JSON.stringify(_subTotalesSave));\n    //         this.confirmarPedidoDeliveryEnviado();\n\n    //         // this.pagarCuentaDeliveryCliente();\n    //         // enviamos a pagar\n    //         return;\n    //       }\n\n    //       if ( this.isReservaCliente ) {\n    //         this.confirmarPedidoDeliveryEnviado();\n    //         return;\n    //       }\n\n\n\n    //       this.backConfirmarPedido();\n    //     });\n\n    //   } else { // si no tiene error\n\n    //     // socket\n    //     // const res = resSocket[0];\n    //     // dataSend.dataPedido.idpedido = res.idpedido;\n    //     // dataSend.dataPrint = res.data[1] ? res.data[1]?.print : null;\n    //     // this.socketService.emit('nuevoPedido2', dataSend);\n\n    //     dataSend.dataPedido.idpedido = res.data[0].idpedido;\n    //     dataSend.dataPrint = res.data[0].data;\n    //     this.socketService.emit('nuevoPedido2', dataSend);\n\n    //     this.newFomrConfirma();\n    //     // this.backConfirmacion();\n\n    //     // hora del pedido\n    //     this.estadoPedidoClientService.setHoraInitPedido(new Date().getTime());\n\n    //     // this.miPedidoService.prepareNewPedido();\n\n\n    //     setTimeout(() => {\n    //       this.listenStatusService.setLoaderSendPedido(false);\n    //       this.miPedidoService.stopTimerLimit();\n    //       this.miPedidoService.prepareNewPedido();\n    //     }, 600);\n\n    //     //\n\n    //     // si es delivery y el pago es en efectivo o en yape, notificamos transaccion conforme\n    //     // if ( this.isDeliveryCliente && dataUsuario.metodoPago.idtipo_pago !== 2) {\n    //     // if ( this.isDeliveryCliente && _p_header.arrDatosDelivery.metodoPago.idtipo_pago !== 2) {\n    //     // if ( this.isDeliveryCliente && this.infoToken.infoUsToken.metodoPago.idtipo_pago !== 2) {\n    //     if ( this.isDeliveryCliente && !isPagoConTarjeta) {\n    //       this.infoToken.setOrderDelivery(JSON.stringify(dataSend), JSON.stringify(_subTotalesSave));\n    //       this.confirmarPedidoDeliveryEnviado();\n\n    //       // this.pagarCuentaDeliveryCliente();\n    //       // enviamos a pagar\n    //       return;\n    //     }\n\n    //     if ( this.isReservaCliente ) {\n    //       this.confirmarPedidoDeliveryEnviado();\n    //       return;\n    //     }\n\n    //     this.backConfirmarPedido();\n    //   }\n\n    //   // this.backConfirmarPedido()\n    // });\n\n      // hora del pedido\n      // this.estadoPedidoClientService.setHoraInitPedido(new Date().getTime());\n\n      //\n      // this.navigatorService.addLink('mipedido');\n      // this.isVisibleConfirmarAnimated = false;\n      // this.isRequiereMesa = false;\n      // this.isVisibleConfirmar = false;\n      //\n      // this.backConfirmacion();\n\n      // this.newFomrConfirma();\n\n      // this.miPedidoService.prepareNewPedido();\n\n      // // si es delivery y el pago es en efectivo o en yape, notificamos transaccion conforme\n      // if ( this.isDeliveryCliente && dataUsuario.metodoPago.idtipo_pago !== 2) {\n      //   this.pagarCuentaDeliveryCliente();\n      //   // enviamos a pagar\n      //   return;\n      // }\n\n      // this.miPedidoService.prepareNewPedido();\n\n      // this.backConfirmacion();\n\n      // // si es usuario cliente lo envia a estado\n      // if ( this.isCliente ) {\n      //   this.navigatorService.setPageActive('estado');\n      //   // this.estadoPedidoClientService.get(); // inicia calc tiempo aprox y cuenta total\n      // } else {\n      //   this.navigatorService.setPageActive('carta');\n      // }\n\n      this.isDeliveryValid = false; // formulario no valido para delivery\n\n\n\n  }\n\n  private backConfirmarPedido() {\n    this.backConfirmacion();\n\n    // si es usuario cliente lo envia a estado\n    if ( this.isCliente ) {\n      this.navigatorService.setPageActive('estado');\n      // this.estadoPedidoClientService.get(); // inicia calc tiempo aprox y cuenta total\n    } else {\n      this.navigatorService.setPageActive('carta');\n    }\n\n    this.isDeliveryValid = false; // formulario no valido para delivery\n  }\n\n  private checkTiposDeConsumo(): void {\n    // console.log('check tipo consumo');\n    this.arrReqFrm = <FormValidRptModel>this.miPedidoService.findEvaluateTPCMiPedido();\n    this.isRequiereMesa = this.arrReqFrm.isRequiereMesa;\n    this.frmConfirma.solo_llevar = this.arrReqFrm.isTpcSoloDelivery ? false : this.arrReqFrm.isTpcSoloLLevar;\n    this.frmConfirma.delivery = this.arrReqFrm.isTpcSoloDelivery;\n  }\n\n  checkIsRequierMesa(num: string = ''): void {\n    // console.log('check mesa', num);\n    if ( num !== '' ) {this.frmConfirma.nummesa = num; }\n    this.frmConfirma.nummesa_resplado = num;\n    // const arrReqFrm = <FormValidRptModel>this.miPedidoService.findEvaluateTPCMiPedido();\n    // const isTPCLocal = arrReqFrm.isTpcLocal;\n    // this.isRequiereMesa = arrReqFrm.isRequiereMesa;\n    let numMesasSede = parseInt(this.miPedidoService.objDatosSede.datossede[0].mesas, 0);\n    numMesasSede = isNaN(numMesasSede) ? 0 : numMesasSede; // para asegurar si no viene este dato\n\n    let isMesaValid = this.frmConfirma.nummesa ? this.frmConfirma.nummesa !== '' ? true : false : false;\n    // valida la mesa que no sea mayor a las que hay\n    const numMesaIngresado = isMesaValid ? parseInt(this.frmConfirma.nummesa, 0) : 0;\n    isMesaValid = numMesaIngresado <= 0 || numMesaIngresado > numMesasSede ? false : true;\n    this.isRequiereMesa = this.arrReqFrm.isRequiereMesa;\n\n    // this.isRequiereMesa = isTPCLocal;\n    this.isRequiereMesa = this.isRequiereMesa && (!isMesaValid && !this.frmConfirma.reserva);\n\n  }\n\n  private checkIsDelivery() {\n    this.isDelivery = this.miPedidoService.findMiPedidoIsTPCDelivery();\n    // this.isDeliveryCliente = this.isDelivery;\n    // this.frmConfirma.delivery = this.isDelivery;\n  }\n\n  checkDataDelivery($event: any) {\n    this.isDeliveryValid = $event.formIsValid;\n    this.frmDelivery = $event.formData;\n  }\n\n  imprimirPrecuenta() {\n    this.loadPrinterPrecuenta = true;\n    const _getPrinterCaja = this.jsonPrintService.getPrinterPrecuenta();\n    if ( !_getPrinterCaja ) {return; }\n    const xArrayEncabezado = {\n            'm': this.numMesaCuenta,\n            'r': '',\n            'num_pedido': '',\n            'reservar': 0,\n            'solo_llevar': 0,\n            'correlativo_dia': '',\n            'precuenta': true,\n            'delivery': false,\n            'arrDatosDelivery': [],\n            'idregistro_pago': 0,\n            'nom_us': this.infoToken.infoUsToken.usuario\n          };\n\n    const _data = {\n      Array_enca: xArrayEncabezado,\n      Array_print: _getPrinterCaja.arrPrinters,\n      ArrayItem: _getPrinterCaja.arrBodyPrint,\n      ArraySubTotales: this._arrSubtotales\n    };\n\n    const dataSend = {\n      dataPrint: _data,\n      isprecuenta: 1\n    };\n\n\n    this.miPedidoService.printerPrecuenta(dataSend);\n    setTimeout(() => {\n      this.loadPrinterPrecuenta = false;\n\n    }, 2000);\n  }\n\n  // _resCuentaFromCliente desde la cuenta del cliente\n  xLoadCuentaMesa(mesa: string, _resCuentaFromCliente: any = null): void {\n    this.isHayCuentaBusqueda = false;\n    this.msjErr = false;\n    this.numMesaCuenta = mesa;\n    const datos = { mesa: mesa };\n\n\n    if ( _resCuentaFromCliente ) {\n      // cuando el usuario cliente realiza un nuevo pedido y se tiene que mostrar la cuenta\n      this.desglozarCuenta(_resCuentaFromCliente);\n      setTimeout(() => {\n        this.estadoPedidoClientService.setImporte(this._arrSubtotales[this._arrSubtotales.length - 1].importe);\n      }, 1000);\n      return;\n    }\n\n    this.crudService.postFree(datos, 'pedido', 'lacuenta').subscribe((res: any) => {\n      this.desglozarCuenta(res);\n    });\n  }\n\n\n  private desglozarCuenta(res: any): void {\n    const _miPedidoCuenta: PedidoModel = new PedidoModel();\n    const c_tiposConsumo: TipoConsumoModel[] = [];\n\n    // si se encontro cuenta\n    if (res.data.length === 0) {\n      this.isHayCuentaBusqueda = false;\n      this.msjErr = true;\n      this.listenStatusService.setHayCuentaBuesqueda(false);\n      return; }\n\n    this.isHayCuentaBusqueda = true;\n    this.listenStatusService.setHayCuentaBuesqueda(true);\n    // tipo consumo\n    res.data.map( (tp: any) => {\n      let hayTpc = c_tiposConsumo.filter(x => x.idtipo_consumo === tp.idtipo_consumo)[0];\n      if (!hayTpc) {\n        hayTpc = new TipoConsumoModel;\n        hayTpc.descripcion = tp.des_tp;\n        hayTpc.idtipo_consumo = parseInt(tp.idtipo_consumo, 0);\n        c_tiposConsumo.push(hayTpc);\n      }\n    });\n\n    // secciones\n\n\n    // const _listSec = res.data.reduce(function(rv, x) {\n    //     (rv[x['idseccion']] = rv[x['idseccion']] || []).push(x);\n    //     return rv;\n    //   }, {});\n\n\n    c_tiposConsumo.map((tp: TipoConsumoModel) => {\n      res.data\n        .filter((_tp: any) => _tp.idtipo_consumo === tp.idtipo_consumo)\n        .map((_s: any, i: number) => {\n          let haySeccion = tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n          if (!haySeccion) {\n            haySeccion = new SeccionModel;\n            haySeccion.idseccion = _s.idseccion.toString();\n            haySeccion.des = _s.des_seccion;\n            haySeccion.sec_orden = _s.sec_orden;\n            haySeccion.ver_stock_cero = 0;\n            tp.count_items_seccion = i + 1;\n            tp.secciones.push(haySeccion);\n          }\n        });\n    });\n\n    // items\n    c_tiposConsumo.map((tp: TipoConsumoModel) => {\n      tp.secciones.map((s: SeccionModel) => {\n        res.data\n        .filter((_tp: any) => _tp.idtipo_consumo.toString() === tp.idtipo_consumo.toString() && _tp.idseccion.toString() === s.idseccion.toString())\n        .map((_i: any, i: number) => {\n          const hayItem = new ItemModel;\n          hayItem.des = _i.descripcion;\n          hayItem.detalles = '';\n          hayItem.iditem = _i.iditem;\n          hayItem.idcarta_lista = _i.idcarta_lista;\n          hayItem.idseccion = _i.idseccion;\n          hayItem.isalmacen = _i.isalmacen;\n          hayItem.cantidad_seleccionada = parseInt(_i.cantidad, 0);\n          hayItem.precio = _i.punitario;\n          hayItem.precio_print = parseFloat(_i.ptotal);\n          hayItem.precio_total = parseFloat(_i.ptotal);\n          hayItem.procede = _i.procede === '0' ? 1 : 0;\n          hayItem.seccion = _i.des_seccion;\n          hayItem.subitems_view = _i.subitems === 'null' || _i.subitems === '' || !_i.subitems ? [] : JSON.parse(_i.subitems);\n          s.count_items = i + 1;\n          s.items.push(hayItem);\n        });\n      });\n    });\n\n\n\n    _miPedidoCuenta.tipoconsumo = c_tiposConsumo;\n    this.miPedidoService.setObjMiPedido(_miPedidoCuenta);\n    this._miPedido = this.miPedidoService.getMiPedido();\n\n    // para notificar antes del pago\n    // console.log('bbbbbbbbbbbbbbbbbbb');\n    this._arrSubtotales = this.miPedidoService.getArrSubTotales(this.rulesSubtoTales);\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._arrSubtotales)));\n\n  }\n\n\n  pagarCuentaDeliveryCliente() {\n    // this.navigatorService._router('./pagar-cuenta');\n    // if ( !localStorage.getItem('sys::st') ) {\n    //   this.verCuenta();\n    //   return;\n    // }\n\n    // this.estadoPedidoClientService.getCuenta(); // get subtotales - esta listen resumen-pedido;\n    this.router.navigate(['./pagar-cuenta'])\n    .then(() => {\n      if ( this.isBtnPagoShow ) {\n        window.location.reload();\n      }\n    });\n    // .then(() => {\n    //   if ( this.isBtnPagoShow ) {\n    //     window.location.reload();\n    //   }\n    // });\n\n    // this.listenStatusService.setIsPagePagarCuentaShow(true);\n  }\n\n\n  // pedido delivery pagado con efectivo o yape\n  private confirmarPedidoDeliveryEnviado() {\n    this.router.navigate(['./pedido-confirmado']);\n  }\n\n  private goBackOutEstablecimiento() {\n    const dialogConfig = new MatDialogConfig();\n        dialogConfig.data = {idMjs: 2};\n\n        const dialogReset = this.dialog.open(DialogResetComponent, dialogConfig);\n        dialogReset.afterClosed().subscribe(result => {\n          if (result ) {\n            this.miPedidoService.resetAllNewPedido();\n            this.miPedidoService.cerrarSession();\n\n            this.isDeliveryValid = false; // formulario no valido para delivery\n            // this.socketService.closeConnection();\n            // this.navigatorService.cerrarSession();\n            this.infoToken.cerrarSession();\n          }\n        });\n\n  }\n\n  goBackCarta(): void {\n    this.navigatorService.setPageActive('carta');\n  }\n\n  private verificarConexionSocket() {\n    // console.log('this.socketService.isSocketOpen',  this.socketService.isSocketOpen);\n    if (!this.socketService.isSocketOpen) {\n        this.socketService.connect();\n    }\n  }\n\n  private savePedidoSocket(dataSend: any, isPagoConTarjeta: boolean, _subTotalesSave: any) {\n    // this.speechDataProviderService.setIsPedidoConfirmado();\n    // console.log('111111111111');\n\n\n    this.socketService.emitRes('nuevoPedido', JSON.stringify(dataSend)).subscribe(resSocket => {\n      // console.log('222222', resSocket);\n        if ( resSocket === false ) {\n          alert('!Ups a ocurrido un error, por favor verifique los datos y vuelve a intentarlo.');\n          // guardamos el error\n          const dataError = {\n            elerror: resSocket,\n            elorigen: 'resumen-pedido'\n          };\n\n          this.crudService.postFree(dataError, 'error', 'set-error', false)\n          .subscribe(resp => console.log(resp));\n\n          this.listenStatusService.setLoaderSendPedido(false);\n          return;\n        }\n\n        setTimeout(() => {\n          this.listenStatusService.setLoaderSendPedido(false);\n          this.miPedidoService.stopTimerLimit();\n          this.miPedidoService.prepareNewPedido();\n        }, 600);\n\n\n        const _res = resSocket[0];\n        dataSend.dataPedido.idpedido = _res.idpedido;\n        dataSend.dataPrint = _res.data[1] ? _res.data[1]?.print : null;\n\n        this.newFomrConfirma();\n\n        // hora del pedido\n        this.estadoPedidoClientService.setHoraInitPedido(new Date().getTime());\n\n        // si es delivery y el pago es en efectivo o en yape, notificamos transaccion conforme\n        if ( this.isDeliveryCliente && !isPagoConTarjeta) {\n          this.infoToken.setOrderDelivery(JSON.stringify(dataSend), JSON.stringify(_subTotalesSave));\n          this.confirmarPedidoDeliveryEnviado();\n\n          // this.pagarCuentaDeliveryCliente();\n          // enviamos a pagar\n          return;\n        }\n\n        if ( this.isReservaCliente ) {\n          this.confirmarPedidoDeliveryEnviado();\n          return;\n        }\n\n\n\n        this.backConfirmarPedido();\n    });\n  }\n\n\n}\n","// este servicio arma el json, que se envia para imprmir // print_setver_detalle\n\nimport { Injectable } from '@angular/core';\nimport { SocketService } from './socket.service';\nimport { MipedidoService } from './mipedido.service';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JsonPrintService {\n  datosSede: any = [];\n\n  private impresoras: any = [];\n\n\n  constructor(\n    private socketService: SocketService,\n    private pedidoService: MipedidoService\n    ) {\n\n\n\n  }\n\n  // obtener los datos de la sede\n  private getDataSede(): void {\n    // this.socketService.onGetDatosSede().subscribe((res: any) => {\n      // this.datosSede = res[0];\n      this.datosSede = this.pedidoService.objDatosSede;\n      // console.log('datos de la sede', this.datosSede);\n    // });\n  }\n\n  // relacionar secciones con impresoras\n  private relationRowToPrint(iscliente: boolean = false): void {\n\n    // datos de la sede\n    this.getDataSede();\n\n\n    const _objMiPedido = this.pedidoService.getMiPedido();\n    const xRptPrint: any = []; // respuesta para enviar al backend\n    const listOnlyPrinters: any = []; // lista de solo impresoras\n    let xImpresoraPrint: any = []; // array de impresoras\n    let xArrayBodyPrint: any = []; // el array de secciones e items a imprimir\n    let printerAsigando: any = null;\n\n    this.impresoras = <any[]>this.datosSede.impresoras;\n    // valores de la primera impresora // impresora donde se pone el logo\n    const num_copias_all = this.datosSede.datossede[0].num_copias; // numero de copias para las demas impresoras -local\n    const var_size_font_tall_comanda = this.datosSede.datossede[0].var_size_font_tall_comanda; // tamaao de letras\n    const pie_pagina = this.datosSede.datossede[0].pie_pagina;\n    const pie_pagina_comprobante = this.datosSede.datossede[0].pie_pagina_comprobante;\n    let isHayDatosPrintObj = true; // si hay datos en el obj xArrayBodyPrint para imprimir\n    // let indexP = 0;\n\n    // si es cliente asigna impresora a seccion sin impresora // ej delivery por aplicacion\n    if ( iscliente ) {\n      this.setFirstPrinterSeccionCliente( _objMiPedido,  this.impresoras);\n    }\n\n    // si es punto auto pedido agregamos la impresora asignada\n    const _puntoConfig = JSON.parse(localStorage.getItem('sys::punto')) || {};\n    _puntoConfig.ispunto_autopedido = _puntoConfig ? _puntoConfig.ispunto_autopedido : false;\n\n    this.impresoras.map((p: any) => {\n      isHayDatosPrintObj = false;\n      xArrayBodyPrint = [];\n\n\n      _objMiPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel, indexP: number) => {\n          xArrayBodyPrint[indexP] = { 'des': tpc.descripcion, 'id': tpc.idtipo_consumo, 'titlo': tpc.titulo, 'conDatos': false};\n\n          tpc.secciones\n            .filter((s: SeccionModel) => s.idimpresora === p.idimpresora)\n            .map((s: SeccionModel) => {\n              printerAsigando = p;\n\n              s.items.map((i: ItemModel) => {\n                if (i.imprimir_comanda === 0 && !iscliente) { return; } // no imprimir // productos bodega u otros\n                  // xArrayBodyPrint[indexP][i.iditem] = [];\n                  isHayDatosPrintObj = true;\n                  xArrayBodyPrint[indexP].conDatos = true; // si la seccion tiene items\n                  xArrayBodyPrint[indexP][i.iditem] = i;\n                  xArrayBodyPrint[indexP][i.iditem].des_seccion = s.des;\n                  xArrayBodyPrint[indexP][i.iditem].cantidad = i.cantidad_seleccionada.toString().padStart(2, '0');\n                  xArrayBodyPrint[indexP][i.iditem].precio_print = parseFloat(i.precio_print.toString()).toFixed(2);\n                  if ( !i.subitems_view ) {\n                    xArrayBodyPrint[indexP][i.iditem].subitems_view = null;\n                  }\n                });\n              });\n\n            // otra impresora en seccion\n            tpc.secciones\n            .filter((s: SeccionModel) => s.idimpresora_otro === p.idimpresora)\n            .map((s: SeccionModel) => {\n              printerAsigando = p;\n\n              s.items.map((i: ItemModel) => {\n                if (i.imprimir_comanda === 0 && !iscliente) { return; } // no imprimir // productos bodega u otros\n                  // xArrayBodyPrint[indexP][i.iditem] = [];\n                  isHayDatosPrintObj = true;\n                  xArrayBodyPrint[indexP].conDatos = true; // si la seccion tiene items\n                  xArrayBodyPrint[indexP][i.iditem] = i;\n                  xArrayBodyPrint[indexP][i.iditem].des_seccion = s.des;\n                  xArrayBodyPrint[indexP][i.iditem].cantidad = i.cantidad_seleccionada.toString().padStart(2, '0');\n                  xArrayBodyPrint[indexP][i.iditem].precio_print = parseFloat(i.precio_print.toString()).toFixed(2);\n                  if ( !i.subitems_view ) {\n                    xArrayBodyPrint[indexP][i.iditem].subitems_view = null;\n                  }\n                });\n              });\n              // indexP++;\n\n\n              // si es punto autopedido\n              if ( _puntoConfig.ispunto_autopedido ) {\n                _puntoConfig.impresora.ip_print = _puntoConfig.impresora.ip;\n\n                if ( p.idimpresora !== _puntoConfig.impresora.idimpresora ) { return; }\n\n                tpc.secciones\n                // .filter((s: SeccionModel) => s.idimpresora === p.idimpresora)\n                .map((s: SeccionModel) => {\n                  printerAsigando = _puntoConfig.impresora;\n\n                  s.items.map((i: ItemModel) => {\n                    if (i.imprimir_comanda === 0 && !iscliente) { return; } // no imprimir // productos bodega u otros\n                      // xArrayBodyPrint[indexP][i.iditem] = [];\n                      isHayDatosPrintObj = true;\n                      xArrayBodyPrint[indexP].conDatos = true; // si la seccion tiene items\n                      xArrayBodyPrint[indexP][i.iditem] = i;\n                      xArrayBodyPrint[indexP][i.iditem].des_seccion = s.des;\n                      xArrayBodyPrint[indexP][i.iditem].cantidad = i.cantidad_seleccionada.toString().padStart(2, '0');\n                      xArrayBodyPrint[indexP][i.iditem].precio_print = parseFloat(i.precio_print.toString()).toFixed(2);\n                      if ( !i.subitems_view ) {\n                        xArrayBodyPrint[indexP][i.iditem].subitems_view = null;\n                      }\n                    });\n                  });\n              }\n\n          });\n\n\n      if (xArrayBodyPrint.length === 0 || !isHayDatosPrintObj) { return; }\n\n      xImpresoraPrint = [];\n      const childPrinter: any = {};\n      childPrinter.ip_print = printerAsigando.ip;\n      childPrinter.var_margen_iz = printerAsigando.var_margen_iz;\n      childPrinter.var_size_font = printerAsigando.var_size_font;\n      childPrinter.local = 0;\n      childPrinter.num_copias = num_copias_all;\n      childPrinter.var_size_font_tall_comanda = var_size_font_tall_comanda;\n      childPrinter.copia_local = 0; // no imprime // solo para impresora local\n      childPrinter.img64 = '';\n      childPrinter.papel_size = printerAsigando.papel_size;\n      childPrinter.pie_pagina = pie_pagina;\n      childPrinter.pie_pagina_comprobante = pie_pagina_comprobante;\n\n      xImpresoraPrint.push(childPrinter);\n\n      // console.log('xArrayBodyPrint', xArrayBodyPrint);\n      // console.log('xImpresoraPrint', xImpresoraPrint);\n      xRptPrint.push({\n        arrBodyPrint: xArrayBodyPrint,\n        arrPrinters: xImpresoraPrint\n      });\n\n      listOnlyPrinters.push(childPrinter);\n    });\n\n\n    xRptPrint.listPrinters = listOnlyPrinters;\n\n    return xRptPrint;\n\n\n\n  }\n\n  // recuepra la primera impresora para imprimir cuando manda el cliente y si la seccion no tiene impresora\n  private GetFirstPrinter(listPrinter: any): any {\n    let firtsPrinter: any = null;\n    const countPrinters = listPrinter.length;\n    if ( countPrinters > 0 ) {\n        firtsPrinter = listPrinter[0];\n    }\n\n    if ( countPrinters > 1 && firtsPrinter.descripcion.toLowerCase() === 'caja' ) {\n      firtsPrinter = listPrinter[1];\n    }\n\n    return firtsPrinter;\n  }\n\n  // asigna impresora a las seccion que no tienen // para cuando el cliente realize el pedido imprima\n  private setFirstPrinterSeccionCliente(_objMiPedido: PedidoModel, listPrinter: any) {\n    let firtsIdPrinter: any = {};\n    _objMiPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel) => {\n          firtsIdPrinter = tpc.secciones.filter((s: SeccionModel) => s.idimpresora !== 0)[0];\n          if ( firtsIdPrinter ) { return; }\n        });\n\n      // sino encontro ningun impresora asigna impresora de la lista de impresoras\n      if ( !firtsIdPrinter ) {\n        firtsIdPrinter = this.GetFirstPrinter(listPrinter);\n      }\n\n      if ( !firtsIdPrinter ) { return; }\n\n    // asignamos a las secciones que no tienen impresora\n    _objMiPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel, indexP: number) => {\n          firtsIdPrinter = tpc.secciones.filter((s: SeccionModel) => s.idimpresora === 0)\n          .map((s: SeccionModel) => { s.idimpresora = firtsIdPrinter.idimpresora; });\n        });\n  }\n\n  getPrinterPrecuenta() {\n    let xRptPrint: any; // respuesta para enviar al backend\n    let xImpresoraPrint: any = []; // array de impresoras\n    let xArrayBodyPrint: any = []; // el array de secciones e items a imprimir\n\n    // datos de la sede\n    this.getDataSede();\n\n    // console.log('print precuenta');\n\n    xImpresoraPrint = [];\n    const var_size_font_tall_comanda = this.datosSede.datossede[0].var_size_font_tall_comanda; // tamaao de letras\n    const pie_pagina = this.datosSede.datossede[0].pie_pagina;\n    const pie_pagina_comprobante = this.datosSede.datossede[0].pie_pagina_comprobante;\n\n    // formato imprimir\n    const _objMiPedido = this.pedidoService.getMiPedido();\n    xArrayBodyPrint = [];\n      _objMiPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel, indexP: number) => {\n          xArrayBodyPrint[indexP] = { 'des': tpc.descripcion, 'id': tpc.idtipo_consumo, 'titlo': tpc.titulo, 'conDatos': false};\n          tpc.secciones\n            .map((s: SeccionModel) => {\n              s.items.map((i: ItemModel) => {\n                // if (i.imprimir_comanda === 0) { return; } // no imprimir // productos bodega u otros\n                  // xArrayBodyPrint[indexP][i.iditem] = [];\n                  xArrayBodyPrint[indexP].conDatos = true; // si la seccion tiene items\n                  xArrayBodyPrint[indexP][i.iditem] = xArrayBodyPrint[indexP][i.iditem] ? xArrayBodyPrint[indexP][i.iditem] : i;\n                  xArrayBodyPrint[indexP][i.iditem].des_seccion = s.des;\n                  xArrayBodyPrint[indexP][i.iditem].cantidad = xArrayBodyPrint[indexP][i.iditem].cantidad ? xArrayBodyPrint[indexP][i.iditem].cantidad : 0;\n                  xArrayBodyPrint[indexP][i.iditem].precio_print_app = xArrayBodyPrint[indexP][i.iditem].precio_print_app ? xArrayBodyPrint[indexP][i.iditem].precio_print_app : 0;\n                  xArrayBodyPrint[indexP][i.iditem].cantidad += parseFloat(i.cantidad_seleccionada.toString()); // .toString().padStart(2, '0');\n                  xArrayBodyPrint[indexP][i.iditem].precio_print_app += parseFloat(i.precio_print.toString());\n                  xArrayBodyPrint[indexP][i.iditem].precio_print = parseFloat(xArrayBodyPrint[indexP][i.iditem].precio_print_app.toString()).toFixed(2);\n                  if ( !i.subitems_view ) {\n                    xArrayBodyPrint[indexP][i.iditem].subitems_view = null;\n                  }\n                });\n              });\n              // indexP++;\n          });\n\n    this.impresoras = <any[]>this.datosSede.impresoras;\n    const p = this.impresoras.filter(x => x.idtipo_otro).filter(x => x.idtipo_otro.indexOf('-2') > -1)[0];\n    if ( !p ) {return false; }\n    const childPrinter: any = {};\n      childPrinter.ip_print = p.ip;\n      childPrinter.var_margen_iz = p.var_margen_iz;\n      childPrinter.var_size_font = p.var_size_font;\n      childPrinter.local = 0;\n      childPrinter.num_copias = 0;\n      childPrinter.var_size_font_tall_comanda = var_size_font_tall_comanda;\n      childPrinter.copia_local = 0; // no imprime // solo para impresora local\n      childPrinter.img64 = '';\n      childPrinter.papel_size = p.papel_size;\n      childPrinter.pie_pagina = pie_pagina;\n      childPrinter.pie_pagina_comprobante = pie_pagina_comprobante;\n    xImpresoraPrint.push(childPrinter);\n\n    // buscar impresora de precuenta\n\n    xRptPrint = {\n      arrBodyPrint: xArrayBodyPrint,\n      arrPrinters: xImpresoraPrint\n    };\n\n    return xRptPrint;\n  }\n\n  enviarMiPedido(iscliente: boolean = false): any {\n    return this.relationRowToPrint(iscliente);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { SocketService } from './socket.service';\nimport { StorageService } from './storage.service';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReglascartaService {\n  objReglasCarta: any;\n  private keyStorage = 'sys::rules';\n\n  constructor(\n    private storageService: StorageService,\n    private socketService: SocketService\n  ) { }\n\n  loadReglasCarta() {\n\n    // if ( this.storageService.isExistKey(this.keyStorage) ) {\n    //   return this.decodeObjInSotrage();\n    // } else {\n    //   return this.dataReglasCarta();\n    // }\n    return this.dataReglasCarta();\n  }\n\n  getObjReglasCarta(): any {\n    return this.objReglasCarta;\n  }\n\n  private dataReglasCarta() {\n    return new Observable(observer => {\n      this.socketService.onReglasCarta().subscribe((res: any) => {\n        this.objReglasCarta = res[0];\n        this.codeObjInSotrage();\n        // console.log(this.objReglasCarta);\n        observer.next(this.objReglasCarta);\n      });\n    });\n  }\n\n  private codeObjInSotrage(): void {\n    this.storageService.set(this.keyStorage, btoa(JSON.stringify(this.objReglasCarta)));\n  }\n\n  private decodeObjInSotrage() {\n    return new Observable(observer => {\n      const objFromStorage = this.storageService.get(this.keyStorage);\n      try {\n        this.objReglasCarta = JSON.parse(atob(objFromStorage));\n        // console.log(this.objReglasCarta);\n        observer.next(this.objReglasCarta);\n      } catch (error) {\n        this.dataReglasCarta();\n      }\n    });\n  }\n}\n"]}