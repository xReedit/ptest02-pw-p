{"version":3,"file":"src_app_pages_pedido-confirmado_pedido-confirmado_module_ts.js","mappings":"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","sources":["./src/app/pages/pedido-confirmado/confirmado/confirmado.component.ts","./src/app/pages/pedido-confirmado/pedido-confirmado.module.ts","./src/app/pages/pedido-confirmado/pedido-confirmado.routing.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\r\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\r\nimport { SocketService } from 'src/app/shared/services/socket.service';\r\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { NotificacionPushService } from 'src/app/shared/services/notificacion-push.service';\r\nimport { DialogDesicionComponent } from 'src/app/componentes/dialog-desicion/dialog-desicion.component';\r\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\r\n\r\n@Component({\r\n  selector: 'app-confirmado',\r\n  templateUrl: './confirmado.component.html',\r\n  styleUrls: ['./confirmado.component.css']\r\n})\r\nexport class ConfirmadoComponent implements OnInit {\r\n\r\n  titulo = 'Pedido Confirmado';\r\n  subtitulo = 'Su orden llegara pronto.';\r\n  img = 'food_delivery.gif';\r\n  isReservaCliente = false;\r\n\r\n  constructor(\r\n    private infoTokenService: InfoTockenService,\r\n    private navigatorService: NavigatorLinkService,\r\n    private router: Router,\r\n    private socketService: SocketService,\r\n    private miPedidoService: MipedidoService,\r\n    private dialog: MatDialog,\r\n    private pushNotificationSerice: NotificacionPushService,\r\n    private utilitariosSerivce: UtilitariosService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.navigatorService.disableGoBack();\r\n    this.navigatorService.setOffListenNavigator(true);\r\n\r\n    this.isReservaCliente = this.infoTokenService.infoUsToken.isReserva;\r\n\r\n    if ( this.isReservaCliente ) {\r\n      this.titulo = 'Reserva Confirmada';\r\n      this.subtitulo = 'Su reserva esta hecha. Lo esperamos a la hora que indico.';\r\n      this.img = 'icon-app/reserva.JPG';\r\n    }\r\n  }\r\n\r\n  finDeliveryAvisoMsj() {\r\n\r\n    if ( this.utilitariosSerivce.getOS() !== 'iOS' ) {\r\n      this.lanzarPermisoNotificationPush(0);\r\n    }\r\n\r\n    // limpiar storage transaccion\r\n    this.miPedidoService.prepareNewPedido();\r\n    this.infoTokenService.removeStoragePedido();\r\n    this.infoTokenService.setIdCliente();\r\n    // this.infoTokenService.cerrarSession();\r\n\r\n    this.socketService.isSocketOpenReconect = true;\r\n    this.socketService.closeConnection();\r\n    this.navigatorService.cerrarSession();\r\n\r\n\r\n    // this.navigatorService._router('../zona-delivery');\r\n    // this.router.navigate(['./home']);\r\n\r\n  }\r\n\r\n\r\n  private lanzarPermisoNotificationPush(option: number = 0) {\r\n    // this.pushNotificationSerice.suscribirse(option);\r\n\r\n    console.log('aaaaaaaaaaaaaaaaaaaaaaa');\r\n    if ( this.pushNotificationSerice.getIsTienePermiso() ) {\r\n      this.pushNotificationSerice.suscribirse();\r\n      return;\r\n    }\r\n    // else {\r\n    //   this.pushNotificationSerice.suscribirse();\r\n    //   return;\r\n    // }\r\n\r\n    // si no tiene permiso le pregunta\r\n    const _dialogConfig = new MatDialogConfig();\r\n    _dialogConfig.disableClose = true;\r\n    _dialogConfig.hasBackdrop = true;\r\n    _dialogConfig.data = {idMjs: option};\r\n\r\n    const _dialogReset = this.dialog.open(DialogDesicionComponent, _dialogConfig);\r\n    _dialogReset.afterClosed().subscribe(result => {\r\n      if ( result ) {\r\n        // console.log('result', result);\r\n        this.pushNotificationSerice.suscribirse();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConfirmadoComponent } from './confirmado/confirmado.component';\nimport { PedidoConfirmadoRoutingModule } from './pedido-confirmado.routing';\nimport { MaterialModule } from 'src/app/core/material/material.module';\n\n\n\n@NgModule({\n  declarations: [\n    ConfirmadoComponent\n  ],\n  imports: [\n    CommonModule,\n    PedidoConfirmadoRoutingModule,\n    MaterialModule\n  ]\n})\nexport class PedidoConfirmadoModule { }\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ConfirmadoComponent } from './confirmado/confirmado.component';\r\n\r\nconst routes: Routes = [{\r\n    path: '', component: ConfirmadoComponent,\r\n    data: { titulo: 'Cuenta' },\r\n    children: [\r\n        {\r\n            path: '',\r\n            redirectTo: 'confirmado'\r\n        }\r\n    ]\r\n}];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\n\r\nexport class PedidoConfirmadoRoutingModule { }\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}