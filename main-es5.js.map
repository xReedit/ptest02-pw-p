{"version":3,"sources":["./src/app/app.component.html","./src/app/core/layout-main/layout-main.component.html","./src/app/core/progress-time-limit/progress-time-limit.component.html","./src/app/core/tool-bar/tool-bar.component.html","./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.html","./src/$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/core/core.module.ts","./src/app/core/layout-main/layout-main.component.css","./src/app/core/layout-main/layout-main.component.ts","./src/app/core/material/material.module.ts","./src/app/core/progress-time-limit/progress-time-limit.component.css","./src/app/core/progress-time-limit/progress-time-limit.component.ts","./src/app/core/tool-bar/tool-bar.component.css","./src/app/core/tool-bar/tool-bar.component.ts","./src/app/modelos/categoria.model.ts","./src/app/modelos/delivery.establecimiento.ts","./src/app/modelos/estado.pedido.model.ts","./src/app/modelos/from.valid.rpt.model.ts","./src/app/modelos/item.model.ts","./src/app/modelos/item.tipoconsumo.model.ts","./src/app/modelos/metodo.pago.model.ts","./src/app/modelos/pedido.model.ts","./src/app/modelos/propina.model.ts","./src/app/modelos/seccion.model.ts","./src/app/modelos/socket.client.model.ts","./src/app/modelos/subitems.view.model.ts","./src/app/modelos/tipo.comprobante.model.ts","./src/app/modelos/tipoconsumo.model.ts","./src/app/modelos/usuario.token.model.ts","./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.css","./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.ts","./src/app/shared/config/config.const.ts","./src/app/shared/guards/auth.guard.ts","./src/app/shared/guards/cliente-profile-guards.ts","./src/app/shared/services/auth.service.ts","./src/app/shared/services/auth0.service.ts","./src/app/shared/services/crud-http.service.ts","./src/app/shared/services/establecimiento.service.ts","./src/app/shared/services/http-config-interceptor.service.ts","./src/app/shared/services/info-token.service.ts","./src/app/shared/services/listen-status.service.ts","./src/app/shared/services/mipedido.service.ts","./src/app/shared/services/navigator-link.service.ts","./src/app/shared/services/socket.service.ts","./src/app/shared/services/storage.service.ts","./src/app/shared/services/timer-limit.service.ts","./src/app/shared/services/utilitarios.service.ts","./src/app/shared/services/verify-auth-client.service.ts","./src/environments/environment.ts","./src/main.ts","ws (ignored)"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["module.exports = \"<!-- The content below is only a placeholder and can be replaced.\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{ title }}!\\n  </h1>\\n  <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\n</div>\\n<h2>Here are some links to help you start: </h2>\\n<ul>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://angular.io/tutorial\\\">Tour of Heroes</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://angular.io/cli\\\">CLI Documentation</a></h2>\\n  </li>\\n  <li>\\n    <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://blog.angular.io/\\\">Angular blog</a></h2>\\n  </li>\\n</ul>\\n\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-2\\\">A</div>\\n  <div class=\\\"col-2\\\">B</div>\\n</div> -->\\n\\n<router-outlet></router-outlet>\\n\"","module.exports = \"<router-outlet></router-outlet>\"","module.exports = \"<ng-container *ngIf=\\\"timerLimitService.isPorgressVisible$ | async\\\">\\n    <mat-progress-bar \\n        class=\\\"animated fadeInDown\\\"\\n        mode=\\\"determinate\\\" \\n        color=\\\"accent\\\" \\n        [value]=\\\"timerLimitService.countdown$ | async\\\"    \\n    ></mat-progress-bar>\\n</ng-container>\\n\\n\\n\"","module.exports = \"<mat-toolbar color=\\\"primary\\\">   \\n <mat-toolbar-row [ngClass]=\\\"{'toolbar-busqueda': isBusqueda}\\\">\\n   <ng-container *ngIf=\\\"!isBusqueda\\\"> \\n        \\n     <i *ngIf=\\\"isClienteDelivery\\\" class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goBackOutEstablecimiento()\\\"></i>  \\n    <span class=\\\"nom-comercio\\\">{{ nomSede | titlecase }}</span>\\n    <span class=\\\"example-spacer\\\"></span>\\n    <div style=\\\"display: contents;\\\">       \\n       <div class=\\\"example-ripple-container fs-15\\\" matRipple \\n         [matRippleColor]=\\\"rippleColorBusqueda\\\"\\n         matRippleCentered=\\\"true\\\"\\n         matRippleUnbounded=\\\"true\\\"\\n         matRippleRadius=\\\"290\\\"\\n         (click)=\\\"activaBusqueda()\\\"\\n         title=\\\"Buscar\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <div class=\\\"example-ripple-container fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColor\\\" title=\\\"Cerrar Sesion\\\" (click)=\\\"cerrarSession()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <!-- <button class=\\\"noSelect\\\" mat-icon-button title=\\\"Cerrar Sesion\\\"  (click)=\\\"cerrarSession()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i>\\n       </button>       -->\\n    </div>\\n   </ng-container>\\n\\n   <ng-container *ngIf=\\\"isBusqueda\\\">\\n      <div class=\\\"d-flex w-100\\\">\\n       <div class=\\\"example-ripple-container text-success fs-15\\\" style=\\\"margin-left: -15px;\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColorPlomo\\\" title=\\\"Atras\\\" (click)=\\\"activaBusqueda()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <input type=\\\"text\\\" class=\\\"text-busqueda w-100\\\" placeholder=\\\"Buscar...\\\" #txtBuscar (keyup)=\\\"buscarCharAhora(txtBuscar.value)\\\" autofocus>\\n       <div [hidden]=\\\"txtBuscar.value === ''\\\" class=\\\"example-ripple-container text-dark fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColorPlomo\\\"  (click)=\\\"clearTextBuqueda()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n      </div>\\n   </ng-container>\\n   \\n    <!-- <button (click)=\\\"cerrarSession()\\\">aa</button> -->\\n </mat-toolbar-row>\\n</mat-toolbar>\\n\"","module.exports = \"<div class=\\\"p-3\\\">\\n    <span class=\\\"fw-100 fs-15\\\">{{msj}}</span>\\n    <hr>\\n    <mat-dialog-actions>\\n        <button class=\\\"mr-1\\\" mat-stroked-button mat-dialog-close>Cancelar</button>\\n        <button mat-flat-button color=\\\"warn\\\" [mat-dialog-close]=\\\"true\\\">Si, confirmo.</button>\\n    </mat-dialog-actions>\\n    <br>\\n</div>\\n\\n\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LayoutMainComponent } from './core/layout-main/layout-main.component';\nimport { AuthGuard } from './shared/guards/auth.guard';\nimport { ClienteProfileGuard } from './shared/guards/cliente-profile-guards';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '', pathMatch: 'full' },\n  // {\n  // path: '',\n  // component: LayoutMainComponent,\n  // children: [\n    {\n      path: '',\n      loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n      data: { 'tituloModulo': 'Inicio' }\n    },\n    {\n      path: 'pedido',\n      loadChildren: () => import('./pages/pedido/pedido.module').then(m => m.PedidoModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Pedido' }\n    },\n    {\n      path: 'lanzar-encuesta',\n      loadChildren: () => import('./pages/encuesta/encuesta.module').then(m => m.EncuestaModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Encuesta' }\n    },\n    {\n      path: 'pagar-cuenta',\n      loadChildren: () => import('./pages/pagar-cuenta/pagar-cuenta.module').then(m => m.PagarCuentaModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Cuenta' }\n    },\n    {\n      path: 'cliente-profile',\n      loadChildren: () => import('./pages/cliente-profile/cliente-profile.module').then(m => m.ClienteProfileModule),\n      canActivate: [ClienteProfileGuard],\n      data: { 'tituloModulo': 'Cliente Profile' }\n    },\n    {\n      path: 'zona-delivery',\n      loadChildren: () => import('./pages/zona-establecimientos/zona-establecimientos.module').then(m => m.ZonaEstablecimientosModule),\n      // canActivate: [ClienteProfileGuard],\n      data: { 'tituloModulo': 'Cliente Zona Delivery' }\n    }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(\n    routes, {\n      useHash: true,\n      scrollPositionRestoration: 'enabled',\n      anchorScrolling: 'enabled',\n      paramsInheritanceStrategy: 'always'\n    }\n    )],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component } from '@angular/core';\nimport { Auth0Service } from './shared/services/auth0.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  // title = 'pwa-app-pedido';\n\n  constructor(\n    private auth: Auth0Service\n  ) {}\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\n// import { DirectionsMapDirectiveDirective } from './shared/directivas/directions-map-directive.directive';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    // DirectionsMapDirectiveDirective,\n    // DebounceClickDirective\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    // ReactiveFormsModule,\n    FormsModule,\n    AppRoutingModule,\n    CoreModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HttpClientModule, HTTP_INTERCEPTORS  } from '@angular/common/http';\nimport { CrudHttpService } from '../shared/services/crud-http.service';\n\nimport { LayoutMainComponent } from './layout-main/layout-main.component';\nimport { RouterModule } from '@angular/router';\nimport { MaterialModule } from './material/material.module';\nimport { ToolBarComponent } from './tool-bar/tool-bar.component';\nimport { ProgressTimeLimitComponent } from './progress-time-limit/progress-time-limit.component';\nimport { HttpConfigInterceptorService } from '../shared/services/http-config-interceptor.service';\n\n\n@NgModule({\n  declarations: [\n    LayoutMainComponent,\n    ToolBarComponent,\n    ProgressTimeLimitComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    HttpClientModule,\n    MaterialModule\n  ],\n  exports: [\n    MaterialModule,\n    ToolBarComponent,\n    ProgressTimeLimitComponent\n  ],\n  providers: [\n    CrudHttpService,\n    { provide: HTTP_INTERCEPTORS, useClass: HttpConfigInterceptorService, multi: true }\n  ]\n})\nexport class CoreModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvbGF5b3V0LW1haW4vbGF5b3V0LW1haW4uY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout-main',\n  templateUrl: './layout-main.component.html',\n  styleUrls: ['./layout-main.component.css']\n})\nexport class LayoutMainComponent implements OnInit {\n\n  constructor(\n  ) { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n// material\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatCardModule } from '@angular/material/card';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatSidenavModule} from '@angular/material/sidenav';\n// import {MatSidenavModule} from '@angular/material/sidenav';\n// import { MatTooltipModule } from '@angular/material/tooltip';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatTooltipModule,\n    MatSidenavModule\n    // MatTooltipModule\n  ],\n  exports: [\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatTooltipModule,\n    MatSidenavModule\n    // MatTooltipModule\n  ]\n})\nexport class MaterialModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvcHJvZ3Jlc3MtdGltZS1saW1pdC9wcm9ncmVzcy10aW1lLWxpbWl0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { TimerLimitService } from 'src/app/shared/services/timer-limit.service';\n\n@Component({\n  selector: 'app-progress-time-limit',\n  templateUrl: './progress-time-limit.component.html',\n  styleUrls: ['./progress-time-limit.component.css']\n})\nexport class ProgressTimeLimitComponent implements OnInit {\n\n  constructor(public timerLimitService: TimerLimitService) { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".example-icon {\\r\\n    padding: 0 14px;\\r\\n  }\\r\\n  \\r\\n.example-spacer {\\r\\n    flex: 1 1 auto;\\r\\n  }\\r\\n  \\r\\n.example-ripple-container {\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n  \\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n\\r\\n    line-height: 40px;\\r\\n    flex-shrink: 0;\\r\\n    line-height: 40px;\\r\\n    border-radius: 50%;\\r\\n    \\r\\n  \\r\\n    user-select: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n  \\r\\n    -webkit-user-drag: none;\\r\\n    -webkit-tap-highlight-color: transparent;\\r\\n  }\\r\\n  \\r\\n.text-busqueda {\\r\\n  border: none;\\r\\n  outline: none;\\r\\n}\\r\\n  \\r\\n.toolbar-busqueda {\\r\\n  background: white;\\r\\n}\\r\\n  \\r\\n.nom-comercio {\\r\\n  max-width: 70%;\\r\\n  white-space: nowrap;\\r\\n  text-overflow: ellipsis;\\r\\n  overflow: hidden;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtFQUNqQjs7QUFFRjtJQUNJLGNBQWM7RUFDaEI7O0FBRUE7SUFDRSxlQUFlO0lBQ2Ysa0JBQWtCOztJQUVsQixXQUFXO0lBQ1gsWUFBWTs7SUFFWixpQkFBaUI7SUFDakIsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixrQkFBa0I7OztJQUdsQixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixxQkFBcUI7O0lBRXJCLHVCQUF1QjtJQUN2Qix3Q0FBd0M7RUFDMUM7O0FBRUY7RUFDRSxZQUFZO0VBQ1osYUFBYTtBQUNmOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4YW1wbGUtaWNvbiB7XHJcbiAgICBwYWRkaW5nOiAwIDE0cHg7XHJcbiAgfVxyXG4gIFxyXG4uZXhhbXBsZS1zcGFjZXIge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgfVxyXG5cclxuICAuZXhhbXBsZS1yaXBwbGUtY29udGFpbmVyIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG5cclxuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIFxyXG4gIFxyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuICBcclxuICAgIC13ZWJraXQtdXNlci1kcmFnOiBub25lO1xyXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICB9XHJcblxyXG4udGV4dC1idXNxdWVkYSB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi50b29sYmFyLWJ1c3F1ZWRhIHtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLm5vbS1jb21lcmNpbyB7XHJcbiAgbWF4LXdpZHRoOiA3MCU7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, Renderer2} from '@angular/core';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { DialogResetComponent } from 'src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { Router } from '@angular/router';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { filter } from 'rxjs/operators';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n@Component({\n  selector: 'app-tool-bar',\n  templateUrl: './tool-bar.component.html',\n  styleUrls: ['./tool-bar.component.css']\n})\nexport class ToolBarComponent implements OnInit {\n  isBusqueda = false;\n  rippleColor = 'rgba(238,238,238,0.2)';\n  rippleColorBusqueda = 'rgba(238,238,238,0.9)';\n  rippleColorPlomo = 'rgba(158,158,158,0.5)';\n  isClienteDelivery = false;\n\n  nomSede = '';\n\n  @ViewChild('txtBuscar', {static: false}) txtBuscar: ElementRef;\n\n  // isBuqueda=\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    // private socketService: SocketService,\n    private navigatorService: NavigatorLinkService,\n    private dialog: MatDialog,\n    private listenStatusService: ListenStatusService,\n    private renderer: Renderer2,\n    private infoTokenService: InfoTockenService\n    ) { }\n\n  ngOnInit() {\n    this.listenStatusService.isBusqueda$.subscribe(res => {\n      this.isBusqueda = res;\n      // console.log('liste isBusqueda', res);\n    });\n\n    this.listenStatusService.hayDatosSede$.pipe(filter(res => res === true)).subscribe(res => {\n      this.getNomSede();\n    });\n\n    this.isClienteDelivery = this.infoTokenService.isDelivery();\n  }\n\n  private getNomSede(): void {\n    this.nomSede =  this.miPedidoService.objDatosSede.datossede[0].sedenombre;\n  }\n\n  activaBusqueda(): void {\n    this.navigatorService.setPageActive('carta');\n    this.navigatorService.addLink('carta-i-');\n\n    this.listenStatusService.setIsBusqueda();\n\n    setTimeout(() => {\n      this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();\n      this.txtBuscar.nativeElement.value = this.getStorageBusqueda();\n      // this.renderer.selectRootElement(this.txtBuscar.nativeElement).value('aaaaaa');\n    }, 300);\n  }\n\n  buscarCharAhora(charFind: string): void {\n    // console.log(charFind);\n    this.listenStatusService.setCharBusqueda(charFind);\n    this.setStorageBusqueda(charFind);\n  }\n\n  private setStorageBusqueda(charFind: string): void {\n    window.localStorage.setItem('sys::find', charFind);\n  }\n\n  private getStorageBusqueda(): string {\n    return window.localStorage.getItem('sys::find') || '';\n  }\n\n  clearTextBuqueda() {\n    this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();\n    this.txtBuscar.nativeElement.value = '';\n    window.localStorage.setItem('sys::find', '');\n  }\n\n  cerrarSession(): void {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.data = {idMjs: 1};\n\n    const dialogReset = this.dialog.open(DialogResetComponent, dialogConfig);\n    dialogReset.afterClosed().subscribe(result => {\n      if (result ) {\n        this.miPedidoService.resetAllNewPedido();\n        this.miPedidoService.cerrarSession();\n        // this.socketService.closeConnection();\n        // this.navigatorService.cerrarSession();\n        this.infoTokenService.cerrarSession();\n      }\n  });\n}\n\n\ngoBackOutEstablecimiento() {\n  const dialogConfig = new MatDialogConfig();\n      dialogConfig.data = {idMjs: 2};\n\n      const dialogReset = this.dialog.open(DialogResetComponent, dialogConfig);\n      dialogReset.afterClosed().subscribe(result => {\n        if (result ) {\n          this.miPedidoService.resetAllNewPedido();\n          this.miPedidoService.cerrarSession();\n          // this.socketService.closeConnection();\n          // this.navigatorService.cerrarSession();\n          this.infoTokenService.cerrarSession();\n        }\n      });\n\n}\n\n\n}\n","import { SeccionModel } from './seccion.model';\r\n\r\nexport class CategoriaModel {\r\n    idcarta: number;\r\n    idcategoria: number;\r\n    visible_x_hora: number;\r\n    hora_fin: string;\r\n    hora_ini: string;\r\n    des: string;\r\n    detalle: string;\r\n    secciones: SeccionModel[];\r\n}\r\n","export class DeliveryEstablecimiento {\r\n    idsede: number;\r\n    idorg: number;\r\n    eslogan: string;\r\n    ciudad: string;\r\n    provincia: string;\r\n    departamento: string;\r\n    nombre: string;\r\n    direccion: string;\r\n    pwa_delivery_img: string;\r\n    sub_categoria: string;\r\n    latitude: number;\r\n    longitude: number;\r\n    codigo_postal: string;\r\n    c_minimo: number; // costo minimo del servicio 1=costo_minimo\r\n    c_km: number; // costo x km adicional > 1  = costo_minimo + (dif * c_km)\r\n    c_servicio: number; // costo del servicio calculando la distancia\r\n    distancia_km: string; // distancia en kilomentros\r\n    tiempo_aprox_entrega: string;\r\n    abre_en: string; // tiempo que falta para abrir\r\n    hora_ini: string; // hora que abre\r\n    cerrado: number; // 0 abierto 1 cerrado,\r\n    pwa_delivery_servicio_propio: number; // delivery / el importe minimo por pedido\r\n    pwa_delivery_importe_min: number; // cantidad de productos en el pedido // solo para delivery\r\n    idsede_categoria: number;\r\n    idsede_subcategoria: string; // group concat id_subcategoria\r\n    visible: boolean;\r\n    pwa_delivery_habilitar_recojo_local: number;\r\n    pwa_delivery_acepta_yape: number;\r\n    pwa_delivery_acepta_tarjeta: number;\r\n    pwa_delivery_hablitar_calc_costo_servicio: number; // si el sistema calcula el servicio delivery segun distancia de los pedidos tomados por el comercio\r\n    pwa_delivery_comercio_solidaridad: number; // si es comercio solidario, solo pago con tarjeta y parece campo de contacto\r\n    pwa_delivery_comision_fija_no_afiliado: number; // comision fija comercio no afiliado (plaza vea cualquier pedido la comision es 2 para la platafoma)\r\n    rulesSubTotales: any;\r\n}\r\n","export class EstadoPedidoModel {\r\n    estado: number; // 0: espera 1: despachado 2: pagado 3: anulado\r\n    importe: number; // importe a pagar\r\n    isTiempoAproxCumplido: boolean; // si el tiempo aproximado esta cumplido\r\n    horaInt: number; // hora init conteo\r\n    numMinAprox: number; // numero de minutos aproximadamente\r\n    hayPedidoCliente: boolean; // si hay pedido, si hay cuenta\r\n    hayPedidoClientePendiente: boolean; // si hay productos en lista de pedido pendientes por enviar.\r\n    isPagada: boolean; // si ya fue pagada\r\n    isRegisterOnePago: boolean; // si se registro algun pago aunque no se el total\r\n}\r\n","export class FormValidRptModel {\r\n    isTpcLocal = false;\r\n    isTpcSoloLLevar = false;\r\n    isTpcSoloDelivery = false;\r\n    isTpcSoloOther = false;\r\n    isRequiereMesa = false;\r\n}\r\n","import { ItemTipoConsumoModel } from './item.tipoconsumo.model';\r\nimport { SubItem } from './subitems.model';\r\nimport { SubItemsView } from './subitems.view.model';\r\nimport { SubItemContent } from './subitem.content.model';\r\n\r\nexport class ItemModel {\r\n    iditem: number;\r\n    idseccion: number;\r\n    idcarta_lista: number;\r\n    isalmacen: number;\r\n    isporcion: string; // si es SP = porcion\r\n    imprimir_comanda: number;\r\n    procede: number; // tabla de donde descontar 0 = producto 1 = cartalista\r\n    precio: string; // precio unitario\r\n    precio_unitario: string; // para calculo del precio item + precio subitem\r\n    precio_print: number; // precio que se muestra\r\n    precio_total_calc: number; // preciounitario * cantidad // para calular reglas carta\r\n    precio_total = 0; // preciounitario * cantidad\r\n    cantidad: number;\r\n    cantidad_seleccionada: number; // total\r\n    cantidad_seleccionada_x_tpc = 0; // cantidad seleccionada por tipo cosnumo\r\n    cantidad_reset: number; // cuando caduca el tiempo y recupera stock\r\n    cantidad_descontado = 0; // cantidad que se decuenta por reglas de carta\r\n    des: string;\r\n    indicaciones: string; // indicaciones del pedido\r\n    detalles: string; // descripcion en detalle\r\n    img: string; // imagen del item\r\n    selected: boolean;\r\n    itemtiposconsumo: ItemTipoConsumoModel[] = []; // para la vista -> listItemsPedido\r\n    seccion: string;\r\n    subitems: SubItemContent[];\r\n    subitem_required_select: number;\r\n    subitem_cant_select: number;\r\n    subitems_selected: SubItem[] = []; // subitems seleccionados\r\n    subitems_view: SubItemsView[] = []; // subitems vista y guardar pedido detalle\r\n    sumar: boolean; // si suma o resta en el back end -- el back envia las cantidadees\r\n}\r\n","export class ItemTipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    cantidad_seleccionada: number;\r\n    animar_cantidad: boolean; // anima la cantidad cuando se modifoca + -\r\n}\r\n","export class MetodoPagoModel {\r\n    idtipo_pago: number;\r\n    descripcion: string;\r\n    importe: string;\r\n    checked: boolean;\r\n    visible: boolean;\r\n}\r\n","import { TipoConsumoModel } from './tipoconsumo.model';\r\n\r\nexport class PedidoModel {\r\n    tipoconsumo: TipoConsumoModel[] = [];\r\n}\r\n","export class PropinaModel {\r\n    idpropina: number;\r\n    descripcion: string;\r\n    value: number;\r\n    checked: boolean;\r\n}\r\n","import { ItemModel } from './item.model';\r\n\r\nexport class SeccionModel {\r\n    idseccion: number;\r\n    idimpresora: number;\r\n    imprimir: number;\r\n    sec_orden: number;\r\n    count_items: number;\r\n    ver_stock_cero: number;\r\n    des: string;\r\n\r\n    items: ItemModel[] = [];\r\n}\r\n","import { DeliveryDireccionCliente } from './delivery.direccion.cliente.model';\r\n\r\nexport class SocketClientModel {\r\n    idsocket_client: string; // obtiene cuando se conecta el socket\r\n    idcliente: number; // cuando se loguea a un establecimiento\r\n    idusuario: number;\r\n    idorg: number; // cuando se loguea a un establecimiento\r\n    idsede: number; // cuando se loguea a un establecimiento\r\n    isCliente: boolean;\r\n    nombres: string;\r\n    usuario: string;\r\n    datalogin: any;\r\n    numMesaLector: number; // numero de mesa del lector qr\r\n    isQrSuccess: boolean; // si paso por el lector qr\r\n    isLoginByDNI: boolean; // si el logue fue por dni\r\n    isSoloLLevar: boolean; // si escanea codigo que sea solo para llevar\r\n    isDelivery: boolean;\r\n    direccionEnvioSelected: DeliveryDireccionCliente;\r\n    telefono: string;\r\n}\r\n","import { SubItem } from './subitems.model';\r\n\r\nexport class SubItemsView {\r\n    id: string;\r\n    des: string;\r\n    listDes: string[];\r\n    cantidad: string;\r\n    indicaciones: string;\r\n    cantidad_seleccionada: number;\r\n    precio: number;\r\n    subitems: SubItem[];\r\n}\r\n","export class TipoComprobanteModel {\r\n    idtipo_comprobante: number;\r\n    descripcion: string;\r\n    dni: string;\r\n    otro_dato: string;\r\n    checked: boolean;\r\n}\r\n","import { SeccionModel } from './seccion.model';\r\n\r\nexport class TipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    count_items_seccion: number;\r\n    secciones: SeccionModel[] = [];\r\n}\r\n","import { DeliveryDireccionCliente } from './delivery.direccion.cliente.model';\r\nimport { MetodoPagoModel } from './metodo.pago.model';\r\nimport { TipoComprobanteModel } from './tipo.comprobante.model';\r\nimport { PropinaModel } from './propina.model';\r\n\r\nexport class UsuarioTokenModel {\r\n    acc: string;\r\n    cargo: string;\r\n    estadistica: number;\r\n    estado: number;\r\n    idalmacen: number;\r\n    idorg: number;\r\n    idsede: number;\r\n    idusuario: number;\r\n    nombres: string;\r\n    nuevo: number;\r\n    pass: string;\r\n    per: string;\r\n    rol: number;\r\n    super: number;\r\n    usuario: string;\r\n    idcliente: number;\r\n    isCliente: boolean;\r\n    email: string;\r\n    numMesaLector: number; // numero de mesa del lector qr\r\n    ipCliente: string; // ip del cliente api autorizacion\r\n    isSoloLLevar: boolean; // si escanea qr solo para llevar\r\n    isDelivery: boolean; // si es delivery\r\n    direccionEnvioSelected: DeliveryDireccionCliente;\r\n    telefono: string;\r\n    orderDelivery: string; // pedido pendiente de confirmacion\r\n    importeDelivery: string; // importe pendiente de confirmacion\r\n    isPagoSuccess: boolean; // si ya pago, si es que actualiza cuando ya pago\r\n    metodoPago: MetodoPagoModel; // metodo pago seleccionado\r\n    tipoComprobante: TipoComprobanteModel; // tipo comprobante en delivery\r\n    propina: PropinaModel; // propina para el repartidor delivery\r\n    socketId: string;\r\n    otro: any;\r\n    pasoRecoger: boolean; // si el cliente pasa a recoger\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9yZXN1bWVuLXBlZGlkby9kaWFsb2ctcmVzZXQvZGlhbG9nLXJlc2V0LmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-dialog-reset',\n  templateUrl: './dialog-reset.component.html',\n  styleUrls: ['./dialog-reset.component.css']\n})\nexport class DialogResetComponent implements OnInit {\n\n  msj = '';\n  constructor(\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    // console.log('data dialog', data);\n    const idMsj = data ? data.idMjs : 0;\n    switch (idMsj) {\n      case 0:\n        this.msj = 'Confirma que desea de borrar el pedido actual?';\n        break;\n      case 1:\n        this.msj = 'Confirma que desea salir?';\n        break;\n      case 2:\n        this.msj = 'Solo puede hacer un pedido por establecimiento a la vez. Confirma que desea salir?';\n        break;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n","// // pruebas\r\n// export const URL_SERVER = 'http://localhost:5819/v3/'; // desarrollo\r\n// export const URL_SERVER_SOCKET = 'http://localhost:5819'; // desarrollo\r\n// export const URL_IMG_CARTA = 'http://192.168.1.64/restobar/file/'; // imagenes de la carta\r\n// export const URL_IMG_COMERCIO = 'http://192.168.1.64/restobar/print/logo/';\r\n\r\n// export const URL_CONSULTA_RUC_DNI = 'http://apifacturalo_a.test:8080/api/services/'; // consulta dni o ruc\r\n\r\n// produccion\r\nexport const URL_SERVER = 'https://app.restobar.papaya.com.pe/api.pwa/v3'; // produccion\r\nexport const URL_SERVER_SOCKET = 'https://app.restobar.papaya.com.pe/'; // produccion\r\nexport const URL_IMG_CARTA = 'https://restobar.papaya.com.pe/file/';\r\nexport const URL_IMG_COMERCIO = 'https://restobar.papaya.com.pe/print/logo/';\r\n\r\nexport const URL_CONSULTA_RUC_DNI = 'https://apifac.papaya.com.pe/api/services/'; // consulta dni o ruc\r\nexport const TOKEN_CONSULTA = 'tLKbDncvyKIPcgdVAGqt7rmy7W9mU9cnbawpZdc7JJv7l6h9cU'; // token de prueba\r\nexport const TOKEN_SMS = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoicGFwYXlhLXNtcyIsImlhdCI6MTAwMDIwMDAzMDAwfQ.bKnTHEEGW_SustFir-40ZAYcHtfIo7Gyjq7c2onsAj0'; // token de prueba\r\n\r\n\r\n\r\n// export const URL_SERVER_SOCKET = '/'; // produccion\r\n\r\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\nimport { VerifyAuthClientService } from '../services/verify-auth-client.service';\nimport { InfoTockenService } from '../services/info-token.service';\n// import { InfoTockenService } from '../services/info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private authService: AuthService,\n    private verifyClientService: VerifyAuthClientService,\n    private infoTokenService: InfoTockenService,\n  ) {}\n\n  // canActivate(\n  //   next: ActivatedRouteSnapshot,\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n\n  //   return true;\n  // }\n\n  canActivate() {\n    const us = this.authService.getLoggedStatus();\n    const infoToken = this.infoTokenService.getInfoUs();\n    const res = infoToken.isCliente ? infoToken.isDelivery ? true : this.verifyClientService.getIsQrSuccess() && us : us;\n    // console.log('canActivate', us);\n    // if ( us )\n    return res;\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { VerifyAuthClientService } from '../services/verify-auth-client.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ClienteProfileGuard implements CanActivate {\r\n  constructor (\r\n    private verifyClientService: VerifyAuthClientService\r\n  ) {}\r\n  // canActivate(\r\n  //   next: ActivatedRouteSnapshot,\r\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n  //   return true;\r\n  // }\r\n\r\n  canActivate() {\r\n    // console.log('canActivate', this.verifyClientService.getIsQrSuccess());\r\n    return this.verifyClientService.isLogin() || this.verifyClientService.getIsLoginByDNI();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioAutorizadoModel } from 'src/app/modelos/usuario-autorizado.model';\r\nimport { CrudHttpService } from './crud-http.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n    private isLoggedStatus = false;\r\n\r\n    constructor(private crudService: CrudHttpService) {\r\n\r\n    }\r\n\r\n    setLoggedStatus(value: boolean) {\r\n        this.isLoggedStatus = value;\r\n    }\r\n\r\n    // verfica la existencia del token\r\n    getLoggedStatus() {\r\n        const token = localStorage.getItem('::token');\r\n        const rpt = !!token ? true : false;\r\n        this.isLoggedStatus = rpt;\r\n        return rpt;\r\n    }\r\n\r\n    getUserLogged(usuario: UsuarioAutorizadoModel) {\r\n        return this.crudService.loginUsuarioAutorizado(usuario);\r\n    }\r\n\r\n    setLocalToken(token: string) {\r\n        localStorage.setItem('::token', token);\r\n        // guardo tambien la hora que esta iniciando session\r\n        const ms_tieme_init_session = new Date().getTime();\r\n        localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n    }\r\n\r\n    getLocalToken() {\r\n        return localStorage.getItem('::token');\r\n    }\r\n\r\n    setLocalUsuario(usuario: UsuarioAutorizadoModel) {\r\n        localStorage.setItem('::us', JSON.stringify(usuario));\r\n    }\r\n\r\n    verifyToken() {\r\n        return this.crudService.verificarToken();\r\n    }\r\n\r\n    loggedOutUser() {\r\n        localStorage.removeItem('::token');\r\n        localStorage.removeItem('::us');\r\n        // localStorage.clear();\r\n        this.setLoggedStatus(false);\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport createAuth0Client from '@auth0/auth0-spa-js';\nimport Auth0Client from '@auth0/auth0-spa-js/dist/typings/Auth0Client';\nimport { from, of, Observable, BehaviorSubject, combineLatest, throwError } from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Auth0Service {\n  // Create an observable of Auth0 instance of client\n  auth0Client$ = (from(\n    createAuth0Client({\n      domain: 'dev-m48s1pe2.auth0.com',\n      client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n      redirect_uri: `${window.location.origin}/#/callback-auth`\n    })\n  ) as Observable<Auth0Client>).pipe(\n    shareReplay(1), // Every subscription receives the same shared value\n    catchError(err => throwError(err))\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n  isAuthenticated$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.isAuthenticated())),\n    tap(res => this.loggedIn = res)\n  );\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\n  );\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n  // Create a local property for login status\n  loggedIn: boolean = null;\n\n  constructor(private router: Router) {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    this.localAuthSetup();\n    // Handle redirect from Auth0 login\n    this.handleAuthCallback();\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\n      tap(user => this.userProfileSubject$.next(user))\n    );\n  }\n\n  private localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          return this.getUser$();\n        }\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  login(redirectPath: string = '/', proveedor: string) {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log in\n      client.loginWithRedirect({\n        connection: proveedor,\n        redirect_uri: `${window.location.origin}/#/callback-auth`,\n        appState: { target: redirectPath }\n      });\n    });\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    const params = window.location.search;\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute: string; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap(cbRes => {\n          // Get and set target redirect route from callback results\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([\n            this.getUser$(),\n            this.isAuthenticated$\n          ]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(([user, loggedIn]) => {\n        // Redirect to target route after callback processing\n        this.router.navigate([targetRoute]);\n      });\n    }\n  }\n\n  logout() {\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log out\n      client.logout({\n        client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n        returnTo: `${window.location.origin}`\n      });\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { InfoTockenService } from './info-token.service';\r\nimport { URL_SERVER, URL_CONSULTA_RUC_DNI, TOKEN_CONSULTA, TOKEN_SMS } from '../config/config.const';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class CrudHttpService {\r\n\r\n    constructor(\r\n        private httpClient: HttpClient\r\n        , private infoTockenService: InfoTockenService\r\n    ) {\r\n\r\n    }\r\n\r\n    // conOrg, conSede FILTRAN SI NO SE ESPECIFICA POR ORG Y SEDE\r\n    getAll(controller: string, evento: string, conOrg: boolean = true, conSede: boolean = true, token: boolean = true): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede);\r\n        const header = token ? this.getHeaderHttpClientForm() : null;\r\n\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    getTimeNow(): Observable<any[]> {\r\n        const url = this.setUrlFiltros('estadistica', 'getFechaNow', false, false);\r\n        const header = null;\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    // numeropagina: numero pagina a mostrar\r\n    // rows: cantidad de filas o registros a mostrar\r\n    // filter: filtros de busqueda para la paginacion // se adjunta a org y sede\r\n    // orden: nombre del campo por el cual se ordenara\r\n    // ordendireccion: default ASC\r\n    paginacion(controller: string, evento: string,\r\n        pagenumber: number, rows: number, filter: string,\r\n        orden: string, ordendireccion: string = null,\r\n        conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        // console.log('url', url);\r\n        const params = new HttpParams({\r\n            fromObject: {\r\n                pagenumber: pagenumber.toString(),\r\n                rows: rows.toString(),\r\n                orden: orden,\r\n                ordendireccion: ordendireccion || ''\r\n            }\r\n        });\r\n\r\n        return this.httpClient.get<any[]>(url, { params: params });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    create(datos: any, controller: string, evento: string = 'create'): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    update(datos: any, id: any, controller: string, evento: string = 'update'): Observable<any> {\r\n        const url = this.setUrl(controller, evento) + '/' + id.toString();\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.put<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    postFree(datos: any, controller: string, evento: string = 'update', conToken: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conToken ? this.getHeaderHttpClientForm() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar mensaje SMS de seguridad\r\n    postSMS(datos: any, controller: string, evento: string , conTokenSMS: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conTokenSMS ? this.getHeaderHttpClientFormSMS() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    getFree(url: string): Observable<any> {\r\n        return this.httpClient.get<any>(url);\r\n    }\r\n\r\n    // consulta ruc o dni\r\n    getConsultaRucDni(controller: string, number: string): Observable<any> {\r\n        const url =  `${URL_CONSULTA_RUC_DNI}${controller}/${number}`;\r\n        const header = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', `Bearer ${TOKEN_CONSULTA}`);\r\n\r\n        return this.httpClient.get<any>(url, { headers: header });\r\n    }\r\n\r\n    getFilterBy(controller: string, evento: string,\r\n        filter: string, conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n    getById(id: any, controller: string, evento: string): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, false, false, id);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n\r\n    // login manda los datos en json\r\n    loginUsuarioAutorizado(datos: any): Observable<any> {\r\n        const url = this.setUrl('login-usuario-autorizado', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    verificarToken(): Observable<any> {\r\n        const url = this.setUrl('verificarToken', '');\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, { headers: header });\r\n    }\r\n\r\n    refreshToken() {\r\n        const _jwt = this.infoTockenService.getInfoUs();\r\n        const _data = {\r\n            nomusuario: _jwt.usuario,\r\n            pass: atob(_jwt.pass)\r\n          };\r\n\r\n        const url = this.setUrl('login-usuario-autorizado', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, _data , { headers: header });\r\n    }\r\n\r\n\r\n\r\n\r\n    private setUrl(controller: string, evento: string) {\r\n        const url = `${URL_SERVER}/${controller}/${evento}`;\r\n        return url;\r\n    }\r\n\r\n    private setUrlFiltros(controller: string, evento: string, conOrg: boolean, conSede: boolean, filter: string = ''): string {\r\n        const getSede = conSede ? this.setInfoSedeToken() : '';\r\n        const getOrg = conOrg ? this.setInfoOrgToken() : '';\r\n        const getOperador = (conOrg && conSede) ? '~y~' : '';\r\n        const filterOrgSede = `${getSede + getOperador + getOrg}`;\r\n        let getFilter = filterOrgSede === '' ? filter : filter === '' ? '' : `~y~${filter}`;\r\n\r\n        getFilter = '/' + filterOrgSede + getFilter;\r\n\r\n\r\n        const url = `${URL_SERVER}/${controller}/${evento}${getFilter}`;\r\n        return url;\r\n    }\r\n\r\n    private setInfoSedeToken(): string {\r\n        return 'idsede:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n    private setInfoOrgToken(): string {\r\n        return 'idorg:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n\r\n    private getHeaderHttpClientForm(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', this.infoTockenService.getToken());\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderHttpClientFormSMS(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', TOKEN_SMS);\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderHttpClientFormNoToken(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json');\r\n        return headers;\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { CrudHttpService } from './crud-http.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EstablecimientoService {\n  establecimiento: DeliveryEstablecimiento;\n\n  private keyStorage = 'sys::ed';\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  set(_establecimiento: DeliveryEstablecimiento) {\n    localStorage.setItem(this.keyStorage, btoa(JSON.stringify(_establecimiento)));\n  }\n\n  get(): DeliveryEstablecimiento {\n    let _establecimiento = new DeliveryEstablecimiento;\n    const _isExist = localStorage.getItem(this.keyStorage);\n    _establecimiento = _isExist ? <DeliveryEstablecimiento>JSON.parse(atob(_isExist)) : _establecimiento;\n    return _establecimiento;\n  }\n\n  setRulesSubtotales(val: any) {\n    this.establecimiento = this.get();\n    this.establecimiento.rulesSubTotales = val;\n    this.set(this.establecimiento);\n  }\n\n\n  // al iniciar el usuario\n  loadEstablecimientoById(id: number) {\n    const _dataSend = {\n      idsede: id\n    };\n\n    this.crudService.postFree(_dataSend, 'delivery', 'get-establecimientos')\n    .subscribe(res => {\n      this.establecimiento = res.data[0];\n      this.set(this.establecimiento);\n      // console.log(res);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { catchError } from 'rxjs/operators';\nimport { InfoTockenService } from './info-token.service';\nimport { CrudHttpService } from './crud-http.service';\nimport { AuthService } from './auth.service';\n\n\n@Injectable()\nexport class HttpConfigInterceptorService implements HttpInterceptor {\n\n  constructor(\n    private authService: AuthService\n    , private crudService: CrudHttpService) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request)\n      .pipe(\n        catchError((err, caught: Observable<HttpEvent<any>>) => {\n          if (err instanceof HttpErrorResponse && err.status === 401) {\n            // si es error 401 de autentificacion es decir token caducadado\n            // lo refresquea\n            this.crudService.refreshToken().subscribe(res => {\n              this.authService.setLocalToken(res.token);\n              this.authService.setLoggedStatus(true);\n            });\n          }\n          throw err;\n        })\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\r\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\r\nimport { TipoComprobanteModel } from 'src/app/modelos/tipo.comprobante.model';\r\nimport { PropinaModel } from 'src/app/modelos/propina.model';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InfoTockenService {\r\n  infoUsToken: UsuarioTokenModel;\r\n  constructor(\r\n    // private miPedidoService: MipedidoService,\r\n  ) {\r\n    this.converToJSON();\r\n  }\r\n\r\n  getInfoUs(): UsuarioTokenModel {\r\n    this.getLocalIpCliente();\r\n    return this.infoUsToken;\r\n  }\r\n\r\n  saveToken(token: any) {\r\n    localStorage.setItem('::token', token);\r\n\r\n    // guardo tambien la hora que esta iniciando session\r\n    const ms_tieme_init_session = new Date().getTime();\r\n    localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n  }\r\n\r\n  getInfoSedeToken(): string {\r\n    // const token = jwt.decode(this.getToken());\r\n    return this.infoUsToken.idsede.toString();\r\n    // return '1';\r\n  }\r\n  getInfoOrgToken(): string {\r\n    return this.infoUsToken.idorg.toString();\r\n  }\r\n\r\n  getInfoNomSede(): string {\r\n    return localStorage.getItem('sys::s');\r\n  }\r\n\r\n  isCliente(): boolean {\r\n    return this.infoUsToken.isCliente;\r\n  }\r\n\r\n  isSoloLlevar(): boolean {\r\n    return this.infoUsToken.isSoloLLevar;\r\n  }\r\n\r\n  isDelivery(): boolean {\r\n    return this.infoUsToken.isDelivery;\r\n  }\r\n\r\n  getLocalIpCliente(): string {\r\n    this.infoUsToken.ipCliente = localStorage.getItem('sys::it') || '';\r\n    return this.infoUsToken.ipCliente;\r\n  }\r\n\r\n  setLocalIpCliente(val: string): void {\r\n    localStorage.setItem('sys::it', val);\r\n  }\r\n\r\n  setIsPagoSuccess(val: boolean) {\r\n    this.infoUsToken.isPagoSuccess = val;\r\n    this.set();\r\n  }\r\n\r\n  setSocketId( val: string) {\r\n    // this.infoUsToken.socketId = this.infoUsToken.socketId ? this.infoUsToken.socketId : val;\r\n    this.infoUsToken.socketId = val;\r\n    this.set();\r\n  }\r\n\r\n  // para el confirmar pago si es clienteDelivery\r\n  setOrderDelivery(_order: string, _importes: string): void {\r\n    this.infoUsToken.orderDelivery = btoa(_order);\r\n    this.infoUsToken.importeDelivery = btoa(_importes);\r\n\r\n    // const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    // localStorage.setItem('::token', _token);\r\n    this.set();\r\n  }\r\n\r\n  setTelefono(val: string) {\r\n    this.infoUsToken.telefono = val;\r\n    this.set();\r\n  }\r\n\r\n  setMetodoPago( metodo: MetodoPagoModel) {\r\n    this.infoUsToken.metodoPago = metodo;\r\n    this.set();\r\n  }\r\n\r\n  setTipoComprobante( comprobante: TipoComprobanteModel) {\r\n    this.infoUsToken.tipoComprobante = comprobante;\r\n    this.set();\r\n  }\r\n\r\n  setPropina( propina: PropinaModel) {\r\n    this.infoUsToken.propina = propina;\r\n    this.set();\r\n  }\r\n\r\n  setPasoRecoger( val: boolean) {\r\n    this.infoUsToken.pasoRecoger = val;\r\n    this.set();\r\n  }\r\n\r\n  setIniMetodoPago(descripcion = 'Tarjeta') {\r\n    const metodoPagoInit: MetodoPagoModel = new MetodoPagoModel;\r\n    metodoPagoInit.idtipo_pago = descripcion === 'Tarjeta' ? 2 : 1;\r\n    metodoPagoInit.descripcion = descripcion;\r\n    metodoPagoInit.importe = '0';\r\n    metodoPagoInit.checked = true;\r\n\r\n    this.setMetodoPago( metodoPagoInit );\r\n  }\r\n\r\n  setIniMetodoPagoSegunFiltro(isAceptaTarjeta): MetodoPagoModel {\r\n    const metodoPagoInit: MetodoPagoModel = new MetodoPagoModel;\r\n\r\n    if ( isAceptaTarjeta ) {\r\n      metodoPagoInit.idtipo_pago = 2;\r\n      metodoPagoInit.descripcion = 'Tarjeta';\r\n      metodoPagoInit.importe = '0';\r\n      metodoPagoInit.checked = true;\r\n    }\r\n\r\n    this.setMetodoPago( metodoPagoInit );\r\n    return metodoPagoInit;\r\n\r\n    // if ( isAceptaYape ) {\r\n    //   metodoPagoInit.idtipo_pago = 3;\r\n    //   metodoPagoInit.descripcion = 'Yape';\r\n    //   metodoPagoInit.importe = '0';\r\n    //   metodoPagoInit.checked = true;\r\n    //   this.setMetodoPago( metodoPagoInit );\r\n    //   return metodoPagoInit;\r\n    // }\r\n\r\n    // metodoPagoInit.idtipo_pago = 1;\r\n    // metodoPagoInit.descripcion = 'Efectivo';\r\n    // metodoPagoInit.importe = '0';\r\n    // metodoPagoInit.checked = true;\r\n    // this.setMetodoPago( metodoPagoInit );\r\n    // return metodoPagoInit;\r\n\r\n    // this.setMetodoPago( metodoPagoInit );\r\n    // return metodoPagoInit;\r\n\r\n  }\r\n\r\n  setIniTipoComprobante() {\r\n    const tipoComprobanteInit: TipoComprobanteModel = new TipoComprobanteModel;\r\n    tipoComprobanteInit.idtipo_comprobante = 1;\r\n    tipoComprobanteInit.descripcion = 'Boleta';\r\n    tipoComprobanteInit.checked = true;\r\n\r\n    this.setTipoComprobante( tipoComprobanteInit );\r\n  }\r\n\r\n  setIniPropina() {\r\n    const prpinaInt: PropinaModel = new PropinaModel;\r\n    prpinaInt.idpropina = 1;\r\n    prpinaInt.value = 0;\r\n    prpinaInt.descripcion = 'S/. 0';\r\n    prpinaInt.checked = true;\r\n\r\n    this.setPropina( prpinaInt );\r\n  }\r\n\r\n  setOtro( val: any) {\r\n    this.infoUsToken.otro = val;\r\n    this.set();\r\n  }\r\n\r\n  // guarda en el local storage\r\n  set() {\r\n    const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    localStorage.setItem('::token', _token);\r\n  }\r\n  //\r\n\r\n  getToken(): any { return localStorage.getItem('::token'); }\r\n\r\n  converToJSON(): void {\r\n    if (localStorage.getItem('::token')) {\r\n      const _token =  JSON.parse(atob(localStorage.getItem('::token').split('.')[1]));\r\n\r\n      // si existe idcliente, setea al usuario\r\n      if ( _token.idcliente ) {\r\n        const _newUs = new UsuarioTokenModel();\r\n        _newUs.isCliente = true;\r\n        _newUs.idcliente = _token.idcliente;\r\n        _newUs.idorg = _token.idorg;\r\n        _newUs.idsede = _token.idsede;\r\n        _newUs.nombres = _token.datalogin ? _token.datalogin.name : _token.nombres ;\r\n        _newUs.idusuario = 0;\r\n        _newUs.usuario = 'cliente';\r\n        _newUs.numMesaLector = _token.numMesaLector;\r\n        _newUs.ipCliente = _token.ipCliente;\r\n        _newUs.isSoloLLevar = _token.isSoloLLevar;\r\n        _newUs.isDelivery = _token.isDelivery;\r\n        _newUs.direccionEnvioSelected = _token.direccionEnvioSelected;\r\n        _newUs.telefono = _token.telefono;\r\n        _newUs.orderDelivery = _token.orderDelivery;\r\n        _newUs.importeDelivery = _token.importeDelivery;\r\n        _newUs.isPagoSuccess = _token.isPagoSuccess;\r\n        _newUs.metodoPago = _token.metodoPago;\r\n        _newUs.tipoComprobante = _token.tipoComprobante;\r\n        _newUs.propina = _token.propina;\r\n        _newUs.socketId = _token.socketId;\r\n        _newUs.otro = _token.otro;\r\n        _newUs.pasoRecoger = _token.pasoRecoger;\r\n        this.infoUsToken = _newUs;\r\n\r\n        // agregar el metodo pago prederteminado tarjeta // valores iniciales\r\n        if (!this.infoUsToken.metodoPago)  { this.setIniMetodoPago(); this.setIniTipoComprobante(); this.setIniPropina(); this.setPasoRecoger(false); }\r\n      } else {\r\n\r\n        this.infoUsToken = typeof _token.usuario === 'object' ? <UsuarioTokenModel>_token.usuario : <UsuarioTokenModel>_token;\r\n        // this.infoUsToken = <UsuarioTokenModel>_token;\r\n\r\n        // inicializa valores\r\n        this.setIniMetodoPago(); this.setIniTipoComprobante(); this.setIniPropina(); this.setPasoRecoger(false);\r\n\r\n        this.infoUsToken.isCliente = false;\r\n      }\r\n    } else {\r\n      this.infoUsToken = null;\r\n    }\r\n  }\r\n\r\n  cerrarSession(): void {\r\n    if (!this.infoUsToken.isDelivery) {\r\n      localStorage.removeItem('::token');\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('sys::numtis');\r\n    }\r\n    localStorage.removeItem('sys::rules');\r\n    localStorage.removeItem('sys::status');\r\n    localStorage.removeItem('sys::st');\r\n\r\n    localStorage.removeItem('sys::ed');\r\n    localStorage.removeItem('sys::transaction-response');\r\n    localStorage.removeItem('sys::transaction-load');\r\n    localStorage.removeItem('data');\r\n    // localStorage.removeItem('sys::tpm');\r\n  }\r\n\r\n  // verifica el tiempo de inactividad para cerrar session\r\n  // cerrar session despues de 3:20 => ( 12000 sec )horas inciadas\r\n  verificarContunuarSession(): boolean {\r\n    if ( !this.infoUsToken || !this.infoUsToken.isCliente || !this.infoUsToken.isDelivery) { // si es usuario autorizado no cuenta tiempo\r\n      return true;\r\n    }\r\n\r\n    if (this.infoUsToken.isDelivery) {\r\n      // si es delivery no cierra session\r\n      return true;\r\n    }\r\n\r\n    let numTis = parseInt(localStorage.getItem('sys::numtis'), 0);\r\n    let continueSession = this.infoUsToken.isDelivery ? this.infoUsToken.isDelivery : !isNaN(numTis);\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    if ( isNaN(numTis) ) {\r\n      localStorage.setItem('sys::numtis', new Date().getTime().toString());\r\n    }\r\n\r\n    numTis = isNaN(numTis) ?  new Date().getTime() : numTis;\r\n    const ms_now = new Date().getTime();\r\n    const ms = ms_now - numTis;\r\n    const sec = Math.floor((ms / 1000));\r\n\r\n    if ( sec > 10000 ) {\r\n      continueSession = false;\r\n    }\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    return true;\r\n    // const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { EstadoPedidoModel } from 'src/app/modelos/estado.pedido.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListenStatusService {\n\n  // para activar la busqueda\n  private isBusquedaSource = new BehaviorSubject<boolean>(false);\n  public isBusqueda$ = this.isBusquedaSource.asObservable();\n\n  // string a buscar\n  private charBuquedaSource = new BehaviorSubject<string>('');\n  public charBuqueda$ = this.charBuquedaSource.asObservable();\n\n  // hay items en la busqueda - se encontro cuenta\n  private hayCuentaBusquedaSource = new BehaviorSubject<boolean>(false);\n  public hayCuentaBusqueda$ = this.hayCuentaBusquedaSource.asObservable();\n\n  // datos de la sede estan disponible\n  private hayDatosSedeSource = new BehaviorSubject<boolean>(false);\n  public hayDatosSede$ = this.hayDatosSedeSource.asObservable();\n\n  // si es cliente usuario\n  private isUsuarioClienteSource = new BehaviorSubject<boolean>(false);\n  public isUsuarioCliente$ = this.isUsuarioClienteSource.asObservable();\n\n  // estado del pedido enviado por el cliente\n  private estadoPedidoSource = new BehaviorSubject<EstadoPedidoModel>(new EstadoPedidoModel());\n  public estadoPedido$ = this.estadoPedidoSource.asObservable();\n\n  // hay pedido en el storage, si es cliente usuario no cargar al cuenta.\n  private hayPedidoPendienteSource = new BehaviorSubject<boolean>(false);\n  public hayPedidoPendiente$ = this.hayPedidoPendienteSource.asObservable();\n\n  // form pagar la cuenta\n  private isPagePagarCuentaShowSource = new BehaviorSubject<boolean>(false);\n  public isPagePagarCuentaShow$ = this.isPagePagarCuentaShowSource.asObservable();\n\n  // si el boton de pago ha sido visible // recargamos la pagina al volver a ingresar\n  private isBtnPagoShowSource = new BehaviorSubject<boolean>(false);\n  public isBtnPagoShow$ = this.isBtnPagoShowSource.asObservable();\n\n  // notifica el pago correcto para enviar el pedido cuando es solo para llevar\n  private isPagoSuccesSource = new BehaviorSubject<boolean>(false);\n  public isPagoSucces$ = this.isPagoSuccesSource.asObservable();\n\n  private isChangeDireccionDeliverySource = new BehaviorSubject<DeliveryDireccionCliente>(null);\n  public isChangeDireccionDelivery$ = this.isChangeDireccionDeliverySource.asObservable();\n\n\n  // notifica salir del establecimeinto cuando es cliente delivery goback\n  private isOutEstablecimientoDeliverySource = new BehaviorSubject<boolean>(false);\n  public isOutEstablecimientoDelivery$ = this.isOutEstablecimientoDeliverySource.asObservable();\n\n  constructor() { }\n\n  setIsBusqueda() {\n    if ( !this.isBusquedaSource.value ) {\n      setTimeout(() => {\n        this.isBusquedaSource.next(true);\n      }, 250);\n    } else {\n      this.isBusquedaSource.next(false);\n    }\n  }\n\n  setCharBusqueda(charFind: string) {\n    this.charBuquedaSource.next(charFind);\n  }\n\n  setHayCuentaBuesqueda(value: boolean): void {\n    this.hayCuentaBusquedaSource.next(value);\n  }\n\n  setHayDatosSede(value: boolean): void {\n    this.hayDatosSedeSource.next(value);\n  }\n\n  setIsUsuarioCliente(value: boolean): void {\n    this.isUsuarioClienteSource.next(value);\n  }\n\n  setEstadoPedido(value: EstadoPedidoModel): void {\n    this.estadoPedidoSource.next(value);\n  }\n\n  setHayPedidoPendiente(value: boolean): void {\n    this.hayPedidoPendienteSource.next(value);\n  }\n\n  setIsPagePagarCuentaShow(value: boolean) {\n    this.isPagePagarCuentaShowSource.next(value);\n  }\n\n  setIsBtnPagoShow(value: boolean) {\n    this.isBtnPagoShowSource.next(value);\n  }\n\n  setPagoSuccess(value: boolean) {\n    this.isPagoSuccesSource.next(value);\n  }\n\n  setChangeDireccionDelivery(value: DeliveryDireccionCliente) {\n    this.isChangeDireccionDeliverySource.next(value);\n  }\n\n  setIsOutEstablecimientoDelivery(value: boolean) {\n    this.isOutEstablecimientoDeliverySource.next(value);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n\n\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\nimport { CategoriaModel } from 'src/app/modelos/categoria.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\n// import { MAX_MINUTE_ORDER } from '../config/config.const';\n\n// servicios\nimport { StorageService } from './storage.service';\nimport { SocketService } from './socket.service';\nimport { TimerLimitService } from './timer-limit.service';\nimport { NavigatorLinkService } from './navigator-link.service';\nimport { UtilitariosService } from './utilitarios.service';\nimport { ListenStatusService } from './listen-status.service';\n\n\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { FormValidRptModel } from 'src/app/modelos/from.valid.rpt.model';\nimport { SubItem } from 'src/app/modelos/subitems.model';\nimport { SubItemsView } from 'src/app/modelos/subitems.view.model';\nimport { SubItemContent } from 'src/app/modelos/subitem.content.model';\nimport { CartaModel } from 'src/app/modelos/carta.model';\nimport { EstablecimientoService } from './establecimiento.service';\nimport { CrudHttpService } from './crud-http.service';\nimport { match } from 'minimatch';\n\n// import { distinctUntilChanged } from 'rxjs/internal/operators/distinctUntilChanged';\n// import { takeUntil } from 'rxjs/internal/operators/takeUntil';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MipedidoService {\n\n  private miPedidoSource = new BehaviorSubject<PedidoModel>(new PedidoModel());\n  public miPedidoObserver$ = this.miPedidoSource.asObservable();\n\n  // la carta observable\n  // private laCartaObjSource = new BehaviorSubject<any>({});\n  // public laCartaObj$ = this.laCartaObjSource.asObservable();\n\n  // number tab Mi Pedido\n  private countItemsSource = new BehaviorSubject<number>(0);\n  public countItemsObserve$ = this.countItemsSource.asObservable();\n\n  // observable que se modifco cantidad - stock de algun producto\n  // si es que esta en resumen de pedido dialog -- actualize stock\n  private itemStockChangeSource = new BehaviorSubject<ItemModel>(new ItemModel());\n  public itemStockChangeObserve$ = this.itemStockChangeSource.asObservable();\n\n  public objCarta: any;\n  public objDatosSede: any;\n\n  private isPreAvisoVisible = false;\n\n  listItemsPedido: ItemModel[] = [];\n  miPedido: PedidoModel = new PedidoModel();\n\n  mpObjItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  mpObjSeccionSelected: SeccionModel = new SeccionModel();\n\n  time = new Date();\n  max_minute_order: number;\n\n  // pwa_delivery_importe_min = 10; // delivery / el importe minimo por pedido\n  pwa_delivery_servicio_propio = false; // delivery / si el comercio tiene propio repartidores\n\n  deliveryCanItemsInOrder = 0; // cantidad de productos en el pedido // solo para delivery\n  deliveryArrConstantes = {\n    cantItemsScala: 0,\n    costoScala: 0\n  };\n\n\n\n  constructor(\n    private storageService: StorageService,\n    private socketService: SocketService,\n    private timerLimitService: TimerLimitService,\n    private navigatorService: NavigatorLinkService,\n    private _snackBar: MatSnackBar,\n    private utilesService: UtilitariosService,\n    private listenStatusService: ListenStatusService,\n    private establecimientoService: EstablecimientoService, // datos del estableciento // clienteSelivery\n    private crudService: CrudHttpService,\n    ) {\n\n    }\n\n  getObjCarta() {\n    return this.objCarta;\n  }\n\n  getObjCartaLibery() {\n    return JSON.parse(JSON.stringify(this.objCarta));\n  }\n\n  // cuando obtenemos la cuenta\n  setObjMiPedido(obj: any): void {\n    this.miPedido = obj;\n    this.miPedidoSource.next(this.miPedido);\n  }\n\n  resetObjMiPedido(): void {\n    this.miPedido = new PedidoModel();\n    this.miPedidoSource.next(this.miPedido);\n  }\n\n  setObjCarta(res: any) {\n\n    // esto lo manda desde carta component\n    this.objCarta = {};\n\n    // setTimeout(() => {\n      this.objCarta = {\n        'carta': null,\n        'bodega': null\n      };\n\n      this.objCarta.carta = <CartaModel[]>res[0].carta;\n      this.objCarta.bodega = <SeccionModel[]>res[0].bodega;\n\n      // colocamos la bodega en todas las cartas\n      let _carta = this.objCarta.carta;\n      const _bodega = this.objCarta.bodega;\n      if ( _bodega ) {\n\n        // si no hay carta solo productos\n        if ( !this.objCarta.carta ) {\n          // const newCarta = new CartaModel;\n          const newCategoria = new CategoriaModel;\n          newCategoria.des = 'Productos';\n          newCategoria.detalle = '';\n          newCategoria.hora_fin = '';\n          newCategoria.hora_ini = '';\n          newCategoria.idcarta = 0;\n          newCategoria.idcategoria = 0;\n          newCategoria.secciones = [];\n\n          _carta = [];\n          _carta.push(newCategoria);\n\n          _carta.map((c: CategoriaModel) => {\n            _bodega.map((bs: SeccionModel) => {\n              c.secciones.push(bs);\n            });\n          });\n\n          this.objCarta.carta = _carta;\n          return;\n        }\n\n        _carta.map((c: CategoriaModel) => {\n          _bodega.map((bs: SeccionModel) => {\n            c.secciones.push(bs);\n          });\n        });\n      }\n\n      // this.laCartaObjSource.next(this.objCarta);\n      // console.log('objCartaCarta', this.objCarta);\n    // }, 1000);\n  }\n\n  getMiPedido(): PedidoModel {\n    if ( this.miPedido.tipoconsumo.length === 0 ) {\n      if (this.storageService.isExistKey('sys::order::all')) {\n        this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n      }\n    }\n    // this.miPedidoSource.next(this.miPedido);\n    return this.miPedido;\n  }\n\n  // setea los tipos de consumo del item seleccionado para sumar las cantidaddes seleccionadas\n  setobjItemTipoConsumoSelected(_objItemTipoConsumoSelected: ItemTipoConsumoModel[]) {\n    // this.mpObjItemTipoConsumoSelected = JSON.parse(JSON.stringify(_objItemTipoConsumoSelected));\n    this.mpObjItemTipoConsumoSelected = _objItemTipoConsumoSelected;\n  }\n\n  // seteamos seccion seleccionada menos items[]; para que no se forme el bucle\n  setObjSeccionSeleced(seccion: SeccionModel) {\n    this.mpObjSeccionSelected = new SeccionModel();\n    this.mpObjSeccionSelected.des = seccion.des;\n    this.mpObjSeccionSelected.idimpresora = seccion.idimpresora;\n    this.mpObjSeccionSelected.idseccion = seccion.idseccion;\n    this.mpObjSeccionSelected.sec_orden = seccion.sec_orden;\n    this.mpObjSeccionSelected.ver_stock_cero = seccion.ver_stock_cero;\n  }\n\n  // obtener el DELIVERY_CANTIDAD_ITEMS_ESCALA // solo si es cliente delivery\n  getDeliveryConstCantEscala(): void {\n\n    // recuperar del storage\n    const _arrItemScala = localStorage.getItem('sys::ICS');\n    if ( _arrItemScala ) {\n      this.deliveryArrConstantes = JSON.parse(atob(_arrItemScala));\n    } else {\n      this.crudService.getAll('pedido', 'get-const-delivery-items-escala', false, false, false)\n        .subscribe((res: any) => {\n          this.deliveryArrConstantes = {\n            cantItemsScala: res.data[0].value,\n            costoScala: res.data[1].value\n          };\n          // = parseInt(res.data[0][0].value, 0);\n          // console.log('deliveryItemsScala', res);\n          localStorage.setItem('sys::ICS', btoa(JSON.stringify(this.deliveryArrConstantes)));\n        });\n    }\n\n  }\n\n  // suma cantidad seleccionada\n  // idTpcItemResumenSelect tipo consumo del item al modificar desde resumen, si el tpc es diferente al seleccionado en el dialog entonces no suma al item\n  addItem2(tipoconsumo: ItemTipoConsumoModel, item: ItemModel, signo: number = 0, idTpcItemResumenSelect: number = null) {\n    // let sumTotalTpcSelected = this.totalItemTpcSelected();\n\n    // el item que viene es de carta o del resumen\n    // buscamos el item en la carta para el stock\n    // de esta manera manejamos una sola cantidad\n    // idTpcItemResumenSelect si viene del resumen dialog\n    // let cantItem = idTpcItemResumenSelect ? parseInt(this.findItemCarta(item).cantidad.toString(), 0) : parseInt(item.cantidad.toString(), 0);\n\n    let cantItem = parseInt(item.cantidad.toString(), 0);\n    const sumar = signo === 0 ? true : false;\n\n    if (cantItem <= 0 && sumar) { return; }\n\n    let cantSeleccionada = tipoconsumo.cantidad_seleccionada || 0;\n    cantSeleccionada += sumar ? 1 : -1;\n    if (cantSeleccionada < 0) { return; }\n\n    if ( item.isporcion !== 'ND' ) {\n      cantItem += sumar ? -1 : 1;\n      cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;\n      cantItem = cantItem < 0 || cantSeleccionada < 0 ? 0 : cantItem;\n    }\n\n    cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;\n    tipoconsumo.cantidad_seleccionada = cantSeleccionada;\n\n    // listItemsPedido -> para el local storage recuperar y resetear\n    // const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];\n    // let sumTotalTpcSelected = 1;\n    // if (itemInList) {\n    //   sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n    //   itemInList.cantidad_seleccionada = sumTotalTpcSelected;\n\n    // } else {\n    //   this.listItemsPedido.push(item);\n    // }\n\n    // item\n    // sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n    // actualizar cantidades en item carta\n    // item.cantidad_seleccionada = sumTotalTpcSelected;\n    // item.cantidad = cantItem;\n\n\n    // json pedido\n    const _tipoconsumo = JSON.parse(JSON.stringify(tipoconsumo));\n    const itemInPedido = this.findItemMiPedido(_tipoconsumo, this.mpObjSeccionSelected, item, sumar);\n    itemInPedido.cantidad = cantItem;\n\n    // actualizar cantidades en item carta\n    item = idTpcItemResumenSelect ? this.findItemCarta(item) : item;\n    item = this.findItemCarta(item);\n\n    // emitir item modificado\n    item.sumar = sumar;\n    item.subitems_selected = itemInPedido.subitems_selected;\n    item.subitems_view = itemInPedido.subitems_view;\n\n    // listItemsPedido -> para el local storage recuperar y resetear\n    const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];\n    let sumTotalTpcSelected = 1;\n    if (itemInList) {\n\n      // por momentos pierde referencia al tipo de consumo, para evitar eso\n      if (!itemInList.itemtiposconsumo) {\n        itemInList.itemtiposconsumo = this.mpObjItemTipoConsumoSelected;\n      }\n\n      sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n      itemInList.cantidad_seleccionada = sumTotalTpcSelected;\n      itemInList.subitems_selected = itemInPedido.subitems_selected;\n      itemInList.subitems_view = itemInPedido.subitems_view;\n    } else {\n      this.listItemsPedido.push(item);\n    }\n\n    item.cantidad_seleccionada = sumTotalTpcSelected;\n    // if (item.isporcion !== 'ND') { item.cantidad = cantItem; } // la cantidad lo envia el socket\n\n    // comunica el cambio de stock en el item carta\n    this.itemStockChangeSource.next(item);\n\n    // hora que comienza a realizar el pedido\n    this.setLocalStorageHora();\n\n    // guardamos el pedido en local // por si se actualiza\n    this.setLocalStoragePedido();\n\n    // emitir item modificado\n    // item.sumar = sumar;\n    // item.subitems_selected = itemInPedido.subitems_selected;\n    // item.subitems_view = itemInPedido.subitems_view;\n\n    this.socketService.emit('itemModificado', item);\n\n    // console.log('listItemsPedido', this.listItemsPedido);\n    // console.log('itemModificado en add', item);\n    // console.log('itemModificado en add', JSON.stringify(item));\n\n    this.listenStatusService.setHayPedidoPendiente(true);\n\n    // item.subitems_selected = null;\n    // itemInPedido.subitems_selected = null;\n    // item.subitems_view = null;\n\n    this.playTimerLimit();\n  }\n\n  totalItemTpcSelected(_arrTpc: any): number {\n    return _arrTpc.map((x: ItemTipoConsumoModel) => x.cantidad_seleccionada || 0).reduce((a, b) => a + b, 0);\n  }\n\n  // cantidad seleccionada y precio\n  addCantItemMiPedido(elItem: ItemModel, cantidad_seleccionada: number) {\n    const cantSeleccionadaTPC = cantidad_seleccionada;\n    const precioTotal = cantSeleccionadaTPC * parseFloat(elItem.precio_unitario);\n\n    // total subitems\n    // sumar el total\n    const totalSubItems = elItem.subitems_selected ? elItem.subitems_selected.map((subIt: SubItem) => subIt.precio * subIt.cantidad_seleccionada).reduce((a, b) => a + b , 0) : 0;\n    // const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt: SubItemsView) => subIt.precio).reduce((a, b) => a + b , 0) : 0;\n    // precioTotal += totalSubItems;\n\n    elItem.cantidad_seleccionada = cantSeleccionadaTPC;\n    // elItem.precio_total = precioTotal + totalSubItems;\n    // elItem.precio_print = precioTotal + totalSubItems;\n\n    elItem.precio_total = precioTotal;\n    elItem.precio_print = precioTotal;\n    // elItem.precio_total_calc = precioTotal;\n  }\n\n  // agrega el precio sumado con los subitems si los hay del item mipedido\n  private addPrecioItemMiPedido(elItem: ItemModel): void {\n    const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt: SubItemsView) => subIt.precio).reduce((a, b) => a + b , 0) : 0;\n    let precioTotal = elItem.cantidad_seleccionada * parseFloat(elItem.precio_unitario);\n    precioTotal += totalSubItems;\n    elItem.precio_total = precioTotal;\n    elItem.precio_print = precioTotal;\n  }\n\n  // agrega a subitem_selected -> lista de subitems seleccionados\n  private addItemSubItemMiPedido(elItem: ItemModel, itemCarta: ItemModel, sumar: boolean): void {\n    if (elItem.subitems) {\n      // elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n      // subitemsviews\n      if (elItem.subitems.length === 0 ) { return; }\n      const newSubItemView: SubItemsView = new SubItemsView();\n      newSubItemView.id = '';\n      newSubItemView.des = '';\n      newSubItemView.listDes = [];\n      newSubItemView.cantidad_seleccionada = 0;\n      newSubItemView.precio = 0;\n      newSubItemView.indicaciones = '';\n      newSubItemView.subitems = [];\n\n      if ( elItem.subitems_selected && elItem.subitems_selected.length > 0 ) {\n\n        elItem.subitems_selected.map((x) => {\n          newSubItemView.id += x.iditem_subitem.toString();\n          newSubItemView.listDes.push(this.utilesService.primeraConMayusculas(x.des.toLowerCase()));\n          newSubItemView.cantidad_seleccionada = 1;\n          newSubItemView.precio += parseFloat(x.precio.toString());\n          // newSubItemView.indicaciones += x.indicaciones === undefined ? '' :  ' (' + x.indicaciones + ')';\n          newSubItemView.subitems.push(x);\n        });\n\n        newSubItemView.des = newSubItemView.listDes.join(', ');\n\n        newSubItemView.des += elItem.indicaciones === undefined || elItem.indicaciones === '' ? '' :  ', (' + elItem.indicaciones + ')';\n\n        elItem.indicaciones = '';\n        elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n        const isExistSubItemView = elItem.subitems_view.filter((subView: SubItemsView) => subView.id === newSubItemView.id)[0];\n        if ( isExistSubItemView ) {\n          if ( sumar ) {\n            isExistSubItemView.indicaciones += newSubItemView.indicaciones;\n            isExistSubItemView.cantidad_seleccionada += 1;\n            isExistSubItemView.precio += newSubItemView.precio;\n          } else {\n            // resta\n            this.restarCantSubItemView(elItem, isExistSubItemView);\n          }\n        } else {\n          // si no existe\n          // isExistSubItemView.indicaciones = newSubItemView.indicaciones;\n          if ( sumar ) {\n            elItem.subitems_view.push(newSubItemView);\n          } else {\n            // si es restar y no existe en la lista quita el ultimo\n            this.restarCantSubItemView(elItem, null);\n          }\n        }\n\n        this.addPrecioItemMiPedido(elItem);\n\n      }\n\n      // let _subItemExist: SubItem;\n      // elItem.subitems.filter((x: SubItem) => x.selected).map((subItem: SubItem) => {\n      //   elItem.subitems_selected = elItem.subitems_selected ? elItem.subitems_selected : [];\n      //   _subItemExist = elItem.subitems_selected.filter((subIt: SubItem) => subIt === subItem)[0];\n      //   if ( _subItemExist ) {\n      //     _subItemExist.cantidad_seleccionada++;\n      //     _subItemExist.indicaciones = elItem.indicaciones || '';\n      //     // _subItemExist.precio += subItem.precio;\n      //   } else {\n      //     subItem.indicaciones = elItem.indicaciones || '';\n      //     subItem.cantidad_seleccionada = 1;\n      //     elItem.subitems_selected.push(subItem);\n      //   }\n      // });\n\n      // // subitemsviews\n      // if (elItem.subitems.length === 0 ) { return; }\n      // const newSubItemView: SubItemsView = new SubItemsView();\n      // newSubItemView.id = 0;\n      // newSubItemView.des = '';\n      // newSubItemView.cantidad_seleccionada = 0;\n      // newSubItemView.precio = 0;\n      // newSubItemView.indicaciones = '';\n      // newSubItemView.subitems = [];\n\n\n      // if ( elItem.subitems_selected ) {\n\n      //   elItem.subitems_selected.map((x: SubItem) => {\n      //     newSubItemView.id += x.iditem_subitem;\n      //     newSubItemView.des += x.des + ' ';\n      //     newSubItemView.cantidad_seleccionada = 1;\n      //     newSubItemView.precio += x.precio;\n      //     newSubItemView.indicaciones += x.indicaciones === '' ? '' :  x.indicaciones  + '. ';\n      //     newSubItemView.subitems.push(x);\n      //   });\n\n      //   // itemCarta para sacar los indicadores\n      //   itemCarta.indicaciones = '';\n      //   elItem.indicaciones = '';\n      //   elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n      //   const isExistSubItemView = elItem.subitems_view.filter((subView: SubItemsView) => subView.id === newSubItemView.id)[0];\n      //   if ( isExistSubItemView ) {\n      //     if ( sumar ) {\n      //       isExistSubItemView.indicaciones += newSubItemView.indicaciones;\n      //       isExistSubItemView.cantidad_seleccionada += 1;\n      //       isExistSubItemView.precio += newSubItemView.precio;\n      //     } else {\n      //       // resta\n      //       this.restarCantSubItemView(elItem, isExistSubItemView);\n\n      //     }\n      //   } else {\n      //     // isExistSubItemView.indicaciones = newSubItemView.indicaciones;\n      //     if ( sumar ) {\n      //       elItem.subitems_view.push(newSubItemView);\n      //     } else {\n      //       // si es restar y no existe en la lista quita el ultimo\n      //       this.restarCantSubItemView(elItem, null);\n      //     }\n      //   }\n\n      // } else {\n\n      //   this.restarCantSubItemView(elItem, null);\n      // }\n\n      // sumar importe total con los subitems\n      // this.addPrecioItemMiPedido(elItem);\n\n    }\n  }\n\n  restarCantSubItemView(_elItem: ItemModel, isExistSubItemView: SubItemsView = null): void {\n    if ( isExistSubItemView ) {\n      // si existe subitemview\n      const precioDescontar = isExistSubItemView.precio / isExistSubItemView.cantidad_seleccionada;\n      isExistSubItemView.cantidad_seleccionada -= 1;\n      isExistSubItemView.precio -= precioDescontar;\n      isExistSubItemView.precio = isExistSubItemView.precio < 0 ? 0 : isExistSubItemView.precio;\n\n      if ( isExistSubItemView.cantidad_seleccionada <= 0 ) {\n        // borrar el item\n        _elItem.subitems_view = _elItem.subitems_view.filter((subView: SubItemsView) => subView.cantidad_seleccionada > 0);\n      }\n\n    } else {\n      // si no envia o no existe el subitemview a restar toma el ultimo\n      const lentSubItemView = _elItem.subitems_view.length;\n      const _SubItemView = _elItem.subitems_view[lentSubItemView - 1];\n      const precioDescontar = _SubItemView.precio / _SubItemView.cantidad_seleccionada;\n\n      _SubItemView.cantidad_seleccionada --;\n      _SubItemView.precio -= precioDescontar;\n\n      if ( _SubItemView.cantidad_seleccionada <= 0 ) {\n        // borrar el item\n        _elItem.subitems_view = _elItem.subitems_view.filter((subView: SubItemsView) => subView.cantidad_seleccionada > 0);\n      }\n\n      // para restar en el back end\n      _elItem.subitems_selected = _SubItemView.subitems;\n    }\n  }\n\n  // del socket nuevo item from monitoreo stock\n  addItemInCarta(newItem: any) {\n    const newItemFind = this.findItemCarta(newItem);\n    if ( newItemFind ) { // update\n      // console.log('update');\n      newItemFind.cantidad = newItemFind.cantidad;\n    } else { // agrega a la carta\n      // console.log('add in carta');\n      this.objCarta.carta.map((cat: CategoriaModel) => {\n        cat.secciones\n          .filter((sec: SeccionModel) => sec.idseccion === newItem.idseccion )\n          .map((sec: SeccionModel) => {\n            sec.items.push(newItem);\n        });\n      });\n    }\n\n    // this.laCartaObjSource.next(this.objCarta.carta);\n    // console.log('item new add in carta', this.objCarta.carta);\n  }\n\n  // actualizar las cantidades despues de connectar\n  // setUpdateCantAfterReconnect( arrObj: any ) {\n  //   arrObj.carta.map((cat: CategoriaModel) => {\n  //     cat.secciones.map((sec: SeccionModel) => {\n  //       sec.items.filter((x: ItemModel) => x.indicaciones )\n  //             .map((i: ItemModel) => {\n  //               const itemCartaUpdate = this.findItemCarta(i);\n  //               itemCartaUpdate.cantidad = i.cantidad;\n  //             });\n  //     });\n  //   });\n  // }\n\n  // <---------- Busquedas ------> //\n\n  // buscar item en listItemsPedido\n  findItemFromArr(arrFind: any, item: ItemModel) {\n    return arrFind.filter((x: any) => x.iditem === item.iditem)[0];\n  }\n\n  // buscar item en listItemsPedido\n  findItemListPedido(item: ItemModel) {\n    return this.listItemsPedido.filter((x: any) => x.iditem === item.iditem)[0];\n  }\n\n  // buscar item en carta y limpiar las indicaciones y subitems_seleceted\n  // en nuevo pedido\n  findItemCartaAndClearIndicaciones() {\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items.filter((x: ItemModel) => x.indicaciones )\n              .map((x: ItemModel) => x.indicaciones = '');\n\n        sec.items.filter((x: ItemModel) => x.subitems_selected )\n              .map((x: ItemModel) => x.subitems_selected = null);\n\n        sec.items.filter((x: ItemModel) => x.subitems_view )\n              .map((x: ItemModel) => x.subitems_view = null);\n      });\n    });\n\n    // this.laCartaObjSource.next(this.objCarta);\n  }\n\n  // buscar item en la carta\n  findItemCarta(item: ItemModel): ItemModel {\n    let rpt: ItemModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        const _rpt = sec.items.filter((x: ItemModel) => x.idcarta_lista === item.idcarta_lista)[0];\n        if (_rpt) {\n          rpt = _rpt;\n          return rpt;\n        }\n      });\n    });\n\n    return rpt;\n  }\n\n  // buscar item en la carta x idItem\n  findItemCartaByIdCartaLista(id: number): ItemModel {\n    let rpt: ItemModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        const _rpt = sec.items.filter((x: ItemModel) => x.idcarta_lista.toString() === id.toString())[0];\n        if (_rpt) {\n          rpt = _rpt;\n          return rpt;\n        }\n      });\n    });\n\n    return rpt;\n  }\n\n  // buscar subitem del item segun idproducto + idporcion\n  // iditemFilter = iditem que se va a filtrar, porque ya fue actualizado\n  findSubItemCartaById(idFind: string, iditemFilter: string): SubItem[] {\n    const rptSubItem: SubItem[] = [];\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items\n        .filter((item: ItemModel) => item.iditem.toString() !== iditemFilter)\n        .filter((item: ItemModel) => item.subitems)\n        .map((item: ItemModel) => {\n          item.subitems.map((subItemContent: SubItemContent) => {\n            const _subItem = subItemContent.opciones.filter((x: SubItem) => x.idproducto.toString() + x.idporcion.toString() === idFind)[0];\n            if (_subItem) {\n              rptSubItem.push(_subItem);\n              // console.log(item);\n              // return rptSubItem;\n            }\n          });\n        });\n      });\n    });\n    return rptSubItem;\n  }\n\n  // resetear las cantidades seleccionadas en el item carta, luego de hacer un pedido para que no se quede marcado\n  private resetCantidadesTpcItemCarta(): void {\n    if ( !this.objCarta ) {return; }\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items.map( x => {\n          x.indicaciones = '';\n          x.cantidad_seleccionada = 0;\n          x.itemtiposconsumo = null;\n          // return x;\n        });\n      });\n    });\n  }\n\n  findItemSeccionCarta(idFind: number): SeccionModel {\n    let rpt: SeccionModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      const _rpt = cat.secciones.filter((sec: SeccionModel) => sec.idseccion === idFind)[0];\n      if ( _rpt ) {\n        rpt = _rpt;\n        return;\n      }\n    });\n    return rpt;\n  }\n\n  // bucar item en Mi pedido, update indicaciones\n  findOnlyItemMiPedido(itemSearch: ItemModel): ItemModel {\n    let rpt: ItemModel;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((sec: SeccionModel) => {\n          rpt = sec.items.filter((i: ItemModel) => i.idcarta_lista === itemSearch.idcarta_lista)[0];\n        });\n      });\n    return rpt;\n  }\n\n  // buscar o agregar item en miPedido\n  findItemMiPedido(_tpc: any, _seccion: SeccionModel, item: ItemModel, sumar: boolean): ItemModel {\n    let rpt: ItemModel;\n    // let elItem = item;\n    // this.addItemSubItemMiPedido(item);\n\n    let elItem = <ItemModel>JSON.parse(JSON.stringify(item));\n    const cantSeleccionadaTPC = _tpc.cantidad_seleccionada;\n    elItem.itemtiposconsumo = [];\n\n    // elItem.indicaciones = item.indicaciones;\n\n    this.addCantItemMiPedido(elItem, cantSeleccionadaTPC);\n\n    const findTpc = <TipoConsumoModel>this.miPedido.tipoconsumo.filter((x: TipoConsumoModel) => x.idtipo_consumo === _tpc.idtipo_consumo)[0];\n    if (findTpc) {\n      // if (!sumar) { this.quitarTpcMiPedido(findTpc); return; }\n      const findSecc = <SeccionModel>findTpc.secciones.filter((sec: SeccionModel) => sec.idseccion === _seccion.idseccion)[0];\n      if (findSecc) {\n        // if (!sumar) { this.quitarTpcMiPedido(findTpc); }\n        const _rpt = findSecc.items.filter((x: ItemModel) => x.idcarta_lista === item.idcarta_lista)[0];\n        if (_rpt) {\n\n          // indicaciones\n          _rpt.indicaciones = elItem.indicaciones;\n\n          // actualiza subitems_selected\n          // _rpt.subitems_selected = [];\n          // _rpt.subitems_selected = elItem.subitems_selected;\n          // _rpt.subitems_view = elItem.subitems_view;\n          // this.addItemSubItemMiPedido(_rpt);\n\n          this.addCantItemMiPedido(_rpt, cantSeleccionadaTPC);\n\n          elItem = _rpt;\n\n          // this.addItemSubItemMiPedido(elItem);\n          // elItem.cantidad_seleccionada = this.addCantItemMiPedido(elItem.cantidad_seleccionada, sumar);\n          rpt = elItem;\n        } else {\n          // si no existe item lo agrega\n          // elItem.cantidad_seleccionada = 0;\n\n          findSecc.items.push(elItem);\n          rpt = elItem;\n        }\n\n        elItem.subitems = item.subitems;\n        elItem.subitems_selected = item.subitems_selected;\n        this.addItemSubItemMiPedido(elItem, item, sumar);\n        this.setCountCantItemTpcAndSeccion(findTpc, findSecc);\n      } else {\n        // si no existe seccion add\n        rpt = elItem;\n        // _seccion.items.push(rpt);\n\n        const _newSeccion = <SeccionModel>JSON.parse(JSON.stringify(_seccion));\n        _newSeccion.items = [];\n        _newSeccion.items.push(elItem);\n        findTpc.secciones = findTpc.secciones ? findTpc.secciones : [];\n        findTpc.secciones.push(_newSeccion);\n        // findTpc.secciones.push(_seccion);\n\n        this.addItemSubItemMiPedido(elItem, item, sumar);\n        this.setCountCantItemTpcAndSeccion(findTpc, _newSeccion);\n      }\n    } else {\n      // si no existe tpc add\n      // elItem.cantidad_seleccionada = 0;\n      elItem.subitems = item.subitems;\n      elItem.subitems_selected = item.subitems_selected;\n      this.addItemSubItemMiPedido(elItem, item, sumar);\n      const _newSeccion = <SeccionModel>JSON.parse(JSON.stringify(_seccion));\n      _newSeccion.items = [];\n      _newSeccion.items.push(elItem);\n      _tpc.secciones = _tpc.secciones ? _tpc.secciones : [];\n      _tpc.secciones.push(_newSeccion);\n\n      this.miPedido.tipoconsumo.push(_tpc);\n\n      this.setCountCantItemTpcAndSeccion(_tpc, _newSeccion);\n      rpt = elItem;\n    }\n\n    this.clearObjMiPedido();\n    // this.miPedidoSource.next(this.miPedido);\n    return rpt;\n  }\n\n  private quitarTpcMiPedido(tpcFind: TipoConsumoModel): void {\n    if ( tpcFind.count_items_seccion === 1 ) {\n      this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc: TipoConsumoModel) => !tpcFind);\n    }\n  }\n\n  private quitarSeccionMiPedido(secFind: SeccionModel): void {\n    if ( secFind.count_items === 1 ) {\n      this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n        tpc.secciones.filter((sec: SeccionModel) => !secFind);\n      });\n    }\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCLocal(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.titulo === 'LOCAL')\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCDelivery(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.descripcion.toUpperCase() === 'DELIVERY')\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCLLevar(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.descripcion.toUpperCase().indexOf('LLEVAR'))\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // recorre los tipos de consumo y devuelve un arr de requerimientos\n  findEvaluateTPCMiPedido(): any {\n    const rptArr: FormValidRptModel = new FormValidRptModel();\n\n    let sumTpcReqMesa = 0;\n\n    this.miPedido.tipoconsumo\n    .filter((t: TipoConsumoModel) => t.count_items_seccion > 0)\n    .map((t: TipoConsumoModel) => {\n      if (t.titulo === 'LOCAL') { rptArr.isTpcLocal = true; sumTpcReqMesa++; }\n      if (t.descripcion.toUpperCase().indexOf('LLEVAR') > -1) { rptArr.isTpcSoloLLevar = true; sumTpcReqMesa++; }\n      if (t.descripcion.toUpperCase().indexOf('DELIVERY') > -1) { rptArr.isTpcSoloDelivery = true; }\n\n      rptArr.isRequiereMesa = rptArr.isTpcLocal ? true : false;\n      rptArr.isTpcSoloLLevar = sumTpcReqMesa === 1 && rptArr.isTpcSoloLLevar ? true : false;\n    });\n\n    return rptArr;\n  }\n\n  // busca la seccion por idimpresora -- para mandar imprimir\n  findSeccionInMipedidoByPrint(idPrintSearch: number): SeccionModel[] {\n    let secRpt: SeccionModel[];\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        secRpt = tpc.secciones.filter((s: SeccionModel) => s.idimpresora === idPrintSearch);\n      });\n    return secRpt;\n  }\n\n  findIsHayItems(): boolean {\n    return this.setCountTotalImtesPedido() > 0 ? true : false;\n  }\n\n  // quita los items, secciones, tpc con cantidad 0\n  clearObjMiPedido(): void {\n    // limpia los tipos de consumo con items = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc: TipoConsumoModel) => tpc.count_items_seccion > 0 );\n    if ( this.miPedido.tipoconsumo.length === 0 ) {\n      this.miPedido = new PedidoModel();\n\n      // console.log('mi pedido clear', this.miPedido);\n      this.miPedidoSource.next(this.miPedido);\n      return;\n    }\n\n\n    // limpia las secciones con items = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n      tpc.secciones = tpc.secciones.filter((sec: SeccionModel) => sec.count_items > 0);\n      return tpc;\n    });\n\n    // limpia las item con cantidad_seleccionada = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n      tpc.secciones = tpc.secciones.map((sec: SeccionModel) => {\n        sec.items = sec.items.filter((item: ItemModel) => item.cantidad_seleccionada > 0);\n        return sec;\n      });\n      return tpc;\n    });\n\n    // console.log('mi pedido clear', this.miPedido);\n    this.miPedidoSource.next(this.miPedido);\n\n  }\n\n  // <---------- Busquedas ------> //\n\n\n  // cuenta la cantidad de items en seccion\n  setCountCantItemTpcAndSeccion(_tpc: TipoConsumoModel, _seccion: SeccionModel) {\n    const countItemsSeccion = _seccion.items.map((i: ItemModel) => i.cantidad_seleccionada).reduce((a, b) => a + b, 0);\n    _seccion.count_items = countItemsSeccion;\n\n    const countSeccionTpc = _tpc.secciones.map((s: SeccionModel) => s.count_items).reduce((a, b) => a + b, 0);\n    _tpc.count_items_seccion = countSeccionTpc;\n\n    this.setCountTotalImtesPedido();\n  }\n\n  // <------ storage ---- > ///\n  setCountTotalImtesPedido(): number {\n    const countTotal = this.miPedido.tipoconsumo.map((t: TipoConsumoModel) => t.count_items_seccion).reduce((a, b) => a + b, 0);\n    this.countItemsSource.next(countTotal);\n    return countTotal;\n  }\n\n  setLocalStorageHora() {\n    if (this.storageService.isExistKey('sys::h')) { return; }\n    const hora = `${this.time.getHours()}:${this.time.getMinutes()}:${this.time.getSeconds()}`;\n    this.storageService.set('sys::h', hora.toString());\n  }\n\n  setLocalStoragePedido() {\n    this.storageService.set('sys::order', btoa(JSON.stringify(this.listItemsPedido)));\n    this.storageService.set('sys::order::all', btoa(JSON.stringify(this.miPedido)));\n  }\n\n  clearPedidoIsLimitTime() {\n    if (!this.storageService.isExistKey('sys::order')) { return; }\n    // if ( !this.storageService.isExistKey('sys::h') ) { return; }\n    this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));\n    this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n\n    // if (this.isTimeLimit()) {\n    //   // si el tiempo limite fue superado mandamos a restablecer carta\n    //   // nuevo pdido\n    //   this.socketService.emit('resetPedido', this.listItemsPedido);\n    //   this.updatePedidoFromClear();\n    //   // this.resetAllNewPedido();\n    // }\n  }\n\n  // resetear stock\n  resetAllNewPedido() {\n    // _mipedidoVista = _mipedidoVista ? _mipedidoVista : this.listItemsPedido;\n    this.socketService.emit('resetPedido', this.listItemsPedido);\n    // this.updatePedidoFromClear();\n    this.prepareNewPedido();\n  }\n\n  // nuevo pedido // sin recuperar stock // cuando el envio fue exitoso\n  prepareNewPedido(): void {\n    // this.updatePedidoFromClear();\n    this.resetTpcCarta();\n    // this.findItemCartaAndClearIndicaciones();\n\n    // valor en blanco para nuevo pedido\n    this.storageService.clear('sys::h');\n    this.storageService.clear('sys::order');\n    this.storageService.clear('sys::order::all');\n    this.storageService.clear('sys::tcount'); // timer count\n    this.storageService.clear('sys::tnum'); // timer count\n    // this.listItemsPedido = [];\n    this.miPedido = null;\n    this.miPedido = new PedidoModel();\n    this.miPedidoSource.next(this.miPedido);\n    this.countItemsSource.next(0);\n\n    this.listenStatusService.setHayPedidoPendiente(false);\n\n    this.stopTimerLimit();\n    // this.getOnlyCarta();\n\n    // this.\n    // console.log('antes new', this.listItemsPedido);\n  }\n\n  // pide la carta nuevamente / despues de mandar el pedido o despues de reconectar\n  private getOnlyCarta(): void {\n    this.socketService.emit('getOnlyCarta', null);\n  }\n\n  // reset cantidades en vista tipos de consumo\n  private resetTpcCarta(): void {\n    try {\n      this.listItemsPedido.map((item: ItemModel) => {\n        item.indicaciones = '';\n        if ( !item.itemtiposconsumo ) { return; }\n        item.itemtiposconsumo = null;\n        // item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {\n        //   tpc.cantidad_seleccionada = 0;\n        // });\n\n        const _item = this.findItemCarta(item);\n        _item.indicaciones = '';\n        _item.cantidad_seleccionada = 0;\n        _item.itemtiposconsumo = null;\n        // _item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {\n        //   tpc.cantidad_seleccionada = 0;\n        // });\n      });\n    } catch (error) {\n      // console.log(error);\n    }\n\n    this.resetCantidadesTpcItemCarta();\n\n    // this.laCartaObjSource.next(this.objCarta);\n\n    this.listItemsPedido = [];\n  }\n\n  updatePedidoFromStrorage() {\n\n    this.listenStatusService.setHayPedidoPendiente(false);\n\n    if (!this.storageService.isExistKey('sys::order')) { return; }\n\n    this.listenStatusService.setHayPedidoPendiente(true);\n    // if ( !this.storageService.isExistKey('sys::h') ) { return; }\n    this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));\n    this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n\n    this.setCountTotalImtesPedido();\n    this.miPedidoSource.next(this.miPedido);\n\n    // actualizar // buscar cada item en el obj carta\n    this.listItemsPedido.map((item: ItemModel) => {\n      // if (item.isalmacen === 0) { //\n        this.objCarta.carta.map((cat: CategoriaModel) => {\n          cat.secciones.map((sec: SeccionModel) => {\n            const itemUpdate = sec.items.filter((x: ItemModel) => x.idcarta_lista === item.idcarta_lista)[0];\n            if (itemUpdate) {\n              // itemUpdate.cantidad = item.cantidad;\n              itemUpdate.cantidad_seleccionada = item.cantidad_seleccionada;\n              itemUpdate.itemtiposconsumo = item.itemtiposconsumo;\n            }\n          });\n        });\n      // }\n    });\n\n    // this.laCartaObjSource.next(this.objCarta);\n  }\n\n  // actualiza la carta del pedido reseteado por tiempo limite\n  // solo local porque a los demas se le emite el socket\n  // el socket notifica a todos incluyendo al remitente lo que hace esta funcion obsoleta\n  updatePedidoFromClear() {\n    // actualizar // buscar cada item en el obj carta\n    if ( !this.listItemsPedido ) {return; }\n    this.listItemsPedido.map((item: ItemModel) => {\n      if (item.isalmacen === 0) {\n        this.objCarta.carta.map((cat: CategoriaModel) => {\n          cat.secciones.map((sec: SeccionModel) => {\n            const itemUpdate = <ItemModel>sec.items.filter((x: ItemModel) => x.isporcion !== 'ND' && x.idcarta_lista === item.idcarta_lista)[0];\n            if (itemUpdate) {\n              itemUpdate.cantidad = parseInt(itemUpdate.cantidad.toString(), 0) + item.cantidad_seleccionada;\n            }\n          });\n        });\n\n        // this.laCartaObjSource.next(this.objCarta);\n      }\n    });\n\n\n    // valor en blanco para nuevo pedido\n    this.prepareNewPedido();\n    // this.storageService.clear('sys::h');\n    // this.storageService.clear('sys::order');\n    // this.storageService.clear('sys::order::all');\n    // this.listItemsPedido = [];\n    // this.miPedido = new PedidoModel();\n    // this.miPedidoSource.next(this.miPedido);\n    // this.countItemsSource.next(0);\n  }\n\n  getEstadoStockItem(stock: number): string {\n    return stock > 10 ? 'verde' : stock > 5 ? 'amarillo' : 'rojo';\n  }\n\n  // isTimeLimit(): boolean {\n  //   const h2 = this.storageService.get('sys::h');\n  //   const hora1 = this.time.getTime().toString().split(':');\n  //   const hora2 = h2.split(':');\n  //   const t1 = new Date();\n  //   const t2 = new Date();\n\n  //   // tslint:disable-next-line: radix\n  //   t1.setHours(parseInt(hora2[0], 0), parseInt(hora2[1], 0), parseInt(hora2[2], 0));\n  //   t2.setHours(this.time.getHours(), this.time.getMinutes(), this.time.getSeconds());\n  //   const dif = t2.getTime() - t1.getTime(); // diferencia en milisegundos\n  //   const difSeg = Math.floor(dif / 1000);\n  //   const difMin = Math.floor(difSeg / 60);\n  //   let minutos = difMin % 60; // minutos\n  //   minutos = minutos < 0 ? minutos * -1 : minutos;\n  //   return minutos > this.max_minute_order ? true : false;\n\n  // }\n\n  // <------ storage ---- > ///\n\n\n  // <------ reglas de la carta ----> //\n\n  validarReglasCarta(rules: any[]): any {\n    // let diferencia = 0;\n    let xSecc_bus = 0;\n    let xSecc_detalle = 0;\n    let xCantidadBuscar = 0;\n    let xCantidadBuscarSecc_detalle = 0;\n    let diferencia = 0;\n\n    let xPrecio_item_bus = 0;\n    let xPrecio_mostrado = 0; // preciounitario * cantidad precio_total_cal\n\n    // reset precio_total_calc -> precio_total;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          z.items.map((n: ItemModel) => n.precio_total_calc = null);\n        });\n      });\n\n    rules.map((regla: any) => {\n      xSecc_bus = regla.idseccion;\n      xSecc_detalle = regla.idseccion_detalle;\n      xCantidadBuscar = this.countCantItemsFromSeccion(xSecc_bus);\n      xCantidadBuscarSecc_detalle = this.countCantItemsFromSeccion(xSecc_detalle);\n\n      diferencia = xCantidadBuscar - xCantidadBuscarSecc_detalle;\n      diferencia = diferencia < 0 ? xCantidadBuscar : diferencia; // no valores negativos\n      // console.log('diferencia reglas', diferencia);\n\n      this.miPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel) => {\n          tpc.secciones\n            .filter((z: SeccionModel) => z.idseccion.toString() === xSecc_detalle.toString())\n            .map((z: SeccionModel) => {\n              z.items\n                .map((n: ItemModel, i) => {\n                  const precioUnitario_item = parseFloat(n.precio);\n                  const cant_item = n.cantidad_seleccionada;\n\n                  xPrecio_mostrado = n.precio_total_calc !== null ? n.precio_total_calc : n.precio_total;\n                  xPrecio_item_bus = xPrecio_mostrado;\n\n                  if ( xCantidadBuscar >= xCantidadBuscarSecc_detalle) {\n                    xPrecio_item_bus = 0;\n                  } else if (diferencia > 0) {\n                    xPrecio_item_bus = diferencia * precioUnitario_item;\n                    xPrecio_item_bus = xPrecio_mostrado - xPrecio_item_bus; // descuenta del precio que se muestra en pantalla( precio que ya fue procesado)\n                    xPrecio_item_bus = xPrecio_item_bus < 0 ? 0 : xPrecio_item_bus;\n\n                    diferencia = diferencia - cant_item < 0 ? 0 : diferencia - cant_item;\n                  }\n\n                  n.precio_total_calc = parseFloat(xPrecio_item_bus.toString()); //\n                  n.precio_print = parseFloat(xPrecio_item_bus.toString()); //\n                  n.cantidad_descontado = cant_item;\n                });\n            });\n        });\n\n    });\n  }\n\n  private countCantItemsFromSeccion(seccionSearch: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones.map((z: SeccionModel) => {\n        sum += z.items\n          .filter((x: ItemModel) => x.idseccion.toString() === seccionSearch.toString())\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n  // devuelve cantidad item filtrando tipoconsumo y seccion\n  private countCantItemsFromTpcSeccion(tipoconsumo: number, seccionSearch: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .filter((tpc: TipoConsumoModel) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones\n      .map((z: SeccionModel) => {\n        sum += z.items\n          .filter((x: ItemModel) => x.idseccion.toString() === seccionSearch.toString())\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n  // devuelve cantidad tipoconsumo en el pedido, es decir cuanto delivery o cuantos para llevar hay // se usa calculo total delivery app cliente\n  private countCantItemsFromTpc(tipoconsumo: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .filter((tpc: TipoConsumoModel) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones\n      .map((z: SeccionModel) => {\n        sum += z.items\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n  // <------ reglas de la carta ---->//\n\n  // <------ sub totales ---->//\n\n  // isClienteDelivery = si es delivery el costo del servicio es segun calculo\n\n  getArrSubTotales(rulesSubTotales: any[]): any {\n    const subTotal = this.getSubTotalMiPedido();\n    const isCalcCostoServicioDelivery = this.establecimientoService.establecimiento.pwa_delivery_hablitar_calc_costo_servicio === 1;\n    const comisionFijaComercioNoAfiliado = this.establecimientoService.establecimiento.pwa_delivery_comision_fija_no_afiliado; // comision fija comercio no afiliado (plaza vea cualquier pedido la comision es 2 para la platafoma)\n    this.pwa_delivery_servicio_propio = this.establecimientoService.establecimiento.pwa_delivery_servicio_propio === 1;\n\n    let sumaTotal = subTotal;\n\n    const arrSubtotales: any = [];\n    let _arrSubtotales: any = {};\n\n    _arrSubtotales.id = 0;\n    _arrSubtotales.descripcion = 'SUB TOTAL';\n    _arrSubtotales.esImpuesto = 0;\n    _arrSubtotales.visible = true;\n    _arrSubtotales.quitar = false;\n    _arrSubtotales.tachado = false;\n    _arrSubtotales.visible_cpe = true;\n    _arrSubtotales.importe = parseFloat(subTotal.toString()).toFixed(2);\n\n    arrSubtotales.push(_arrSubtotales);\n\n\n    // porcentajes / impuestos / otros servicios\n    const rptPorcentajes: any = [];\n    const arrPorcentajes = rulesSubTotales.filter(x => x.tipo === 'p');\n    arrPorcentajes.map(p => {\n      const porcentaje = p.monto / 100;\n      const isImpuesto = p.es_impuesto === 1 ? true : false;\n      const isActivo = p.activo === 0 ? true : false;\n      const importe = (subTotal * porcentaje).toFixed(2);\n      const rpt: any = {};\n\n      rpt.id = p.tipo + p.id;\n      rpt.descripcion = p.descripcion;\n      rpt.esImpuesto = p.es_impuesto;\n      rpt.visible = true;\n      rpt.quitar = false;\n      rpt.tachado = false;\n      rpt.visible_cpe = isImpuesto;\n\n      // rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;\n      // rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);\n      // sumaTotal += parseFloat(rpt.importe);\n\n      // implement igv 030220\n      if ( rpt.descripcion === 'I.G.V') {\n        rpt.importe = isActivo ? porcentaje : 0;\n      } else {\n        rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;\n        rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);\n        sumaTotal += parseFloat(rpt.importe);\n      }\n\n      // no muestra si tienen valor 0\n      if ( rpt.importe !== 0 ) {\n        rptPorcentajes.push(rpt);\n      }\n\n    });\n\n    // otros no porcentajes // taper // delivery\n    let importeOtros = 0;\n    const rptOtros: any = [];\n    const arrOtros = rulesSubTotales.filter(x => x.tipo === 'a');\n\n    // si existe estableciiento en localstorage entonces es un clienteDelivery\n    let isClienteDelivery = this.establecimientoService.get().idsede ? true : false;\n    let isTieneDelivery =  false; // si tiene la opcion de delivery configurado\n    let isAddDelivery = isClienteDelivery; // si agrega delivery\n    arrOtros.map(p => {\n      const rpt: any = {};\n\n      // si es servicio delivery y si es clienteDelivery\n      if ( (p.descripcion.toUpperCase().indexOf('DELIVERY') > -1\n          || p.descripcion.toUpperCase().indexOf('ENTREGA') > -1)\n          && isClienteDelivery ) {\n        isAddDelivery = true;\n        isTieneDelivery = true;\n\n        // si tiene propio servicio\n        p.descripcion = 'Entrega';\n        if ( this.pwa_delivery_servicio_propio && !isCalcCostoServicioDelivery) { // si tiene servicio propio y no esta habilitado el calculo automatico\n          importeOtros = parseFloat(p.monto);\n        } else {\n          isTieneDelivery = false; // para que calculo abajo\n          importeOtros = this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo;\n\n          // verifica si en elpedido hay delivery\n          const cantidad = this.countCantItemsFromTpc(p.idtipo_consumo);\n          isClienteDelivery = cantidad > 0;\n          isAddDelivery = cantidad > 0;\n          return;\n        }\n      } else {\n        importeOtros = parseFloat(p.monto); // aplica a todo el pedido\n      }\n\n      // const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion);\n      // if ( cantidad === 0 ) { return; } // si no encontro items con esos criterios\n\n      if (p.nivel === 0) { // aplica por item\n        const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion);\n        if ( cantidad === 0 ) { return; } // si no encontro items con esos criterios\n        const _costoXCantItems = this.calcCostoCantItemsDelivery();\n        importeOtros = (cantidad * parseFloat(p.monto)) + _costoXCantItems;\n      }\n\n      rpt.id = p.tipo + p.id;\n      rpt.descripcion = p.descripcion;\n      rpt.esImpuesto = p.es_impuesto;\n      rpt.visible = true;\n      rpt.quitar = true;\n      rpt.tachado = false;\n      rpt.visible_cpe = false;\n      rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);\n\n      sumaTotal += parseFloat(rpt.importe);\n\n      // juntar si son del mismo tipo ej: taper - llevar, taper - delivery\n      const findItem = rptOtros.filter((x: any) => x.descripcion === rpt.descripcion)[0];\n      if (findItem) {\n        findItem.importe += parseFloat(rpt.importe);\n      } else {\n        rptOtros.push(rpt);\n      }\n\n\n    });\n\n    // si no tiene la opcion delivery y es un clienteDelivery lo agrega // o requiere el servicio de calcular distancia\n    if ( isAddDelivery && !isTieneDelivery && isClienteDelivery && (!this.pwa_delivery_servicio_propio || isCalcCostoServicioDelivery )) {\n      // const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion);\n      // if ( cantidad > 0 ) {\n        const _costoXCantItems = this.calcCostoCantItemsDelivery();\n        const costoServicio = _costoXCantItems + (this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo );\n        const rpt: any = {};\n\n        // costo del servicio mas comision fija comercio no afiliado\n        const _costoServicio = costoServicio + comisionFijaComercioNoAfiliado;\n\n        rpt.id = -2;\n        rpt.descripcion = 'Entrega';\n        rpt.esImpuesto = 0;\n        rpt.visible = true;\n        rpt.quitar = false;\n        rpt.tachado = false;\n        rpt.visible_cpe = false;\n        rpt.importe = parseFloat(_costoServicio.toString()).toFixed(2);\n        // rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);\n\n        sumaTotal += parseFloat(rpt.importe);\n\n        rptOtros.push(rpt);\n      // }\n    }\n\n    // juntamos\n    rptPorcentajes.map(y => arrSubtotales.push(y));\n    rptOtros.map(y => arrSubtotales.push(y));\n\n    // IGV filtramos los que no es impuesto IGV | 030220\n    const rowSubTotal =  arrSubtotales.filter(x => x.descripcion === 'SUB TOTAL')[0];\n    const rowImporteIGV = arrSubtotales.filter(x => x.descripcion === 'I.G.V')[0];\n    let _importeIGV = rowImporteIGV ? rowImporteIGV.importe : 0;\n    let _importeSubTotal = rowSubTotal ? rowSubTotal.importe : 0;\n\n    if ( _importeIGV > 0 ) {\n      _importeIGV = parseFloat((_importeSubTotal *  _importeIGV).toString()).toFixed(2);\n      _importeSubTotal = _importeSubTotal - _importeIGV;\n      rowImporteIGV.importe = _importeIGV;\n      rowSubTotal.importe = _importeSubTotal.toFixed(2);\n    }\n    /// IGV --->\n\n    _arrSubtotales = {};\n    _arrSubtotales.id = 0;\n    _arrSubtotales.esImpuesto = 0;\n    _arrSubtotales.descripcion = 'TOTAL';\n    _arrSubtotales.visible = true;\n    _arrSubtotales.quitar = false;\n    _arrSubtotales.tachado = false;\n    _arrSubtotales.visible_cpe = true;\n    _arrSubtotales.importe = parseFloat(sumaTotal.toString()).toFixed(2);\n\n    arrSubtotales.push(_arrSubtotales);\n\n    // console.log('totales', arrSubtotales);\n    return  arrSubtotales;\n\n  }\n\n  private calcCostoCantItemsDelivery(): number {\n    let rpt = 0;\n    const _cantItemScala = parseInt(this.deliveryArrConstantes.cantItemsScala.toString(), 0);\n    if (this.deliveryCanItemsInOrder > _cantItemScala) {\n      const _div = this.deliveryCanItemsInOrder / this.deliveryArrConstantes.cantItemsScala;\n      // _div = Math.floor(_div);\n      if ( _div > 1 ) {\n        rpt = Math.floor(_div) * this.deliveryArrConstantes.costoScala;\n      }\n    } else {\n      rpt = 0;\n    }\n    return rpt;\n  }\n\n  private getSubTotalMiPedido(): number {\n    let sumSubTotal = 0;\n    let cantItemOrder = 0;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          sumSubTotal += z.items\n            .map((x: ItemModel) => {\n              cantItemOrder += x.cantidad_seleccionada;\n              return x.precio_print;\n            })\n            .reduce((a, b) => a + b, 0);\n        });\n      });\n\n    // cantidad total de items para calcular costo servicio delivery\n    this.deliveryCanItemsInOrder = cantItemOrder;\n\n    return sumSubTotal;\n  }\n\n  // devuelve el importe total del item de la lista mi pedido\n  getImporteTotalItemFromMiPedido(item: ItemModel): number {\n    // const _itemFind = this.findOnlyItemMiPedido(item);\n    // return _itemFind ? _itemFind.precio_total : 0;\n\n    let sumSubTotal = 0;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          sumSubTotal += z.items\n            .filter((x: ItemModel) => x.iditem === item.iditem)\n            .map((x: ItemModel) => x.precio_print)\n            .reduce((a, b) => a + b, 0);\n        });\n      });\n\n    return sumSubTotal;\n  }\n\n\n  // <------ sub totales ---->//\n\n  // <------- timer limit ----> //\n\n  private playTimerLimit(): void {\n    this.timerLimitService.playCountTimerLimit();\n  }\n\n  private stopTimerLimit(): void {\n    this.timerLimitService.resetCountTimerLimit();\n  }\n\n  public restoreTimerLimit(): void {\n    this.timerLimitService.resetCountTimerLimit();\n  }\n\n  // <------- timer limit ----> //\n\n\n  // <--------- listen change -------> //\n  // escuha todos los cambios echos en las cantidades, from carta y listItemPedido ----resumen pedido\n  listenChangeCantItem(): void {\n    this.socketService.onItemModificado().subscribe((res: any) => {\n\n      let _itemInCarta: ItemModel;\n      // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)\n      if ( res.listItemPorcion != null ) {\n        res.listItemPorcion.map((x: any) => {\n          _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);\n\n          const cantidadSet = parseInt(x.cantidad, 0);\n          _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.item.cantidad.toString(), 0);\n          this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);\n        });\n      } else {\n        res = res.item;\n        _itemInCarta = this.findItemCarta(res);\n        this.setCantidadItemModificadoPwa(res, _itemInCarta);\n      }\n\n\n      // actualiza subitems si son porciones o productos\n\n\n      // const _itemInList = this.findItemListPedido(res);\n\n      // _itemInCarta.subitems = res.subitems;\n      // actualizar cantidades subitems si existe\n      // if ( res.subitems ) {\n      //   // res.subitems.map((asub: SubItem) => {\n      //   //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;\n\n      //   // });\n      //   res.subitems.map((subitemOp: SubItemContent) => {\n      //     subitemOp.opciones.map((subitem: SubItem) => {\n      //       _itemInCarta.subitems.map((s: SubItemContent) => {\n      //         const itemFind = s.opciones.filter((_subItem: SubItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];\n      //         if ( itemFind ) {\n      //           itemFind.cantidad = subitem.cantidad;\n      //         }\n      //       });\n      //     });\n      //   });\n\n      //   // _itemInCarta.subitems = res.subitems;\n      // }\n\n      // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n\n\n      // this.itemStockChangeSource.next(_itemInCarta);\n      // console.log('socket list', this.listItemsPedido);\n    });\n\n    this.socketService.onItemResetCant().subscribe((res: any) => {\n\n      let _itemInCarta: ItemModel;\n      // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)\n      if ( res.listItemPorcion != null ) {\n        res.listItemPorcion.map((x: any) => {\n          _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);\n          _itemInCarta.cantidad = parseInt(x.cantidad, 0);\n          this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);\n          // _itemInCarta.subitems = res.subitems;\n          this.itemStockChangeSource.next(_itemInCarta);\n        });\n      } else {\n        res = res.item;\n        _itemInCarta = this.findItemCarta(res);\n        _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n        _itemInCarta.subitems = res.subitems;\n        this.itemStockChangeSource.next(_itemInCarta);\n        // this.setCantidadItemModificadoPwa(res.item, _itemInCarta);\n      }\n      // const _itemInCarta = this.findItemCarta(res);\n      // const _itemInList = this.findItemListPedido(res);\n      // _itemInCarta.cantidad = Number.parseFloat(_itemInCarta.cantidad.toString()) +  Number.parseFloat(res.cantidad_reset.toString());\n\n      // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n      // _itemInCarta.subitems = res.subitems;\n      // console.log('cant reset ', _itemInCarta);\n      // this.itemStockChangeSource.next(_itemInCarta);\n      // _itemInList.cantidad += res.cantidad_reset;\n    });\n\n    // from monitoreo stock - add item in carta\n    this.socketService.onNuevoItemAddInCarta().subscribe((res: any) => {\n      // console.log('onNuevoItemAddInCarta', res);\n      this.addItemInCarta(res);\n    });\n\n    // tiempo limite\n\n    this.socketService.onGetDatosSede().subscribe((res: any) => {\n      this.objDatosSede = res[0];\n      this.objDatosSede.datossede[0].longitude = parseFloat(this.objDatosSede.datossede[0].longitude);\n      this.objDatosSede.datossede[0].latitude = parseFloat(this.objDatosSede.datossede[0].latitude);\n      this.listenStatusService.setHayDatosSede(true);\n      // nombre sede\n      localStorage.setItem('sys::s', this.objDatosSede.datossede[0].nombre + '|' + this.objDatosSede.datossede[0].ciudad);\n      // console.log('datos de la sede ps', this.objDatosSede);\n\n\n      this.max_minute_order = res[0].datossede[0].pwa_time_limit;\n      // this.pwa_delivery_importe_min = res[0].datossede[0].pwa_delivery_importe_min;\n      this.pwa_delivery_servicio_propio = res[0].datossede[0].pwa_delivery_servicio_propio === 0 ? false : true;\n      this.timerLimitService.maxTime = this.max_minute_order * 100;\n    });\n\n    this.timerLimitService.countdown$.subscribe((countTime: number) => {\n      switch (countTime) {\n        case 1:\n          // if ( this._snackBar._openedSnackBarRef ) {return; }\n          // this._snackBar.open(`Recuerde, ${this.max_minute_order} minutos para enviar su pedido.`, '', {\n          //   duration: 3000,\n          // });\n          this.isPreAvisoVisible = false;\n          break;\n        case 80:\n          if (!this.isPreAvisoVisible) {\n            this.isPreAvisoVisible = true;\n            this._snackBar.open('Proximo a cumplir el tiempo de envio.', '', {\n              duration: 2000,\n            });\n          }\n          break;\n        case 100:\n          this._snackBar.open('Tiempo agotado, debe realizar un nuevo pedido.', '', {\n            duration: 3000,\n          });\n          break;\n      }\n    });\n\n    this.timerLimitService.isTimeLimitComplet$.subscribe((res: boolean) => {\n      // tiempo completado // reseteamos\n      if (res === true) {\n        this.resetAllNewPedido();\n        this.navigatorService.setPageActive('carta');\n      }\n    });\n  }\n\n  setCantidadItemModificadoPwa(res: ItemModel, _itemInCarta: ItemModel, cantidadSet: number = null, isSubItemPorcion: boolean = false) {\n    // actualizar cantidades subitems si existe\n    if ( res.subitems && res.idcarta_lista === _itemInCarta.idcarta_lista ) {\n\n      // if ( !isReset ) {\n      //   _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n      // }\n      // res.subitems.map((asub: SubItem) => {\n      //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;\n\n      // });\n      res.subitems.map((subitemOp: SubItemContent) => {\n        subitemOp.opciones.map((subitem: SubItem) => {\n          _itemInCarta.subitems.map((s: SubItemContent) => {\n            const itemFind = s.opciones.filter((_subItem: SubItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];\n            if ( itemFind ) {\n              if ( itemFind.cantidad !== 'ND' ) {\n                itemFind.cantidad = subitem.cantidad;\n\n                // buscar los demas items que tengan este subitem porcion o producto\n                const idFind = itemFind.idproducto.toString() + itemFind.idporcion.toString();\n                const _otherListSubItem = this.findSubItemCartaById(idFind, res.iditem.toString());\n                _otherListSubItem.map( (x: SubItem ) => {\n                  x.cantidad = subitem.cantidad;\n                });\n\n              }\n            }\n          });\n        });\n      });\n\n      // _itemInCarta.subitems = res.subitems;\n    }\n\n    // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n    // _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n\n    if ( !isSubItemPorcion ) {\n        _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n    }\n\n    this.itemStockChangeSource.next(_itemInCarta);\n  }\n\n  // dar formato al pedido\n  darFormatoPedido(res: any): any {\n    const _miPedidoCuenta: PedidoModel = new PedidoModel();\n    const c_tiposConsumo: TipoConsumoModel[] = [];\n\n\n        res.data.map( (tp: any) => {\n          let hayTpc = c_tiposConsumo.filter(x => x.idtipo_consumo === tp.idtipo_consumo)[0];\n          if (!hayTpc) {\n            hayTpc = new TipoConsumoModel;\n            hayTpc.descripcion = tp.des_tp;\n            hayTpc.idtipo_consumo = parseInt(tp.idtipo_consumo, 0);\n            c_tiposConsumo.push(hayTpc);\n          }\n        });\n\n\n        c_tiposConsumo.map((tp: TipoConsumoModel) => {\n          res.data\n            .filter((_tp: any) => _tp.idtipo_consumo === tp.idtipo_consumo)\n            .map((_s: any, i: number) => {\n              // let haySeccion = !tp.secciones ? null : tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              let haySeccion = tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              if (!haySeccion) {\n                haySeccion = new SeccionModel;\n                haySeccion.idseccion = _s.idseccion.toString();\n                haySeccion.des = _s.des_seccion;\n                haySeccion.sec_orden = _s.sec_orden;\n                haySeccion.ver_stock_cero = 0;\n                tp.count_items_seccion = i + 1;\n                tp.secciones.push(haySeccion);\n              }\n            });\n        });\n\n\n         // items\n    c_tiposConsumo.map((tp: TipoConsumoModel) => {\n      tp.secciones.map((s: SeccionModel) => {\n          res.data\n          .filter((_tp: any) => _tp.idtipo_consumo.toString() === tp.idtipo_consumo.toString() && _tp.idseccion.toString() === s.idseccion.toString())\n          .map((_i: any, i: number) => {\n            const hayItem = new ItemModel;\n            hayItem.des = _i.descripcion;\n            hayItem.detalles = '';\n            hayItem.iditem = _i.iditem;\n            hayItem.idcarta_lista = _i.idcarta_lista;\n            hayItem.idseccion = _i.idseccion;\n            hayItem.isalmacen = _i.isalmacen;\n            hayItem.cantidad_seleccionada = parseInt(_i.cantidad, 0);\n            hayItem.precio = _i.punitario;\n            hayItem.precio_print = parseFloat(_i.ptotal);\n            hayItem.precio_total = parseFloat(_i.ptotal);\n            hayItem.procede = _i.procede === '0' ? 1 : 0;\n            hayItem.seccion = _i.des_seccion;\n            hayItem.img = _i.img;\n            hayItem.subitems_view = _i.subitems === 'null' || _i.subitems === '' || !_i.subitems ? [] : JSON.parse(_i.subitems);\n            s.count_items = i + 1;\n\n            s.items = s.items ? s.items : [];\n            s.items.push(hayItem);\n          });\n        });\n      });\n\n      _miPedidoCuenta.tipoconsumo = c_tiposConsumo;\n      return _miPedidoCuenta;\n  }\n\n  // cerrar session\n  cerrarSession(): void {\n    this.socketService.closeConnection();\n    this.navigatorService.cerrarSession();\n  }\n\n  // <--------- listen change -------> //\n}\n","// servicio adminsitra el navigator link -- carta y resumen\nimport { Injectable } from '@angular/core';\nimport { Event as NavigationEvent, Router, NavigationStart } from '@angular/router';\nimport { filter, bufferCount } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { InfoTockenService } from './info-token.service';\nimport { EstadoPedidoClienteService } from './estado-pedido-cliente.service';\nimport { ListenStatusService } from './listen-status.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigatorLinkService {\n\n  public disabledBack = false;\n  private resNavigatorSource = new BehaviorSubject<any[]>([]);\n  public resNavigatorSourceObserve$ = this.resNavigatorSource.asObservable();\n\n  private pageActive = 'carta';\n\n  private resNavigator: any = [];\n  private historyNavigator: any[] = [];\n  public lastUrlHistory = '';\n  public nowUrl = '';\n\n\n  constructor(\n    private router: Router,\n    private infoTokenService: InfoTockenService,\n    private listenService: ListenStatusService,\n    // private estadoPedidoClienteService: EstadoPedidoClienteService,\n    // private dialog: MatDialog,\n    // private miPedidoService: MipedidoService,\n  ) {\n    // router.events.pipe(\n    //   filter((event: NavigationEvent) => {\n    //     return (event instanceof NavigationStart);\n    //   })\n    // ).subscribe(\n    //   (event: NavigationStart) => {\n    //     console.log('navigation', event);\n    //     if (event.navigationTrigger !== 'popstate') {\n    //       let _urlParams: any;\n    //       try {\n    //         _urlParams = event.url.split(';')[1].split('=')[1];\n    //       } catch (error) {\n    //         // this.managerGoBack();\n    //         _urlParams = [];\n    //         return;\n    //       }\n\n    //       if (_urlParams.length > 0) {\n    //         this.resNavigator.pageActive = this.pageActive;\n    //         this.resNavigator.url = _urlParams;\n\n    //         // this.saveHistoryPageActive(this.pageActive, _urlParams);\n    //         this.resNavigatorSource.next(this.resNavigator);\n    //       }\n    //     }\n    //   });\n\n    this.listenEventNavigator();\n  }\n\n  private listenEventNavigator() {\n    this.router.events.pipe(\n      filter(e => e instanceof NavigationStart)\n      , bufferCount(2, 1)).subscribe((e: any) => {\n        if (e !== null && e !== undefined) {\n          this.nowUrl = e[0]['url'];\n          // if ( this.disabledBack ) {return false; }\n          if (e[1].navigationTrigger === 'popstate') {\n            // this.managerGoZonaEstablecimiento(e[0]['url'], e); // a la pagina que va\n            // desahabilitar boton back\n            if ( this.disabledBack ) {return false; }\n\n            const elUrl = e[0]['url'];\n\n            const _url = elUrl.indexOf(';') ? e[0]['url'].substr(1).split(';')[1].split('=')[1] : e[0]['url'];\n            // const _nextUrl = e[1]['url'].substr(1).split(';')[1].split('=')[1];\n            if ( _url.length > 0) {\n              this.lastUrlHistory = _url; // last url -- de donde viene\n              this.managerGoBack(_url, '');\n            }\n          }\n          // console.log(e[0]);\n        }\n      });\n  }\n\n\n  setPageActive(_pageActive): void {\n    this.pageActive = _pageActive;\n    this.lastUrlHistory = _pageActive !== 'carta' ? _pageActive : this.lastUrlHistory;\n\n    const itemHistory = this.findPageActiveInHistory(_pageActive);\n\n    if ( itemHistory ) { // si existe\n      this.addLink(itemHistory.url);\n    } else {\n      // this.saveHistoryPageActive(_pageActive, _pageActive);\n      this.addLink(_pageActive);\n    }\n    this.resNavigator.pageActive = _pageActive;\n    this.resNavigator.url = itemHistory ? itemHistory.url : _pageActive;\n    this.resNavigatorSource.next(this.resNavigator);\n  }\n\n  private saveHistoryPageActive(key: string, url: string): void {\n    this.historyNavigator[key] = [];\n    this.historyNavigator[key].key = key;\n    this.historyNavigator[key].url = url;\n  }\n\n  private findPageActiveInHistory(_key: string): any {\n    return Object.values(this.historyNavigator).filter(x => x.key === _key)[0];\n  }\n\n  addLink(params: string): void {\n    this.router.navigate(['.', { state: params }]);\n\n    this.saveHistoryPageActive(this.pageActive, params);\n  }\n\n  cerrarSession(reload: boolean = false) {\n    if ( this.infoTokenService.isDelivery() ) {\n      this.router.navigate(['../zona-delivery']);\n    } else {\n      this.router.navigate(['../'])\n      .then(() => {\n        if ( reload ) {\n          window.location.reload();\n        }\n      });\n    }\n  }\n\n  // maneja los back\n  // si es [mipedido-confirma] -> ['mipedido']\n  // si es [mipedido, estado] -> 'carta' - > historial\n  // si es [carta-i-secciones-items] -> [carta-i-secciones]\n  // si es [carta-i-secciones] -> [carta-i-]\n  // si es [carta-i-] -> 'carta'\n  // si es [carta] -> inicio\n  managerGoBack(previusUrl: string, nexturl: string) {\n    // const _url = this.lastUrlHistory;\n    let _pageActive = '';\n    // console.log('managerGoBack', previusUrl);\n    switch (previusUrl) {\n      case 'carta-i-secciones-items':\n        _pageActive = 'carta';\n        this.addLink('carta-i-secciones');\n        break;\n      case 'carta-i-secciones':\n        _pageActive = 'carta';\n        this.addLink('carta-i-');\n        break;\n      case 'carta-i-':\n        _pageActive = 'carta-o-';\n        this.addLink('carta-o-');\n        // console.log('=========================== listo para salir');\n        this.listoParaSalir();\n        break;\n      // case 'carta-o':\n      //   _pageActive = 'carta';\n      //   this.addLink('carta');\n      //   console.log('listo para salir');\n      //   break;\n      case 'mipedido-confirma':\n        _pageActive = 'mipedido';\n        this.addLink('mipedido');\n        break;\n      case 'mipedido':\n        _pageActive = 'carta';\n        this.addLink('carta');\n\n        this.listoParaSalir();\n        // console.log('=========================== listo para salir');\n        break;\n      case 'estado':\n        _pageActive = 'carta';\n        // this.findAndApplyHistory(_pageActive);\n        break;\n      case 'carta':\n        // _pageActive = '';\n        // this.router.navigate(['../']);\n        _pageActive = 'carta';\n        break;\n      case 'lanzar-encuesta':\n        _pageActive = 'lanzar-encuesta';\n        break;\n    }\n\n    if (_pageActive !== '' ) {\n      this.pageActive = _pageActive;\n      this.setPageActive(_pageActive);\n    }\n  }\n\n  // // control alos backs de zona establecimiento\n  // private managerGoZonaEstablecimiento(arrUrl: any, e): void {\n  //   // console.log('arrUrl', arrUrl);\n  //   // previusUrl = previusUrl.split('?')[0];\n  //   const urlFrom = arrUrl.split('?')[0];\n  //   // const urlTo = arrUrl[1].split('?')[0];\n  //   let _pageActive = '';\n\n  //   switch (urlFrom) {\n  //     case '/zona-delivery/establecimientos':\n  //       _pageActive = '../inicio';\n  //       // console.log('desde navigatot service establecimientos');\n  //       // this.disabledBack = true;\n  //       // this.disableGoBack();\n  //       break;\n  //     case '/zona-delivery/pedidos':\n  //       console.log('desde navigatot service establecimientos');\n  //       _pageActive = '/zona-delivery/establecimientos';\n  //       // this.disabledBack = false;\n  //       break;\n  //     case '/zona-delivery/categorias':\n  //       console.log('desde navigatot service establecimientos');\n  //       _pageActive = '/zona-delivery/establecimientos';\n  //       break;\n  //     case '/zona-delivery':\n  //       console.log('desde zona-delivery');\n  //       _pageActive = '../';\n  //       e = null;\n  //       this.disableGoBack();\n  //       break;\n  //   }\n\n  //   if (_pageActive !== '' ) {\n  //     this._router(_pageActive);\n  //   }\n  // }\n\n  // usar router de servicio\n  _router(link: string) {\n    this.router.navigate([link]);\n    return false;\n  }\n\n  disableGoBack(): void {\n    this.disabledBack = true;\n    history.pushState(null, null, location.href);\n    window.onpopstate = function () {\n        history.go(1);\n    };\n  }\n\n  private listoParaSalir(): void {\n    if ( this.infoTokenService.isDelivery() ) {\n      // abrir cerrarr\n      // if ( this.estadoPedidoClienteService.estadoPedido.hayPedidoCliente ) {\n\n        this.listenService.setIsOutEstablecimientoDelivery(true);\n\n      // }\n    }\n  }\n\n  // private findAndApplyHistory(_pageActive): void {\n  //   const itemHistory = this.findPageActiveInHistory(_pageActive);\n  //   if (itemHistory) { // si existe\n  //     this.addLink(itemHistory.url);\n  //   }\n  // }\n\n  // goBack(): void {\n  //   window.history.back();\n  // }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { Observable } from 'rxjs/internal/Observable';\n\n\nimport { URL_SERVER_SOCKET } from '../config/config.const';\n// import { CartaModel } from 'src/app/modelos/carta.model';\n// import { SeccionModel } from 'src/app/modelos/seccion.model';\n// import { ItemModel } from 'src/app/modelos/item.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\n\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { InfoTockenService } from './info-token.service';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { MipedidoService } from './mipedido.service';\nimport { Router } from '@angular/router';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  // private objLaCartaSocket: any;\n  private socket: SocketIOClient.Socket;\n  // private item: ItemModel;\n  private urlSocket = URL_SERVER_SOCKET;\n\n  isSocketOpen = false;\n  isSocketOpenReconect = false;\n\n  // listen is socket open\n  private isSocketOpenSource = new BehaviorSubject<boolean>(false);\n  public isSocketOpen$ = this.isSocketOpenSource.asObservable();\n\n  private msjConexSource = new BehaviorSubject<String>('Cargando datos ...');\n  public msjConex$ = this.msjConexSource.asObservable();\n\n  private resTipoConsumo: any = [];\n\n  private verificandoConexion = false;\n\n  constructor(\n    private infoTockenService: InfoTockenService,\n    private router: Router\n    ) {\n\n  }\n\n  // _isOutCarta si esta fuera de la carta // si esta en la plataforma de deliverys estableciemientos\n  connect(infoUser: any = null, opFrom: number = 1, _isOutCarta = false) {\n    if ( this.isSocketOpen ) {\n      this.infoTockenService.setSocketId(this.socket.id);\n      return; } // para cuando se desconecta y conecta desde el celular\n\n    // produccion\n    // this.socket = io('/', {\n    //   secure: true,\n    //   rejectUnauthorized: false,\n    //   forceNew: false\n    // });\n\n    const infToken = this.infoTockenService.infoUsToken || infoUser;\n\n    const dataSocket = {\n      idorg: infToken.idorg,\n      idsede: infToken.idsede,\n      idusuario: infToken.idusuario,\n      idcliente: infToken.idcliente,\n      iscliente: infToken.isCliente || false,\n      isOutCarta: _isOutCarta,\n      isFromApp: opFrom,\n      firts_socketid: infToken.socketId\n    };\n\n    // console.log('dataSocket', dataSocket);\n\n    // desarrollo\n    this.socket = io(this.urlSocket, {\n      secure: true,\n      rejectUnauthorized: false,\n      // forceNew: true,\n      query: dataSocket\n      // forceNew: true\n    });\n\n    this.listenStatusSocket(); // escucha los estado del socket\n\n    // this.socket.on('finishLoadDataInitial', () => {\n    //   // setTimeout(() => {\n    //     // this.isSocketOpen = true;\n    //     // this.isSocketOpenSource.next(true);\n    //     this.statusConexSocket(true, '');\n    //     this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n    //   // }, 1000);\n    //   console.log('conected socket finishLoadDataInitial');\n    // });\n\n    // // this.socket.on('connect', (res: any) => {\n    // //   this.statusConexSocket(true, 'socket event connect');\n    // // });\n\n    // this.socket.on('connect_failed', (res: any) => {\n    //   console.log('itento fallido de conexion', res);\n    //   this.statusConexSocket(false, 'connect_failed');\n    // });\n\n    // this.socket.on('connect_error', (res: any) => {\n    //   console.log('error de conexion', res);\n    //   this.statusConexSocket(false, 'connect_error');\n    // });\n\n    // this.socket.on('disconnect', (res: any) => {\n    //   console.log('disconnect');\n    //   this.statusConexSocket(false, 'disconnect');\n    // });\n\n    // this.onListenSocketDisconnet();\n  }\n\n  onGetCarta() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n        this.socket.on('getLaCarta', (res: any) => {\n        // this.objLaCartaSocket = {\n        //   'carta': <CartaModel[]>res[0].carta,\n        //   'bodega': <SeccionModel[]>res[0].bodega\n        // };\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetCarta() {\n  //   return this.listen('getLaCarta');\n  // }\n\n  onGetTipoConsumo() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n      this.socket.on('getTipoConsumo', (res: TipoConsumoModel) => {\n        // this.resTipoConsumo = res;\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetTipoConsumo() {\n  //   return this.listen('getTipoConsumo');\n  // }\n\n  // verificar para eliminar\n  getDataTipoConsumo(): ItemTipoConsumoModel[] {\n    const resTPC: ItemTipoConsumoModel[] = [];\n    this.resTipoConsumo .map((t: TipoConsumoModel) => {\n      const _objTpcAdd = new ItemTipoConsumoModel();\n      _objTpcAdd.descripcion = t.descripcion;\n      _objTpcAdd.idtipo_consumo = t.idtipo_consumo;\n      _objTpcAdd.titulo = t.titulo;\n\n      resTPC.push(_objTpcAdd);\n    });\n\n    return resTPC;\n  }\n\n  onItemModificado() {\n    return new Observable(observer => {\n      this.socket.on('itemModificado-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemModificado() {\n  //   return this.listen('observer');\n  // }\n\n  onNuevoItemAddInCarta() {\n    return new Observable(observer => {\n      this.socket.on('nuevoItemAddInCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onNuevoItemAddInCarta() {\n  //   return this.listen('nuevoItemAddInCarta');\n  // }\n\n  // cuando se recupera el stock de pedido que caduco el tiempo\n  onItemResetCant() {\n    return new Observable(observer => {\n      this.socket.on('itemResetCant-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemResetCant() {\n  //   return this.listen('itemResetCant');\n  // }\n\n  // load reglas de la carta y subtotales\n  onReglasCarta() {\n    return new Observable(observer => {\n      this.socket.on('getReglasCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onReglasCarta() {\n  //   return this.listen('getReglasCarta');\n  // }\n\n  // datos de la sede, impresoras\n  // load reglas de la carta y subtotales\n  onGetDatosSede() {\n    return new Observable(observer => {\n      this.socket.on('getDataSede', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // respuesta de hacer un nuevo pedido\n  onGetNuevoPedido() {\n    return new Observable(observer => {\n      this.socket.on('nuevoPedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // cuando el cliente paga el pedido\n  onPedidoPagado() {\n    return new Observable(observer => {\n      this.socket.on('pedido-pagado-cliente', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n  onDeliveryPedidoChangeStatus() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-estado-pedido', (estado: any) => {\n        observer.next(estado);\n      });\n    });\n  }\n\n  onDeliveryUbicacionRepartidor() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-ubicacion', (coordenadas: any) => {\n        observer.next(coordenadas);\n      });\n    });\n  }\n\n  // onDeliveryGetLastIdPedido() {\n  //   return new Observable(observer => {\n  //     this.socket.on('get-lastid-pedido', (res: any) => {\n  //       observer.next(res);\n  //     });\n  //   });\n  // }\n\n\n  // zona delivery establecimiento\n\n\n  // onGetDatosSede() {\n  //   return this.listen('getDataSede');\n  // }\n\n  // onListenSocketDisconnet() {\n  //   return new Observable(observer => {\n  //     this.socket.on('disconnect', (res: any) => {\n  //       this.isSocketOpen = false;\n  //       this.isSocketOpenSource.next(false);\n  //     });\n  //   });\n  // }\n\n  emit(evento: string, data: any) {\n    // verificar estado del socket\n\n    this.socket.emit(evento, data);\n  }\n\n  private listen( evento: string ) {\n    return new Observable(observer => {\n      this.socket.on( evento , (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  closeConnection(): void {\n    try {\n      this.socket.disconnect();\n    } catch (error) {}\n    // this.isSocketOpen = false;\n    // this.isSocketOpenSource.next(false);\n    this.statusConexSocket(false, 'disconnect');\n  }\n\n  private listenStatusSocket(): void {\n\n    this.socket.on('finishLoadDataInitial', () => {\n      this.statusConexSocket(true, '');\n      this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n      // console.log('conected socket finishLoadDataInitial');\n    });\n\n    // estados del navigator\n\n    window.addEventListener('focus', (event) => {\n      this.verifyConexionSocket();\n    });\n\n    window.addEventListener('online', () => {\n      this.showStatusConexNavigator(true, 'navigator_online');\n    });\n    window.addEventListener('offline', () => {\n      this.showStatusConexNavigator(false, 'navigator_offline');\n    });\n\n\n    // estado del socket\n    this.socket.on('connect', () => {\n      // console.log('socket connect');\n\n      this.infoTockenService.setSocketId(this.socket.id);\n\n      this.statusConexSocket(true, 'connect');\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n    });\n\n    this.socket.on('connect_failed', (res: any) => {\n      // console.log('itento fallido de conexion', res);\n      this.statusConexSocket(false, 'connect_failed');\n    });\n\n    this.socket.on('connect_error', (res: any) => {\n      // console.log('error de conexion', res);\n      this.statusConexSocket(false, 'connect_error');\n    });\n\n    this.socket.on('disconnect', (res: any) => {\n      // console.log('disconnect');\n      this.statusConexSocket(false, 'disconnect');\n    });\n\n    // escucha la verificacion de conexion\n    this.socket.on('verificar-conexion', (res: any) => {\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n\n      if ( res === true ) { console.log('VERIFY CONECTION => OK'); this.verificandoConexion = false; return; }\n\n      // no hay conexion -- en pruebas ver comportamiento\n      // console.log('VERIFY CONECTION => FALSE');\n      this.closeConnection();\n      this.statusConexSocket(false, 'disconnect');\n      this.connect();\n      this.verificandoConexion = false;\n    });\n\n  }\n\n  private statusConexSocket(isConncet: boolean, evento: string) {\n    this.isSocketOpen = isConncet;\n    this.isSocketOpenSource.next(isConncet);\n\n    let msj = 'Conectando datos ...';\n    switch (evento) {\n      case 'conected': // conectando\n        msj = 'Conectando datos ...';\n        break;\n      case 'connect_failed': // conectando\n        msj = 'Conectando datos ..';\n        break;\n      case 'connect_error': // conectando\n        msj = 'Conectando datos .';\n        break;\n      case 'disconnect': // conectando\n        msj = 'Restableciendo conexion ...';\n        break;\n      case 'navigator_offline': // conectando\n        msj = 'Conexion cerrada -b ...';\n        break;\n      case 'navigator_online': // conectando\n        msj = 'Conectando datos -b ...';\n        break;\n    }\n\n    this.msjConexSource.next(msj);\n  }\n\n  private showStatusConexNavigator(online: boolean, evento: string): void {\n\n    this.statusConexSocket(online, evento);\n    // this.isSocketOpen = online;\n    // this.isSocketOpenSource.next(online);\n\n    if (online) {\n      console.log('navegador conectado');\n    } else {\n      console.log('!!! navegador desconectado !!');\n    }\n  }\n\n  // verifica el estado del socket, si esta cerrado intenta abrirlo\n  verifyConexionSocket(): void {\n    if ( this.verificandoConexion ) {return; }\n    this.verificandoConexion = true;\n    this.emit('verificar-conexion', this.socket.id);\n  }\n\n  // cierra session despues de que se comprueba que el tiempo de incio se de session supero lo establecido\n  private cerrarSessionBeforeTimeSession(reload: boolean = false) {\n    this.router.navigate(['../']);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  constructor() { }\n\n  set(key: string, data: string) {\n    localStorage.setItem(key, data);\n  }\n\n  get(key: string) {\n    return localStorage.getItem(key);\n  }\n\n  isExistKey(key: string): boolean {\n    return localStorage.getItem(key) ? true : false;\n  }\n\n  clear(key: string) {\n    localStorage.removeItem(key);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { InfoTockenService } from './info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimerLimitService {\n\n  private countdownTimerRef = null;\n  private init = 0;\n  public maxTime: number; // 3min defult\n  private valPorcentaje = 0;\n  private isPlayTimer = false;\n  private dateNow = new Date();\n\n\n  private countdownSource = new BehaviorSubject<number>(0);\n  public countdown$ = this.countdownSource.asObservable();\n\n  private isTimeLimitSource = new BehaviorSubject<boolean>(false);\n  public isTimeLimitComplet$ = this.isTimeLimitSource.asObservable();\n\n  private isPorgressVisibleSource = new BehaviorSubject<boolean>(false);\n  public isPorgressVisible$ = this.isPorgressVisibleSource.asObservable();\n\n  constructor(\n    private infoToken: InfoTockenService,\n  ) {\n   }\n\n  destroy(): void {\n    this.clearTimeout();\n  }\n\n  playCountTimerLimit(): void {\n    if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    if (this.isPlayTimer) {return; }\n    this.isPlayTimer = true;\n    this.initCount();\n  }\n\n  resetCountTimerLimit(): void {\n    if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    if (localStorage.getItem('sys::tcount') ) {\n      this.isPlayTimer = true;\n      this.initCount();\n    } else {\n      this.stopCountTimerLimit();\n    }\n  }\n\n  private initCount(): void {\n    if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    this.valPorcentaje = 0;\n    this.init = localStorage.getItem('sys::tcount') ? parseInt(localStorage.getItem('sys::tcount'), 0) : 0;\n    this.isTimeLimitSource.next(false);\n    this.isPorgressVisibleSource.next(true);\n    this.progressCount();\n  }\n\n  private progressCount(): void {\n    let lastValPorcentaje = 0;\n    if ( !this.isPlayTimer ) {return; }\n    this.countdownTimerRef = setTimeout(() => {\n      this.init = this.setTimeDate();\n      this.valPorcentaje = Math.round((this.init / this.maxTime) * 100);\n      // guardamos en el\n      localStorage.setItem('sys::tcount', this.init.toString());\n\n      if ( this.init > this.maxTime ) {\n        this.init = this.maxTime;\n        this.valPorcentaje = 100;\n        this.countdownSource.next(this.valPorcentaje);\n        this.isTimeLimitSource.next(true);\n        this.stopCountTimerLimit();\n      } else {\n        // console.log('timer limit', this.valPorcentaje);\n        // para que no salga la alerta de incio solo una vez\n        if ( lastValPorcentaje !==  this.valPorcentaje) {\n          this.countdownSource.next(this.valPorcentaje);\n        }\n        this.progressCount();\n      }\n\n      lastValPorcentaje = this.valPorcentaje;\n\n    }, 1000);\n  }\n\n  private setTimeDate(): number {\n    const ms_new = new Date().getTime();\n    const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\n    const ms = ms_new - timeAfter;\n    const sec = Math.floor((ms / 1000));\n\n    localStorage.setItem('sys::tnum', timeAfter.toString());\n    return sec;\n\n  }\n\n  private stopCountTimerLimit(): void {\n    this.isPlayTimer = false;\n    this.init = 0;\n    this.valPorcentaje = 0;\n    localStorage.removeItem('sys::tcount');\n    localStorage.removeItem('sys::tnum');\n    this.clearTimeout();\n    this.isPorgressVisibleSource.next(false);\n    this.isTimeLimitSource.next(false);\n  }\n\n  private clearTimeout(): void {\n    if (this.countdownTimerRef) {\n      clearTimeout(this.countdownTimerRef);\n      this.countdownTimerRef = null;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilitariosService {\n\n  constructor() { }\n\n  primeraConMayusculas(field: string): string {\n    field = field.toLowerCase();\n    return field.charAt(0).toUpperCase() + field.slice(1);\n  }\n\n  reformatDate(dateStr: string): string {\n    const dArr = dateStr.split('-');  // ex input \"2010-01-18\"\n    return dArr[2] + '/' + dArr[1] + '/' + dArr[0]; // ex out: \"18/01/10\"\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Auth0Service } from './auth0.service';\nimport { CrudHttpService } from './crud-http.service';\n// import { Subject } from 'rxjs/internal/Subject';\n// import { Observable } from 'rxjs/internal/Observable';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { Observable } from 'rxjs';\nimport { SocketClientModel } from 'src/app/modelos/socket.client.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VerifyAuthClientService {\n\n  public clientSocket: SocketClientModel;\n  private subjectClient = new Subject<any>();\n  private isClientValid = false;\n\n  // private subjectClientSource = new BehaviorSubject<any>(null);\n  // public subjectClient$ = this.subjectClientSource.asObservable();\n\n  constructor(\n    private auth: Auth0Service,\n    private crudService: CrudHttpService\n  ) { }\n\n  isLogin(): boolean {\n    return this.auth.loggedIn;\n  }\n\n  setIdOrg(val: number): void {\n    this.clientSocket.idorg = val;\n    this.setDataClient();\n  }\n\n  setIdSede(val: number): void {\n    this.clientSocket.idsede = val;\n    this.setDataClient();\n  }\n\n  setMesa(val: number): void {\n    this.clientSocket.numMesaLector = val;\n    this.setDataClient();\n  }\n\n  setIsSoloLLevar(val: boolean): void {\n    this.clientSocket.isSoloLLevar = val;\n    this.setDataClient();\n  }\n\n  setQrSuccess(val: boolean): void {\n    this.clientSocket.isQrSuccess = val;\n    this.setDataClient();\n  }\n\n  setIsDelivery(val: boolean): void {\n    this.clientSocket.isDelivery = val;\n    this.setDataClient();\n  }\n\n  setDireccionDeliverySelected(val: DeliveryDireccionCliente): void {\n    this.clientSocket.direccionEnvioSelected = val;\n    this.setDataClient();\n  }\n\n  setIsLoginByDNI(val: boolean): void {\n    this.clientSocket.isLoginByDNI = val;\n    this.setDataClient();\n  }\n\n  setTelefono(val: string) {\n    this.clientSocket.telefono = val;\n    this.setDataClient();\n  }\n\n  getIsLoginByDNI(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isLoginByDNI || false;\n  }\n\n  getIsQrSuccess(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isQrSuccess || false;\n  }\n\n\n  getIsDelivery(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isDelivery || false;\n  }\n\n  verifyClient(): Observable<any> {\n    this.getDataClient();\n\n    // verrifica si esta logueado\n    if ( this.clientSocket.isLoginByDNI ) {\n      // verifica y registra el cliente en la bd\n      this.registerCliente();\n      return this.subjectClient.asObservable();\n    }\n\n    this.auth.userProfile$.subscribe(res => {\n      if ( !res ) {\n        // this.clientSocket = new SocketClientModel();\n        // this.setDataClient();\n        // // console.log(this.clientSocket);\n\n        this.subjectClient.next(null);\n      } else {\n\n        this.clientSocket.datalogin = res;\n        // console.log(this.clientSocket);\n        this.setDataClient();\n\n        // verifica y registra el cliente en la bd\n        this.registerCliente();\n      }\n\n\n      // guarda vista demostracion para no cargar nuevamente\n\n      //\n    }, (error) => {\n      console.log(error);\n    }, () => { console.log('complete'); });\n\n    return this.subjectClient.asObservable();\n\n  }\n\n  private registerCliente(): void {\n    let idClient = 0;\n    this.crudService.postFree(this.clientSocket, 'ini', 'register-cliente-login', false).subscribe((rpt: any) => {\n      // console.log('idcliente', rpt);\n      // login en backend\n      idClient = rpt.data[0].idcliente;\n      this.clientSocket.idcliente = idClient;\n      this.clientSocket.nombres = this.clientSocket.datalogin.name;\n      this.clientSocket.usuario = this.clientSocket.datalogin.given_name;\n      this.clientSocket.isCliente = true;\n      this.clientSocket.telefono = rpt.data[0].telefono;\n\n      // guarda en el usuario temporal\n      // console.log(this.clientSocket);\n      this.setDataClient();\n      // window.localStorage.setItem('sys::tpm', JSON.stringify(this.clientSocket));\n\n      this.subjectClient.next(this.clientSocket);\n    });\n  }\n\n  setDataClient(): void {\n    const dataClie = JSON.stringify(this.clientSocket);\n    localStorage.setItem('sys::tpm', btoa(dataClie));\n  }\n\n  getDataClient(): SocketClientModel {\n    const dataClie = localStorage.getItem('sys::tpm');\n    if ( !dataClie ) { this.clientSocket = new SocketClientModel(); } else { this.clientSocket = JSON.parse(atob(dataClie)); }\n    return this.clientSocket;\n  }\n\n\n  loginOut(): void {\n    this.auth.logout();\n    localStorage.removeItem('sys::tpm');\n  }\n\n  unsubscribeClient(): void {\n    this.subjectClient.unsubscribe();\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"],"sourceRoot":""}