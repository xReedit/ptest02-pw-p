{"version":3,"sources":["webpack:///src/app/app.component.html","webpack:///src/app/componentes/agregar-direccion/agregar-direccion.component.html","webpack:///src/app/componentes/comp-caja-texto/comp-caja-texto.component.html","webpack:///src/app/componentes/comp-calificacion/comp-calificacion.component.html","webpack:///src/app/componentes/comp-check/comp-check.component.html","webpack:///src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.html","webpack:///src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.html","webpack:///src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.html","webpack:///src/app/componentes/comp-get-hora/comp-get-hora.component.html","webpack:///src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.html","webpack:///src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.html","webpack:///src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.html","webpack:///src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.html","webpack:///src/app/componentes/comp-pide-express/comp-pide-express.component.html","webpack:///src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.html","webpack:///src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.html","webpack:///src/app/componentes/comp-view-promo/comp-view-promo.component.html","webpack:///src/app/componentes/confirmar-delivery/confirmar-delivery.component.html","webpack:///src/app/componentes/datos-delivery/datos-delivery.component.html","webpack:///src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.html","webpack:///src/app/componentes/dialog-calificacion/dialog-calificacion.component.html","webpack:///src/app/componentes/dialog-config-punto/dialog-config-punto.component.html","webpack:///src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.html","webpack:///src/app/componentes/dialog-item-edit/dialog-item-edit.component.html","webpack:///src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.html","webpack:///src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.html","webpack:///src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.html","webpack:///src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.html","webpack:///src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.html","webpack:///src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.html","webpack:///src/app/componentes/encuesta-opcion/encuesta-opcion.component.html","webpack:///src/app/componentes/item-comercio/item-comercio.component.html","webpack:///src/app/componentes/item-promocion/item-promocion.component.html","webpack:///src/app/componentes/mapa-solo/mapa-solo.component.html","webpack:///src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.html","webpack:///src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.html","webpack:///src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.html","webpack:///src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.html","webpack:///src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.html","webpack:///src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.html","webpack:///src/app/componentes/text-nom-cliente/text-nom-cliente.component.html","webpack:///src/app/componentes/tiempo-programado/tiempo-programado.component.html","webpack:///src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.html","webpack:///src/app/core/layout-main/layout-main.component.html","webpack:///src/app/core/progress-time-limit/progress-time-limit.component.html","webpack:///src/app/core/tool-bar/tool-bar.component.html","webpack:///src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.html","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.css","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/componentes/agregar-direccion/agregar-direccion.component.css","webpack:///src/app/componentes/agregar-direccion/agregar-direccion.component.ts","webpack:///src/app/componentes/comp-caja-texto/comp-caja-texto.component.css","webpack:///src/app/componentes/comp-caja-texto/comp-caja-texto.component.ts","webpack:///src/app/componentes/comp-calificacion/comp-calificacion.component.css","webpack:///src/app/componentes/comp-calificacion/comp-calificacion.component.ts","webpack:///src/app/componentes/comp-check/comp-check.component.css","webpack:///src/app/componentes/comp-check/comp-check.component.ts","webpack:///src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.css","webpack:///src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.ts","webpack:///src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.css","webpack:///src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.ts","webpack:///src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.css","webpack:///src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.ts","webpack:///src/app/componentes/comp-get-hora/comp-get-hora.component.css","webpack:///src/app/componentes/comp-get-hora/comp-get-hora.component.ts","webpack:///src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.css","webpack:///src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.ts","webpack:///src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.css","webpack:///src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.ts","webpack:///src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.css","webpack:///src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.ts","webpack:///src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.css","webpack:///src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.ts","webpack:///src/app/componentes/comp-pide-express/comp-pide-express.component.css","webpack:///src/app/componentes/comp-pide-express/comp-pide-express.component.ts","webpack:///src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.css","webpack:///src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.ts","webpack:///src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.css","webpack:///src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.ts","webpack:///src/app/componentes/comp-view-promo/comp-view-promo.component.css","webpack:///src/app/componentes/comp-view-promo/comp-view-promo.component.ts","webpack:///src/app/componentes/componentes.module.ts","webpack:///src/app/componentes/confirmar-delivery/confirmar-delivery.component.css","webpack:///src/app/componentes/confirmar-delivery/confirmar-delivery.component.ts","webpack:///src/app/componentes/datos-delivery/datos-delivery.component.css","webpack:///src/app/componentes/datos-delivery/datos-delivery.component.ts","webpack:///src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.css","webpack:///src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.ts","webpack:///src/app/componentes/dialog-calificacion/dialog-calificacion.component.css","webpack:///src/app/componentes/dialog-calificacion/dialog-calificacion.component.ts","webpack:///src/app/componentes/dialog-config-punto/dialog-config-punto.component.css","webpack:///src/app/componentes/dialog-config-punto/dialog-config-punto.component.ts","webpack:///src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.css","webpack:///src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.ts","webpack:///src/app/componentes/dialog-item-edit/dialog-item-edit.component.css","webpack:///src/app/componentes/dialog-item-edit/dialog-item-edit.component.ts","webpack:///src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.css","webpack:///src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts","webpack:///src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.css","webpack:///src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.ts","webpack:///src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.css","webpack:///src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts","webpack:///src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.css","webpack:///src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts","webpack:///src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.css","webpack:///src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.ts","webpack:///src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.css","webpack:///src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts","webpack:///src/app/componentes/encuesta-opcion/encuesta-opcion.component.css","webpack:///src/app/componentes/encuesta-opcion/encuesta-opcion.component.ts","webpack:///src/app/componentes/item-comercio/item-comercio.component.css","webpack:///src/app/componentes/item-comercio/item-comercio.component.ts","webpack:///src/app/componentes/item-promocion/item-promocion.component.css","webpack:///src/app/componentes/item-promocion/item-promocion.component.ts","webpack:///src/app/componentes/mapa-solo/mapa-solo.component.css","webpack:///src/app/componentes/mapa-solo/mapa-solo.component.ts","webpack:///src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.css","webpack:///src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.ts","webpack:///src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.css","webpack:///src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.ts","webpack:///src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.css","webpack:///src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.ts","webpack:///src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.css","webpack:///src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.ts","webpack:///src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.css","webpack:///src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.ts","webpack:///src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.css","webpack:///src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.ts","webpack:///src/app/componentes/text-nom-cliente/text-nom-cliente.component.css","webpack:///src/app/componentes/text-nom-cliente/text-nom-cliente.component.ts","webpack:///src/app/componentes/tiempo-programado/tiempo-programado.component.css","webpack:///src/app/componentes/tiempo-programado/tiempo-programado.component.ts","webpack:///src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.css","webpack:///src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.ts","webpack:///src/app/core/core.module.ts","webpack:///src/app/core/layout-main/layout-main.component.css","webpack:///src/app/core/layout-main/layout-main.component.ts","webpack:///src/app/core/material/material.module.ts","webpack:///src/app/core/progress-time-limit/progress-time-limit.component.css","webpack:///src/app/core/progress-time-limit/progress-time-limit.component.ts","webpack:///src/app/core/tool-bar/tool-bar.component.css","webpack:///src/app/core/tool-bar/tool-bar.component.ts","webpack:///src/app/modelos/DataTransaccion.ts","webpack:///src/app/modelos/GetFormDatosCliente.ts","webpack:///src/app/modelos/categoria.model.ts","webpack:///src/app/modelos/cliente.pago.model.ts","webpack:///src/app/modelos/datos.calificado.model.ts","webpack:///src/app/modelos/delivery.direccion.cliente.model.ts","webpack:///src/app/modelos/delivery.establecimiento.ts","webpack:///src/app/modelos/estado.pedido.model.ts","webpack:///src/app/modelos/from.valid.rpt.model.ts","webpack:///src/app/modelos/item.model.ts","webpack:///src/app/modelos/item.tipoconsumo.model.ts","webpack:///src/app/modelos/metodo.pago.model.ts","webpack:///src/app/modelos/parametrosCompHora.ts","webpack:///src/app/modelos/pedido.model.ts","webpack:///src/app/modelos/propina.model.ts","webpack:///src/app/modelos/seccion.model.ts","webpack:///src/app/modelos/send.data.tts.ts","webpack:///src/app/modelos/socket.client.model.ts","webpack:///src/app/modelos/subitems.view.model.ts","webpack:///src/app/modelos/tiempo.entrega.model.ts","webpack:///src/app/modelos/tipo.comprobante.model.ts","webpack:///src/app/modelos/tipoconsumo.model.ts","webpack:///src/app/modelos/usuario.token.model.ts","webpack:///src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.css","webpack:///src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.ts","webpack:///src/app/shared/config/config.const.ts","webpack:///src/app/shared/directivas/debounce-click.directive.ts","webpack:///src/app/shared/directivas/directions-map-directive.directive.ts","webpack:///src/app/shared/guards/auth.guard.ts","webpack:///src/app/shared/guards/cliente-profile-guards.ts","webpack:///src/app/shared/services/auth.service.ts","webpack:///src/app/shared/services/auth0.service.ts","webpack:///src/app/shared/services/calc-distancia.service.ts","webpack:///src/app/shared/services/cliente.service.ts","webpack:///src/app/shared/services/crud-http.service.ts","webpack:///src/app/shared/services/establecimiento.service.ts","webpack:///src/app/shared/services/http-config-interceptor.service.ts","webpack:///src/app/shared/services/info-token.service.ts","webpack:///src/app/shared/services/listen-status.service.ts","webpack:///src/app/shared/services/mipedido.service.ts","webpack:///src/app/shared/services/navigator-link.service.ts","webpack:///src/app/shared/services/promo/cocinar-descuentos-promo.service.ts","webpack:///src/app/shared/services/promo/cocinar-promo-show.service.ts","webpack:///src/app/shared/services/sede-delivery.service.ts","webpack:///src/app/shared/services/socket.service.ts","webpack:///src/app/shared/services/speech/comand-analizer.service.ts","webpack:///src/app/shared/services/speech/spech-provider-connect.service.ts","webpack:///src/app/shared/services/speech/spech-totext.service.ts","webpack:///src/app/shared/services/speech/spech-tts.service.ts","webpack:///src/app/shared/services/speech/speech-data-provider.service.ts","webpack:///src/app/shared/services/storage.service.ts","webpack:///src/app/shared/services/timer-limit.service.ts","webpack:///src/app/shared/services/utilitarios.service.ts","webpack:///src/app/shared/services/verify-auth-client.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","loadChildren","m","InicioModule","data","PedidoModule","canActivate","EncuestaModule","PagarCuentaModule","PedidoConfirmadoModule","ClienteProfileModule","ZonaEstablecimientosModule","CashModule","ReservarMesaModule","AppRoutingModule","router","errorHandler","error","navigate","imports","forRoot","useHash","scrollPositionRestoration","paramsInheritanceStrategy","providers","provide","useClass","AppComponent","selector","template","AppModule","declarations","register","enabled","production","Location","bootstrap","AgregarDireccionComponent","formBuilder","mapsAPILoader","ngZone","verifyClientService","crudService","miPedidoService","inforTokenService","utilService","establecimientoService","loader","dirInCoordenadas","isUsCliente","countMoveMap","isChangeDireccion","checkekFirstOption","isGuardarDireccion","dataMaps","saveDireccionOk","isDireccionValid","mapCenter","_componentRestrictions","country","markerClicked","markerObj","map","setCenter","lat","latitude","lng","longitude","dataCliente","getInfoUs","isCliente","loadForm","loadInitComponent","load","setCurrentLocation","geoCoder","google","maps","Geocoder","autocomplete","places","Autocomplete","searchElementRef","nativeElement","componentRestrictions","addListener","run","place","getPlace","dataMapa","address","formatted_address","geometry","undefined","location","zoom","setTimeout","dataInfoSede","objDatosSede","datossede","navigator","geolocation","getCurrentPosition","position","coords","getAddress","$event","coodenadas","_coordenadas","split","_lat","parseFloat","_lon","geocode","results","status","direccion","registerForm","controls","patchValue","codigo_postal","searchTypeMap","toLowerCase","trim","ciudad","group","required","referencia","titulo","statusChanges","subscribe","res","guardarDireccion","value","idcliente","getDataClient","idClienteBuscar","addslashes","provincia","departamento","pais","codigo","idcliente_pwa_direccion","emit","setBdDireccion","postFree","search","rpt","address_components","x","types","t","long_name","event","window","reload","CompCajaTextoComponent","textChanged","label_txt","val","CompCalificacionComponent","countFin","intervalConteo","comentario","dataCalificado","calificacion","rating","showTxtComentario","goAgradecimiento","showMsjTankyou","cuentaRegresivaCalificacion","guardarCalificacion","conteoFinEncuesta","_data","dataCalificacion","console","log","CompCheckComponent","CompCtrlAddFastComponent","cantidad","showDetalle","showAnimateStop","isShowVisible","timerViewAfter","countSegundos","isSuma","objResponse","showViewComprimir","stopAdd","timerShowView","add","intervalShowaAfter","setInterval","comprimir","clearInterval","limitAdd","NaN","cantidad_show","isNaN","emitResponse","_objItem","cantidad_selected","cantidad_seleccionada","isSuma_selected","changeDetection","OnPush","CompDatosReservaComponent","infoToken","dataReserva","isReady","frmConfirma","opcionesFrmCliente","compHoraParams","isFormValid","countTotalItemsPedido","infoEstablecimineto","get","showDirreccionA","telefono","calDistanciaCentro","tituloDirA","tituloHora","addMin","hora_min","hora_ini","hora_max","hora_fin","showHoraMinMax","infoUsToken","nombre_reserva","nombres","empresa","hora_reserva","num_personas","reserva","solo_llevar","delivery","countItemsObserve$","emitData","hourSelected","dataEmit","formIsValid","formData","fromReserva","CompGetDatosClienteComponent","infoTokenService","dialogDireccion","dialogTelefono","dialogTiempoEntrega","dialog","calcDistanceService","plazaDelivery","frmResponse","lasCiudad","isTiempoEntregaValid","msjErrorDir","systemOS","isFormValidDos","isCalculandoDistancia","titleDirA","titleDirB","getOS","direccionClienteIni","datosFormUno","descripcion_paquete","direccionA","direccionB","tiempoEntregaSelected","descripcion","modificado","valid","opciones","tituloDirB","metodoPago","metodoPagoSelected","setIniMetodoPagoSegunFiltro","metodoPagoAceptaTarjeta","op","_DdialogConfig","disableClose","hasBackdrop","panelClass","isGuardar","isFromComercio","dialogRef","open","afterClosed","getDatosCiudadSeleted","validFormDos","_dialogConfig","dialogTpC","result","setTiempoEntrega","width","importeTotalPagar","dialogLoading","numberphone","dialogRefTelefono","verificado","setTelefono","showDirreccionB","idtipo_pago","length","success","ladingCostoServicio","costosPlaza","laPlazaDelivery","cliente","calcularDistanciaEntregaComp","loadDatosPlazaByCiudad","centro","lon","paseCalcular","calDistanciaAB","calDistanciaFrom","ciudadA","ciudadB","toLocaleLowerCase","_dirB","calculateRoute","CompGetHoraComponent","changeHora","isHourValid","setHoraControl","h","ap","hora","Date","hora_show","selectedAP","getHoraShow","parametros","setearHoraControl","responseHora","addHours","setMinutes","getHours","_horaNow","_pmAm","getMinutes","_hora","_arrHora","parseInt","_horaGet","horaSelected","horaSelectedValid","getHourSelectedIsValid","hSelected","h1","h2","CompListItemPedidoClienteComponent","navigatorService","miPedido","objNewItemTiposConsumo","destroy$","listIconsEntrega","isDeliveryCliente","isDelivery","getMiPedido","simbolo_moneda","getSimboloMoneda","_datosEstablecieminto","JSON","parse","stringify","icons_entrega","miPedidoObserver$","pipe","_selectedItem","tpc","_seccion","_itemFromCarta","findItemCarta","objItemTipoConsumoSelected","itemtiposconsumo","setObjSeccionSeleced","setobjItemTipoConsumoSelected","tpcSelect","filter","idtipo_consumo","_isSuma","getCantidadItemCarta","addItem2","_item","dialogConfig","autoFocus","idTpcItemResumenSelect","seccion","item","toString","setPageActive","CompOpCostoEstimadoComponent","optionSelected","loadOpaciones","listOpciones","push","showImporte","selected","itemSelected","CompPasarelaPagoComponent","listenStatusService","responseTransa","repuestaBtnListo","isLoaderTransaction","isLoadBtnPago","isCheckTerminos","isTrasctionSuccess","isViewAlertTerminos","isViewAlertEmail","isEmailValid","isRequiredEmail","isDisabledCheck","dataResTransaction","fechaTransaction","importeTransaccion","responseTranaccion","listenKeyLoader","listenKeyData","dataClientePago","dataTrasa","importe","getEmailCliente","localStorage","setItem","dataClient","email","correo","isSaveEmail","idcliente_card","diasRegistrado","dias_registrado","ip","ipCliente","getFree","_res","setLocalIpCliente","getNomApClientePago","_names","nameCliente","apPaternoCliente","nombre","primeraConMayusculas","apellido","_pase","generarPurchasenumber","getAll","_purchasenumber","purchasenumber","el_purchasenumber","pagar","listenResponse","verificarCheckTerminos","setIsBtnPagoShow","timeListenerKeys","dataResponse","getItem","_dataTransactionRegister","purchaseNumber","order","card","dataMap","CARD","brand","BRAND","ACTION_DESCRIPTION","STATUS","emitRespuesta","setIsPagoSuccess","removeItem","el","checkValidity","CompPedidoDetalleComponent","loadPedido","mesa","idsede","infoPedido","idorg","idpedido","_miPedido","darFormatoPedido","arrTotal","_arrSubtotales","CompPideExpressComponent","importe_pagar","isLoading","isEnviado","isShowFinalize","getDatosSede","horanow","options","s_hfin","hFin","calcularDistanciaEntrega","setDiasHoraEstablecimineto","getTiempoEntrega","s_hini","dias_atienden","s_dias","pwa_delivery_habilitar_pedido_programado","tiempo_aprox_entrega","s_tiempo_aprox","set","vehiculo","validFormUno","calcCostoServicio","costo_distancia","c_servicio","c_minimo","costo_express","costo_adicional","tiempoEntrega","distancia_km","distancia_mt","is_express","_dataSend","dataInfo","divcontent","document","getElementById","scrollTop","CompPideLoQueQuierasComponent","isExpress","isCalculandoDistanciaA","que_compramos","direccionCliente","direccionEnvioSelected","scrollTopInit","costo_producto","costo_mandado","CompPropinaDeliveryComponent","selectedPropina","propinaSelected","propina","loadPropina","listPropina","checked","setPropina","rowTotal","_listSubtotales","rowPropina","esImpuesto","visible","quitar","tachado","visible_cpe","toFixed","pop","getTotalSubtotales","btoa","reduce","a","b","CompViewPromoComponent","urlRepoImg","imgdemo","cerrado","_listPromo","ComponentesModule","apiKey","libraries","ConfirmarDeliveryComponent","dialogTipoComprobante","dialogDireccionClienteDelivery","isComercioCerrado","isComercioAceptaPedidoProgramado","isComercioRepartidoresPropios","isComercioPapayaSoloPedidosApp","isRecojoLocalCheked","isAceptaRecojoLocal","isValidForm","rippleColor","montoMinimoPedido","resData","dni","f_nac","paga_con","dato_adicional","tipoComprobante","importeTotal","establecimiento","subTotales","pasoRecoger","costoTotalDelivery","tiempoEntregaProgamado","solicitaCubiertos","isComercioSolidaridad","titleInputDatoAdicional","valInputDatoAdicianal","isHabilitadoTarjeta","isRain","isRestaurante","isCubierto","dataDelivery","nombreClienteValido","isShowNombreClienteLoginInvitado","loadData","pwa_delivery_importe_min","tipoComprobanteSelected","isLoginByInvitado","nomClienteInvitato","indexOf","pwa_delivery_comercio_solidaridad","pwa_delivery_servicio_propio","pwa_delivery_reparto_solo_app","dirEstablecimiento","calcularCostoEntrega","iddia","getDay","infoEstablecimiento","pwa_delivery_acepta_tarjeta","idsede_categoria","pwa_delivery_habilitar_recojo_local","verificarNum","verificarFormValid","importeMetodoPago","costo_total_servicio_delivery","verificarMontoMinimo","_listSubtotalesTmp","_idTp","toUpperCase","_subtotal","setPasoRecoger","dialogDireccionCliente","getArrSubTotales","rulesSubTotales","DatosDeliveryComponent","fb","clienteService","changeStatus","isDataFromDNI","errorDni","isValid","loadConsulta","isNuevoCliente","dataListClientes","myControl","buscarRepartidor","num_verificador","importeTota","isShowAddDireccionMapa","setIniMetodoPago","myForm","setearData","pwa_habilitar_busqueda_mapa","filteredOptions","valueChanges","_filter","getTotalPedido","direccionMapsSave","datos","documento","limpiarForm","_datosBd","dni_num_verificador","serchClienteByDni","resClienteApi","date_of_birthday","verification_code","getConsultaRucDni","_datos","_nombre","name","first_name","last_name","reset","clienteSelectBusqueda","setValidators","excluirId","selectedClienteBusqueda","getClienteAutocomplete","option","ruc","nom","DialogCalificacionSedeComponent","dataComentarios","listComentarios","listCalificacion","DialogCalificacionComponent","_dataCalificado","DialogConfigPuntoComponent","listImpresoras","getImpresoras","loadCanalesConsumo","_puntoConfig","isPuntoAutoPedidoCheck","ispunto_autopedido","selectedValueImpresora","impresora","isTomaPedidoRapido","istoma_pedido_rapido","selectedValueCanConsumo","canal_consumo","setIsPuntoAutoPedido","setIsTomaPedidoRapido","dataStorage","listCanalConsumo","f1","f2","idimpresora","DialogDireccionClienteDeliveryComponent","direccionBuscarUpdate","showSelectedDireccion","showBusqueda","getPlacesPredictionsChange","loadDireccionesAgregadas","listDirecciones","_dataClientDir","direccionGuardada","getDireccionStorage","d","sessionToken","AutocompleteSessionToken","input","service","AutocompleteService","getPlacePredictions","predictions","PlacesServiceStatus","OK","listPredicciones","cerrarDlg","prediccionSelected","getDireccionGeocode","placeId","place_id","getPosition","pos","centerChange","reject","resp","err","payload","structured_formatting","main_text","secondary_text","geocoder","_foramt_address","setDireccionSelected","rpt_dir","resPlaza","setDireccionStorage","close","DialogItemEditComponent","uttilService","socketService","_subitems_selected","isOptionRequeridosComplet","isObjSubItems","isOneTipoConsumo","url_img","isWaitBtnMenos","destroyDlg$","isFirstOpen","clearSubItemOpcionesCtrlCant","detalles","primerMayuscula","itemStockChangeObserve$","iditem","subitems_selected","subitems_view","getSubItemsItemSelect","next","unsubscribe","subitems","i","show_cant_item","o","des","desIni","precio","precio_first","stop_add","elItem","procede","is_search_subitems","emitRes","_resSubItems","respuesta","shoFirstChartUpperOptions","cocinarListSubItemsView","compItemSumImporte","z","isSoloUno","subitem_cant_select_ini","isObligatorio","subitem_required_select","subitem_cant_select","des_cant_select","iditem_subitem","precio_visible","cantidad_visible","indicaciones","checkOptionObligario","subitemContent","subItemCant","_cantOpciones","isStopAdd","addSubItem","subitem","listSubItemChecked","countSelectReq","_subItem","countOptionsCheks","_cantOptionsSelcted","sc","s","countOptionReq","fromToCheck","_importeChecks","precioProducto","_precioProductoIni","getImporteTotalItem","getImporteTotalItemFromMiPedido","suma","paseCantSuItem","subi","animar_cantidad","isItemSubISelected","_itemFromPedido","findOnlyItemMiPedido","setLocalStoragePedido","stock","_stock","DialogMetodoPagoComponent","isMontoVisible","formValid","isFromNoComercio","isHabilitadoYape","importeValid","isClientePedido","idExluir","pwa_delivery_acepta_yape","loadMetodoPago","info","verificarMetodoInit","listMetodoPago","img","validaCociones","importeIndicado","verificarImporte","verificarValidForm","setMetodoPago","DialogNombreClienteComponent","nombre_cliente","DialogSelectDireccionComponent","listenService","isShowAddDireccion","_idClienteBuscar","direccionSelected","setChangeDireccionDelivery","DialogTiempoEntregaComponent","isPersonalAutorizado","isHoraValid","dateNow","hourNow","minNow","_houra","_valAdd","toLocaleDateString","dia","date","idhora","isUsuarioAutorizado","DialogTipoComprobanteComponent","datosComprobante","otro","loadTipoComprobante","otro_dato","verificarComprobanteInit","listTipoComprobante","idtipo_comprobante","setTipoComprobante","DialogVerificarTelefonoComponent","isSendSMS","isNumberSuccess","isVerificacionOk","intentoVerificacion","numSegundosActivarBtn","isContandoShow","isClienteNoRegister","isSocketOpen","infoClient","connect","onMsjVerificacionResponse","msj","detenerContadorBtnSend","buscarClienteTelefono","sendSMS","idsocket","getIdSocket","contadorActvarBtnSend","postSMS","_dataCod","response","conteoInterval","isClienteTelefono","EncuestaOpcionComponent","NextPregunta","ItemComercioComponent","isCerrado","isTiempoProgramadoSoloDia","isComercioReservacionesActiva","amPm","imgComercio","descripcionDiaProgramado","horaAceptaReservas","itemEstablecimiento","pwa_delivery_img","_hIni","_hFin","pwa_acepta_reserva_desde","getHortaValida","pwa_pedido_programado_solo_del_dia","dateHoy","horaIni","horaFni","diasAtiende","numDay","diasSemana","disponibleHoy","horaDisponibleHoy","_descripcion","countDays","numDayAdd","setDate","getDate","min","max","rptHoraValid","ItemPromocionComponent","cocinarPromocionService","diasActivo","isAbierto","animateBloqueo","iconGifPromo","showInfoPromo","promo","abierto","ItemPromoheader","header","ItemPromoBody","body","showDiasSemana","dias_semana","icon","validarIngresoPromo","paseAbierto","importeMinimoPromo","importe_consumo_min","importePedido","getImportePedido","MapaSoloComponent","displayDirections","MenuLateralClienteComponent","MozoDialogComponent","MozoShowTraduceTextComponent","spechTotextService","speechDataProviderService","utilitariosSerivce","isShowTxtTraduce","isShowCheck","countTimeClose","textTranscript","listenOnTraduce$","activeCloseBanner","speechTexResponse$","txtResults","alternatives","transcript","commandAceptado$","codAceptado","timeBeep","beep","countClose","MozoVirtualOnSpeechComponent","comandAnalizerService","isGrabando","speech_disabled","getComands","stopRecording","startRecording","SeleccionarDireccionComponent","infoClienteLogueado","idClienteDirecciones","loadDireccion","SelectCiudadDeliveryComponent","cuidadSelected","loadCiudades","listCiudadesServicio","isOnlyReserva","isreserva","TextNomClienteComponent","isNombreValid","isValidNombre","infoCliente","nombreCliente","saveNomCliente","setNombres","TiempoProgramadoComponent","tiempoProgramado","listDia","listHora","getDia","findTimeList","selectedIni","seletecDay","hours","_h","_numDay","_lisHours","hourSow","dateAdd","_dayBus","isAdd","horaNow","horaFin","isHoy","listHoursShow","loAntesPosible","_itemHour","selectedDay","rowHour","o1","o2","TipoVehiculoComponent","listVehiculo","selectedFirst","loadTipoVehiculo","selectedItem","CoreModule","multi","LayoutMainComponent","MaterialModule","ProgressTimeLimitComponent","timerLimitService","myCustomTooltipDefaults","showDelay","hideDelay","touchendHideDelay","ToolBarComponent","renderer","isBusqueda","rippleColorBusqueda","rippleColorPlomo","isClienteDelivery","isSpeechVoiceAcivado","isActiveMozoVoz","nomSede","isBusqueda$","hayDatosSede$","getNomSede","idSedeCartaVirtual","getLinkSharedCarta","sedenombre","urlSharedCartaVirtual","qr_delivery","addLink","setIsBusqueda","txtBuscar","selectRootElement","focus","getStorageBusqueda","charFind","setCharBusqueda","setStorageBusqueda","idMjs","dialogReset","stopRecordingToolbar","resetAllNewPedido","cerrarSession","sharedNative","useValue","DataTransaccion","GetFormDatosCliente","CategoriaModel","ClientePagoModel","DatosCalificadoModel","DeliveryDireccionCliente","DeliveryEstablecimiento","EstadoPedidoModel","FormValidRptModel","isTpcLocal","isTpcSoloLLevar","isTpcSoloDelivery","isTpcSoloOther","isRequiereMesa","ItemModel","precio_total","precio_antes","cantidad_seleccionada_x_tpc","cantidad_descontado","ItemTipoConsumoModel","MetodoPagoModel","ParametrosCompHora","PedidoModel","tipoconsumo","PropinaModel","SeccionModel","descuento","items","SendDataTTS","SocketClientModel","SubItemsView","TiempoEntregaModel","TipoComprobanteModel","TipoConsumoModel","secciones","UsuarioTokenModel","DialogResetComponent","idMsj","URL_SERVER","URL_SERVER_SOCKET","URL_SERVER_SOCKET_SPEECH","URL_SERVER_FILE_AUDIO_SPEECH","URL_IMG_CARTA","URL_IMG_PROMO","URL_IMG_COMERCIO","VAPID_PUBLIC","VIEW_APP_MOZO","URL_CONSULTA_RUC_DNI","TOKEN_CONSULTA","TOKEN_SMS","DebounceClickDirective","debounceTime","debounceClick","clicks","subscription","preventDefault","stopPropagation","DirectionsMapDirectiveDirective","gmapsApi","drawDirectionsRoute","getNativeMap","directionsRenderer","DirectionsRenderer","suppressMarkers","showDirection","destination","directionsService","DirectionsService","setMap","route","origin","waypoints","optimizeWaypoints","travelMode","setDirections","changes","currentValue","AuthGuard","authService","us","getLoggedStatus","isReserva","getIsQrSuccess","providedIn","ClienteProfileGuard","isLogin","getIsLoginByDNI","AuthService","auth","isLoggedStatus","token","usuario","loginUsuarioAutorizado","ms_tieme_init_session","getTime","verificarToken","logout","setLoggedStatus","Auth0Service","auth0Client$","domain","client_id","redirect_uri","loggedIn","handleRedirectCallback$","client","handleRedirectCallback","urlFromAuth","isAuthenticated$","isAuthenticated","userProfileSubject$","userProfile$","asObservable","userProfileChangeSubject$","userProfileChange$","localAuthSetup","handleAuthCallback","getUser","user","checkAuth$","getUser$","redirectPath","proveedor","loginWithRedirect","connection","appState","target","href","params","includes","targetRoute","authComplete$","cbRes","returnTo","CalcDistanciaService","estableciminetoService","dirCliente","buscarEnCache","c_km","km","distanciaMetros","inKm","Math","ceil","calCostoDistancia","_establecimientoCacheado","getFindDirClienteCacheEstableciemto","request","TravelMode","DRIVING","legs","distance","_kmReal","isCalcApiGoogle","listCache","establecimientoToCache","listEstablecimientos","setEstableciminetosCache","observer","menosKm","coordOrigen","coordDetino","center","radius","_establecimientoCache","ClienteService","numdni","CrudHttpService","httpClient","infoTockenService","controller","evento","conOrg","conSede","url","setUrlFiltros","getHeaderHttpClientForm","headers","pagenumber","rows","orden","ordendireccion","fromObject","setUrl","post","put","conToken","getHeaderHttpClientFormNoToken","conTokenSMS","getHeaderHttpClientFormSMS","number","_jwt","nomusuario","pass","atob","getSede","setInfoSedeToken","getOrg","setInfoOrgToken","getOperador","filterOrgSede","getFilter","getInfoSedeToken","getTokenAuth","EstablecimientoService","keyStorage","_establecimiento","_isExist","impresoras","_establecimientoEnCache","listEsblecimientosCache","getEstableciminetosCache","list","establecimientosCache","findEstablecimiento","isExistEstablecimiento","_dirEstablecimineto","pwa_delivery_hablitar_calc_costo_servicio","buscar","_sede","_canal","_idscan","canal","idscan","setLocalIdScanQr","idscanqr","_id","HttpConfigInterceptorService","handle","caught","refreshToken","setLocalToken","InfoTockenService","converToJSON","verificarContunuarSession","getLocalIpCliente","isSoloLLevar","isPuntoAutoPedido","isPagoSuccess","socketId","_order","_importes","orderDelivery","importeDelivery","metodo","comprobante","metodoPagoInit","isAceptaTarjeta","tipoComprobanteInit","prpinaInt","idpropina","isUsLoggedIn","_token","_newUs","datalogin","idusuario","numMesaLector","isRetiroCash","setIniTipoComprobante","setIniPropina","removeStoragePedido","clear","isUsTmp","cerrarSessionGoIni","numTis","continueSession","ms_now","ms","sec","floor","ListenStatusService","isBusquedaSource","charBuquedaSource","charBuqueda$","hayCuentaBusquedaSource","hayCuentaBusqueda$","hayDatosSedeSource","isUsuarioClienteSource","isUsuarioCliente$","estadoPedidoSource","estadoPedido$","hayPedidoPendienteSource","hayPedidoPendiente$","isPagePagarCuentaShowSource","isPagePagarCuentaShow$","isBtnPagoShowSource","isBtnPagoShow$","isPagoSuccesSource","isPagoSucces$","isChangeDireccionDeliverySource","isChangeDireccionDelivery$","isOutEstablecimientoDeliverySource","isOutEstablecimientoDelivery$","isShowFooterZonaDeliverySource","isShowFooterZonaDelivery$","isLoaderSendPedidoSource","isLoaderSendPedido$","isLoaderCartaSource","isLoaderCarta$","elMetodoPagoSelectedSource","elMetodoPagoSelected$","numberPageShowAtmSoruce","numberPageShowAtm$","metodoSelected","num","MipedidoService","storageService","_snackBar","utilesService","cocinarDescuentosPromoService","miPedidoSource","countItemsSource","itemStockChangeSource","isPreAvisoVisible","listItemsPedido","mpObjNewItemTiposConsumo","mpObjSeccionSelected","time","deliveryCanItemsInOrder","deliveryArrConstantes","cantItemsScala","costoScala","obj","objCarta","carta","bodega","promociones","_carta","_bodega","newCategoria","detalle","idcarta","idcategoria","c","bs","_itemsRecomendacion","_itemsSeccionRecomendados","is_recomendacion","recomendados","objDescuento","isHayDescuento","solo_app","_dsc","tipo","_i","porcentaje","iddescuento","idsede_descuento","aplicarDescuentoImte","idseccion","_pItem","precio_ahora","round","precio_default","precio_unitario","_idDsc","listIds","tp","isExistKey","_objItemTipoConsumoSelected","mpObjItemTipoConsumoSelected","idimpresora_otro","sec_orden","ver_stock_cero","_arrItemScala","signo","cantItem","sumar","cantSeleccionada","isporcion","_tipoconsumo","itemInPedido","findItemMiPedido","itemInList","findItemListPedido","sumTotalTpcSelected","totalItemTpcSelected","setLocalStorageHora","setHayPedidoPendiente","_arrTpc","cantSeleccionadaTPC","precioTotal","totalSubItems","subIt","ispromo","reviewPromoApplyItem","precio_print","itemCarta","tipoConsumo","newSubItemView","listDes","join","isExistInTipoConsumo","subView","isExistSubItemView","restarCantSubItemView","addPrecioItemMiPedido","_elItem","precioDescontar","lentSubItemView","_SubItemView","newItem","newItemFind","cat","arrFind","is_visible_control_last_add","_rpt","idcarta_lista","idFind","iditemFilter","rptSubItem","subItemContent","idproducto","idporcion","itemSearch","find","_tpc","addCantItemMiPedido","findTpc","findSecc","addItemSubItemMiPedido","setCountCantItemTpcAndSeccion","_newSeccion","clearObjMiPedido","tpcFind","count_items_seccion","secFind","count_items","rptArr","sumTpcReqMesa","idPrintSearch","secRpt","setCountTotalImtesPedido","countItemsSeccion","countSeccionTpc","countTotal","getSeconds","prepareNewPedido","resetTpcCarta","stopTimerLimit","resetCantidadesTpcItemCarta","itemUpdate","isalmacen","rules","xSecc_bus","xSecc_detalle","xCantidadBuscar","xCantidadBuscarSecc_detalle","diferencia","xPrecio_item_bus","xPrecio_mostrado","n","precio_total_calc","regla","idseccion_detalle","countCantItemsFromSeccion","precioUnitario_item","cant_item","seccionSearch","sum","tpc_descripcion","subTotal","getSubTotalMiPedido","isCalcCostoServicioDelivery","isCalcCostoServicioDeliverySoloApp","pwa_delivery_habilitar_calc_costo_servicio_solo_app","comisionFijaComercioNoAfiliado","pwa_delivery_comision_fija_no_afiliado","is_comercio_paga_entrega","pwa_delivery_comercio_paga_entrega","sumaTotal","arrSubtotales","rptPorcentajes","arrPorcentajes","p","monto","isImpuesto","es_impuesto","isActivo","activo","importeOtros","rptOtros","arrOtros","isTieneDelivery","isAddDelivery","addServicioDeliveryExpress","_countItemDelivery","countCantItemsFromTpcDes","_cantidad","countCantItemsFromTpc","cantidadTipoConsumo","nivel","countCantItemsFromTpcSeccion","_costoXCantItems","calcCostoCantItemsDelivery","findItem","costoServicio","_costoServicio","setCostoSercioDelivery","isDeliveryApp","y","rowSubTotal","rowImporteIGV","_importeIGV","_importeSubTotal","_cantItemScala","_div","sumSubTotal","cantItemOrder","playCountTimerLimit","resetCountTimerLimit","onItemModificado","_itemInCarta","listItemPorcion","findItemCartaByIdCartaLista","cantidadSet","setCantidadItemModificadoPwa","onItemResetCant","onNuevoItemAddInCarta","addItemInCarta","onGetDatosSede","setHayDatosSede","setImpresoras","max_minute_order","pwa_time_limit","maxTime","countdown$","countTime","duration","isTimeLimitComplet$","isSubItemPorcion","subitemOp","itemFind","_otherListSubItem","findSubItemCartaById","_miPedidoCuenta","c_tiposConsumo","hayTpc","des_tp","_tp","_s","haySeccion","des_seccion","hayItem","punitario","ptotal","dataPrintSend","detalle_json","dataPrint","idprint_server_estructura","descripcion_doc","nom_documento","idprint_server_detalle","closeConnection","NavigatorLinkService","disabledBack","resNavigatorSource","resNavigatorSourceObserve$","pageActive","resNavigator","historyNavigator","lastUrlHistory","nowUrl","closeListenNavigator","listenEventNavigator","events","navigationTrigger","elUrl","_url","substr","managerGoBack","_pageActive","itemHistory","findPageActiveInHistory","key","_key","Object","values","state","saveHistoryPageActive","previusUrl","nexturl","listoParaSalir","link","history","pushState","onpopstate","go","setIsOutEstablecimientoDelivery","CocinarDescuentosPromoService","ispromo_aplica","_precioTotal","itemPromo","subItemPrecioUnitario","itemSubItemSelected","is_nxn","numPor","cantidad_x","numCant","difCant","descPromo","porc_descuento","cantDescontar","importeTotalDescuento","importeDescontar","CocinarPromoShowService","pedidoService","_listPromos","listPromos","onGetInfoDateNow","resDateNow","consultarPromoAbierto","categoria","_itemsShow","getObjCarta","lista","idItem","__item","aplicarDescuentoItem","productos","idproducto_stock","idSeccion","_items","day","isDayValid","isHoursValid","dIni","dFin","h_inicio","h_fin","setHours","numdias","_listDD","_dias","getDiasByNum","slice","_days","SedeDeliveryService","_ciudad","_importe","SocketService","urlSocket","isSocketOpenReconect","isSocketOpenSource","isSocketOpen$","msjConexSource","msjConex$","resTipoConsumo","verificandoConexion","infoUser","opFrom","_isOutCarta","_isCashAtm","setSocketId","socket","infToken","dataSocket","iscliente","isOutCarta","isCashAtm","isFromApp","firts_socketid","secure","rejectUnauthorized","query","listenStatusSocket","on","resTPC","_objTpcAdd","estado","coordenadas","comercioId","disconnect","statusConexSocket","addEventListener","verifyConexionSocket","showStatusConexNavigator","cerrarSessionBeforeTimeSession","isConncet","online","ComandAnalizerService","speechTTService","utilitariosService","isMicrophoneOn","lastCommnad","lastTextoRecibido","lastComandOk","isProcessTalking","isTalking","isActive","keySotrageCommand","_transcript","_compareSimlary","compareSimilaryText","cocinarComand","isTalking$","isTalkin","isPedidoEnviado$","dataListComand","comand","_command","searchComandList","texto_recibido","replace","analizeCommand","comando","patt","RegExp","test","comando_recibido","text_command","searchIn","commandSelected","_similitudCompare","commandIncio","commandCarta","commandCartaRecomendacion","commandNavegacion","commandCartaContenido","commandCartaItemSuma","commandCartaItemResta","commandCartaItemResetea","commandFinalizarPedido","command","getNameSede","_isCommandStorage","getCommandStorage","isTimePlay","text","texto_default","text2","text1","getIdSede","speechVoice","_seccionSeleted","getSeccionCarta","_itemsStr","getItemsSeccionSelectedStr","isCommandOk","textSend","nomSeccion","sendTxtToVoice","goNavegacionSeccionCarta","getCarta","getItemsRecomendadosStr","goNavegacionItemRecomendados","_itemSeleted","getItemCarta","nomItem","replaceTextRecibidoComand","rptCant","convertTxtToNum","numCantidad","numStr","sendItemToPedido","_numCantidadItemActual","index","addItemPedido","isShowPedido","goNavigacionShowMiPedido","getIsPedidoValido","setFinalizarPedido","arrSecciones","getSeccionesCarta","_seccionCarta","searchCommandStr","getISeccionSelected","_itemDes","arrItems","getItemsCarta","_ItemCarta","getIItemsSelected","_strNum","_strOtherOne","_intNum","numRpt","match","findIndex","sa1","sa2","commandSend","convertTxtToVoice","numberBeep","setIsCommandAceptado","commandResponse","cmdStorage","cmdStorageList","idcomando_voz","saveCommandStorage","minDiffCommand","diffMinTimeComandStorage","toISOString","_newRowStorage","commandStorage","_dateCommand","_dateNow","diff","abs","SpechProviderConnectService","speechDataEvent","ttsDataEvent","title","SpechTotextService","speechProviverConnet","speechTexResponseSource","listenOnTraduceSource","lastTranscript","bufferSize","audioElement","querySelector","finalWord","removeLastSentence","streamStreaming","constraints","audio","video","downsampleBuffer","buffer","sampleRate","outSampleRate","sampleRateRatio","newLength","Int16Array","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","speechData","initRecording","AudioContext","context","processor","createScriptProcessor","resume","handleSuccess","stream","globalStream","createMediaStreamSource","onaudioprocess","left","inputBuffer","getChannelData","left16","mediaDevices","getUserMedia","track","getTracks","stop","charAt","SpechTTSService","isTalkingSource","sendDataTTS","_urlAudio","Audio","play","SpeechDataProviderService","navigatorLinkService","commandNavegacionSeccionSource","commandNavegacionSeccion$","commandNavegacionRecomendadoSource","commandNavegacionRecomendado$","commandAddItemSource","commandAddItem$","commandAceptadoSource","commandFinalizarPedidoSource","commandFinalizarPedido$","commandIsShowPedidoSource","commandIsShowPedido$","isPedidoEnviadoSource","arrSeccines","arrStringSecciones","laCarta","arrStringItems","nameSeccion","isSeccionBodega","nameItem","goNavigacionShowCarta","_recomendados","StorageService","TimerLimitService","countdownTimerRef","init","valPorcentaje","isPlayTimer","countdownSource","isTimeLimitSource","isPorgressVisibleSource","isPorgressVisible$","clearTimeout","initCount","stopCountTimerLimit","progressCount","lastValPorcentaje","setTimeDate","ms_new","timeAfter","UtilitariosService","clipboard","field","dateStr","dArr","userAgent","platform","macosPlatforms","windowsPlatforms","iosPlatforms","os","_string","urlCartaVirtual","_oSUs","copy","share","mensaje","snd","s1","s2","VerifyAuthClientService","subjectClient","isClientValid","clientSocket","setDataClient","isQrSuccess","isLoginByDNI","isLoginByTelefono","observerVerify","_infoTokenIsUsuarioAutorizado","registerCliente","_dataClientReurn","idClient","given_name","dataClie","_link","_idInvitadoStorage","setIsLoginByDNI","setIsLoginByTelefono","setIsLoginByInvitado","registerInvitado","environment","view_mozo","bootstrapModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;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","file":"main-es5.js","sourcesContent":["export default \"<router-outlet></router-outlet>\\n\";","export default \"<!-- <div class=\\\"form-group\\\">\\n    <label>Enter address</label>\\n    <input type=\\\"text\\\" class=\\\"form-control\\\">\\n</div> -->\\n\\n<!-- <h5>Address: {{address}}</h5> -->\\n<!-- <div>Latitude: {{latitude}}</div>\\n<div>Longitude: {{longitude}}</div>  -->\\n<div class=\\\"bg-warning pt-3 pr-3 pl-3 p-1\\\">\\n    <p class=\\\"fs-13\\\">Indique la direccion exacta de entrega. <strong>Se tomara como referencia el punto que especifica en el mapa.</strong></p>\\n</div>\\n<div>\\n    <form [formGroup]=\\\"registerForm\\\">\\n        <div class=\\\"w-100\\\">\\n            <div class=\\\"p-3\\\">                                \\n                <span class=\\\"text-secondary fw-100 fs-11\\\">Escriba el nombre de la calle numero y ciudad. No es necesario escribir: Jiron, jr, pasaje, av, etc.</span>\\n                <div>\\n                    <mat-checkbox class=\\\"fs-11 mt-2 text-info\\\" (change)=\\\"dirInCoordenadas = !dirInCoordenadas\\\">Ingresar direccion en coordenadas: Lat, Lng.</mat-checkbox>\\n                </div>\\n                <ng-container *ngIf=\\\"!dirInCoordenadas; else elseTemplateCoordenadas\\\">\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <input matInput class=\\\"input-headline\\\" placeholder=\\\"Direccion\\\" formControlName=\\\"direccion\\\" [(ngModel)]=\\\"dataCliente.direccion\\\" (keydown.enter)=\\\"$event.preventDefault()\\\" (keyup)=\\\"checkDireccion(search.value)\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"off\\\" type=\\\"text\\\" #search id=\\\"search\\\">\\n                    </mat-form-field>                                                                    \\n                </ng-container>\\n                <ng-template #elseTemplateCoordenadas>\\n                    <div class=\\\"w-100 d-flex justify-content-between\\\">\\n                        <mat-form-field class=\\\"w-100\\\">\\n                            <input matInput class=\\\"input-headline\\\" placeholder=\\\"Coordenadas\\\" #text_coordenadas>\\n                        </mat-form-field>                            \\n                        <button class=\\\"btn-in-input btn btn-sm btn-info\\\"                        \\n                        (click)=\\\"getDirCoordenadas(text_coordenadas.value)\\\"\\n                        > \\n                        <span class=\\\"fa fa-search\\\"></span>\\n                        </button>\\n                    </div>\\n                </ng-template>\\n                                \\n                <div class=\\\"w-100 d-flex justify-content-between\\\">\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <input matInput class=\\\"input-headline\\\" maxlength=\\\"150\\\" placeholder=\\\"Referencia / piso / oficina\\\" formControlName=\\\"referencia\\\" [(ngModel)]=\\\"dataCliente.referencia\\\">\\n                    </mat-form-field>\\n                    <button class=\\\"btn-in-input btn btn-sm btn-info\\\"\\n                        [disabled]=\\\"!registerForm.valid || loader > 0 || !isDireccionValid\\\"\\n                        (click)=\\\"saveDireccion()\\\"\\n                        >Listo</button>\\n                </div>\\n\\n                <div hidden=\\\"true\\\">\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <input matInput class=\\\"input-headline\\\" placeholder=\\\"Referencia / piso / oficina\\\" formControlName=\\\"longitude\\\" [(ngModel)]=\\\"longitude\\\">\\n                    </mat-form-field>\\n                    <mat-form-field class=\\\"w-100\\\">\\n                        <input matInput class=\\\"input-headline\\\" placeholder=\\\"Referencia / piso / oficina\\\" formControlName=\\\"latitude\\\" [(ngModel)]=\\\"latitude\\\">\\n                    </mat-form-field>\\n                </div>\\n            \\n\\n            <!-- mapa -->\\n                <div class=\\\"border\\\" id=\\\"map_canvas\\\">\\n                    <agm-map \\n                        [latitude]=\\\"latitude\\\" \\n                        [longitude]=\\\"longitude\\\"\\n                        [zoom]=\\\"zoom\\\"                        \\n                        (centerChange)=\\\"centerChange($event)\\\"\\n                        (mapClick)=\\\"clickmap()\\\"\\n                        (idle)=\\\"idleMap()\\\"\\n                        >\\n                        <!-- <agm-marker                             \\n                            [latitude]=\\\"latitude\\\" \\n                            [longitude]=\\\"longitude\\\"                            \\n                            [markerDraggable]=\\\"true\\\"\\n                            (dragEnd)=\\\"markerDragEnd($event)\\\"\\n                            >\\n                        </agm-marker> -->\\n                        <!-- [markerDraggable]=\\\"true\\\"\\n                            (dragEnd)=\\\"markerDragEnd($event)\\\" -->\\n                    </agm-map>           \\n                    <div class=\\\"centerMarker\\\"></div>     \\n                    <div class=\\\"btn-confirmar-dir\\\" *ngIf=\\\"countMoveMap > 1\\\">\\n                        <button class=\\\"btn btn-success\\\" (click)=\\\"confirmarDireccion()\\\">Confirmar</button>\\n                    </div>\\n                </div>\\n\\n            </div>\\n\\n            <!-- mapa -->\\n            </div>            \\n        </form>\\n        \\n        <div class=\\\"p-3\\\">\\n            <p class=\\\"fw-600 fs-13\\\">Esta es la dirección de mi:</p>\\n            <!-- <mat-radio-group aria-label=\\\"Select an option\\\" class=\\\"fs-13\\\" [(ngModel)]=\\\"dataCliente.titulo\\\"> -->\\n            <mat-radio-group class=\\\"fs-13\\\" [(ngModel)]=\\\"dataCliente.titulo\\\"  #radioGroup=\\\"matRadioGroup\\\">                \\n                <mat-radio-button class=\\\"pr-3\\\" [checked]=\\\"checkekFirstOption\\\" value=\\\"Casa\\\">Casa</mat-radio-button>\\n                <mat-radio-button class=\\\"pr-3\\\" value=\\\"Trabajo\\\">Trabajo</mat-radio-button>\\n                <mat-radio-button class=\\\"pr-3\\\" value=\\\"Novi@\\\">Novi@</mat-radio-button>\\n                <mat-radio-button class=\\\"pr-3\\\" value=\\\"Otro\\\">Otro</mat-radio-button>\\n            </mat-radio-group>            \\n        </div>\\n        \\n\\n\\n        <div class=\\\"text-center pb-3\\\">\\n\\n            <button mat-flat-button mat-dialog-close class=\\\"mr-3\\\">\\n                <i class=\\\"fa fa-arrow-left\\\"></i>\\n                Atras\\n            </button>\\n\\n\\n\\n            <button mat-flat-button \\n                color=\\\"primary\\\" \\n                [disabled]=\\\"!registerForm.valid || loader > 0 || !isDireccionValid\\\"\\n                (click)=\\\"saveDireccion()\\\"\\n                >        \\n                <ng-container *ngIf=\\\"loader === 0; then thenTemplate; else elseTemplate\\\"></ng-container>\\n                <ng-template #thenTemplate>            \\n                    Listo Guardar\\n                </ng-template>\\n                <ng-template #elseTemplate>\\n                    <ng-container *ngIf=\\\"loader === 1; else elseTemplateHecho\\\">\\n                        <i class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i>\\n                        Guardando ...\\n                    </ng-container>\\n                    <ng-template #elseTemplateHecho>\\n                        <i class=\\\"fa fa-check\\\"></i>\\n                        Hecho\\n                    </ng-template>                    \\n                </ng-template>\\n                \\n            </button> \\n\\n            <!-- recargar -->\\n            <button class=\\\"mt-2\\\"mat-flat-button color=\\\"primary\\\" *ngIf=\\\"!registerForm.valid\\\" (click)=\\\"recargarPage()\\\">\\n                <span class=\\\"fa fa-refresh mr-1\\\"></span>                \\n                Recargar\\n            </button>\\n            \\n            \\n            \\n        </div>  \\n        \\n        <p *ngIf=\\\"!registerForm.valid\\\" class=\\\"fw-600 text-danger fs-14\\\">Indique direccion y una referencia.</p>                \\n        <p *ngIf=\\\"!isDireccionValid\\\" class=\\\"fw-600 text-danger fs-16\\\">El servicio no esta disponible en esta ubicación.</p>                \\n    \\n\\n</div>\";","export default \"<div>\\n    <!-- <p>{{ label_txt }}</p> -->\\n    <!-- <mat-form-field class=\\\"w-100 bg-white\\\"> -->\\n        <textarea class=\\\"text-area-nota\\\" rows=\\\"5\\\" matInput placeholder=\\\"{{placeholder_txt}}\\\" (keyup)=\\\"changeText(txtComent.value)\\\" #txtComent></textarea>\\n    <!-- </mat-form-field> -->\\n</div>\";","export default \"<!-- aquien califica -->\\n\\n<ng-container *ngIf=\\\"countFin > 0; else msjAgradece\\\">\\n    <div class=\\\"text-center\\\">\\n        <div *ngIf=\\\"dataCalificado.showTitulo\\\">\\n            <span class=\\\"fw-600 fs-13 text-secondary\\\"> {{ dataCalificado.titulo }} </span>\\n        </div>\\n        \\n        <div *ngIf=\\\"dataCalificado.showNombre\\\">\\n            <span class=\\\"fs-15\\\">{{ dataCalificado.nombre }}</span>\\n            <br><br>\\n        </div>    \\n    </div>\\n    \\n    <star-rating\\n        [starType]=\\\"'svg'\\\" \\n        size=\\\"large\\\" \\n        speed=\\\"slow\\\"\\n        (ratingChange)=\\\"onRatingChange($event)\\\"\\n        ></star-rating>\\n    \\n    <div *ngIf=\\\"dataCalificado.showTxtComentario\\\" class=\\\"text-center pt-2\\\">\\n        \\n        <mat-form-field class=\\\"text-center\\\">        \\n            <textarea matInput placeholder=\\\"Escribe un comentario\\\" maxlength=\\\"200\\\" [(ngModel)]=\\\"comentario\\\"></textarea>\\n        </mat-form-field>\\n\\n        <br>\\n\\n        <button mat-flat-button color=\\\"primary\\\" (click)=\\\"goAgradecimiento()\\\" [disabled]=\\\"countFin < 3 || dataCalificado.calificacion == 0\\\">\\n            <i *ngIf=\\\"countFin < 3\\\" class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i>\\n            Listo\\n        </button>\\n    </div>\\n</ng-container>\\n\\n<ng-template #msjAgradece>\\n    <div class=\\\"text-center fs-18 fw-100\\\">\\n        <span> Muchas gracias, su calificación se tomara en cuenta.</span>\\n        <hr>\\n        <button mat-flat-button color=\\\"primary\\\" mat-dialog-close>Ok</button>\\n    </div>    \\n</ng-template>\";","export default \"<p>comp-check works!</p>\\n\";","export default \"<!-- inicio -->\\n<div>\\n    <div [hidden]=\\\"showDetalle\\\" class=\\\"animated fadeIn\\\">\\n        <div class=\\\"btn-circle-add btn-postion animated\\\" [ngClass]=\\\"{'headShake': showAnimateStop, 'cantidad': cantidad > 0 }\\\" (click)=\\\"showCantDetalle()\\\" >\\n            <ng-container *ngIf=\\\"cantidad === 0; else elseTemplateCant\\\">\\n                <span class=\\\"fa fa-plus fw-600\\\"></span>\\n            </ng-container>\\n            <ng-template #elseTemplateCant>\\n                <span class=\\\"fw-600\\\"> {{ cantidad}}  </span>\\n            </ng-template>        \\n        </div>\\n    </div>\\n    \\n    <!-- con catnidad -->\\n    <div class=\\\"btn-detalle btn-postion animated\\\" [ngClass]=\\\"{'fadeInUp': !quitarFadeUp}\\\"  [style.zoom]=\\\"zoom\\\"  [hidden]=\\\"!showDetalle\\\" >\\n        <!-- {{ cantidad_show }} -->\\n        <div>\\n            <ng-container *ngIf=\\\"cantidad_show === 1; else elseTemplate\\\">\\n                <span class=\\\"fa fa-trash\\\" (click)=\\\"menos()\\\"></span>\\n            </ng-container>\\n            <ng-template #elseTemplate>            \\n                <span class=\\\"fa fa-minus\\\" (click)=\\\"menos()\\\"></span>\\n            </ng-template>\\n            \\n        </div>\\n        <div class=\\\"fw-600\\\">{{ cantidad_show }}</div>\\n        <div>\\n            <span class=\\\"fa fa-plus animated\\\" [ngClass]=\\\"{'headShake': showAnimateStop}\\\" (click)=\\\"add()\\\"></span>\\n        </div>\\n    </div>\\n</div>\";","export default \"<div>\\n    <h5>Datos de la Reserva</h5>\\n    <hr>\\n    <div class=\\\"w-100\\\">\\n        <mat-form-field class=\\\"w-100 text-center\\\">\\n            <input readonly matInput placeholder=\\\"Reserva a nombre de:\\\" [(ngModel)]=\\\"frmConfirma.nombre_reserva\\\"\\n            name=\\\"nombre_reserva\\\">\\n        </mat-form-field>\\n    </div>\\n\\n    <div class=\\\"w-100\\\">\\n        <mat-form-field class=\\\"w-100 text-center\\\">\\n            <input matInput placeholder=\\\"(Opcional) Empresa o Institucion:\\\" [(ngModel)]=\\\"frmConfirma.empresa\\\"\\n            name=\\\"empresa\\\" (keyup)=\\\"emitData()\\\">\\n        </mat-form-field>\\n    </div>    \\n\\n    <div class=\\\"w-100\\\">\\n        <mat-form-field class=\\\"w-100 text-center\\\">\\n            <input type=\\\"number\\\" matInput placeholder=\\\"Numero de personas:\\\" \\n            [(ngModel)]=\\\"frmConfirma.num_personas\\\"\\n            name=\\\"num_personas\\\"\\n            (keyup)=\\\"emitData()\\\">\\n        </mat-form-field>\\n    </div>\\n\\n\\n    <div class=\\\"w-100 d-flex justify-content-center\\\">\\n        <app-comp-get-hora [parametros]=\\\"compHoraParams\\\" (changeHora)=\\\"setHora($event)\\\"></app-comp-get-hora>\\n    </div>\\n    <hr>\\n\\n    <app-comp-get-datos-cliente \\n        class=\\\"fs-12\\\" \\n        [opciones] = \\\"opcionesFrmCliente\\\" \\n        (frmResponse)=\\\"frmClienteResponse($event)\\\"></app-comp-get-datos-cliente>\\n\\n    <hr>\\n</div>\\n\";","export default \"<div id=\\\"div-2 animated fadeIn\\\">\\n      \\n    <div *ngIf=\\\"opciones.showDirreccionA\\\">\\n        <p class=\\\"fs-16 pb-2\\\">{{ titleDirA }}</p>\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion(0)\\\">\\n                <p class=\\\"fs-13\\\"><strong [ngClass]=\\\"{'text-danger': direccionA.direccion === ''}\\\">{{direccionA.titulo}}</strong><br> {{direccionA.direccion}}</p>\\n                <p class=\\\"fs-12 text-secondary fw-600\\\"> {{direccionA.referencia}} </p>\\n                <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n            </div>\\n            <div>\\n                <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"openDialogDireccion(0)\\\">\\n                    <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                </button>\\n            </div>\\n        </div>  \\n        <hr>\\n    </div>\\n    \\n    <!-- direccion de entrega -->        \\n    <div *ngIf=\\\"opciones.showDirreccionB\\\">\\n        <p class=\\\"fs-16 pb-2\\\">{{ titleDirB }}</p>\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion(1)\\\">\\n                <p class=\\\"fs-13\\\"><strong [ngClass]=\\\"{'text-danger': direccionB.direccion === ''}\\\">{{direccionB.titulo}}</strong><br> {{direccionB.direccion}}</p>\\n                <p class=\\\"fs-12 text-secondary fw-600\\\"> {{direccionB.referencia}} </p>\\n                <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n            </div>\\n            <div>\\n                <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"openDialogDireccion(1)\\\">\\n                    <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                </button>\\n            </div>\\n        </div>\\n        <hr>\\n    </div>\\n\\n    <!-- tiempo de entrega -->\\n    <div *ngIf=\\\"opciones.tiempoEntrega\\\">\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTiempoEntrega()\\\">\\n            <div>\\n                <p class=\\\"fs-16 pb-2\\\">Cuando lo entregamos?</p>\\n                <p class=\\\"m-0\\\"><span class=\\\"fs-14\\\" [ngClass]=\\\"{'text-danger': !isTiempoEntregaValid}\\\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\\n            </div>\\n\\n            <div>\\n                <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n            </div>\\n        </div>\\n        <hr>\\n    </div>\\n    <!-- tiempo de entrega -->\\n\\n    <!-- metodo de pago -->\\n    <div *ngIf=\\\"opciones.metodoPago\\\">                \\n        <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogMetodoPago()\\\">\\n            <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n                <p class=\\\"m-0 fs-16\\\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\\n                <button class=\\\"btn btn-sm btn-secondary\\\">\\n                    <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                </button>\\n                <!-- <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>                 -->\\n            </div>\\n            <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.metodoPagoSelected.idtipo_pago\\\">Especifique un metodo de pago.</span>\\n        </div>\\n        <hr>\\n    </div>\\n\\n    <!-- telefono -->\\n    <div *ngIf=\\\"opciones.telefono\\\">\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogsendSMS()\\\">                \\n                <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Es necesario el numero de su telefono</span>        \\n                <p class=\\\"m-0 fs-16\\\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \\n            </div>\\n            <div>\\n                <button class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"openDialogsendSMS(1)\\\">\\n                    <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n    \\n</div>\";","export default \"<div matRipple>\\n    <p class=\\\"text-secondary\\\" [ngClass]=\\\"{'text-danger': !isHourValid}\\\">{{ parametros.titulo }}</p>\\n    <!-- <input matInput [placeholder]=\\\"parametros.tituloHora\\\" aria-label=\\\"Hora\\\" \\n        [ngxTimepicker]=\\\"default\\\" \\n        [min]=\\\"hora_min\\\"\\n        [max]=\\\"hora_max\\\"\\n        [value]=\\\"hora_show\\\"\\n        readonly> -->\\n    \\n    <!-- <ngx-material-timepicker #default \\n        [enableKeyboardInput]=\\\"true\\\"\\n        [defaultTime]=\\\"hora_show\\\" (timeSet) = \\\"responseHora($event)\\\"\\n        (timeChanged)=\\\"changeAm($event)\\\"\\n        >\\n    </ngx-material-timepicker> -->\\n\\n    <!-- <ngx-timepicker-field \\n    [defaultTime]=\\\"hora_show\\\"\\n    [min]=\\\"hora_min\\\"\\n    [max]=\\\"hora_max\\\"\\n    (timeChanged) = \\\"responseHora($event)\\\"\\n    ></ngx-timepicker-field> -->\\n\\n    <div class=\\\"d-flex\\\">\\n        <mat-form-field class=\\\"text-center DivHora\\\">\\n            <input type=\\\"number\\\" matInput placeholder=\\\"Hora\\\" max=\\\"12\\\" maxlength=\\\"2\\\" [(ngModel)]=\\\"setHoraControl.h\\\" name=\\\"h\\\" (keyup)=\\\"responseHora()\\\">\\n        </mat-form-field>\\n        <mat-form-field class=\\\"text-center DivHora\\\">\\n            <input type=\\\"number\\\" matInput placeholder=\\\"Min\\\" max=\\\"60\\\" maxlength=\\\"2\\\" [(ngModel)]=\\\"setHoraControl.m\\\" name=\\\"m\\\" (keyup)=\\\"responseHora()\\\">\\n        </mat-form-field> \\n\\n        <mat-form-field class=\\\"DivHora text-center\\\">\\n            <mat-select [(ngModel)]=\\\"setHoraControl.ap\\\" name=\\\"ap\\\" (selectionChange)=\\\"responseHora()\\\">\\n              <mat-option value=\\\"AM\\\">AM</mat-option>\\n              <mat-option value=\\\"PM\\\">PM</mat-option>              \\n            </mat-select>\\n          </mat-form-field>\\n    </div>\\n\\n    <span *ngIf=\\\"parametros.showHoraMinMax && !isHourValid\\\" class=\\\"text-info fs-12 fw-100\\\">\\n        Máximo hasta las {{ parametros.hora_max }}\\n    </span>\\n    <br>\\n    \\n</div>\";","export default \"<div class=\\\"p-3 div-content-list\\\">    \\n    <div class=\\\"d-flex justify-content-between mb-2\\\">\\n        <div>\\n            <span class=\\\"fw-600 fs-17\\\">Mi Pedido</span>\\n        </div>\\n        <i class=\\\"fa fa-arrow-left mr-2\\\" (click)=\\\"goBackCarta()\\\"></i>\\n        <!-- <p class=\\\"fw-600 text-info fs-17\\\">BORRAR</p> -->\\n    </div>\\n    <div *ngFor=\\\"let tpc of miPedido.tipoconsumo\\\">\\n        <div class=\\\"div-tp-consumo\\\">\\n            <!-- titulo -->\\n            <div class=\\\"div-plr titulo-tpc\\\" *ngIf=\\\"!isDeliveryCliente\\\">\\n                <span [hidden]=\\\"isDeliveryCliente\\\">{{tpc.descripcion}}</span>            \\n                <span [hidden]=\\\"!isDeliveryCliente\\\">{{tpc.descripcion}}</span>            \\n            </div>\\n            \\n            <!-- seccion -->\\n            <div *ngFor=\\\"let seccion of tpc.secciones\\\" let=\\\"i=index\\\" class=\\\"secciones\\\">\\n                <ng-container *ngIf=\\\"seccion.count_items > 0\\\">\\n                    <div class=\\\"div-plr titulo-seccion\\\">\\n                        <span class=\\\"fs-13\\\">{{seccion.des | titlecase}}</span>                    \\n                    </div>\\n\\n                    <!-- items -->\\n                    <div class=\\\"div-seccion\\\" *ngFor=\\\"let item of seccion.items\\\" matRipple>\\n                        <div class=\\\"item\\\">\\n                            <div class=\\\"seccion-item\\\" (click)=\\\"openDlgItemToResumen(seccion, item)\\\">\\n                                <p class=\\\"fs-14\\\"> {{item.des | titlecase}} <span [hidden]=\\\"!item.indicaciones\\\">( {{item.indicaciones}} )</span></p>\\n                                \\n                                <!-- subitems -->\\n                                <ng-container *ngIf=\\\"item.subitems_view\\\">                                                \\n                                    <div>\\n                                        <ul class=\\\"w-100 m-0 ml-2\\\">                                                        \\n                                            <!-- <div *ngFor=\\\"let subitem of item.subitems_view\\\">                   -->\\n                                                    <!-- (click)=\\\"openDlgSubItem(tpc, seccion, item, subitem)\\\"                                       -->\\n                                                <li class=\\\"d-flex div-plr li-item fw-100 fs-13 text-secondary subitem-content-resumen\\\" *ngFor=\\\"let subitem of item.subitems_view\\\" matRipple [matRippleColor]=\\\"rippleColorSubItem\\\">\\n                                                    <!-- <div class=\\\"w-100 d-flex\\\"> -->\\n                                                        <div class=\\\"d-flex w-100 sub-item\\\" [ngClass]=\\\"{'pl-4': isHayCuentaBusqueda}\\\">\\n                                                            <!-- <div class=\\\"btnCount btnMenos\\\" *ngIf=\\\"!isHayCuentaBusqueda\\\" (click)=\\\"addItemToResumen(tpc, seccion, item, subitem, 1)\\\">-</div>  -->\\n                                                                <span class=\\\"fw-600 mr-1\\\">{{subitem.cantidad_seleccionada | number: '2.'}}</span> {{subitem.des}}\\n                                                            <!-- <div class=\\\"btnCount btnMas\\\" *ngIf=\\\"!isHayCuentaBusqueda\\\" (click)=\\\"addItemToResumen(tpc, seccion, item, subitem, 0)\\\">+</div>  -->\\n                                                        </div>\\n\\n                                                        <!-- <div class=\\\"fs-11 text-right\\\" style=\\\"width: 45px;\\\" [hidden]=\\\"subitem.precio === 0\\\">\\n                                                            + {{subitem.precio | number:'0.2' }}\\n                                                        </div>                                                                     -->\\n                                                    <!-- </div> -->\\n                                                </li>\\n                                            <!-- </div> -->\\n                                        </ul>\\n                                    </div>\\n                                </ng-container>\\n\\n\\n\\n                                <p class=\\\"fw-600 fs-14\\\">{{simbolo_moneda}} {{ item.precio_print | number:'0.2' }}</p>\\n                            </div>\\n                            <div>\\n                                <app-comp-ctrl-add-fast class=\\\"div-control-add-fast\\\"\\n                                  (objResponse)=\\\"resultCantItemMercado($event, tpc, seccion)\\\" \\n                                  [objItem]=\\\"item\\\"\\n                                  [cantidad_show] = \\\"item.cantidad_seleccionada\\\"\\n                                  [comprimir] = \\\"false\\\"\\n                                  [limitAdd]=\\\"item.cantidad\\\">\\n                                </app-comp-ctrl-add-fast>\\n                            </div>\\n                        </div>\\n\\n                        \\n                    </div>\\n                </ng-container>\\n            </div>\\n        </div>\\n    </div>    \\n\\n    <!-- subtotales -->\\n    <div class=\\\"div-tp-consumo mt-3 mb-5\\\">        \\n        <ul class=\\\"w-100 ul-total\\\">\\n            <li class=\\\"d-flex div-plr li-item\\\" *ngFor=\\\"let item of arrSubtotales\\\">\\n                <div class=\\\"w-100\\\">\\n                \\n                    {{item.descripcion | titlecase}}\\n\\n                    <!-- si lluvia -->\\n                    <ng-container *ngIf=\\\"item.isDeliveryApp\\\" class=\\\"d-flex\\\">\\n                        <div *ngFor=\\\"let itemIcon of listIconsEntrega\\\" class=\\\"d-inline\\\">\\n                            <img *ngIf=\\\"itemIcon.visible\\\" class=\\\"img-ico-entrega pl-2 text-secondary\\\" src=\\\"../assets/images/{{itemIcon.icon}}\\\" alt=\\\"itemIcon.motivo\\\" matTooltip=\\\"{{ itemIcon.motivo }}\\\">\\n                        </div>                                    \\n                        <!-- <i *ngIf=\\\"isCalculandoDistanciaA\\\" class=\\\"fa fa-spinner fa-spin fa-fw ml-3\\\"></i> -->\\n                    </ng-container>   \\n                </div>\\n\\n                <div>{{item.importe | number:'0.2' }}</div>\\n            </li>\\n        </ul>\\n    </div>\\n</div>\";","export default \"<div class=\\\"content-op\\\">    \\n    <div matRipple *ngFor=\\\"let item of listOpciones\\\" \\n        class=\\\"item-propina\\\" [ngClass]=\\\"{'propina-selected': item.selected}\\\"\\n        (click)=\\\"selectedItem(item)\\\">\\n\\n        <p class=\\\"fw-600\\\">{{ item.descripcion }} </p>\\n        <p class=\\\"fs-14\\\"> {{ item.showImporte }} </p>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"loader-pago\\\" *ngIf=\\\"isLoaderTransaction\\\">\\n    <div>\\n      <span>Verificando, un momento por favor...</span>\\n      <mat-progress-bar mode=\\\"indeterminate\\\"></mat-progress-bar>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"animated fadeIn content-pago\\\">    \\n\\n    <!-- header -->\\n    <!-- <div class=\\\"header-pago p-3\\\">    \\n      <i *ngIf=\\\"!isTrasctionSuccess\\\" class=\\\"fa fa-arrow-left\\\" (click)=\\\"goBack()\\\" [routerLink]=\\\"['../']\\\"></i>    \\n      <span class=\\\"pl-2\\\">Pagar con Tarjeta</span>\\n    </div> -->\\n  \\n  \\n    <!-- pago -->\\n  \\n    <div *ngIf=\\\"!dataResTransaction\\\">    \\n      <!-- body -->\\n      <div class=\\\"p-3\\\" style=\\\"max-width: 500px; margin: 0 auto;\\\">\\n  \\n        <mat-card class=\\\"mt-2 mb-2\\\">\\n          <div class=\\\"text-center\\\">\\n              <p>Importe a pagar:</p>\\n              <div>              \\n                <p class=\\\"fs-30 fw-600\\\"><span class=\\\"fs-15\\\">S/.</span>  <span id=\\\"importe\\\">{{importeTransaccion | number: '0.2'}}</span> </p>\\n              </div>            \\n              <hr>\\n  \\n              <!-- correo -->\\n              <div *ngIf=\\\"isRequiredEmail\\\" class=\\\"w-100\\\">              \\n                <p class=\\\"fs-13 fw-100\\\" ng [ngClass]=\\\"{'text-danger animated flash': isViewAlertEmail}\\\">Se requiere un coreo para notificarle.</p>\\n                <mat-form-field class=\\\"w-100 text-center\\\">\\n                  <input matInput         \\n                    type=\\\"email\\\" \\n                    name=\\\"email\\\"\\n                    class=\\\"text-center\\\"\\n                    pattern=\\\"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\\\"\\n                    placeholder=\\\"Correo electronico\\\" \\n                    (keyup) = \\\"verificarCorreo(txtCorreo)\\\"\\n                    #txtCorreo>\\n                  </mat-form-field>\\n                  <span class=\\\"fs-13 fw-100 text-danger m-0 p-0\\\" [hidden]=\\\"isEmailValid\\\">Correo no valido</span>\\n                  <hr>\\n              </div>\\n  \\n              <!-- check terminos -->\\n              <div class=\\\"text-center\\\" *ngIf=\\\"isDisabledCheck && isEmailValid\\\">\\n                <mat-checkbox  (click)=\\\"goPagar()\\\">Acepto los <a href=\\\"http://papaya.com.pe/terminos-condiciones.html\\\" target=\\\"_blank\\\">Terminos y condiciones</a></mat-checkbox>\\n                <p *ngIf=\\\"isViewAlertTerminos\\\" class=\\\"fw-100 fs-14 text-danger animated flash\\\">Acepte los terminos.</p>\\n                <hr>\\n              </div>\\n  \\n              <!-- <div class=\\\"w-70\\\">\\n                <mat-checkbox  (click)=\\\"goPagar()\\\">Acepto los <a href=\\\"http://papaya.com.pe/terminos-condiciones.html\\\" target=\\\"_blank\\\">Terminos y condiciones</a></mat-checkbox>\\n                <p *ngIf=\\\"isViewAlertTerminos\\\" class=\\\"fw-100 fs-14 text-danger animated flash\\\">Acepte los terminos.</p>\\n                <hr>\\n              </div> -->\\n              \\n              <div class=\\\"div-btn\\\">\\n                <div id=\\\"btn_pago\\\">\\n    \\n                </div>\\n    \\n                <div id=\\\"btn-disabled\\\" class=\\\"btn-pago-disabled\\\" (click)=\\\"verificarCheckTerminos()\\\">\\n                  <span [hidden]=\\\"!isLoadBtnPago\\\" class=\\\"fa fa-spinner fa-spin\\\"></span> \\n                  <span [hidden]=\\\"isLoadBtnPago\\\">Pagar Aqui</span>\\n                </div>\\n              </div>\\n          </div>\\n        </mat-card>      \\n  \\n          <!-- <mat-accordion>\\n              <mat-expansion-panel>\\n                <mat-expansion-panel-header>\\n                  <mat-panel-title>\\n                    Datos de Facturación\\n                  </mat-panel-title>                \\n                </mat-expansion-panel-header>\\n            \\n                <span class=\\\"fw-100 text-secondary\\\">Muy pronto podrás obtener tu comprobante de consumo por este medio. Por el momento lo puede solicitar en caja.</span>\\n              </mat-expansion-panel>            \\n          </mat-accordion>               -->\\n      \\n      </div>\\n    </div>\\n  \\n  \\n    <!-- respuesta -->\\n    <div *ngIf=\\\"dataResTransaction\\\" class=\\\"animated fadeIn\\\">\\n  \\n      <ng-container *ngIf=\\\"dataResTransaction.error; else elseTemplate\\\">\\n        <div class=\\\"text-center fs-20 fw-100 banner-res-error p-3\\\">\\n          <i class=\\\"fa fa-times-circle-o fa-2x\\\" aria-hidden=\\\"true\\\"></i>\\n          <p>Ups! hubo un problema.</p>\\n        </div>      \\n  \\n        <div class=\\\"p-3 bg-white\\\">\\n          <div class=\\\"text-center\\\">\\n            <span class=\\\"fw-100\\\">\\n              {{dataResTransaction.errorMessage}} <br>\\n              {{dataResTransaction.data.ACTION_DESCRIPTION}} <br>\\n              {{dataResTransaction.data.CARD}} <br>\\n            </span>\\n          </div>\\n        </div>\\n  \\n  \\n        <div class=\\\"p-3 bg-white\\\">\\n          <div class=\\\"text-center\\\">\\n            <button mat-flat-button color=\\\"accent\\\" (click)=\\\"btnFinListo(false)\\\">Regresar</button>\\n          </div>\\n        </div>\\n  \\n      </ng-container>\\n  \\n      <ng-template #elseTemplate>\\n       \\n        <!-- transaccion exitosa -->\\n  \\n        <div>\\n          <div class=\\\"p-3 bg-white\\\">\\n            <div class=\\\"text-center\\\">\\n              <p class=\\\"fs-20\\\">Pedido Confirmado</p>\\n              <hr>\\n              <p>Su orden llegara pronto.</p>\\n              <hr>\\n              <img src=\\\"./assets/images/food_delivery.gif\\\" alt=\\\"delivery\\\" width=\\\"160px\\\">\\n              <hr>\\n              <p>Puede ver el estado de este en <br><strong>Mis Pedidos</strong>.</p>\\n              <!-- <span class=\\\"fw-100 fs-25\\\">{{ countFin | number: '2.' }}</span>\\n              <p>Notificando pago a control de caja ...</p> -->\\n            </div>\\n          </div>\\n          \\n          <div class=\\\"p-3 bg-white text-center\\\">          \\n            <button mat-flat-button color=\\\"primary\\\" (click)=\\\"btnFinListo(true)\\\"> Listo. </button>\\n            <br>\\n          </div>\\n        </div>\\n  \\n      </ng-template>              \\n    </div>\\n  </div>\\n  \\n  \";","export default \"<div *ngIf=\\\"_miPedido\\\" class=\\\"w-100 div-resumen-pedido\\\">\\n    <div *ngFor=\\\"let tpc of _miPedido.tipoconsumo\\\" class=\\\"xCursor\\\">\\n        <ng-container *ngIf=\\\"tpc.count_items_seccion > 0\\\">\\n            <div class=\\\"div-plr titulo-tpc\\\">                        \\n                <span>Detalle del pedido</span>\\n                <div class=\\\"countItem countTpc\\\">{{tpc.count_items_seccion}}</div>\\n            </div>\\n            <div *ngFor=\\\"let seccion of tpc.secciones\\\">\\n                <ng-container *ngIf=\\\"seccion.count_items > 0\\\">\\n                    <div class=\\\"div-plr titulo-seccion\\\">\\n                        <span>{{seccion.des | titlecase}}</span>\\n                        <div class=\\\"countItem countSeccion\\\">{{seccion.count_items}}</div>\\n                    </div>                            \\n                    <ul class=\\\"w-100\\\">\\n                        <div *ngFor=\\\"let item of seccion.items\\\">\\n                            <ng-container *ngIf=\\\"item.cantidad_seleccionada > 0\\\">\\n                                <!-- <div class=\\\"d-flex\\\"> -->\\n                                <!-- <div>\\n                                    <img class=\\\"img-thumbnail img-carta\\\" src=\\\"{{url_img}}{{item.img}}\\\" width=\\\"65px\\\" alt=\\\"{{item.img}}\\\">\\n                                </div> -->\\n                                <!-- <div class=\\\"w-100\\\"> -->\\n                                <li class=\\\"d-flex div-plr li-item\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n                                    <div class=\\\"pr-2 fw-100\\\">{{item.cantidad_seleccionada | number: '2.'}}</div>\\n                                    <div class=\\\"w-100 fw-100\\\">{{item.des | lowercase}}  <span [hidden]=\\\"!item.indicaciones\\\">( {{item.indicaciones}} )</span></div>\\n                                    <div class=\\\"fw-100\\\">{{item.precio_print | number:'0.2' }}</div>\\n                                </li>\\n                                    <!-- subitems -->\\n                                    <ng-container *ngIf=\\\"item.subitems_view\\\">                                                \\n                                        <div>\\n                                            <ul class=\\\"w-100\\\">                                                        \\n                                                <!-- <div *ngFor=\\\"let subitem of item.subitems_view\\\">                   -->\\n                                                        <!-- (click)=\\\"openDlgSubItem(tpc, seccion, item, subitem)\\\"                                       -->\\n                                                    <li class=\\\"d-flex div-plr li-item fw-100 fs-12 text-secondary subitem-content-resumen\\\" *ngFor=\\\"let subitem of item.subitems_view\\\" matRipple [matRippleColor]=\\\"rippleColorSubItem\\\">\\n                                                        <!-- <div class=\\\"w-100 d-flex\\\"> -->\\n                                                            <div class=\\\"d-flex w-100 pl-4\\\">                                                                        \\n                                                                    {{subitem.cantidad_seleccionada | number: '2.'}} {{subitem.des}}                                                                            \\n                                                            </div>\\n\\n                                                            <div class=\\\"fs-11 text-right\\\" style=\\\"width: 45px;\\\" [hidden]=\\\"subitem.precio === 0\\\">\\n                                                                + {{subitem.precio | number:'0.2' }}\\n                                                            </div>                                                                    \\n                                                        <!-- </div> -->\\n                                                    </li>\\n                                                <!-- </div> -->\\n                                            </ul>\\n                                        </div>\\n                                    </ng-container>\\n                                <!-- </div> -->\\n                                <!-- </div>                                        -->\\n                            </ng-container>                            \\n                        </div>\\n                    </ul>            \\n                </ng-container>\\n            </div>\\n        </ng-container>\\n    </div>    \\n\\n    <!-- subtotales -->    \\n    <div class=\\\"div-total\\\">\\n        <ul class=\\\"w-100 ul-total\\\">\\n            <li class=\\\"d-flex div-plr li-item\\\" *ngFor=\\\"let item of _arrSubtotales\\\" matRipple\\n            [matRippleColor]=\\\"rippleColor\\\">\\n            <div class=\\\"w-100\\\">{{item.descripcion | titlecase}}</div>\\n            <div>{{item.importe | number:'0.2' }}</div>\\n            </li>\\n        </ul>\\n    </div>                    \\n</div>\";","export default \"<ng-container *ngIf=\\\"!isEnviado; else pedidoEnviado\\\">\\n        \\n    <div class=\\\"p-4 div-content\\\">\\n        <div class=\\\"animated fadeInUp\\\" [hidden]=\\\"isShowFinalize\\\">\\n            <p class=\\\"fs-18\\\">Envios Express.</p>\\n            <p class=\\\"fw-100 fs-14\\\">Llevaremos cualquier artículo o paquete de un lugar a otro de la ciudad.\\n                <span class=\\\"text-secondary fs-12\\\">Si deseas que compremos algo por ti, utiliza la opcion \\\"Lo que quieras\\\" ó en los comercios afiliados.</span>\\n            </p>\\n            <hr>\\n            <div>\\n                <p class=\\\"fs-16\\\">Tipo de movilidad que requiere.</p>\\n                <app-tipo-vehiculo (optionSelected)=\\\"vehiculoSelected($event)\\\"></app-tipo-vehiculo>        \\n            </div>\\n            <hr>\\n            <div id=\\\"div-1\\\">\\n                <p class=\\\"fs-16 pb-2\\\">Articulo o paquete.</p>\\n                <app-comp-caja-texto \\n                    placeholder_txt=\\\"Que articulo o paquete te gustaria enviar?\\\"\\n                    (textChanged)=\\\"textChanged($event)\\\"\\n                    ></app-comp-caja-texto>\\n                <hr>\\n                      \\n                <div class=\\\"text-center w-100\\\">\\n                    <button class=\\\"w-50\\\" mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!isFormValid\\\" (click)=\\\"goNext()\\\">Listo, continuar</button>\\n                </div>\\n            </div>\\n        </div>\\n\\n    \\n    \\n    \\n        <div id=\\\"div-2 animated fadeIn\\\" [hidden]=\\\"!isShowFinalize\\\">\\n            <p><i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goNext()\\\"></i> Envios Express</p>\\n            <hr>\\n            <p class=\\\"fs-16 pb-2\\\">De dónde lo recogemos?</p>\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion(0)\\\">\\n                <p class=\\\"fs-13\\\"><strong [ngClass]=\\\"{'text-danger': direccionA.direccion === ''}\\\">{{direccionA.titulo}}</strong><br> {{direccionA.direccion}}</p>\\n                <p class=\\\"fs-12 text-secondary fw-600\\\"> {{direccionA.referencia}} </p>\\n                <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n            </div>\\n            <hr>\\n            \\n            <!-- direccion de entrega -->        \\n            <p class=\\\"fs-16 pb-2\\\">A dónde lo llevamos?</p>\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion(1)\\\">\\n                <p class=\\\"fs-13\\\"><strong [ngClass]=\\\"{'text-danger': direccionB.direccion === ''}\\\">{{direccionB.titulo}}</strong><br> {{direccionB.direccion}}</p>\\n                <p class=\\\"fs-12 text-secondary fw-600\\\"> {{direccionB.referencia}} </p>\\n                <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n            </div>\\n            <hr>\\n\\n            <!-- tiempo de entrega -->\\n            <div class=\\\"d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTiempoEntrega()\\\">\\n                <!-- <span class=\\\"fw-100 fs-12 text-secondary\\\">Hora de entrega:</span> -->            \\n                <div>\\n                    <p class=\\\"fs-16 pb-2\\\">Cuando lo entregamos?</p>\\n                    <p class=\\\"m-0\\\"><span class=\\\"fs-14\\\" [ngClass]=\\\"{'text-danger': !isTiempoEntregaValid}\\\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\\n                </div>\\n\\n                <div>\\n                    <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n                </div>\\n\\n            </div>\\n            <!-- tiempo de entrega -->\\n    \\n            <!-- metodo de pago -->\\n            <hr>        \\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogMetodoPago()\\\">\\n                <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n                    <p class=\\\"m-0 fs-16\\\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\\n                    <button class=\\\"btn btn-sm btn-secondary\\\">\\n                        <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                    </button>\\n                    <!-- <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>                 -->\\n                </div>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.metodoPagoSelected.idtipo_pago\\\">Especifique un metodo de pago.</span>\\n            </div>\\n    \\n            <!-- telefono -->\\n            <hr>\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogsendSMS()\\\">                \\n                <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Es necesario el numero de su telefono</span>        \\n                <p class=\\\"m-0 fs-16\\\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \\n            </div>\\n    \\n            <hr>\\n            <br>\\n            <div class=\\\"d-flex justify-content-between\\\">\\n                <div class=\\\"fs-17 fw-600\\\">Costo de entrega</div>\\n                <div class=\\\"fs-18 fw-600 text-right\\\"> <i *ngIf=\\\"isCalculandoDistancia\\\" class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i> S/. {{ importe_pagar | number: '.2'}}</div>            \\n            </div>\\n            <p class=\\\"fs-12 fw-100 text-secondary\\\">Entrega sin contacto: cuando sea posible, seleccione pagar con Yape.</p>\\n            <br>\\n            <hr>\\n            <div class=\\\"text-center w-100\\\">\\n                <button class=\\\"w-50\\\" mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!isFormValidDos || isLoading\\\" (click)=\\\"enviarPedidoExpress()\\\">\\n                    <i *ngIf=\\\"isLoading\\\" class=\\\"fa fa-spinner fa-spin fa-fw mr-2\\\"></i>\\n                    Listo, Enviar.\\n                </button>\\n            </div>\\n            <br><br>\\n        </div>\\n    </div>\\n\\n\\n</ng-container>\\n<ng-template #pedidoEnviado>\\n    <div class=\\\"p-3 m-0 d-flex align-items-center div-enviado\\\">\\n        <div class=\\\"div-listo\\\">\\n            <i class=\\\"fa fa-check fa-3x text-success\\\"></i>\\n            <br>\\n            <p class=\\\"fs-18\\\">\\n                Pedido enviado.\\n            </p>\\n            <p class=\\\"fs-12 text-secondary\\\">Atenderemos su pedido lo mas pronto posible. Un repartidor se comunicara con usted para cumplir con su pedido.</p>\\n            <hr>\\n            <button mat-stroked-button color=\\\"primary\\\" (click)=\\\"goZona()\\\">Listo</button>\\n        </div>\\n    </div>\\n</ng-template>\\n\\n\";","export default \"<ng-container *ngIf=\\\"!isEnviado; else pedidoEnviado\\\">\\n    \\n    <div class=\\\"p-4 div-content\\\" id=\\\"divcontent\\\">\\n        <div class=\\\"animated fadeInUp\\\" [hidden]=\\\"isShowFinalize\\\">\\n            <p class=\\\"fs-18\\\">Pide lo que quieras.</p>\\n            <p class=\\\"fw-100 fs-14\\\">Buscaremos en su ciudad para llevarte lo que necesitas.\\n                <!-- <span class=\\\"text-secondary fs-12\\\">Compras del mercado, medicinas, ferreteria, algún antojo, etc.</span> -->\\n            </p>\\n            <hr>\\n            <div>\\n                <p class=\\\"fs-16\\\">Tipo de movilidad que requiere.</p>\\n                <app-tipo-vehiculo (optionSelected)=\\\"vehiculoSelected($event)\\\"></app-tipo-vehiculo>        \\n            </div>\\n            <hr>\\n            <div id=\\\"div-1\\\">\\n                <p class=\\\"fs-16 pb-2\\\">Que compraremos?.</p>\\n                <app-comp-caja-texto \\n                    placeholder_txt=\\\"Lista del mercado, medicinas, ferreteria, algún antojo, etc...\\\"\\n                    (textChanged)=\\\"textChanged($event)\\\"\\n                    ></app-comp-caja-texto>\\n                <hr>\\n                <p class=\\\"fs-16 pb-2\\\">Costo estimado de la compra.</p>        \\n                <app-comp-op-costo-estimado (optionSelected)=\\\"costoSelected($event)\\\"></app-comp-op-costo-estimado>        \\n                <hr>        \\n                <div class=\\\"text-center w-100\\\">\\n                    <button class=\\\"w-50\\\" mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!isFormValid\\\" (click)=\\\"goNext()\\\">Listo, continuar</button>\\n                </div>\\n            </div>\\n\\n        </div>\\n    \\n    \\n    \\n        <div id=\\\"div-2 animated fadeIn\\\" [hidden]=\\\"!isShowFinalize\\\" [ngClass]=\\\"{'fadeInRight': isShowFinalize}\\\">\\n            <p><i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goNext()\\\"></i> Pide lo que quieras</p>\\n            <hr>\\n            <div>                \\n                <p class=\\\"fs-16 pb-2\\\">De dónde lo compramos? <span class=\\\"fw-600 fs-12\\\">(Opcional)</span></p>\\n                <!-- <p class=\\\"fs-18\\\">De donde? <span class=\\\"fw-600 fs-12\\\">(Opcional)</span></p> -->\\n                <mat-form-field class=\\\"w-100\\\">                \\n                    <input matInput placeholder=\\\"Bodega, supermercado, farmacia... \\\" [(ngModel)]=\\\"datosFormUno.donde_compramos\\\">\\n                </mat-form-field>\\n            </div>\\n            \\n            <!-- direccion de entrega -->        \\n            <p class=\\\"fs-16 pb-2\\\">A dónde lo llevamos?</p>\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion()\\\">\\n                <p class=\\\"fs-13\\\"><strong [ngClass]=\\\"{'text-danger': direccionCliente.direccion === ''}\\\">{{direccionCliente.titulo}}</strong><br> {{direccionCliente.direccion}}</p>\\n                <p class=\\\"fs-12 text-secondary fw-600\\\"> {{direccionCliente.referencia}} </p>\\n                <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n            </div>\\n            \\n            <hr>\\n             <!-- tiempo de entrega -->\\n             <div class=\\\"d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTiempoEntrega()\\\">\\n                <!-- <span class=\\\"fw-100 fs-12 text-secondary\\\">Hora de entrega:</span> -->            \\n                <div>\\n                    <p class=\\\"fs-16 pb-2\\\">Cuando lo entregamos?</p>\\n                    <p class=\\\"m-0\\\"><span class=\\\"fs-14\\\" [ngClass]=\\\"{'text-danger': !isTiempoEntregaValid}\\\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\\n                </div>\\n\\n                <div>\\n                    <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n                </div>\\n\\n            </div>\\n            <!-- tiempo de entrega -->\\n    \\n            <!-- metodo de pago -->\\n            <hr>        \\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogMetodoPago()\\\">\\n                <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n                    <p class=\\\"m-0 fs-16\\\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\\n                    <button class=\\\"btn btn-sm btn-secondary\\\">\\n                        <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n                    </button>\\n                    <!-- <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>                 -->\\n                </div>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.metodoPagoSelected.idtipo_pago\\\">Especifique un metodo de pago.</span>\\n            </div>\\n    \\n            <!-- telefono -->\\n            <hr>\\n            <div class=\\\"m-0\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogsendSMS()\\\">                \\n                <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Es necesario el numero de su telefono</span>        \\n                <p class=\\\"m-0 fs-16\\\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \\n            </div>\\n    \\n            <hr>\\n            <br>\\n            <div class=\\\"d-flex justify-content-between\\\">\\n                <div class=\\\"fs-17 fw-600\\\">Costo de entrega</div>\\n                <div class=\\\"fs-18 fw-600 text-right\\\">\\n                    <i *ngIf=\\\"isCalculandoDistanciaA\\\" class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i>\\n                    S/. {{ importe_pagar | number: '.2'}}</div>   \\n            </div>\\n            <p class=\\\"fs-12 fw-100 text-secondary\\\">Entrega sin contacto: cuando sea posible, seleccione pagar con Yape.</p>\\n            <br>\\n            <hr>\\n            <div class=\\\"text-center w-100\\\">\\n                <button class=\\\"w-50\\\" mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!isFormValidDos || isLoading\\\" (click)=\\\"enviarPedidoLoQ()\\\">\\n                    <i *ngIf=\\\"isLoading\\\" class=\\\"fa fa-spinner fa-spin fa-fw mr-2\\\"></i>\\n                    Listo, Enviar.\\n                </button>\\n            </div>\\n            <br><br>\\n        </div>\\n    </div>\\n\\n\\n</ng-container>\\n<ng-template #pedidoEnviado>\\n    <div class=\\\"p-3 m-0 d-flex align-items-center div-enviado\\\">\\n        <div class=\\\"div-listo\\\">\\n            <i class=\\\"fa fa-check fa-3x text-success\\\"></i>\\n            <br>\\n            <p class=\\\"fs-18\\\">\\n                Pedido enviado.\\n            </p>\\n            <p class=\\\"fs-12 text-secondary\\\">Atenderemos su pedido lo mas pronto posible. En breve un repartidor se comunicara con usted para cumplir con su pedido.</p>\\n            <hr>\\n            <button mat-stroked-button color=\\\"primary\\\" (click)=\\\"goZona()\\\">Listo</button>\\n        </div>\\n    </div>\\n</ng-template>\\n\\n\";","export default \"<div class=\\\"d-flex content-propina\\\" >\\n    <div matRipple class=\\\"item-propina\\\" \\n        [ngClass]=\\\"{'propina-selected': item.checked}\\\" \\n        (click)=\\\"itemCheck(item)\\\"\\n        *ngFor=\\\"let item of listPropina\\\">{{ item.descripcion }}</div>    \\n</div>\\n\";","export default \"<!-- <div class=\\\"div-content-promo\\\">\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n    <div class=\\\"div-promo\\\" matRipple>\\n        <img src=\\\"{{ imgdemo }}\\\" alt=\\\"aa\\\">\\n    </div>\\n</div> -->\\n\\n\\n<div class=\\\"div-content-promo\\\">\\n    \\n    <div class=\\\"div-promo\\\" matRipple *ngFor=\\\"let item of _listPromo\\\" (click)=\\\"_itemSelected(item)\\\">\\n        <img src=\\\"{{ imgdemo }}/{{item.img}}\\\" alt=\\\"aa\\\">\\n        <div *ngIf=\\\"item.cerrado === 1\\\" class=\\\"div-cerrado-comercio fw-600\\\">\\n            Cerrado\\n        </div>\\n    </div>\\n    \\n</div>\\n\";","export default \"<div class=\\\"text-left h-100\\\">\\n\\n    <!-- info comercio con repartidores propios -->    \\n    <ng-container *ngIf=\\\"isComercioRepartidoresPropios && !isComercioPapayaSoloPedidosApp\\\">\\n        <div class=\\\"border-bottom m-0 p-3\\\">\\n            <div class=\\\"div-info\\\">\\n                <i class=\\\"fa fa-motorcycle pr-1\\\" aria-hidden=\\\"true\\\"></i>        \\n                <span class=\\\"fs-11\\\">Comercio cuenta con su propio reparto.</span>\\n            </div>\\n        </div>\\n    </ng-container>\\n\\n    <div *ngIf=\\\"isRestaurante\\\" class=\\\"border-bottom m-0 p-3\\\">\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <div>\\n                <span class=\\\"fw-600 fs-14\\\">Cubiertos  <i class=\\\"fa fa-cutlery\\\"></i></span>\\n                <ng-container *ngIf=\\\"isCubierto; else elseTemplateCubierto\\\">\\n                    <p class=\\\"fw-100 fs-12 text-secondary\\\">El comercio incluirá cubierto en tu pedido.</p>\\n                </ng-container>\\n                <ng-template #elseTemplateCubierto>\\n                    <p class=\\\"fw-100 fs-12 text-secondary\\\">Ayúdanos a reducir el desperdicio de plástico. Solicita cubiertos solo cuando lo necesites.</p>                                            \\n                </ng-template>\\n                \\n            </div>\\n            <mat-slide-toggle [(ngModel)]=\\\"isCubierto\\\" name=\\\"isCubierto\\\"></mat-slide-toggle>\\n        </div>\\n    </div>\\n\\n     <!-- recojo en el local -->\\n     <div [hidden]=\\\"!isAceptaRecojoLocal\\\" matRipple class=\\\"border-bottom m-0 p-3\\\" [matRippleColor]=\\\"rippleColor\\\">\\n        <mat-checkbox labelPosition=\\\"before\\\" [(ngModel)]=\\\"isRecojoLocalCheked\\\" (change)=\\\"recalcularTotales()\\\">\\n            <i class=\\\"fa fa-home pr-2\\\" aria-hidden=\\\"true\\\"></i> \\n            <span class=\\\"mr-1\\\" [ngClass]=\\\"{'fw-600': isRecojoLocalCheked}\\\">Paso a recoger en el Local</span>            \\n        </mat-checkbox>\\n    </div>\\n\\n    <div *ngIf=\\\"isShowNombreClienteLoginInvitado\\\" class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\">\\n        <app-text-nom-cliente (isNombreValid)=\\\"nombreClienteValido = $event; verificarFormValid()\\\" [sizeTextBg]=\\\"false\\\"></app-text-nom-cliente>\\n    </div>\\n\\n                                \\n\\n    <div *ngIf=\\\"!isRecojoLocalCheked\\\" class=\\\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion()\\\">\\n        <div>\\n            <span class=\\\"fw-100 fs-12 text-secondary\\\">Direccion de entrega:</span>\\n            <p class=\\\"m-0 fs-14\\\">\\n                <!-- <strong>{{direccionCliente.titulo}}</strong> <br> {{direccionCliente.direccion}} -->\\n                <strong [ngClass]=\\\"{'text-danger': direccionCliente.direccion === ''}\\\">{{direccionCliente.titulo}}</strong> <span *ngIf=\\\"direccionCliente.direccion != ''\\\" class=\\\"fw-100 text-info pl-2\\\"> {{  dirEstablecimiento.distancia_km }} km </span><br> {{direccionCliente.direccion}}            \\n            </p>   \\n            <p *ngIf=\\\"msjErrorDir.length > 0\\\" class=\\\"text-danger fs-12 fw-100 m-0\\\">  {{ msjErrorDir }} </p>\\n        </div>\\n        <div>\\n            <button class=\\\"btn btn-sm btn-secondary\\\">\\n                <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n            </button>\\n        </div>\\n    </div>\\n\\n   \\n\\n    <!-- tiempo de entrega -->\\n    <div class=\\\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTiempoEntrega()\\\">\\n        <!-- <span class=\\\"fw-100 fs-12 text-secondary\\\">Hora de entrega:</span> -->            \\n        <div>\\n            <span class=\\\"fw-100 fs-12 text-secondary\\\"> Entgrega:</span>\\n            <i class=\\\"fa fa-clock-o pl-2\\\"></i>\\n            <p class=\\\"m-0\\\"><span class=\\\"fs-14\\\" [ngClass]=\\\"{'text-danger': !isTiempoEntregaValid}\\\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\\n        </div>\\n\\n        <div>\\n            <button class=\\\"btn btn-sm btn-secondary\\\">\\n                <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n            </button>\\n        </div>\\n\\n    </div>\\n    <!-- tiempo de entrega -->\\n\\n    <!-- telefono -->\\n    <div class=\\\"border-bottom m-0 p-3\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogsendSMS()\\\">                \\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <div>\\n                <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Es necesario el numero de su telefono</span>        \\n                <p class=\\\"m-0 fs-14\\\">Telefono: <strong>{{ infoToken.telefono }}</strong></p>\\n                <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.infoToken.telefono.length >= 5\\\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \\n            </div>\\n            <button class=\\\"btn btn-sm btn-secondary\\\">\\n                <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n            </button>\\n        </div>\\n    </div>\\n    <!-- telefono -->\\n\\n    <!-- facturacion -->\\n    <div class=\\\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTipoComprobnate()\\\">\\n        <p class=\\\"m-0 fs-14\\\">Comprobante: <strong>{{tipoComprobanteSelected.descripcion}}</strong></p>\\n        <!-- <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i> -->\\n        <button class=\\\"btn btn-sm btn-secondary\\\">\\n            <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n        </button>\\n    </div>\\n    <!-- facturacion -->\\n\\n    <!-- metodo de pago -->\\n    <div class=\\\"border-bottom m-0 p-3 div-metodo-pago\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogMetodoPago()\\\">\\n        <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n            <p class=\\\"m-0 fs-14\\\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\\n            <button class=\\\"btn btn-sm btn-secondary\\\">\\n                <span class=\\\"fw-100 fs-10\\\">Cambiar</span>\\n            </button>\\n            <!-- <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>                 -->\\n        </div>\\n        <span class=\\\"fw-100 fs-12 text-danger\\\" [hidden]=\\\"this.metodoPagoSelected.idtipo_pago\\\">Especifique un metodo de pago.</span>        \\n    </div>\\n    <!-- metodo de pago -->\\n\\n    <!-- propina -->\\n    <div *ngIf=\\\"!isRecojoLocalCheked\\\" class=\\\"m-0 p-3 d-flex justify-content-between\\\">\\n        <span class=\\\"m-0 fs-14\\\">Propina: <i class=\\\"fa fa-question-circle\\\" matTooltip=\\\"El 100% va para el repartidor\\\" #tooltip=\\\"matTooltip\\\" (click)=\\\"tooltip.toggle()\\\" matTooltipPosition=\\\"above\\\" aria-label=\\\"Button that shows a tooltip\\\"></i> </span> \\n        <app-comp-propina-delivery [listSubtotales]=\\\"_listSubtotales\\\" (selectedPropina)=\\\"selectedPropinaRepartidor($event)\\\"></app-comp-propina-delivery>\\n        <!-- <i class=\\\"fa fa-question-circle\\\" aria-hidden=\\\"true\\\"></i> -->\\n    </div>\\n    <!-- propina -->\\n\\n    <!-- dato importante o nombre de contacto si es solidaridad -->\\n    <div class=\\\"p-3\\\" *ngIf=\\\"isComercioSolidaridad\\\">\\n        <span class=\\\"text-info\\\">Importante: especifique persona o datos de contacto.</span>\\n        <mat-form-field class=\\\"w-100\\\">\\n            <input matInput [placeholder]=\\\"titleInputDatoAdicional\\\" [required]=\\\"isComercioSolidaridad\\\" [(ngModel)]=\\\"valInputDatoAdicianal\\\">\\n        </mat-form-field>\\n    </div>\\n    <br>\\n    <!-- dato importante o nombre de contacto si es solidaridad -->\\n\\n    \\n        \\n    <div class=\\\"m-0 p-3\\\">        \\n        <!-- <div class=\\\"row\\\"> -->\\n            <!-- subtotales -->    \\n            <div class=\\\"div-total w-100\\\">\\n                <ul class=\\\"w-100 ul-total\\\">\\n                    <li class=\\\"d-flex div-plr li-item\\\" *ngFor=\\\"let item of _listSubtotales\\\" matRipple\\n                    [matRippleColor]=\\\"rippleColor\\\">\\n                    <div class=\\\"w-100\\\">\\n                        {{item.descripcion | titlecase}}\\n\\n                        <!-- si lluvia -->\\n                        <ng-container *ngIf=\\\"item.isDeliveryApp\\\" class=\\\"d-flex\\\">\\n                            <div *ngFor=\\\"let itemIcon of listIconsEntrega\\\" class=\\\"d-inline\\\">\\n                                <img *ngIf=\\\"itemIcon.visible\\\" class=\\\"img-ico-entrega pl-2 text-secondary\\\" src=\\\"../assets/images/{{itemIcon.icon}}\\\" alt=\\\"itemIcon.motivo\\\" matTooltip=\\\"{{ itemIcon.motivo }}\\\">\\n                            </div>\\n                            <!-- <img *ngIf=\\\"isRain\\\" class=\\\"img-ico-entrega pl-2 text-secondary\\\" src=\\\"../assets/images/x_is_rain.png\\\" alt=\\\"is_rain\\\" matTooltip=\\\"Lluvia\\\">\\n                            <img *ngIf=\\\"isRain\\\" class=\\\"img-ico-entrega pl-3 text-secondary\\\" src=\\\"../assets/images/x_is_nigth.png\\\" alt=\\\"is_all_demand\\\" matTooltip=\\\"Alta demanda\\\">\\n                            <img *ngIf=\\\"isRain\\\" class=\\\"img-ico-entrega pl-3 text-secondary\\\" src=\\\"../assets/images/x_is_all_demand.png\\\" alt=\\\"is_all_demand\\\" matTooltip=\\\"Alta demanda\\\"> -->\\n                            <!-- <i  class=\\\"fa fa-cloud pl-2 text-secondary\\\"></i>                         -->\\n                            <i *ngIf=\\\"isCalculandoDistanciaA\\\" class=\\\"fa fa-spinner fa-spin fa-fw ml-3\\\"></i>\\n                        </ng-container>                        \\n                        \\n                    </div>\\n                    <div>\\n                        {{item.importe | number:'0.2' }}</div>\\n                    </li>\\n                </ul>\\n            </div>        \\n            <div class=\\\"pb-2 text-right\\\">\\n                <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"isValidForm\\\">   \\n                    <span *ngIf=\\\"resData.importeTotal < montoMinimoPedido\\\">\\n                        Importe minimo S/. {{montoMinimoPedido | number:'.2'}}\\n                    </span>                 \\n                </span>\\n\\n                <p class=\\\"fs-11 text-info fw-100\\\" *ngIf=\\\"!isComercioRepartidoresPropios || isComercioPapayaSoloPedidosApp\\\">Costo de entrega y propina es 100% para el repartidor.</p>\\n            </div>\\n            <br>\\n        <!-- </div> -->\\n    </div>    \\n    <br><br>\\n</div>\";","export default \"<div>\\n  <div class=\\\"text-center\\\">\\n    <p class=\\\"fw-100 fs-20\\\">Datos del Delivery</p>    \\n  </div>\\n\\n  <div class=\\\"border-bottom m-0\\\">\\n    <div class=\\\"d-flex justify-content-between p-2\\\" style=\\\"background: beige;\\\">\\n        <div class=\\\"text-left\\\">\\n            <span class=\\\"fw-600 fs-14\\\">Cubiertos  <i class=\\\"fa fa-cutlery\\\"></i></span>\\n            <p class=\\\"fw-100 fs-12 text-secondary p-0 m-0\\\">Incluir cubiertos.</p>                        \\n          </div>\\n          <mat-slide-toggle [(ngModel)]=\\\"isCubierto\\\" name=\\\"isCubierto\\\"></mat-slide-toggle>\\n    </div>\\n  </div>\\n  <br>\\n      <!-- recojo en el local -->\\n      <div [hidden]=\\\"!isAceptaRecojoLocal\\\" matRipple class=\\\"border-bottom m-0 text-left\\\">\\n        <mat-checkbox labelPosition=\\\"before\\\" [(ngModel)]=\\\"isRecojoLocalCheked\\\" (change)=\\\"recalcularTotales()\\\">\\n            <i class=\\\"fa fa-home pr-2\\\" aria-hidden=\\\"true\\\"></i> \\n            <span class=\\\"mr-1\\\" [ngClass]=\\\"{'fw-600': isRecojoLocalCheked}\\\">Cliente pasa a recoger en el Local</span>      \\n        </mat-checkbox>\\n    </div>\\n\\n\\n  <form [formGroup]=\\\"myForm\\\">\\n    <div class=\\\"w-100 pt-2\\\">      \\n\\n      <!-- <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i> -->\\n      <!-- dni para la facturacion -->    \\n      <div class=\\\"text-left\\\">\\n        <span class=\\\"text-info fs-11\\\">(Opcional) Ingrese DNI del cliente para llevar un registro. Ó busque por el nombre.</span>\\n      </div>\\n      <mat-form-field class=\\\"w-100\\\">\\n        <input matInput placeholder=\\\"DNI\\\" type=\\\"text\\\" formControlName=\\\"dni\\\" (keyup.enter)=\\\"buscarDNI()\\\">\\n        <button mat-icon-button matSuffix (click)=\\\"buscarDNI()\\\">\\n            <i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n        </button>\\n      </mat-form-field>\\n      <div class=\\\"text-left span-input-alert\\\" *ngIf=\\\"!loadConsulta && errorDni\\\">\\n        <span class=\\\"fw-100 text-danger fs-11\\\">\\n          Documento no encontrado\\n        </span>\\n      </div>\\n\\n      <div class=\\\"w-100\\\">\\n        <mat-progress-bar style=\\\"bottom: 20px;\\\" [hidden]=\\\"!loadConsulta\\\" mode=\\\"indeterminate\\\"></mat-progress-bar>\\n      </div>\\n\\n      <mat-form-field class=\\\"w-100\\\" *ngIf=\\\"isDataFromDNI\\\">\\n        <input matInput placeholder=\\\"Nombre y apellidos\\\" formControlName=\\\"nombre\\\" readonly>\\n      </mat-form-field>\\n\\n\\n\\n      <mat-form-field class=\\\"w-100\\\" *ngIf=\\\"!isDataFromDNI\\\">\\n        <!-- <mat-form-field class=\\\"example-full-width\\\"> -->\\n          <input type=\\\"text\\\"\\n                 placeholder=\\\"Nombre y apellidos del cliente\\\"\\n                 aria-label=\\\"Cliene\\\"\\n                 matInput\\n                 [formControl]=\\\"myControl\\\"\\n                 [matAutocomplete]=\\\"auto\\\" (keyup)=\\\"setNombreControl(valNom.value)\\\" #valNom>\\n          <mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected) = \\\"changeCliente($event)\\\" [displayWith]=\\\"displayFn\\\">\\n            <mat-option *ngFor=\\\"let option of filteredOptions | async\\\" [value]=\\\"option\\\">\\n              <span class=\\\"fs-12\\\"> {{ option.nombres }} </span>\\n            </mat-option>\\n          </mat-autocomplete>\\n        <!-- </mat-form-field> -->\\n\\n    </mat-form-field>\\n\\n\\n    <!-- telefono -->\\n    <mat-form-field class=\\\"w-100\\\" *ngIf=\\\"!isRecojoLocalCheked\\\" >\\n      <input matInput placeholder=\\\"Telefono\\\" formControlName=\\\"telefono\\\" [required]=\\\"!isRecojoLocalCheked\\\">\\n    </mat-form-field>\\n    <!-- telefono -->\\n   \\n\\n      <!-- <span class=\\\"text-info fs-13 fw-600\\\">Es necesario seleccionar una opcion de la lista</span>\\n\\n      <button (click)=\\\"openDialogDireccion()\\\">seleccionar direccion</button>\\n      <mat-form-field class=\\\"w-100\\\">\\n        <input matInput placeholder=\\\"Direccion\\\" formControlName=\\\"direccion\\\"         \\n        required>\\n      </mat-form-field> -->\\n\\n\\n      <!-- direccion -->\\n      <ng-container *ngIf=\\\"isShowAddDireccionMapa; else elseTemplateNoMapa\\\">\\n        <div *ngIf=\\\"!isRecojoLocalCheked\\\" class=\\\"border-bottom m-0 pl-0 pr-2 pt-3 pb-3 text-left d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogDireccion()\\\">\\n          <div>\\n            <span class=\\\"fw-100 fs-12 text-secondary\\\">Direccion de entrega:</span>\\n            <p class=\\\"m-0 fs-14\\\">\\n                <strong [ngClass]=\\\"{'text-danger': direccionCliente.direccion === ''}\\\">{{direccionCliente.titulo}}</strong> <span *ngIf=\\\"direccionCliente.direccion != ''\\\" class=\\\"fw-100 text-info pl-2\\\"> {{  dirEstablecimiento.distancia_km }} km </span><br> \\n                {{direccionCliente.direccion}}              \\n            </p>   \\n          </div>\\n\\n          <div>\\n            <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n          </div>\\n        </div>\\n      </ng-container>\\n      <ng-template #elseTemplateNoMapa>\\n        <mat-form-field class=\\\"w-100\\\">\\n          <input matInput placeholder=\\\"Direccion\\\" (keyup)=\\\"setTextDirClienteNoMapa(text_dir_solo.value)\\\"  [required]=\\\"!isShowAddDireccionMapa\\\" #text_dir_solo>\\n        </mat-form-field>\\n        <!-- <span class=\\\"direccionCliente.direccion === ''\\\" class=\\\"fs-14 text-danger\\\">Ingrese direccion</span> -->\\n        <span></span>\\n      </ng-template>                \\n\\n       <!-- tiempo de entrega -->\\n    <div class=\\\"border-bottom m-0 pl-0 pr-2 pt-3 pb-3 d-flex justify-content-between align-items-center\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogTiempoEntrega()\\\">\\n        <!-- <span class=\\\"fw-100 fs-12 text-secondary\\\">Hora de entrega:</span> -->            \\n        <div>            \\n            <p class=\\\"m-0\\\"><span class=\\\"fs-14\\\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\\n        </div>\\n\\n        <div>\\n            <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n        </div>\\n\\n    </div>\\n    <!-- tiempo de entrega -->\\n\\n\\n\\n      <!-- metodo de pago -->\\n      <div *ngIf=\\\"!isRecojoLocalCheked\\\" class=\\\"border-bottom m-0 pl-0 pr-2 pt-3 pb-4 d-flex justify-content-between\\\" matRipple [matRippleColor]=\\\"rippleColor\\\" (click)=\\\"openDialogMetodoPago()\\\">\\n        <p class=\\\"m-0 fs-14\\\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\\n        <i class=\\\"fa fa-caret-down\\\" aria-hidden=\\\"true\\\"></i>\\n      </div>\\n    <!-- metodo de pago -->      \\n\\n      <!-- <mat-form-field class=\\\"w-100\\\">\\n        <input type=\\\"number\\\" matInput placeholder=\\\"Paga con\\\" formControlName=\\\"paga_con\\\" required>\\n      </mat-form-field> -->\\n\\n      <!-- <mat-form-field class=\\\"w-100\\\">\\n        <input matInput placeholder=\\\"Dato Adicional\\\" formControlName=\\\"dato_adicional\\\">\\n      </mat-form-field> -->\\n    </div>\\n  </form>\\n\\n\\n  <div class=\\\"m-0\\\">        \\n    <!-- <div class=\\\"row\\\"> -->\\n        <!-- subtotales -->    \\n        <div class=\\\"div-total border-0 w-100\\\">\\n            <ul class=\\\"w-100 ul-total\\\">\\n                <li class=\\\"d-flex div-plr li-item\\\" *ngFor=\\\"let item of _listSubtotales\\\" matRipple\\n                [matRippleColor]=\\\"rippleColor\\\">\\n                <div class=\\\"w-100 text-left\\\">{{item.descripcion | titlecase}}</div>\\n                <div class=\\\"text-right\\\">{{item.importe | number:'0.2' }}</div>\\n                </li>\\n            </ul>\\n        </div>        \\n        <!-- <div class=\\\"pb-2 text-right\\\">\\n            <span class=\\\"text-danger fs-12 fw-100\\\" [hidden]=\\\"isValidForm\\\">Importe minimo S/. {{montoMinimoPedido | number:'.2'}}</span>\\n        </div> -->\\n        <!-- <br> -->\\n    <!-- </div> -->\\n  </div> \\n</div>\";","export default \"<div class=\\\"div-content-opiniones\\\">\\n\\n    <div class=\\\"d-flex justify-content-between align-items-center\\\">\\n        <p>Comentarios</p>\\n        <button class=\\\"btn btn-sm btn-secondary\\\" mat-dialog-close> <i class=\\\"fa fa-close\\\"></i> </button>\\n    </div>\\n    <hr>\\n    <div class=\\\"p-2\\\">    \\n        <div>\\n            <span class=\\\"badge badge-secondary mr-2 fs-13\\\"> <i class=\\\"fa fa-star\\\"></i> {{ dataComentarios.calificacion | number: '.1' }}</span>\\n            <span class=\\\"fs-13\\\">Puntuacion basada en {{ dataComentarios.cantidad | number: '2.' }} opiniones de usuarios.</span>\\n        </div>\\n        <hr>\\n        <div>\\n            <div *ngFor=\\\"let item of listComentarios\\\" class=\\\"border-bottom pb-2 pt-2 mb-1 fs-12\\\">\\n                <div class=\\\"d-flex justify-content-between\\\">\\n                    <p class=\\\"fw-600 text-secondary mr-2 fs-11\\\">{{ item.nomcliente }} </p>\\n                    <div class=\\\"d-flex\\\">\\n                        <span class=\\\"badge badge-secondary mr-2\\\">{{ item.numpedidos | number: '2.' }}</span>\\n                        <p class=\\\"badge badge-success\\\" [ngClass]=\\\"{'badge-danger': item.calificacion < 3, 'badge-warning': item.calificacion < 4}\\\" > <i class=\\\"fa fa-star\\\"></i> {{ item.calificacion | number: '.1' }}</p>\\n                    </div>\\n                </div>            \\n                <p *ngIf=\\\"item.comentario !=''\\\" class=\\\"fw-100 text-secondary\\\">{{ item.comentario }}</p>            \\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\";","export default \"<div class=\\\"p-3\\\">\\n    <app-comp-calificacion [dataCalificado] = \\\"_dataCalificado\\\"></app-comp-calificacion>\\n</div>\";","export default \"<div >\\n    <p class=\\\"fs-18\\\">Configuraciones</p>\\n    <hr>\\n    <mat-checkbox [(ngModel)]=\\\"isTomaPedidoRapido\\\">\\n        <span class=\\\"fw-600\\\">Tomar pedido rápido</span>\\n    </mat-checkbox>    \\n    <p class=\\\"fs-12\\\">Se adjuntara los items al clic, solo mostrará el detalle en los items que tienen opciones por seleccionar. <strong>Elija un canal de consumo predertiminado.</strong></p>\\n\\n    <mat-form-field>\\n        <mat-label>Canal consumo prederminado</mat-label>\\n        <mat-select placeholder=\\\"Canal de consumo\\\" [(ngModel)]=\\\"selectedValueCanConsumo\\\" name=\\\"selectedValueImpresora\\\" [(value)] = \\\"selectedValueCanConsumo\\\" [compareWith]=\\\"compareByIdCanal\\\">\\n            <mat-option *ngFor=\\\"let item of listCanalConsumo\\\" [value]=\\\"item\\\">\\n                {{item.descripcion}}\\n            </mat-option>\\n        </mat-select>\\n    </mat-form-field>\\n\\n    <hr>\\n\\n    <mat-checkbox [(ngModel)]=\\\"isPuntoAutoPedidoCheck\\\">\\n        <span class=\\\"fw-600\\\">Punto de Autopedido</span>\\n    </mat-checkbox>    \\n\\n    <p class=\\\"fs-12\\\">Configurar este equipo como Punto de Autopedido, donde el cliente podra realizar por su cuenta su pedido. \\n        Vincule una impresora donde el cliente obtendrá una copia de su pedido.\\n        <strong>El canal de consumo será: Para Llevar</strong>\\n    </p>\\n    <br>\\n    \\n    <mat-form-field>\\n        <mat-label>Impresora Vinculada</mat-label>\\n        <mat-select placeholder=\\\"Impresora\\\" [(ngModel)]=\\\"selectedValueImpresora\\\" name=\\\"selectedValueImpresora\\\" [(value)] = \\\"selectedValueImpresora\\\" [compareWith]=\\\"compareById\\\">\\n            <mat-option *ngFor=\\\"let item of listImpresoras\\\" [value]=\\\"item\\\">\\n                {{item.descripcion}}\\n            </mat-option>\\n        </mat-select>\\n    </mat-form-field>\\n\\n    <hr>\\n    <div class=\\\"d-flex\\\">\\n        <button mat-raised-button color=\\\"primary\\\" class=\\\"mr-2\\\" (click)=\\\"setConifg()\\\" >Listo Aplicar</button>    \\n        <button mat-raised-button color=\\\"accent\\\" mat-dialog-close>Cerrar</button>    \\n    </div>\\n</div>\";","export default \"<div class=\\\"div-dir-content\\\">\\n<!-- seleccionar/buscar direccion  -->\\n<div class=\\\"p-2\\\" class=\\\"animated fadeIn\\\" *ngIf=\\\"showSelectedDireccion\\\">\\n    \\n        <div *ngIf=\\\"!showBusqueda\\\" class=\\\"animated fadeInDown\\\">\\n            <p class=\\\"fs-18 fw-600\\\">\\n                <i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"cerrarDlg()\\\"></i> \\n                Agrega o escoge una dirección </p>\\n        </div>\\n        <div class=\\\"div-txt-dir d-flex align-items-center\\\">\\n            <!-- btn atras busqueda -->\\n            <div *ngIf=\\\"showBusqueda\\\" class=\\\"animated fadeInLeft\\\">\\n                <i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"showBusqueda = false; direccionBuscar = ''\\\"></i> \\n            </div>\\n    \\n            <i class=\\\"fa fa-map-marker mr-2 text-secondary\\\" aria-hidden=\\\"true\\\"></i>\\n            <input type=\\\"text\\\" placeholder=\\\"Ingrese una direccion de entrega\\\"\\n            [(ngModel)]=\\\"direccionBuscar\\\" name=\\\"direccionBuscar\\\" id=\\\"direccionBuscar\\\"            \\n            (ngModelChange)=\\\"this.direccionBuscarUpdate.next($event)\\\"            \\n            autocomplete=\\\"off\\\"\\n            autofocus=\\\"off\\\"\\n            >\\n        </div>\\n        <br>\\n    \\n        <!-- lista de direcciones anteriormente guardadas -->\\n        <div *ngIf=\\\"!showBusqueda\\\">            \\n            <div *ngFor=\\\"let item of listDirecciones\\\" class=\\\"item-direccion-prediction d-flex\\\" matRipple (click)=\\\"goDireccionGuardada(item)\\\">                        \\n                <div class=\\\"mr-2 p-1\\\">\\n                    <ng-container *ngIf=\\\"item.selected; else elseDirNoSolected\\\">\\n                        <i class=\\\"fa fa-check text-success\\\" aria-hidden=\\\"true\\\"></i>\\n                    </ng-container>\\n                    <ng-template #elseDirNoSolected>                        \\n                        <i class=\\\"fa fa-map-pin\\\" aria-hidden=\\\"true\\\"></i>\\n                    </ng-template>\\n                    \\n                </div>\\n                <div [ngClass]=\\\"{'text-success': item.selected}\\\">\\n                    <p class=\\\"fw-600\\\">{{ item.direccion }}</p>\\n                    <p class=\\\"text-secondary fs-12\\\" [ngClass]=\\\"{'text-success': item.selected}\\\">{{ item.titulo }}, {{ item.ciudad }}, {{ item.pais }}</p>\\n                    <p *ngIf=\\\"item.referencia !== ''\\\" class=\\\"text-secondary fs-12\\\" [ngClass]=\\\"{'text-success': item.selected}\\\">{{ item.referencia }}</p>\\n                </div>\\n            </div>\\n        </div>\\n    \\n    \\n        <!-- lista de predicciones -->\\n        <div *ngIf=\\\"showBusqueda\\\">\\n            <div *ngFor=\\\"let item of listPredicciones\\\" class=\\\"item-direccion-prediction\\\" matRipple (click)=\\\"goDireccion(item)\\\">        \\n                <p class=\\\"fw-600\\\">{{ item.structured_formatting.main_text }}</p>\\n                <p class=\\\"text-secondary fs-12\\\">{{ item.structured_formatting.secondary_text }}</p>\\n            </div>\\n        </div>\\n    \\n        <!-- boton de direccion actual -->    \\n        <div class=\\\"item-direccion fs-16\\\" matRipple (click)=\\\"goUbicacionActual()\\\"l>\\n            <i class=\\\"fa fa-location-arrow text-success mr-2\\\" aria-hidden=\\\"true\\\"></i>\\n            <span class=\\\"fw-600\\\">Ubicación actual</span>\\n        </div>    \\n\\n</div>\\n\\n<!-- confirmar direccion / mapa -->\\n<div *ngIf=\\\"!showSelectedDireccion\\\" class=\\\"animated fadeInRight\\\">\\n\\n    <div  class=\\\"animated fadeInDown\\\">\\n        <i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goBackEscogerDireccion()\\\"></i> \\n        <p class=\\\"fs-18 fw-600\\\">\\n            Confirmar tu dirección </p>\\n    </div>\\n\\n    <!-- mapa -->\\n    <div class=\\\"border\\\" id=\\\"map_canvas\\\">\\n        <agm-map \\n            [latitude]=\\\"latitude\\\" \\n            [longitude]=\\\"longitude\\\"\\n            [zoom]=\\\"zoom\\\"          \\n            [zoomControl]=\\\"false\\\" [streetViewControl]=\\\"false\\\" [disableDefaultUI]=\\\"true\\\"              \\n            [showDefaultInfoWindow] = \\\"false\\\"\\n            (centerChange)=\\\"centerChange($event)\\\"\\n            (mapClick)=\\\"clickmap()\\\"\\n            (idle)=\\\"idleMap()\\\"\\n            >                \\n        </agm-map>           \\n        <div class=\\\"centerMarker\\\"></div>     \\n        <div class=\\\"centerMarker-fondo\\\"></div>\\n        <div class=\\\"btn-confirmar-dir\\\" *ngIf=\\\"countMoveMap > 1\\\">\\n            <button class=\\\"btn btn-success\\\" (click)=\\\"confirmarDireccion()\\\">Confirmar</button>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"p-2\\\">\\n        <mat-form-field class=\\\"w-100\\\">\\n            <input class=\\\"input-dir\\\" matInput placeholder=\\\"Direccion\\\" (keyup)=\\\"goBackEscogerDireccion()\\\" [(ngModel)]=\\\"dataCliente.direccion\\\" name=\\\"direccion\\\" id=\\\"direccion\\\" >\\n            <button *ngIf=\\\"dataCliente.direccion\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"goBackEscogerDireccion()\\\">\\n                <mat-icon matSuffix>\\n                    <i class=\\\"fa fa-close\\\"></i>\\n                </mat-icon>\\n              </button>\\n        </mat-form-field> \\n        <mat-form-field class=\\\"w-100\\\">\\n            <input class=\\\"input-dir\\\" matInput placeholder=\\\"Ciudad\\\" readonly [(ngModel)]=\\\"dataCliente.ciudad\\\" name=\\\"ciudad\\\" id=\\\"ciudad\\\">\\n        </mat-form-field> \\n\\n        <mat-form-field class=\\\"w-100\\\">\\n            <input class=\\\"input-dir\\\" matInput placeholder=\\\"Referencia\\\" [(ngModel)]=\\\"dataCliente.referencia\\\" name=\\\"referencia\\\" id=\\\"referencia\\\">\\n        </mat-form-field> \\n\\n\\n        <div class=\\\"text-center pb-3\\\">\\n            <button mat-flat-button color=\\\"primary\\\"  \\n                [disabled]=\\\"loader > 0\\\"             \\n                (click)=\\\"saveDireccion()\\\"\\n                >        \\n                <ng-container *ngIf=\\\"loader === 0; then thenTemplate; else elseTemplate\\\"></ng-container>\\n                <ng-template #thenTemplate>            \\n                    Listo Guardar Dirección\\n                </ng-template>\\n                <ng-template #elseTemplate>\\n                    <ng-container *ngIf=\\\"loader === 1; else elseTemplateHecho\\\">\\n                        <i class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i>\\n                        Guardando ...\\n                    </ng-container>\\n                    <ng-template #elseTemplateHecho>\\n                        <i class=\\\"fa fa-check\\\"></i>\\n                        Hecho\\n                    </ng-template>                    \\n                </ng-template>\\n                \\n            </button>\\n        </div>\\n    </div>\\n</div>\\n</div>\";","export default \"<div class=\\\"item-content\\\">\\n    <div class=\\\"i-header\\\">\\n        <div class=\\\"d-flex\\\">\\n            <div class=\\\"fs-13 fw-600\\\">\\n                <div class=\\\"d-flex align-items-start\\\">\\n                    <span class=\\\"fs-12 i-stock estado-color-{{getEstadoStockItem(item.cantidad)}}\\\"> {{item.cantidad | number : '2.'}}</span>\\n                    <span>{{item.des}}</span>\\n                </div>\\n            </div>\\n            <div class=\\\"i-btn-exit\\\" style=\\\"width: 30px\\\" matRipple (click)=\\\"cerrarDlg()\\\">\\n                <!-- <i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> -->\\n                <i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i>\\n            </div>\\n        </div>\\n    </div>    \\n\\n    <!-- [ngClass]=\\\"{'he2': !isOneTipoConsumo}\\\" -->\\n    <div class=\\\"i-body fw-100 fs-13\\\" [ngClass]=\\\"{'he2': !isOneTipoConsumo}\\\">\\n        <!-- imagen -->\\n        <ng-container *ngIf=\\\"item.img.length > 0\\\">\\n            <div class=\\\"text-center border-bottom\\\">\\n                <img class=\\\"img-carta\\\" src=\\\"{{url_img}}{{item.img}}\\\" alt=\\\"{{item.img}}\\\">\\n            </div>\\n        </ng-container>\\n        \\n        <div class=\\\"p-3\\\">\\n        \\n            <!-- detalles -->\\n            <p class=\\\"fs-18 text-secondary fw-600\\\"> {{item.des}} </p>\\n            <ng-container *ngIf=\\\"item.detalles.length > 0\\\">\\n                <p class=\\\"titlo-detalle\\\" >{{ item.detalles }}</p>\\n                <hr>\\n            </ng-container>\\n            <!-- detalles -->\\n\\n            <!-- subitems -->\\n            <ng-container *ngIf=\\\"item.subitems\\\">\\n                <div *ngFor=\\\"let contentSub of item.subitems; let i = index\\\">\\n                    <div class=\\\"pb-3 pt-2 mb-3\\\">\\n                        <div>\\n                            <span class=\\\"txt-obligatorio\\\" [hidden]=\\\"!contentSub.isObligatorio\\\">Obligatorio</span>\\n                            <div class=\\\"sub-i-titulo mb-2\\\">\\n                                <p class=\\\"mb-1 fw-600 fs-14\\\">{{ primerMayuscula(contentSub.des) }}</p>\\n                                <!-- <span class=\\\"fs-12 text-secondary\\\">{{contentSub.des_cant_select}} {{contentSub.subitem_cant_select}}</span> -->\\n                                <span class=\\\"fs-12 text-secondary\\\">{{contentSub.des_cant_select}}</span>\\n                            </div>\\n                        </div>                            \\n\\n                        <!-- subitems - opciones -->\\n                        <div>\\n                            <div class=\\\"xoption w-100\\\" matRipple *ngFor=\\\"let subitem of contentSub.opciones; let i = index\\\">\\n\\n                                \\n\\n                                <ng-container *ngIf=\\\"contentSub?.show_cant_item === 0; else elseTemplate\\\">\\n\\n                                    <mat-checkbox \\n                                        class=\\\"w-100\\\"\\n                                        (change)=\\\"addSubItem(contentSub, subitem)\\\" \\n                                        [(ngModel)]=\\\"subitem.selected\\\" \\n                                        [ngClass]=\\\"{'li-tachado': subitem.cantidad < 1}\\\"\\n                                        [disabled]=\\\"subitem.cantidad < 1\\\"\\n                                    >\\n                                        <div class=\\\"w-100 d-flex justify-content-between fs-13\\\">                                        \\n                                            <div>\\n                                                <span>{{subitem.des }} </span>\\n                                                <span class=\\\"xprecio pl-1\\\" [hidden]=\\\"!subitem.cantidad_visible\\\"> | {{subitem.cantidad}}</span>                                                \\n                                            </div>\\n                                            <div class=\\\"xprecio aling-derecha\\\">                                                \\n                                                    <div *ngIf=\\\"subitem.precio != 0\\\" class=\\\"fw-600 fs-12\\\"> \\n                                                        + {{subitem.precio | number:'0.2'}}\\n                                                    </div>\\n                                            </div>                                                                                            \\n                                        </div>\\n                                    </mat-checkbox>\\n\\n                                </ng-container>\\n\\n                                <ng-template #elseTemplate>\\n                                    <div class=\\\"w-100 d-flex justify-content-between fs-13 pt-2 pb-2\\\" [ngClass]=\\\"{'li-tachado': subitem.cantidad < 1}\\\" >  \\n                                        <div>                                            \\n                                            <span>{{subitem.des }} </span>\\n                                            <span class=\\\"xprecio pl-1\\\" [hidden]=\\\"!subitem.cantidad_visible\\\"> | {{subitem.cantidad}}</span>\\n                                            <span *ngIf=\\\"subitem.precio != 0\\\" class=\\\"ml-2 fs-11 fw-600\\\"> \\n                                                + {{simbolo_moneda}} {{subitem.precio | number:'0.2'}}\\n                                            </span>\\n                                        </div>\\n                                        <div class=\\\"xprecio aling-derecha\\\">\\n                                            <app-comp-ctrl-add-fast \\n                                                [objItem]=\\\"subitem\\\" \\n                                                [stopAdd]=\\\"subitem.stop_add\\\"\\n                                                [zoom]=\\\"1.2\\\"\\n                                                (objResponse)=\\\"addSubItemCtrlCantidad(contentSub, $event)\\\"></app-comp-ctrl-add-fast>                                                                            \\n                                        </div>                                                                                            \\n                                    </div>\\n                                </ng-template>\\n                                \\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </ng-container>\\n\\n            <!-- especificaciones -->\\n            <div class=\\\"mb-3\\\" [ngClass]=\\\"{'div-tpc-one-option-buttom': isOneTipoConsumo}\\\">\\n                <!-- <span class=\\\"text-bold\\\">Instrucciones adicionales</span> -->\\n                <mat-form-field class=\\\"w-100\\\">\\n                    <!-- [(ngModel)]=\\\"item.indicaciones\\\" -->\\n                    <input matInput placeholder=\\\"Agregue una indicacion\\\" [(ngModel)]=\\\"item.indicaciones\\\"  (keyup)=\\\"setIndicaciones(txtIdicaciones.value)\\\" name=\\\"indicaciones\\\" #txtIdicaciones>\\n                    <button mat-button *ngIf=\\\"item.indicaciones\\\" matSuffix mat-icon-button aria-label=\\\"Clear\\\" (click)=\\\"txtIdicaciones.value=''; setIndicaciones('')\\\">\\n                        <i class=\\\"fa fa-close\\\"></i>\\n                    </button>\\n                </mat-form-field>\\n            </div>\\n        </div>\\n\\n        <!-- <div> -->\\n\\n            <!-- tipos de consumo -->\\n            <!-- <div *ngIf=\\\"!isOneTipoConsumo\\\">             -->\\n            <div class=\\\"p-3 w-100\\\" [ngClass]=\\\"{'div-tpc': isOneTipoConsumo, 'div-tpc-one-option': isOneTipoConsumo}\\\">   \\n                <span class=\\\"fs-12 text-danger\\\" [hidden]=\\\"isOptionRequeridosComplet\\\">Hay opciones obligatorias por marcar</span>\\n                <div class=\\\"mb-2\\\" id=\\\"tpc_content\\\" [attr.disabled]=\\\"!isOptionRequeridosComplet ? true : null\\\">\\n                    <table width=\\\"100%\\\" class=\\\"tb-tpc\\\">\\n                        <tr *ngFor=\\\"let tp of objItemTipoConsumoSelected\\\" [ngClass]=\\\"{'border-bottom': !isOneTipoConsumo}\\\">\\n                        <td> {{tp.descripcion}}  </td>\\n                        <td>\\n                            <div class=\\\"d-flex float-right\\\">\\n                                <div [hidden]=\\\"tp.cantidad_seleccionada === 0\\\" [ngClass]=\\\"{'bounceIn': tp.animar_cantidad}\\\" class=\\\"fs-19 pr-2 animated\\\">{{tp.cantidad_seleccionada}}</div>\\n                                <div appDebounceClick (debounceClick)=\\\"addItemToDialogItem(tp, 1)\\\" (debounceWait)=\\\"isWaitBtnMenos\\\" class=\\\"btn-tbl bg-danger xCursor\\\" matRipple><i class=\\\"fa fa-arrow-right\\\" *ngIf=\\\"isWaitBtnMenos\\\"></i>  -</div>\\n                                <div appDebounceClick (debounceClick)=\\\"addItemToDialogItem(tp, 0)\\\" class=\\\"btn-tbl bg-success xCursor\\\" matRipple>+</div>\\n                            </div>\\n                        </td>\\n                        </tr>\\n                    </table>            \\n                </div>    \\n            </div>\\n\\n        <!-- </div> -->\\n\\n    </div>\\n\\n    <div class=\\\"i-footer d-flex justify-content-between\\\">\\n        <!-- <ng-container *ngIf=\\\"isOneTipoConsumo; else elseTemplate\\\">\\n            <div>\\n                <span class=\\\"fs-12 text-danger\\\" [hidden]=\\\"isOptionRequeridosComplet\\\">Hay opciones obligatorias por marcar</span>\\n                <div id=\\\"tpc_content\\\" [attr.disabled]=\\\"!isOptionRequeridosComplet ? true : null\\\">\\n                    <table width=\\\"100%\\\" class=\\\"tb-tpc-one\\\">\\n                        <tr *ngFor=\\\"let tp of objItemTipoConsumoSelected\\\">                    \\n                        <td>\\n                            <div class=\\\"d-flex\\\">\\n                                <div appDebounceClick (debounceClick)=\\\"addItemToDialogItem(tp, 1)\\\" (debounceWait)=\\\"isWaitBtnMenos\\\" class=\\\"btn-tbl bg-danger xCursor\\\" matRipple><i class=\\\"fa fa-arrow-right\\\" *ngIf=\\\"isWaitBtnMenos\\\"></i>  -</div>\\n                                <div appDebounceClick (debounceClick)=\\\"addItemToDialogItem(tp, 0)\\\" class=\\\"btn-tbl bg-success xCursor\\\" matRipple>+</div>\\n                                <div [ngClass]=\\\"{'bounceIn': tp.animar_cantidad}\\\" class=\\\"fs-23 pl-2 animated\\\">\\n                                    <ng-container *ngIf=\\\"tp.cantidad_seleccionada === 0; else elseCantidad\\\">\\n                                        <span class=\\\"fs-12 fw-100\\\">Cantidad</span>\\n                                    </ng-container>\\n                                    <ng-template #elseCantidad>                                        \\n                                        {{tp.cantidad_seleccionada}}\\n                                    </ng-template>                                    \\n                                </div>                       \\n                            </div>\\n                        </td>\\n                        </tr>\\n                    </table>            \\n                </div>\\n            </div>\\n        </ng-container> -->\\n        <div>                    \\n            <button mat-flat-button color=\\\"primary\\\" (click)=\\\"cerrarDlg()\\\">Listo, continuar</button>\\n        </div>\\n        \\n        <div class=\\\"i-precio\\\">{{simbolo_moneda}} {{precioProducto | number:'0.2'}}</div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"p-2\\\">\\n    <p class=\\\"fs-18 fw- m-0\\\">Metodo de pago</p>\\n    <p class=\\\"fs-11 text-info\\\">Por favor, en cuanto sea posible seleccione un metodo de pago sin contacto (Tarjeta o Yape).</p>\\n    <hr>\\n    <!-- <div class=\\\"xoption w-100\\\" matRipple *ngFor=\\\"let subitem of listMetodoPago\\\">\\n        <mat-checkbox \\n            class=\\\"w-100\\\"\\n            (change)=\\\"chageItem(subitem)\\\" \\n            [(ngModel)]=\\\"subitem.checked\\\"             \\n        >\\n            <div class=\\\"w-100 d-flex\\\">\\n                <span>{{subitem.descripcion}} </span>                \\n            </div>\\n        </mat-checkbox>                               \\n    </div>     -->\\n\\n    <div class=\\\"div-list-icon\\\">\\n        <div *ngFor=\\\"let item of listMetodoPago\\\" \\n        matRipple class=\\\"item-option-pago\\\"        \\n        [ngClass]=\\\"{'item-option-pago-selected': item.checked}\\\"\\n        (click)=\\\"selectedItemOptionPago(item)\\\">\\n                <img src=\\\"../assets/images/icon-app/{{item.img}}\\\" alt=\\\"{{item.img}}\\\">\\n                <p>{{ item.descripcion }}</p>            \\n        </div>\\n        \\n    </div>\\n    <div *ngIf=\\\"itemSelected.info != ''\\\" class=\\\"animated flash\\\">\\n        <hr>\\n        <p class=\\\"fs-12 fw-600\\\">\\n            <i class=\\\"fa fa-info pr-1 text-warning\\\"></i>\\n            {{ itemSelected.info }}</p>\\n    </div>\\n    <ng-container *ngIf=\\\"isMontoVisible\\\">\\n        <hr>\\n        <span class=\\\"text-danger fs-12 fw-100\\\">indique con cuanto pagara:</span>        \\n        <mat-form-field class=\\\"w-100\\\">\\n            <input type=\\\"number\\\" matInput \\n            placeholder=\\\"Paga con\\\" \\n            [(ngModel)]=\\\"importeIndicado\\\"\\n            (keyup) = \\\"verificarImporte(importe.value)\\\" \\n            #importe required>\\n        </mat-form-field>\\n    </ng-container>\\n    <hr>\\n    \\n    <ng-container *ngIf=\\\"!isHabilitadoTarjeta\\\">\\n        <span class=\\\"text-info fs-11\\\">El Comercio no acepta pagos con Tarjeta</span>\\n        <i class=\\\"fa fa-credit-card-alt pl-1\\\" aria-hidden=\\\"true\\\"></i>\\n        <hr>\\n    </ng-container>\\n    \\n\\n\\n    <div class=\\\"text-center\\\">\\n        <button \\n            mat-flat-button color=\\\"primary\\\"\\n            [disabled]=\\\"!formValid\\\"\\n            (click)=\\\"cerrarDlg()\\\">Listo</button>\\n    </div>\\n    \\n</div>\\n\";","export default \"<div class=\\\"p-4\\\">\\n    <div>\\n        <p class=\\\"fs-18 fw-600\\\"> <i class=\\\"fa fa-user mr-2\\\"></i> Ingrese su nombre</p>\\n    </div>\\n\\n    <mat-form-field class=\\\"w-100\\\">\\n        <input type=\\\"text\\\" matInput\\n        placeholder=\\\"Nombre\\\"\\n        (keyup) = \\\"verificarNombre(nombre.value)\\\"          \\n        #nombre required>\\n    </mat-form-field>\\n    <!-- <p *ngIf=\\\"isNumberSuccess === 2 \\\" class=\\\"text-danger\\\">Número no valido.</p> -->\\n    <br>\\n    <button \\n        mat-flat-button color=\\\"primary\\\"\\n        [disabled]=\\\"!isValidForm\\\"\\n        (click)=\\\"cerrarDlg()\\\"        \\n    >   \\n        Listo\\n        \\n        <!-- Verificar telefono -->\\n    </button>    \\n    \\n</div>\\n<!-- <hr> -->\";","export default \"<div [hidden]=\\\"isShowAddDireccion\\\">\\n    <p class=\\\"fs-14 fw-600 pl-3 pt-3\\\">Direccion de entrega:</p>\\n    <hr>\\n    <app-seleccionar-direccion (direccionSelected)=\\\"setDireccion($event)\\\" [idClienteBuscar]=\\\"_idClienteBuscar\\\"></app-seleccionar-direccion>\\n    <br>\\n    <div class=\\\"text-center\\\">\\n        <button mat-flat-button mat-dialog-close class=\\\"mr-3\\\">\\n            <i class=\\\"fa fa-arrow-left\\\"></i>\\n            Atras\\n        </button>\\n\\n        <button mat-flat-button \\n        color=\\\"primary\\\" \\n        (click)=\\\"showAddDireccion()\\\"\\n        > \\n            <i class=\\\"fa fa-plus\\\"></i>\\n            Agregar Direccion\\n        </button>\\n    </div>\\n    <br>\\n</div>\\n\\n<div [hidden]=\\\"!isShowAddDireccion\\\">\\n    <app-agregar-direccion *ngIf=\\\"isShowAddDireccion\\\" (saveDireccionOk)=\\\"setDireccion($event)\\\" [isGuardarDireccion]=\\\"isGuardarDireccion\\\" [idClienteBuscar]=\\\"_idClienteBuscar\\\"></app-agregar-direccion>\\n</div>\\n\";","export default \"<div class=\\\"p-4 h-100\\\">\\n    <div>\\n        <div>\\n            <p class=\\\"fs-14 fw-600\\\"><i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"cerrarDlg()\\\"></i> Programar entrega:</p>\\n        </div>\\n    </div>\\n    <div class=\\\"div-content-dialog\\\">\\n        <ng-container *ngIf=\\\"isPersonalAutorizado; else elseTemplate\\\">\\n            <div class=\\\"p-4\\\">\\n                <p class=\\\"fw-100\\\">En formato 24 horas</p>\\n                <mat-form-field class=\\\"w-50 text-center\\\">\\n                    <mat-label>Hora</mat-label>\\n                    <input matInput type=\\\"number\\\" step=\\\"1\\\" max=\\\"23\\\" min=\\\"0\\\" placeholder=\\\"Hora\\\" [(ngModel)]=\\\"hourNow\\\" name=\\\"hourNow\\\" (change)=\\\"timePersonalAutorizado()\\\">\\n                  </mat-form-field>\\n\\n                  <mat-form-field class=\\\"w-50 text-center\\\">\\n                    <mat-label>Minutos</mat-label>\\n                    <input matInput type=\\\"number\\\" step=\\\"10\\\" max=\\\"50\\\" min=\\\"0\\\" placeholder=\\\"minutos\\\" [(ngModel)]=\\\"minNow\\\" name=\\\"minNow\\\" (change)=\\\"timePersonalAutorizado()\\\">\\n                  </mat-form-field>\\n            </div>\\n        </ng-container>\\n        <ng-template #elseTemplate>\\n            <ng-container *ngIf=\\\"isComercioAceptaPedidoProgramado; else elseTemplate\\\">\\n                <div class=\\\"w-100 text-center p-2\\\">\\n                    <app-tiempo-programado (tiempoProgramado)=\\\"selectedTime($event)\\\"></app-tiempo-programado>\\n                </div>            \\n            </ng-container>\\n            <ng-template #elseTemplate>            \\n                <div class=\\\"d-flex align-items-center h-100\\\">\\n                    <div class=\\\"text-center\\\">\\n                        <img src=\\\"./assets/images/solicitar-atencion.png\\\" alt=\\\"icon-programado\\\">\\n                        <p>El comercio no permite pedidos programados.</p>\\n                    </div>    \\n                </div>\\n            </ng-template>\\n            \\n        </ng-template>\\n        \\n        \\n    \\n    \\n        \\n    \\n    </div>\\n    <hr>\\n    <div class=\\\"xfooter-dialog text-center w-100\\\">\\n        <button mat-flat-button color=\\\"primary\\\" [disabled]=\\\"!isHoraValid\\\" (click)=\\\"cerrarDlg()\\\">Listo.</button>\\n    </div>\\n</div>\";","export default \"<div class=\\\"p-4\\\">\\n    <p class=\\\"fs-18 fw-600\\\">Tipo de Comprobante</p>\\n    <hr>\\n    <div class=\\\"xoption w-100\\\" matRipple *ngFor=\\\"let subitem of listTipoComprobante\\\">\\n        <mat-checkbox \\n            class=\\\"w-100\\\"\\n            (change)=\\\"chageItem(subitem)\\\" \\n            [(ngModel)]=\\\"subitem.checked\\\"             \\n        >\\n            <div class=\\\"w-100 d-flex\\\">\\n                <span>{{subitem.descripcion}} </span>                \\n            </div>\\n        </mat-checkbox>                        \\n    </div>    \\n    <ng-container> \\n        <mat-form-field class=\\\"w-100\\\">\\n            <input type=\\\"number\\\" matInput \\n            placeholder=\\\"DNI / RUC\\\" \\n            [(ngModel)]=\\\"datosComprobante.dni\\\"            \\n            >\\n        </mat-form-field>\\n\\n        <mat-form-field class=\\\"w-100\\\">\\n            <input type=\\\"text\\\" matInput \\n            placeholder=\\\"Indicacion adicional\\\" \\n            [(ngModel)]=\\\"datosComprobante.otro\\\"\\n            >\\n        </mat-form-field>\\n    </ng-container>    \\n\\n    <div class=\\\"text-center\\\">\\n        <span class=\\\"fs-12 fw-100 text-info\\\">Verifique que los datos sean correctos.</span>        \\n        <br>\\n        <button \\n            mat-flat-button color=\\\"primary\\\"\\n            (click)=\\\"cerrarDlg()\\\">Listo</button>\\n    </div>\\n    \\n</div>\\n\";","export default \"<div class=\\\"p-4\\\">\\n    <div>\\n        <p class=\\\"fs-18 fw-600\\\"><i class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"cerrarDlg()\\\"></i> Número de celular <i class=\\\"fa fa-phone ml-2\\\"></i></p>\\n    </div>\\n\\n    <mat-form-field class=\\\"w-100\\\">\\n        <input type=\\\"number\\\" matInput\\n        placeholder=\\\"Telefono\\\" \\n        (keyup) = \\\"verificarNum(telefono.value)\\\" \\n        [value] = \\\"data.numberphone\\\"\\n        #telefono required>\\n    </mat-form-field>\\n    <p *ngIf=\\\"isNumberSuccess ===2 \\\" class=\\\"text-danger\\\">Número no valido.</p>\\n    <br>\\n    <button \\n        mat-flat-button color=\\\"primary\\\"\\n        [disabled]=\\\"!isValidForm || isContandoShow\\\"\\n        (click)=\\\"enviarCodigoSMS()\\\"        \\n    >   \\n        <ng-container *ngIf=\\\"isContandoShow; else elseTemplateMsjVerificacion\\\">\\n            <span class=\\\"mr-2\\\" >{{ numSegundosActivarBtn | number: '2.'}}</span>\\n            Enviando Mensaje...\\n        </ng-container>\\n        <ng-template #elseTemplateMsjVerificacion>\\n            <ng-container *ngIf=\\\"intentoVerificacion === 0; else elseTemplateMsjNuevamente\\\">\\n                Enviar código de verificación\\n            </ng-container>\\n            <ng-template #elseTemplateMsjNuevamente>\\n                Enviar código nuevamente\\n            </ng-template>\\n        </ng-template>\\n        \\n        <!-- Verificar telefono -->\\n    </button>\\n    <p class=\\\"fs-13 text-secondary mt-1\\\">Recibira el código de verificación por WhatsApp, sino tiene entonces recibira el código por SMS</p>\\n    \\n</div>\\n<hr>\\n<div class=\\\"p-4\\\" *ngIf=\\\"isSendSMS\\\">\\n    <p class=\\\"text-success fs-600\\\">En breve recibiras un mensaje. Escribelo el codigo aqui:</p>\\n    <mat-form-field class=\\\"w-100\\\">\\n        <input type=\\\"number\\\" matInput \\n        placeholder=\\\"Codigo\\\" #txtCodigo>\\n    </mat-form-field>\\n    <br>\\n    <button \\n        mat-flat-button color=\\\"primary\\\"        \\n        (click)=\\\"verificarCodigoSMS(txtCodigo.value)\\\"   \\n        [disabled]=\\\"loader !== 0 && loader !== 3\\\"\\n    >\\n        <ng-container *ngIf=\\\"loader === 0 || loader === 3; else elseTemplate\\\">\\n            Verificar Codigo\\n        </ng-container>\\n        <ng-template #elseTemplate>\\n            <ng-container *ngIf=\\\"loader === 1; else elseTemplateHecho\\\">\\n                <i class=\\\"fa fa-spinner fa-spin fa-fw\\\"></i>\\n                Verificando ...\\n            </ng-container>\\n            <ng-template #elseTemplateHecho>\\n                <i class=\\\"fa fa-check\\\"></i>\\n                Hecho\\n            </ng-template> \\n        </ng-template>            \\n    </button>    \\n    <p *ngIf=\\\"loader > 0 && !isVerificacionOk\\\" class=\\\"text-danger fw-600 pt-2\\\">Codigo ingresado incorrecto.</p>\\n</div>\\n<!-- <hr> -->\";","export default \"<div *ngFor=\\\"let option of ListOption\\\">    \\n    <div class=\\\"divBtn text-center\\\" (click)=\\\"xNextPregunta(option)\\\">        \\n        <div class=\\\"op\\\">\\n            <img src=\\\"assets/images/encuesta-img/{{option.img}}\\\" class=\\\"btnIco\\\" alt=\\\"btnOption\\\">            \\n            <span>{{option.descripcion}}</span>            \\n        </div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"animated fadeIn content-comercio pb-2 text-left\\\" matRipple (click)=\\\"_itemSelected()\\\">\\n    <mat-card>\\n    <div class=\\\"content-img-comercio\\\">        \\n        <img class=\\\"img-comercio\\\" src=\\\"{{imgComercio}}\\\" alt=\\\"\\\">\\n        <div class=\\\"div-cerrado\\\" *ngIf=\\\"isCerrado && !isComercioAceptaPedidoProgramado && !isComercioReservacionesActiva\\\">\\n            <p>Cerrado Ahora</p>                    \\n        </div>\\n    </div>\\n    <div >\\n        <div class=\\\"div-info-comercio\\\">\\n            <p class=\\\"fw-600 fs-18\\\">\\n                {{itemEstablecimiento.nombre | titlecase}}                \\n            </p>\\n            <p class=\\\"fs-13\\\" *ngIf=\\\"itemEstablecimiento.eslogan.length > 0\\\">{{itemEstablecimiento.eslogan | titlecase}}</p>\\n            <p class=\\\"fw-100 fs-12\\\">{{itemEstablecimiento.sub_categoria}}</p>\\n\\n            <!-- si acepta tarjeta -->\\n            <div>\\n                <span *ngIf=\\\"itemEstablecimiento.pwa_delivery_acepta_tarjeta === 1\\\"\\n                    class=\\\"div-acepta-tarjeta\\\"> \\n                    <i class=\\\"fa fa-credit-card mr-1\\\"></i> Acepta Tarjeta</span>\\n            </div>\\n        </div>\\n        <hr>\\n        <div class=\\\"d-flex div-sub-info-comercio\\\">            \\n            <ng-container *ngIf=\\\"!isCerrado; else elseTemplateComercioCerrado\\\">\\n                            \\n                <div *ngIf=\\\"!reserva\\\" class=\\\"d-flex\\\">\\n                    <div>\\n                        <i class=\\\"fa fa-clock-o\\\"></i>\\n                        {{ itemEstablecimiento.tiempo_aprox_entrega | lowercase }}\\n                    </div>\\n                    <div *ngIf=\\\"itemEstablecimiento.c_servicio\\\">\\n                        <i class=\\\"fa fa-bicycle\\\"></i>\\n                        S/.{{ itemEstablecimiento.c_servicio | number: '0.2'}}\\n                    </div>\\n                    <div *ngIf=\\\"itemEstablecimiento.calificacion > 3\\\">\\n                        <i class=\\\"fa fa-star text-warning\\\"></i>\\n                        {{ itemEstablecimiento.calificacion | number:'.0' }}\\n                    </div>\\n                </div>\\n\\n                <div *ngIf=\\\"reserva\\\" class=\\\"d-flex\\\">\\n                    <div>\\n                        <i class=\\\"fa fa-clock-o\\\"></i>\\n                        Atencion hasta las <strong>{{ itemEstablecimiento.hora_fin }}</strong>\\n                    </div>\\n                    <div *ngIf=\\\"itemEstablecimiento.calificacion > 3\\\" class=\\\"ml-2\\\">\\n                        <i class=\\\"fa fa-star text-warning\\\"></i>\\n                        {{ itemEstablecimiento.calificacion | number:'.0' }}\\n                    </div>\\n                </div>\\n\\n\\n            </ng-container>\\n            <ng-template #elseTemplateComercioCerrado>                            \\n                <div *ngIf=\\\"isComercioAceptaPedidoProgramado\\\">\\n                    <span class=\\\"\\\">\\n                        <i class=\\\"fa fa-calendar\\\"></i>\\n                        Pídelo para {{ descripcionDiaProgramado }} desde <strong>las {{ itemEstablecimiento.hora_ini }} </strong>\\n                    </span>\\n                </div>\\n\\n                <!-- si es reserva  muestra la hora que acepta reservas -->\\n                <div  *ngIf=\\\"reserva\\\">\\n                    <span>\\n                        <i class=\\\"fa fa-clock-o\\\"></i>\\n                        Reservas desde {{ horaAceptaReservas }}\\n                    </span>\\n                </div>\\n            </ng-template>\\n            \\n            \\n        </div>\\n    </div>\\n    </mat-card>\\n</div>\";","export default \"<div class=\\\"w-100\\\" (click)=\\\"clickPromo()\\\" [ngClass]=\\\"{'bg-confetti-animated': promo.abierto === 1}\\\">\\n    <!-- <div class=\\\"label-promo\\\">.</div> -->\\n    <div class=\\\"div-promo w-100\\\">        \\n        <div class=\\\"d-flex align-items-center\\\">\\n            <div class=\\\"img-promo\\\">\\n                <img src=\\\"{{iconGifPromo}}\\\" alt=\\\"ico_promo\\\">\\n            </div>\\n            <div class=\\\"info-promo animated fadeIn\\\" *ngIf=\\\"!showInfoPromo\\\">\\n                <p class=\\\"fw-600 fs-15\\\">{{ ItemPromoheader.titulo }}</p>\\n                <p class=\\\"fw-600 fs-12 text-secondary\\\">{{ ItemPromoheader.descripcion }}</p>\\n                <p class=\\\"fw-100 fs-12 text-secondary\\\">Abierto de: {{ ItemPromoBody.h_inicio }} a {{ ItemPromoBody.h_fin }}</p>        \\n                <p class=\\\"fw-100 fs-12 text-secondary\\\">{{ diasActivo }}</p>\\n            </div>\\n            <div class=\\\"info-promo animated\\\" *ngIf=\\\"showInfoPromo\\\" [ngClass]=\\\"{'fadeInDown': showInfoPromo, 'fadeOutDown': !showInfoPromo}\\\">\\n                <p class=\\\"fw-600 fs-13 text-danger\\\">Acceda con un consumo mínimo de S/{{ItemPromoBody.importe_consumo_min}} en otros productos.</p>\\n            </div>\\n        </div>\\n\\n        <ng-container *ngIf=\\\"promo.abierto === 0; else elseTemplateGo\\\">\\n            <img src=\\\"assets/images/002-lock.png\\\" alt=\\\"bloqueado\\\" class=\\\"animated\\\" [ngClass]=\\\"{'wobble': animateBloqueo}\\\">\\n        </ng-container>\\n        <ng-template #elseTemplateGo>\\n            <div *ngIf=\\\"ItemPromoBody.importe_consumo_min\\\" class=\\\"content-importe-minimo animated\\\" [ngClass]=\\\"{'wobble': animateBloqueo}\\\">                \\n                <div class=\\\"importe-minimo\\\">\\n                    <span class=\\\"fs-10\\\">{{simbolo_moneda}}</span>\\n                    <p class=\\\"fs-18 fw-600\\\">\\n                        {{ ItemPromoBody.importe_consumo_min }}\\n                    </p>\\n                </div>\\n                <div class=\\\"text-center\\\">\\n                    <p class=\\\"fs-9 text-secondary\\\">Consumo mínimo</p>\\n                </div>                \\n            </div>\\n        </ng-template>        \\n    </div>\\n</div>\";","export default \"<div class=\\\"border\\\">\\n    <!-- <agm-map appDirectionsMapDirective [showDirection]=\\\"displayDirections\\\"\\n            [origin]=\\\"origin\\\"\\n            [destination]=\\\"destination\\\"\\n\\n            [zoom]=\\\"zoom\\\"\\n            [disableDefaultUI]=\\\"false\\\"\\n            [zoomControl]=\\\"false\\\"> -->\\n    <agm-map  [zoom]=\\\"zoom\\\" [latitude]=\\\"destination.latitude\\\" [longitude]=\\\"destination.longitude\\\">\\n\\n        <agm-marker\\n                [latitude]=\\\"destination.latitude\\\"\\n                [longitude]=\\\"destination.longitude\\\"\\n                [iconUrl]='{\\\"url\\\": \\\"./assets/images/placeholder.png\\\", \\\"scaledSize\\\": {\\\"height\\\": 30, \\\"width\\\": 30}}'\\n                >\\n        </agm-marker>\\n\\n        <agm-marker\\n                [latitude]=\\\"origin.latitude\\\"\\n                [longitude]=\\\"origin.longitude\\\"\\n                [iconUrl]='{\\\"url\\\": \\\"./assets/images/delivery-man.png\\\", \\\"scaledSize\\\": {\\\"height\\\": 25, \\\"width\\\": 25}}'\\n                >\\n        </agm-marker>\\n    </agm-map>\\n</div>\\n\\n\\n\";","export default \"<div>\\n    <div class=\\\"m-header\\\">\\n        Marcelo\\n    </div>\\n    <div>\\n        <ul>\\n            <li>Informacion Personal</li>\\n            <li>Mis Pedidos</li>\\n        </ul>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"text-center\\\">\\n    <img src=\\\"./assets/images/icon-app/robot_piter.gif\\\" alt=\\\"\\\">\\n    <p class=\\\"fw-600 fs-13 pt-1\\\">Hola!, soy Piter, su mozo virtual por voz.</p>    \\n    <div>\\n        <p class=\\\"fw-100 fs-13\\\">Si desea que lo atienda active el microfono que esta en la parte superior.</p>\\n        <div class = \\\"content-btn\\\">\\n            <i class=\\\"fa fa-microphone\\\"></i>\\n        </div>\\n    </div>\\n    <hr>\\n    <button mat-raised-button color=\\\"primary\\\" mat-dialog-close>Ok, Entendido.</button>\\n</div>\\n\";","export default \"<div class=\\\"bg-voz footer-btn-go-lista animated fadeIn\\\"\\n    [ngClass]=\\\"{'fadeInUp': 'isShowTxtTraduce', 'fadeOutDown': !isShowTxtTraduce}\\\">\\n    <div class=\\\"text-center\\\">\\n        <span class=\\\"mr-2\\\" [ngClass]=\\\"{'text-success': isShowCheck, 'fw-600': isShowCheck}\\\">{{ textTranscript }}</span>\\n        <span *ngIf=\\\"isShowCheck\\\"><i class=\\\"fa fa-check text-success\\\"></i></span>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"content-btn\\\" [ngClass]=\\\"{'on': isGrabando}\\\" (click)=\\\"goClickBtn()\\\">\\n    <ng-container *ngIf=\\\"isGrabando; else elseTemplateNoGraba\\\">\\n        <i class=\\\"fa fa-microphone text-danger animated infinite bounceIn\\\" aria-hidden=\\\"true\\\"></i>\\n    </ng-container>\\n    <ng-template #elseTemplateNoGraba>\\n        <i class=\\\"fa fa-microphone-slash\\\" aria-hidden=\\\"true\\\"></i>    \\n    </ng-template>\\n</div>\";","export default \"<!-- <ng-container *ngIf=\\\"listDirecciones.length === 0; else elseTemplate\\\">\\n    <p class=\\\"fw-100 \\\"></p>\\n</ng-container> -->\\n<!-- <ng-template #elseTemplate> -->\\n    <ul>\\n        <li class=\\\"li-item\\\" *ngFor=\\\"let item of listDirecciones\\\" matRipple (click)=\\\"selected(item)\\\">\\n            <div class=\\\"p-3\\\">\\n                <p class=\\\"fw-600 fs-14\\\">{{item.titulo}}</p>\\n                <p class=\\\"fw-100 fs-13\\\">{{item.direccion}}</p>\\n                <p class=\\\"fw-600 fs-12 text-secondary\\\">{{item.referencia}}</p>\\n            </div>\\n        </li>\\n    </ul>\\n<!-- </ng-template> -->\\n\\n\";","export default \"<div class=\\\"p-2\\\">\\n    <div *ngFor=\\\"let item of listCiudadesServicio\\\" class=\\\"pb-2 border-bottom\\\">\\n        <div class=\\\"d-flex justify-content-between p-2 align-items-center\\\" matRipple (click)=\\\"selectedCiudad(item)\\\">\\n            <span> {{ item.ciudad }}</span>\\n            <span> <i class=\\\"fa fa-arrow-right\\\"></i></span>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"<div class=\\\"div-text-nombre\\\">\\n    <p *ngIf=\\\"!isValidNombre\\\" class=\\\"text-danger fw-600\\\">Indique su Nombre.</p>\\n    <mat-form-field class=\\\"w-100\\\">\\n        <input [ngClass]=\\\"{'text-nom-cliente': sizeTextBg}\\\" \\n            autocomplete=\\\"off\\\" \\n            matInput \\n            placeholder=\\\"Nombre\\\" \\n            [(ngModel)]=\\\"nombreCliente\\\"\\n            name=\\\"nombreCliente\\\"\\n            #nomCliente (keyup)=\\\"saveNomCliente(nomCliente.value)\\\">\\n    </mat-form-field>    \\n</div>\";","export default \"<div class=\\\"w-100\\\">\\n    <mat-form-field class=\\\"w-100\\\">\\n        <mat-label>Día:</mat-label>\\n        <mat-select  (selectionChange)=\\\"selectedDay($event)\\\" [(value)]=\\\"selectedIni\\\">\\n          <mat-option *ngFor=\\\"let day of listDia\\\" [value]=\\\"day\\\">\\n              <span class=\\\"text-center w-100\\\">\\n                  {{day.descripcion}}\\n              </span>\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n</div>\\n<div class=\\\"w-100 h-100\\\">\\n    <mat-selection-list>\\n        <mat-list-option *ngFor=\\\"let item of listHora\\\" class=\\\"list-option-time\\\"\\n            [value]=\\\"item\\\"\\n            (click)=\\\"selectHour(item)\\\" [selected]=\\\"item.selected\\\">\\n            <span class=\\\"text-center w-100 tfs-11\\\">\\n                {{item.descripcion}}\\n            </span>\\n        </mat-list-option>\\n      </mat-selection-list>\\n</div>\\n\";","export default \"<div class=\\\"content-op\\\" *ngIf=\\\"listVehiculo\\\">\\n    <div matRipple *ngFor=\\\"let item of listVehiculo\\\"\\n        class=\\\"item-propina\\\" [ngClass]=\\\"{'propina-selected': item.selected}\\\"\\n        (click)=\\\"selectedItem(item)\\\"\\n        >\\n        <img src=\\\"./assets/images/icon-app/{{item.img}}\\\" alt=\\\"\\\">\\n        <p>{{item.descripcion}}</p>\\n    </div>\\n</div>\";","export default \"<router-outlet></router-outlet>\";","export default \"<ng-container *ngIf=\\\"timerLimitService.isPorgressVisible$ | async\\\">\\n    <mat-progress-bar \\n        class=\\\"animated fadeInDown\\\"\\n        mode=\\\"determinate\\\" \\n        color=\\\"accent\\\" \\n        [value]=\\\"timerLimitService.countdown$ | async\\\"    \\n    ></mat-progress-bar>\\n</ng-container>\\n\\n\\n\";","export default \"<mat-toolbar color=\\\"primary\\\">   \\n <mat-toolbar-row [ngClass]=\\\"{'toolbar-busqueda': isBusqueda}\\\">\\n   <ng-container *ngIf=\\\"!isBusqueda\\\"> \\n        \\n     <!-- <i *ngIf=\\\"isClienteDelivery\\\" class=\\\"fa fa-arrow-left pr-2\\\" (click)=\\\"goBackOutEstablecimiento()\\\"></i>   -->\\n    <span class=\\\"nom-comercio\\\">{{ nomSede | titlecase }}</span>\\n    <span class=\\\"example-spacer\\\"></span>\\n\\n    <!-- microfono mozo virtual -->\\n    <!-- <div class=\\\"example-ripple-container fs-15\\\" *ngIf=\\\"isSpeechVoiceAcivado && isCliente && !isClienteDelivery\\\">          -->\\n     <div class=\\\"example-ripple-container fs-15\\\" *ngIf=\\\"isActiveMozoVoz\\\"> \\n         <app-mozo-virtual-on-speech></app-mozo-virtual-on-speech>\\n    </div>\\n\\n    <!-- boton configuracion punto de autopedido -->\\n    <div *ngIf=\\\"!isCliente\\\" class=\\\"example-ripple-container fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColor\\\"\\n     (click)=\\\"configPunto()\\\">\\n          <i title=\\\"Configuracion\\\" class=\\\"fa fa-wrench\\\" aria-hidden=\\\"true\\\"></i>     \\n    </div>\\n    \\n    <div class=\\\"example-ripple-container fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColor\\\"\\n     (click)=\\\"sharedCarta()\\\"\\n     matTooltip=\\\"Enlace Copiado\\\"\\n     >\\n     <i title=\\\"Compartir Carta\\\" class=\\\"fa fa-share-alt\\\" aria-hidden=\\\"true\\\"></i>\\n     \\n    </div>\\n    <div style=\\\"display: contents;\\\">       \\n       <div class=\\\"example-ripple-container fs-15\\\" matRipple \\n         [matRippleColor]=\\\"rippleColorBusqueda\\\"\\n         matRippleCentered=\\\"true\\\"\\n         matRippleUnbounded=\\\"true\\\"\\n         matRippleRadius=\\\"290\\\"\\n         (click)=\\\"activaBusqueda()\\\"\\n         title=\\\"Buscar\\\">\\n            <i title=\\\"Buscar\\\" class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <div class=\\\"example-ripple-container fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColor\\\" title=\\\"Cerrar Sesion\\\" (click)=\\\"cerrarSession()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-close\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <!-- <button class=\\\"noSelect\\\" mat-icon-button title=\\\"Cerrar Sesion\\\"  (click)=\\\"cerrarSession()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i>\\n       </button>       -->\\n    </div>\\n   </ng-container>\\n\\n   <ng-container *ngIf=\\\"isBusqueda\\\">\\n      <div class=\\\"d-flex w-100\\\">\\n       <div class=\\\"example-ripple-container text-success fs-15\\\" style=\\\"margin-left: -15px;\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColorPlomo\\\" title=\\\"Atras\\\" (click)=\\\"activaBusqueda()\\\">\\n            <i title=\\\"Cerrar Sesion\\\" class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n       <input type=\\\"text\\\" class=\\\"text-busqueda w-100\\\" placeholder=\\\"Buscar...\\\" #txtBuscar (keyup)=\\\"buscarCharAhora(txtBuscar.value)\\\" autofocus>\\n       <div [hidden]=\\\"txtBuscar.value === ''\\\" class=\\\"example-ripple-container text-dark fs-15\\\" matRipple matRippleCentered=\\\"true\\\" [matRippleColor]=\\\"rippleColorPlomo\\\"  (click)=\\\"clearTextBuqueda()\\\">\\n            <i title=\\\"Atras\\\" class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i>\\n       </div>\\n      </div>\\n   </ng-container>\\n   \\n    <!-- <button (click)=\\\"cerrarSession()\\\">aa</button> -->\\n </mat-toolbar-row>\\n</mat-toolbar>\\n\";","export default \"<div class=\\\"p-3\\\">\\n    <span class=\\\"fw-100 fs-15\\\">{{msj}}</span>\\n    <hr>\\n    <div class=\\\"d-flex\\\">\\n        <button class=\\\"mr-2\\\" mat-stroked-button mat-dialog-close>Cancelar</button>\\n        <button mat-flat-button color=\\\"warn\\\" [mat-dialog-close]=\\\"true\\\">Si, confirmo.</button>\\n    </div>\\n    <br>\\n</div>\\n\\n\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule, Router } from '@angular/router';\n// import { LayoutMainComponent } from './core/layout-main/layout-main.component';\nimport { AuthGuard } from './shared/guards/auth.guard';\nimport { ClienteProfileGuard } from './shared/guards/cliente-profile-guards';\nimport { LectorCodigoQrComponent } from './pages/inicio/lector-codigo-qr/lector-codigo-qr.component';\nimport { LocationStrategy, PathLocationStrategy } from '@angular/common';\n\n\nconst routes: Routes = [\n  // { path: '', redirectTo: '', pathMatch: 'full' },\n  // {\n  // path: '',\n  // component: LayoutMainComponent,\n  // children: [\n    // {\n    //   path: 'aa',\n    //   loadChildren: () => import('./pages/cliente-profile/cliente-profile.module').then(m => m.ClienteProfileModule),\n    //   // canActivate: [ClienteProfileGuard],\n    //   data: { 'tituloModulo': 'Cliente Profile' }\n    // },\n    // {\n    //   path: 'carta/:nomsede',\n    //   loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n    //   data: { 'tituloModulo': 'Inicio' }\n    // },\n    {\n      path: '',\n      loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n      data: { 'tituloModulo': 'Inicio' }\n    },\n    {\n      path: '#',\n      loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n      data: { 'tituloModulo': 'Inicio' }\n    },\n    {\n      path: 'home',\n      loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n      data: { 'tituloModulo': 'Inicio' }\n    },\n    {\n      path: 'pedido',\n      loadChildren: () => import('./pages/pedido/pedido.module').then(m => m.PedidoModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Pedido' }\n    },\n    {\n      path: 'lanzar-encuesta',\n      loadChildren: () => import('./pages/encuesta/encuesta.module').then(m => m.EncuestaModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Encuesta' }\n    },\n    {\n      path: 'pagar-cuenta',\n      loadChildren: () => import('./pages/pagar-cuenta/pagar-cuenta.module').then(m => m.PagarCuentaModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'Cuenta' }\n    },\n    {\n      path: 'pedido-confirmado',\n      loadChildren: () => import('./pages/pedido-confirmado/pedido-confirmado.module').then(m => m.PedidoConfirmadoModule),\n      canActivate: [AuthGuard],\n      data: { 'tituloModulo': 'pedido-confirmado' }\n    },\n    {\n      path: 'cliente-profile',\n      loadChildren: () => import('./pages/cliente-profile/cliente-profile.module').then(m => m.ClienteProfileModule),\n      canActivate: [ClienteProfileGuard],\n      data: { 'tituloModulo': 'Cliente Profile' }\n    },\n    {\n      path: 'zona-delivery',\n      loadChildren: () => import('./pages/zona-establecimientos/zona-establecimientos.module').then(m => m.ZonaEstablecimientosModule),\n      // canActivate: [ClienteProfileGuard],\n      data: { 'tituloModulo': 'Cliente Zona Delivery' }\n    },\n    {\n      path: 'cash-atm',\n      loadChildren: () => import('./pages/cash/cash.module').then(m => m.CashModule),\n      data: { 'tituloModulo': 'Atm' }\n    },\n    {\n      path: 'reservar-mesa',\n      loadChildren: () => import('./pages/reservar-mesa/reservar-mesa.module').then(m => m.ReservarMesaModule),\n      data: { 'tituloModulo': 'Reserva' }\n    },\n    // {\n    //   path: '*',\n    //   loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),\n    //   data: { 'tituloModulo': 'Inicio' }\n    // },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(\n    routes, {\n      useHash: false,\n      scrollPositionRestoration: 'top',\n      // anchorScrolling: 'enabled',\n      paramsInheritanceStrategy: 'always'\n    }\n    )],\n    providers: [\n      // 22012022 eliminar el #\n      {provide: LocationStrategy, useClass: PathLocationStrategy}\n    ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n\n  constructor(private router: Router) {\n    this.router.errorHandler = (error: any) => {\n        this.router.navigate(['inicio']); // or redirect to default route\n    };\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\";","import { Component } from '@angular/core';\n// import { ActivatedRoute } from '@angular/router';\n// import { App } from '@capacitor/app';\n// import { Auth0Service } from './shared/services/auth0.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  // title = 'pwa-app-pedido';\n\n  suscribe: any;\n  constructor(\n    // private auth: Auth0Service\n    // public plataform: Plataform\n    // private activatedRoute: ActivatedRoute\n  ) {\n\n    // const nomsede = this.activatedRoute.snapshot.params.nomsede;\n    // console.log('parametro url', nomsede); // OUTPUT 1534\n    // this.suscribe = this.plataform.\n\n    // App.addListener('backButton', () => {\n    //   // App.exitApp();\n    //   console.log('boton atras app');\n    // });\n\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\nimport { SharedModule } from './shared/shared.module';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { GlobalErrorHandler } from './shared/services/error.global.handler';\nimport { environment } from '../environments/environment';\nimport { SocketIoModule } from 'ngx-socket-io';\nimport { LocationStrategy, PathLocationStrategy } from '@angular/common';\n// import { DirectionsMapDirectiveDirective } from './shared/directivas/directions-map-directive.directive';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    // DirectionsMapDirectiveDirective,\n    // DebounceClickDirective\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    // SharedModule,\n    // ReactiveFormsModule,\n    FormsModule,\n    AppRoutingModule,\n    CoreModule,\n    SocketIoModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n    // ServiceWorkerModule.register('assets/js/custom-service-worker.js', { enabled: environment.production })\n  ],\n  providers: [\n    // {provide: ErrorHandler, useClass: GlobalErrorHandler},\n    Location, {provide: LocationStrategy, useClass: PathLocationStrategy} // 22012022 eliminar el #\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export default \"agm-map {\\r\\n    height: 300px;\\r\\n}\\r\\n\\r\\n.btn-in-input {\\r\\n    top: 17px;\\r\\n    position: relative;\\r\\n    width: 50px;\\r\\n    height: 30px;\\r\\n    margin-left: 10px;\\r\\n}\\r\\n\\r\\n.input-headline {\\r\\n    font-size: 13px;\\r\\n    line-height: 13px;\\r\\n    /* font-weight: 400; */\\r\\n}\\r\\n\\r\\n#map_canvas {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n#map_canvas .centerMarker {\\r\\n    position: absolute;\\r\\n    /*url of the marker*/\\r\\n    background: url(//maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;\\r\\n    /*center the marker*/\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    z-index: 1;\\r\\n    /*fix offset when needed*/\\r\\n    margin-left: -10px;\\r\\n    margin-top: -34px;\\r\\n    /*size of the image*/\\r\\n    height: 34px;\\r\\n    width: 20px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n\\r\\n.btn-confirmar-dir {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    bottom: 10px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvYWdyZWdhci1kaXJlY2Npb24vYWdyZWdhci1kaXJlY2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLDBFQUEwRTtJQUMxRSxvQkFBb0I7SUFDcEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxVQUFVO0lBQ1YseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLFlBQVk7SUFDWixXQUFXO0lBQ1gsZUFBZTtFQUNqQjs7QUFFRjtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9hZ3JlZ2FyLWRpcmVjY2lvbi9hZ3JlZ2FyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWdtLW1hcCB7XHJcbiAgICBoZWlnaHQ6IDMwMHB4O1xyXG59XHJcblxyXG4uYnRuLWluLWlucHV0IHtcclxuICAgIHRvcDogMTdweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5pbnB1dC1oZWFkbGluZSB7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTNweDtcclxuICAgIC8qIGZvbnQtd2VpZ2h0OiA0MDA7ICovXHJcbn1cclxuXHJcbiNtYXBfY2FudmFzIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuI21hcF9jYW52YXMgLmNlbnRlck1hcmtlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAvKnVybCBvZiB0aGUgbWFya2VyKi9cclxuICAgIGJhY2tncm91bmQ6IHVybCgvL21hcHMuZ3N0YXRpYy5jb20vbWFwZmlsZXMvbWFya2VyczIvbWFya2VyLnBuZykgbm8tcmVwZWF0O1xyXG4gICAgLypjZW50ZXIgdGhlIG1hcmtlciovXHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICAvKmZpeCBvZmZzZXQgd2hlbiBuZWVkZWQqL1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTM0cHg7XHJcbiAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgIGhlaWdodDogMzRweDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbi5idG4tY29uZmlybWFyLWRpciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogMTBweDtcclxufSJdfQ== */\";","import { Component, OnInit, NgZone, ViewChild, ElementRef, Output, EventEmitter, Input, AfterViewInit } from '@angular/core';\nimport { AgmMap, MapsAPILoader } from '@agm/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'app-agregar-direccion',\n  templateUrl: './agregar-direccion.component.html',\n  styleUrls: ['./agregar-direccion.component.css']\n})\nexport class AgregarDireccionComponent implements OnInit, AfterViewInit {\n  // title = 'AGM project';\n  latitude: number;\n  longitude: number;\n  dataMapa: any;\n  zoom: number;\n  address: string;\n  loader = 0;\n  dirInCoordenadas = false;\n\n  isUsCliente = true; // si el usuario es cliente o usuario autorizado\n  countMoveMap = 0;\n\n  @Input() idClienteBuscar: number; // cuando el pedido lo toma el mismo comercio\n\n  private isChangeDireccion = true;\n  private geoCoder;\n\n  registerForm: FormGroup;\n  dataCliente: DeliveryDireccionCliente;\n  checkekFirstOption = true;\n  // dataCliente: any = {\n  //   isvalid: false,\n  //   idcliente: '',\n  //   direccion: '',\n  //   referencia: '',\n  //   latitude: this.latitude,\n  //   longitude: this.longitude,\n  //   titulo: '',\n  //   ciudad: '',\n  //   provincia: '',\n  //   departamento: '',\n  //   pais: '',\n  //   codigo: ''\n  // };\n\n  private dataInfoSede: any;\n\n  @ViewChild('search') public searchElementRef: ElementRef;\n  @ViewChild('registerForm') myForm;\n\n  @Input() isGuardarDireccion = true;\n\n  @Output() dataMaps = new EventEmitter<any>();\n  @Output() saveDireccionOk = new EventEmitter<DeliveryDireccionCliente>();\n\n  isDireccionValid = true; // si esta dentro de la zona de atencion\n\n\n  @ViewChild('search') agmMap;\n\n\n  mapCenter: any = {};\n  map: any;\n\n  _componentRestrictions: any = { country: 'pe' };\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private mapsAPILoader: MapsAPILoader,\n    private ngZone: NgZone,\n    private verifyClientService: VerifyAuthClientService,\n    private crudService: CrudHttpService,\n    private miPedidoService: MipedidoService,\n    private inforTokenService: InfoTockenService,\n    private utilService: UtilitariosService,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit() {\n\n    this.dataCliente = new DeliveryDireccionCliente();\n    this.inforTokenService.getInfoUs();\n    this.isUsCliente = this.inforTokenService.getInfoUs().isCliente;\n\n    // if ( !this.isUsCliente ) {\n    //   this._componentRestrictions.postalCode = this.establecimientoService.get().codigo_postal;\n    // }\n\n    this.loadForm();\n  }\n\n  ngAfterViewInit(): void {\n    this.loadInitComponent();\n  }\n\n  private  loadInitComponent() {\n    // this.setCurrentLocation();\n\n    // console.log('this._componentRestrictions', this._componentRestrictions);\n\n    // load Places Autocomplete\n    this.mapsAPILoader.load().then(() => {\n      this.setCurrentLocation();\n      this.geoCoder = new google.maps.Geocoder;\n\n\n      const autocomplete = new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, {\n        // types: ['address'],\n        componentRestrictions: this._componentRestrictions\n      });\n\n      autocomplete.addListener('place_changed', () => {\n        this.ngZone.run(() => {\n          // get the place result\n          const place: google.maps.places.PlaceResult = autocomplete.getPlace();\n\n          this.countMoveMap = 0;\n          this.dataMapa = place; // para extract data\n          this.address = place.formatted_address;\n\n          // verify result\n          if (place.geometry === undefined || place.geometry === null) {\n            return;\n          }\n\n          // set latitude, longitude and zoom\n          this.latitude = place.geometry.location.lat();\n          this.longitude = place.geometry.location.lng();\n          this.zoom = 17;\n          this.isChangeDireccion = false;\n\n          // 090121 genera error cambiar lat > lng\n          // actualiza marcador pantalla\n          // console.log('liena error');\n          // this.mapCenter.lng = this.latitude;\n          // this.mapCenter.lat = this.longitude;\n\n          this.mapCenter.lat = this.latitude;\n          this.mapCenter.lng = this.longitude;\n\n          setTimeout(() => {\n            this.isChangeDireccion = true;\n          }, 500);\n\n          // this.getAddress(this.latitude , this.longitude);\n        });\n      });\n\n\n    });\n  }\n\n  private setCurrentLocation() {\n\n    // se pide la direccion desde el comercio // registrar pedido\n    if (this.isUsCliente === false ) {\n      this.dataInfoSede = this.miPedidoService.objDatosSede.datossede[0];\n      this.latitude = this.dataInfoSede.latitude;\n      this.longitude = this.dataInfoSede.longitude;\n      this.zoom = 17;\n      return;\n    }\n\n\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.latitude = position.coords.latitude;\n        this.longitude = position.coords.longitude;\n        this.zoom = 17;\n        this.getAddress(this.latitude, this.longitude);\n      });\n    }\n  }\n\n  markerDragEnd($event: any) {\n    this.latitude = $event.coords.lat;\n    this.longitude = $event.coords.lng;\n  }\n\n  getDirCoordenadas(coodenadas: string) {\n    const _coordenadas = coodenadas.split(',');\n    const _lat = parseFloat(_coordenadas[0]);\n    const _lon = parseFloat(_coordenadas[1]);\n    this.latitude = _lat;\n    this.longitude = _lon;\n\n    this.isChangeDireccion = true;\n\n    this.getAddress(_lat, _lon);\n  }\n\n  getAddress(latitude, longitude) {\n\n    // this.isDireccionValid = true;\n    // const palce_id = placeId ? {'placeId': placeId} : { 'location': { lat: latitude, lng: longitude } };\n    this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {\n    // this.geoCoder.geocode(palce_id, (results, status) => {\n\n      if (status === 'OK') {\n        if (results[0]) {\n          this.zoom = 17;\n          this.address = results[0].formatted_address;\n          this.dataMapa = results[0];\n\n\n\n          if ( this.isChangeDireccion ) {\n            this.dataCliente.direccion = this.address;\n          }\n\n          if ( this.dirInCoordenadas ) {\n            this.registerForm.controls['direccion'].patchValue(this.dataCliente.direccion);\n            // this.guardarDireccion(); // para el form valid\n          }\n\n          // si es usuario comercio valida la direccion del cliente\n          if ( !this.isUsCliente ) {\n            const codigo_postal = this.searchTypeMap('locality');\n\n            if ( codigo_postal.toLowerCase().trim() !== this.dataInfoSede.ciudad.toLowerCase().trim() ) {\n              this.isDireccionValid = false;\n              // window.alert('El servicio no esta disponible en esta ubicacion');\n            } else {\n              this.isDireccionValid = true;\n            }\n          }\n        } else {\n          // window.alert('No results found');\n        }\n      } else {\n        // window.alert('Geocoder failed due to: ' + status);\n      }\n    });\n  }\n\n  private loadForm() {\n    this.registerForm = this.formBuilder.group({\n      direccion: ['', Validators.required],\n      referencia: [this.dataCliente.referencia, Validators.required],\n      longitude: [this.longitude, Validators.required],\n      latitude: [this.latitude, Validators.required],\n      titulo: this.dataCliente.titulo || 'Casa'\n    });\n\n\n    this.registerForm.statusChanges.subscribe(res => {\n      if ( res === 'VALID' ) {\n        this.guardarDireccion();\n      }\n    });\n  }\n\n\n  checkDireccion(value: string) {\n    if ( value.trim() === '' ) {\n      this.longitude = null;\n      this.latitude = null;\n    }\n  }\n\n  guardarDireccion() {\n\n    if (!this.isDireccionValid) {\n      // window.alert('El servicio no esta disponible en esta ubicacion');\n      return ;\n    }\n\n    // this.latitude = this.mapCenter.lat;\n    // this.longitude = this.mapCenter.lng;\n\n    // this.loader = 1;\n    this.dataCliente.direccion = this.address;\n    this.dataCliente.idcliente = this.isUsCliente ? this.verifyClientService.getDataClient().idcliente : this.idClienteBuscar;\n    this.dataCliente.longitude = this.mapCenter.lng;\n    this.dataCliente.latitude = this.mapCenter.lat;\n    this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);\n    this.dataCliente.ciudad = this.searchTypeMap('locality');\n    this.dataCliente.provincia = this.searchTypeMap('administrative_area_level_2');\n    this.dataCliente.departamento = this.searchTypeMap('administrative_area_level_1');\n    this.dataCliente.pais = this.searchTypeMap('country');\n    this.dataCliente.codigo = this.searchTypeMap('postal_code');\n\n\n  }\n\n  saveDireccion() {\n    this.loader = 1;\n    this.dataCliente.titulo = this.dataCliente.titulo || 'Casa';\n    if ( !this.isGuardarDireccion ) { // si no guarda retorna solo la direccion //\n      this.loader = 2;\n      this.dataCliente.idcliente_pwa_direccion = null;\n      this.saveDireccionOk.emit(this.dataCliente);\n      return;\n    }\n\n    // this.mapCenter.lat, this.mapCenter.lng\n\n\n    if ( this.isUsCliente && this.countMoveMap > 1) {\n      this.getAddress(this.mapCenter.lat, this.mapCenter.lng);\n\n      setTimeout(() => {\n        this.guardarDireccion();\n        this.setBdDireccion();\n      }, 1500);\n\n    } else {\n      this.setBdDireccion();\n    }\n\n    // actualiza las coordenadas segun position del marcador\n    // this.dataCliente.latitude = this.mapCenter.lat;\n    // this.dataCliente.longitude = this.mapCenter.lng;\n\n  }\n\n  private setBdDireccion() {\n\n    this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);\n    this.crudService.postFree(this.dataCliente, 'cliente', 'new-direccion', false)\n      .subscribe((res: any) => {\n        setTimeout(() => {\n          this.loader = 2;\n          setTimeout(() => {\n            this.dataCliente.idcliente_pwa_direccion = res.data[0].idcliente_pwa_direccion;\n            this.saveDireccionOk.emit(this.dataCliente);\n            this.countMoveMap = 1;\n          }, 500);\n        }, 1000);\n      });\n  }\n\n  private searchTypeMap(search: string): string {\n    let rpt = '';\n    this.dataMapa.address_components.map((x: any) => {\n      x.types.map( (t: any) => {\n        if (t === search) {\n          rpt = x.long_name;\n          return rpt;\n        }\n      });\n    });\n    return rpt;\n  }\n\n\n\n  protected mapReady(map) {\n    this.map = map;\n  }\n\n  public markerClicked = (markerObj) => {\n    if (this.map) {\n      this.map.setCenter({ lat: markerObj.latitude, lng: markerObj.longitude });\n    }\n  }\n\n  idleMap() {\n    this.countMoveMap++;\n  }\n\n  centerChange(event: any) {\n    if (event) {\n      this.mapCenter.lat = event.lat;\n      this.mapCenter.lng = event.lng;\n    }\n  }\n\n  clickmap() {\n    this.isChangeDireccion = true;\n  }\n\n  confirmarDireccion() {\n    this.countMoveMap = 1;\n    this.getAddress(this.mapCenter.lat, this.mapCenter.lng);\n  }\n\n  recargarPage() {\n    window.location.reload();\n  }\n\n}\n","export default \".text-area-nota {\\r\\n    width: 100%;\\r\\n    border-radius: 8px;\\r\\n    border: 1px solid lightgrey;\\r\\n    padding: 5px;\\r\\n    font-size: 14px;\\r\\n    background: white;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jYWphLXRleHRvL2NvbXAtY2FqYS10ZXh0by5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQiwyQkFBMkI7SUFDM0IsWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLWNhamEtdGV4dG8vY29tcC1jYWphLXRleHRvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1hcmVhLW5vdGEge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufSJdfQ== */\";","import { Component, OnInit, EventEmitter, Output, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-comp-caja-texto',\n  templateUrl: './comp-caja-texto.component.html',\n  styleUrls: ['./comp-caja-texto.component.css']\n})\nexport class CompCajaTextoComponent implements OnInit {\n  @Output() textChanged = new EventEmitter();\n  @Input() placeholder_txt: string;\n\n  label_txt = 'Buscamos en la ciudad para llevarselo lo que necesecita';\n  // placeholder_txt = 'Si cabe en la mochila se lo llevamos';\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  changeText(val: string) {\n    this.textChanged.emit(val);\n  }\n\n\n}\n","export default \".rating {\\r\\n    outline: none;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jYWxpZmljYWNpb24vY29tcC1jYWxpZmljYWNpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7RUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtY2FsaWZpY2FjaW9uL2NvbXAtY2FsaWZpY2FjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmF0aW5nIHtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgfSJdfQ== */\";","import { Component, OnInit, Input } from '@angular/core';\nimport { DatosCalificadoModel } from 'src/app/modelos/datos.calificado.model';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\n\n@Component({\n  selector: 'app-comp-calificacion',\n  templateUrl: './comp-calificacion.component.html',\n  styleUrls: ['./comp-calificacion.component.css']\n})\nexport class CompCalificacionComponent implements OnInit {\n  countFin = 3;\n  private intervalConteo = null;\n  @Input() dataCalificado: DatosCalificadoModel;\n\n  comentario = '';\n\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  ngOnInit() {\n    this.dataCalificado.calificacion = 0;\n  }\n\n  onRatingChange($event: any) {\n    this.dataCalificado.calificacion =  $event.rating;\n    if (this.dataCalificado.showTxtComentario) {return; }\n    this.goAgradecimiento();\n  }\n\n  goAgradecimiento() {\n    if ( this.dataCalificado.showMsjTankyou ) {\n      this.countFin = 2;\n      this.cuentaRegresivaCalificacion();\n    }\n  }\n\n  // despues que califica cuenta 2 segundo para guardar\n  private cuentaRegresivaCalificacion() {\n    if ( this.countFin <= 0 ) {\n      this.intervalConteo = null;\n      this.guardarCalificacion();\n    } else {\n      this.conteoFinEncuesta();\n    }\n  }\n\n  private conteoFinEncuesta(): void {\n    this.intervalConteo =  setTimeout(() => {\n      this.countFin --;\n      this.cuentaRegresivaCalificacion();\n    }, 1000);\n  }\n\n  private guardarCalificacion() {\n    this.dataCalificado.comentario = this.comentario;\n\n    const _data = {\n      dataCalificacion : this.dataCalificado\n    };\n\n    this.crudService.postFree(_data, 'delivery', 'calificar-servicio', false)\n      .subscribe(res => console.log(res));\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtY2hlY2svY29tcC1jaGVjay5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-comp-check',\n  templateUrl: './comp-check.component.html',\n  styleUrls: ['./comp-check.component.css']\n})\nexport class CompCheckComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \".btn-postion {\\r\\n    position: relative;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.btn-circle-add {    \\r\\n    padding: 5px;\\r\\n    border: 1px solid;\\r\\n    border-radius: 50%;\\r\\n    font-size: 10px;\\r\\n    width: 26px;\\r\\n    text-align: center;    \\r\\n    color: #3f51b5;\\r\\n}\\r\\n\\r\\n.btn-circle-add.cantidad {\\r\\n    background: #3f51b5;\\r\\n    color: white;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.btn-detalle {\\r\\n    display: grid;\\r\\n    width: 89px;\\r\\n    background: #3f51b5;\\r\\n    color: white;\\r\\n    grid-template-columns: auto 23px auto;\\r\\n    text-align: center;\\r\\n    padding: 2px 5px;\\r\\n    border-radius: 5px;\\r\\n    float: right;\\r\\n    /* font-weight: 600; */\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jdHJsLWFkZC1mYXN0L2NvbXAtY3RybC1hZGQtZmFzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1oscUNBQXFDO0lBQ3JDLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixzQkFBc0I7QUFDMUIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLWN0cmwtYWRkLWZhc3QvY29tcC1jdHJsLWFkZC1mYXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuLXBvc3Rpb24ge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG4uYnRuLWNpcmNsZS1hZGQgeyAgICBcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgd2lkdGg6IDI2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICAgIFxyXG4gICAgY29sb3I6ICMzZjUxYjU7XHJcbn1cclxuXHJcbi5idG4tY2lyY2xlLWFkZC5jYW50aWRhZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjM2Y1MWI1O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmJ0bi1kZXRhbGxlIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICB3aWR0aDogODlweDtcclxuICAgIGJhY2tncm91bmQ6ICMzZjUxYjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMjNweCBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMnB4IDVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIC8qIGZvbnQtd2VpZ2h0OiA2MDA7ICovXHJcbn0iXX0= */\";","import { Component, OnInit, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\n\n\n@Component({\n  selector: 'app-comp-ctrl-add-fast',\n  templateUrl: './comp-ctrl-add-fast.component.html',\n  styleUrls: ['./comp-ctrl-add-fast.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CompCtrlAddFastComponent implements OnInit {\n\n  private _objItem: any;\n  public cantidad = 0;\n  public showDetalle = false;\n  public showAnimateStop = false;\n  public isShowVisible = true;\n\n  private timerViewAfter = 0; // para volver la vista orginal\n  private countSegundos = 10;\n  private intervalShowaAfter: any;\n  private isSuma = true;\n\n\n\n  @Input() stopAdd: boolean; // si se detiene la adicion\n  @Input() limitAdd: number; // si se detiene la adicion\n  @Input() zoom: number; // tamaño del control\n  @Input() comprimir: boolean; // tamaño del control\n  @Input() quitarFadeUp: boolean; // tamaño del control\n  @Output() objResponse = new EventEmitter<any>();\n  @Input() cantidad_show: number;\n\n\n\n  @Input()\n  set objItem(val: any) {\n    // console.log('val objItem =============00', val);\n    this._objItem = val;\n    this.cantidad = this._objItem.cantidad_selected ? this._objItem.cantidad_selected : 0;\n    // this.cantidad = this.cantidad === 0 ? this._objItem.cantidad_seleccionada ? this._objItem.cantidad_seleccionada : 0 : this.cantidad;\n    this.cantidad = this._objItem.cantidad_seleccionada ? this._objItem.cantidad_seleccionada : this.cantidad;\n    // console.log('this._objItem A', this._objItem);\n\n    this.cantidad_show = this.cantidad;\n  }\n\n\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.zoom = this.zoom ? this.zoom : 1;\n    this.showViewComprimir();\n  }\n\n  // ngDoCheck(){\n  //   console.log(‘count component CD runs’);\n  // }\n\n  showCantDetalle() {\n    this.isSuma = true;\n    if ( this.stopAdd && !this.showDetalle && this.cantidad !== 0) {\n      this.showDetalle = true;\n      this.timerViewAfter = this.countSegundos;\n      this.timerShowView();\n      return;\n    }\n\n    if ( this.stopAdd ) {\n      this.showAnimateStop = true;\n      setTimeout(() => {\n        this.showAnimateStop = false;\n      }, 200);\n\n      return;\n    }\n    this.add();\n    this.showDetalle = true;\n\n    this.timerViewAfter = this.countSegundos;\n    this.timerShowView();\n\n  }\n\n  private timerShowView() {\n    this.intervalShowaAfter = setInterval(() => {\n      // console.log('this.timerViewAfter', this.timerViewAfter);\n      this.timerViewAfter--;\n      if ( this.timerViewAfter <= 0 ) {\n        this.timerViewAfter = 0;\n        this.showDetalle = this.comprimir === false ? true : false; // si manda no comprimir\n        clearInterval(this.intervalShowaAfter);\n      }\n    }, 1000);\n  }\n\n  add() {\n    // console.log('this.limitAdd', this.limitAdd);\n    this.limitAdd = this.limitAdd ? this.limitAdd : NaN;\n    this.cantidad = this.cantidad_show !== this.cantidad ? this.cantidad_show : this.cantidad;\n\n    this.timerViewAfter = this.countSegundos;\n    this.isSuma = true;\n\n    if ( !isNaN(this.limitAdd) ) {\n      this.stopAdd = this.limitAdd <= 0;\n    }\n\n    if ( this.stopAdd ) {\n      this.showAnimateStop = true;\n      setTimeout(() => {\n        this.showAnimateStop = false;\n      }, 200);\n      return; }\n    this.cantidad++;\n    this.emitResponse();\n  }\n\n  menos() {\n    console.log('menosss');\n    this.cantidad = this.cantidad_show !== this.cantidad ? this.cantidad_show : this.cantidad;\n    this.timerViewAfter = this.countSegundos;\n    this.cantidad--;\n    this.isSuma = false;\n\n    if ( this.cantidad < 0) {this.showAnimateStop = true; return; }\n    this.showAnimateStop = false;\n\n    if ( this.cantidad === 0) {\n      // this.showDetalle = false;\n      this.showViewComprimir();\n    }\n\n    this.emitResponse();\n  }\n\n  private showViewComprimir() {\n    this.showDetalle = this.comprimir === false ? true : false;\n  }\n\n\n  emitResponse() {\n    if ( !this._objItem ) { this._objItem = {}; }\n    this._objItem.cantidad_selected = this.cantidad;\n    this._objItem.cantidad_seleccionada = this.cantidad; // add por list item pedido\n    this.cantidad_show = this.cantidad;\n    this._objItem.isSuma_selected = this.isSuma;\n    this.objResponse.emit(this._objItem);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtZGF0b3MtcmVzZXJ2YS9jb21wLWRhdG9zLXJlc2VydmEuY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { GetFormDatosCliente } from 'src/app/modelos/GetFormDatosCliente';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { ParametrosCompHora } from 'src/app/modelos/parametrosCompHora';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\n\n@Component({\n  selector: 'app-comp-datos-reserva',\n  templateUrl: './comp-datos-reserva.component.html',\n  styleUrls: ['./comp-datos-reserva.component.css']\n})\nexport class CompDatosReservaComponent implements OnInit {\n\n\n  @Output() public dataReserva = new EventEmitter<any>();\n  @Output() isReady = new EventEmitter<boolean>();\n\n  frmConfirma: any = {};\n  opcionesFrmCliente: GetFormDatosCliente = new GetFormDatosCliente;\n  compHoraParams: ParametrosCompHora = new ParametrosCompHora;\n  isFormValid = false;\n\n  countTotalItemsPedido = 0;\n\n  infoEstablecimineto: DeliveryEstablecimiento;\n\n  constructor(\n    private infoToken: InfoTockenService,\n    private miPedidoService: MipedidoService,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit(): void {\n    this.infoEstablecimineto = this.establecimientoService.get();\n\n    this.opcionesFrmCliente.showDirreccionA = false; // en realidad\n    this.opcionesFrmCliente.telefono = true;\n    this.opcionesFrmCliente.calDistanciaCentro = false;\n    this.opcionesFrmCliente.tituloDirA = '';\n\n    // componente hora\n    this.compHoraParams.titulo = 'Hora de llegada';\n    this.compHoraParams.tituloHora = 'Indique aqui la hora';\n    this.compHoraParams.addMin = 30;\n    this.compHoraParams.hora_min = this.infoEstablecimineto.hora_ini;\n    this.compHoraParams.hora_max = this.infoEstablecimineto.hora_fin;\n    this.compHoraParams.showHoraMinMax = true;\n\n    this.isFormValid = !!this.infoToken.infoUsToken.telefono;\n\n    this.frmConfirma = {\n      nombre_reserva: this.infoToken.infoUsToken.nombres,\n      empresa: '',\n      referencia: '',\n      telefono: this.infoToken.infoUsToken.telefono,\n      hora_reserva: '',\n      num_personas: 0,\n      reserva: true,\n      solo_llevar: false,\n      delivery: false\n    };\n\n    this.miPedidoService.countItemsObserve$.subscribe((res) => {\n      this.countTotalItemsPedido = res;\n\n      this.frmConfirma.num_personas = this.countTotalItemsPedido;\n      this.emitData();\n    });\n\n  }\n\n  frmClienteResponse(e: any) {\n    this.frmConfirma.telefono = e.telefono;\n    this.isFormValid = !!e.telefono;\n\n    this.emitData();\n  }\n\n  setHora(hourSelected: string) {\n    this.isFormValid = hourSelected !== '';\n    this.frmConfirma.hora_reserva = hourSelected;\n    this.emitData();\n  }\n\n  emitData() {\n    const dataEmit = {\n      formIsValid: this.isFormValid,\n      formData: this.frmConfirma,\n      fromReserva: true\n    };\n\n    this.dataReserva.emit(dataEmit);\n\n    this.isReady.emit(this.isFormValid);\n  }\n\n\n}\n","export default \"p {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.div-content {\\r\\n    width: 100%;\\r\\n    max-width: 500px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.div-enviado {\\r\\n    text-align: center;\\r\\n    height: 80vh;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n\\r\\n}\\r\\n\\r\\n.div-listo {\\r\\n    background: white;\\r\\n    padding: 20px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtZGF0b3MtY2xpZW50ZS9jb21wLWdldC1kYXRvcy1jbGllbnRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1Qjs7QUFFM0I7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtZ2V0LWRhdG9zLWNsaWVudGUvY29tcC1nZXQtZGF0b3MtY2xpZW50ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbi5kaXYtY29udGVudCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLmRpdi1lbnZpYWRvIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGhlaWdodDogODB2aDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG59XHJcblxyXG4uZGl2LWxpc3RvIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufSJdfQ== */\";","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\nimport { GetFormDatosCliente } from 'src/app/modelos/GetFormDatosCliente';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { DialogSelectDireccionComponent } from '../dialog-select-direccion/dialog-select-direccion.component';\nimport { DialogTiempoEntregaComponent } from '../dialog-tiempo-entrega/dialog-tiempo-entrega.component';\nimport { DialogMetodoPagoComponent } from '../dialog-metodo-pago/dialog-metodo-pago.component';\nimport { DialogVerificarTelefonoComponent } from '../dialog-verificar-telefono/dialog-verificar-telefono.component';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { SedeDeliveryService } from 'src/app/shared/services/sede-delivery.service';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\n\n\n@Component({\n  selector: 'app-comp-get-datos-cliente',\n  templateUrl: './comp-get-datos-cliente.component.html',\n  styleUrls: ['./comp-get-datos-cliente.component.css']\n})\nexport class CompGetDatosClienteComponent implements OnInit {\n\n  @Input() opciones: GetFormDatosCliente;\n  @Output() frmResponse = new EventEmitter<any>();\n\n\n  direccionA: DeliveryDireccionCliente;\n  direccionB: DeliveryDireccionCliente;\n  direccionClienteIni: DeliveryDireccionCliente;\n  infoToken: UsuarioTokenModel;\n  metodoPagoSelected: MetodoPagoModel;\n  tiempoEntregaSelected: TiempoEntregaModel;\n  laPlazaDelivery: DeliveryEstablecimiento;\n  lasCiudad = '';\n\n  isTiempoEntregaValid = true;\n\n  msjErrorDir = '';\n  systemOS = '';\n  datosFormUno: any;\n\n  isFormValid = false;\n  isFormValidDos = false;\n  isCalculandoDistancia = false;\n\n  titleDirA = 'De dónde lo recogemos?';\n  titleDirB = 'A dónde lo llevamos?';\n\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private dialogDireccion: MatDialog,\n    private dialogTelefono: MatDialog,\n    private dialogTiempoEntrega: MatDialog,\n    private dialog: MatDialog,\n    private utilService: UtilitariosService,\n    private calcDistanceService: CalcDistanciaService,\n    private crudService: CrudHttpService,\n    private plazaDelivery: SedeDeliveryService,\n  ) { }\n\n  ngOnInit(): void {\n    this.systemOS = this.utilService.getOS();\n    this.msjErrorDir = '';\n\n    this.infoToken = this.infoTokenService.getInfoUs();\n\n    this.direccionClienteIni = new DeliveryDireccionCliente();\n    this.direccionClienteIni.titulo = 'Seleccione una direccion *';\n    this.direccionClienteIni.direccion = '';\n    this.direccionClienteIni.referencia = '';\n\n    this.datosFormUno = {};\n    this.datosFormUno.descripcion_paquete = '';\n    this.datosFormUno.telefono = this.infoToken.telefono;\n\n    this.direccionA = this.direccionClienteIni;\n    this.direccionB = this.direccionClienteIni;\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';\n    this.tiempoEntregaSelected.value = '';\n    this.tiempoEntregaSelected.modificado = false;\n    this.tiempoEntregaSelected.valid = false;\n    this.isTiempoEntregaValid = false;\n\n    this.titleDirA = this.opciones.tituloDirA;\n    this.titleDirB = this.opciones.tituloDirB;\n\n    if (this.opciones.metodoPago) {\n      this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(this.opciones.metodoPagoAceptaTarjeta);\n    }\n\n  }\n\n  openDialogDireccion(op: number) {\n    const _DdialogConfig = new MatDialogConfig();\n    _DdialogConfig.disableClose = true;\n    _DdialogConfig.hasBackdrop = true;\n    _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],\n    _DdialogConfig.data = {\n      isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false, // no guarda sole devuelve los datos de la direccion\n      isFromComercio: true, // para empezar en la posicion del comercio\n      // idClienteBuscar: this.infoTokenService.infoUsToken.idcliente // this.resData.idcliente\n    };\n    // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';\n    const dialogRef = this.dialogDireccion.open(DialogSelectDireccionComponent, _DdialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if ( !data ) { return; }\n        this.msjErrorDir = '';\n        if ( op === 0 ) { // dedonde\n          this.direccionA = <DeliveryDireccionCliente>data;\n        } else { // adonde\n          this.direccionB = <DeliveryDireccionCliente>data;\n        }\n        // this.getDatosSede();\n        this.getDatosCiudadSeleted();\n        this.validFormDos();\n      }\n    );\n  }\n\n  openDialogTiempoEntrega(): void {\n    const _dialogConfig = new MatDialogConfig();\n    // _dialogConfig.width = '480px';\n    // _dialogConfig.disableClose = false;\n    // _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogTpC = this.dialogTiempoEntrega.open(DialogTiempoEntregaComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TiempoEntregaModel) => {\n        if ( result ) {\n          this.infoTokenService.setTiempoEntrega(result);\n          this.tiempoEntregaSelected = result;\n          this.isTiempoEntregaValid = true;\n          // this.verificarMontoMinimo();\n        }\n      });\n  }\n\n  openDialogMetodoPago(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      importeTotalPagar: 3\n    };\n\n    const dialogLoading = this.dialog.open(DialogMetodoPagoComponent, _dialogConfig);\n      dialogLoading.afterClosed().subscribe((result: MetodoPagoModel) => {\n        this.metodoPagoSelected = result;\n        this.validFormDos();\n      });\n  }\n\n  openDialogsendSMS() {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = 'my-full-screen-dialog';\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.data = {\n      idcliente: this.infoTokenService.infoUsToken.idcliente,\n      numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'\n    };\n\n    const dialogRefTelefono = this.dialogTelefono.open(DialogVerificarTelefonoComponent, _dialogConfig);\n\n    dialogRefTelefono.afterClosed().subscribe((result: any) => {\n      if ( result.verificado ) {\n        this.infoToken.telefono = result.numberphone;\n        this.infoTokenService.setTelefono(result.numberphone);\n        this.datosFormUno.telefono = this.infoToken.telefono;\n        this.validFormDos();\n        // this.verifyClientService.setTelefono(result.numberphone);\n      }\n    });\n\n  }\n\n  private validFormDos() {\n    this.isFormValidDos = this.isFormValid;\n    this.isFormValidDos = this.opciones.showDirreccionA ? !this.direccionA.ciudad ? false : true : this.isFormValidDos;\n    this.isFormValidDos = this.opciones.showDirreccionB ? !this.direccionB.ciudad ? false : this.isFormValidDos : true;\n    this.isFormValidDos = this.opciones.metodoPago ? !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos : true;\n    this.isFormValidDos = this.opciones.telefono ? this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false : true;\n\n    const res = {\n      success: this.isFormValidDos,\n      direccionA: this.direccionA,\n      direccionB: this.direccionB,\n      metodoPago: this.metodoPagoSelected,\n      telefono: this.datosFormUno.telefono,\n      ladingCostoServicio: this.isCalculandoDistancia,\n      costosPlaza: this.laPlazaDelivery,\n      cliente: this.infoToken,\n      systemOS: this.systemOS\n    };\n\n    this.frmResponse.emit(res);\n\n  }\n\n  getDatosCiudadSeleted() {\n    this.isCalculandoDistancia = true;\n    this.isFormValid = false;\n\n    if ( this.lasCiudad !== '' && this.lasCiudad === this.direccionA.ciudad ) {\n      this.calcularDistanciaEntregaComp();\n      return;\n    }\n\n    this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionA.ciudad)\n    .subscribe((res: any) => {\n      this.laPlazaDelivery = res;\n      this.lasCiudad = this.laPlazaDelivery.ciudad;\n      this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;\n      this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;\n\n      this.calcularDistanciaEntregaComp();\n    });\n  }\n\n  calcularDistanciaEntregaComp() {\n\n    let paseCalcular = false;\n    paseCalcular = this.opciones.calDistanciaAB ? true : false;\n    paseCalcular = this.opciones.calDistanciaCentro ? true : paseCalcular;\n    paseCalcular = this.opciones.calDistanciaFrom ? true : paseCalcular;\n\n    if ( !paseCalcular ) { this.isCalculandoDistancia = false; this.isFormValid = true; this.validFormDos(); return; }\n\n    const ciudadA = this.direccionA.ciudad;\n    let ciudadB = this.direccionB.ciudad;\n\n    if (this.opciones.calDistanciaCentro) {\n      this.direccionB.latitude = this.laPlazaDelivery.latitude;\n      this.direccionB.longitude = this.laPlazaDelivery.longitude;\n      ciudadB = this.laPlazaDelivery.ciudad;\n    }\n\n    if ( !ciudadA || !ciudadB ) { this.isCalculandoDistancia = false; this.isFormValid = false; this.validFormDos(); return; }\n\n    if ( ciudadA.toLocaleLowerCase() !== ciudadB.toLocaleLowerCase() ) {\n      // el servicio no esta disponible en esta ubicacion\n      this.direccionA.codigo = null;\n      this.msjErrorDir = 'Servicio no disponible en esta dirección.';\n\n      this.isCalculandoDistancia = false; this.isFormValid = false;\n      this.validFormDos();\n      return;\n    }\n\n    const _dirB = this.laPlazaDelivery;\n    // pasamos las coordenadas de la direccion b\n    _dirB.latitude = this.direccionB.latitude;\n    _dirB.longitude = this.direccionB.longitude;\n    this.isCalculandoDistancia = true;\n\n    this.calcDistanceService.calculateRoute(this.direccionA, _dirB, false);\n    // .subscribe((res: any) => {\n      setTimeout(() => {\n        this.laPlazaDelivery = _dirB;\n        this.isCalculandoDistancia = false;\n        // this.calcCostoServicio();\n        // console.log('this.laPlazaDelivery', this.laPlazaDelivery);\n        this.isCalculandoDistancia = false; this.isFormValid = true;\n        this.validFormDos();\n      }, 1600);\n\n    // });\n  }\n\n}\n","export default \"p {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.DivHora {\\r\\n    max-width: 60px;\\r\\n}\\r\\n\\r\\n.top-1 {\\r\\n    top: -1px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtaG9yYS9jb21wLWdldC1ob3JhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksU0FBUztBQUNiIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtaG9yYS9jb21wLWdldC1ob3JhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLkRpdkhvcmEge1xyXG4gICAgbWF4LXdpZHRoOiA2MHB4O1xyXG59XHJcblxyXG4udG9wLTEge1xyXG4gICAgdG9wOiAtMXB4O1xyXG59Il19 */\";","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { ParametrosCompHora } from 'src/app/modelos/parametrosCompHora';\n\n@Component({\n  selector: 'app-comp-get-hora',\n  templateUrl: './comp-get-hora.component.html',\n  styleUrls: ['./comp-get-hora.component.css']\n})\nexport class CompGetHoraComponent implements OnInit {\n\n  @Input() parametros: ParametrosCompHora;\n  @Output() changeHora = new EventEmitter<string>();\n\n  isHourValid = false;\n  setHoraControl = {\n    h: 0,\n    m: 0,\n    ap: 'AM'\n  };\n\n  hora: Date = new Date();\n\n  hora_show = '';\n  hora_min = '00:00 am';\n  hora_max = '23:59 pm';\n  selectedAP = 'AM';\n\n  constructor(\n  ) { }\n\n  ngOnInit(): void {\n    // console.log('this.parametros', this.parametros);\n    this.hora_min = this.getHoraShow(0);\n    this.hora_show = this.getHoraShow(this.parametros.addMin);\n\n    if ( this.parametros.showHoraMinMax ) {\n      this.hora_min = this.parametros.hora_min;\n      // this.hora_max = this.getAmPm(this.parametros.hora_max);\n    }\n\n    // this.hora_show = this.parametros.showHoraIni ? this.hora_show : '';\n    this.setearHoraControl(this.hora_show);\n    this.responseHora();\n\n    // console.log('this.hora_min', this.hora_min);\n    // console.log('this.hora_max', this.hora_max);\n    // console.log('this.hora_show', this.hora_show);\n\n  }\n\n  private getHoraShow(addHours: number) {\n    this.hora.setMinutes(this.hora.getHours() + addHours);\n    const _horaNow = this.hora.getHours();\n    const _pmAm = _horaNow >= 12 ? 'PM' : 'AM';\n    return `${this.hora.getHours()}:${this.hora.getMinutes()} ${_pmAm}`;\n  }\n\n  setearHoraControl(_hora: any) {\n    const _arrHora = _hora.split(':');\n    const ap = _arrHora[1].split(' ');\n    this.setHoraControl.h = _arrHora[0];\n    this.setHoraControl.m = ap[0];\n    this.setHoraControl.ap = ap[1];\n  }\n\n  private getAmPm(_hora: string) {\n    const hora = parseInt(_hora.split(':')[0], 0);\n    const _pmAm = hora >= 12 ? 'PM' : 'AM';\n    return `${_hora} ${_pmAm}`;\n  }\n\n  responseHora() {\n    console.log('aa');\n    let _horaGet = this.setHoraControl.h;\n    if ( this.setHoraControl.ap.toLocaleLowerCase() === 'pm' ) {\n      _horaGet = _horaGet < 12 ? 12 + _horaGet : _horaGet;\n      // this.setHoraControl.h = _horaGet;\n    }\n\n    let horaSelected = `${this.setHoraControl.h}:${this.setHoraControl.m} ${this.setHoraControl.ap}`;\n    const horaSelectedValid = `${_horaGet}:${this.setHoraControl.m} ${this.setHoraControl.ap}`;\n    this.isHourValid =  this.getHourSelectedIsValid(horaSelectedValid);\n    horaSelected = this.isHourValid ? horaSelected : '';\n    this.changeHora.emit(horaSelected);\n  }\n\n  changeAm(e: any) {\n    // console.log('change envet hora', e);\n    // this.getHoraPmFormat12(e);\n  }\n\n  // si la hora del control el mayot que 11 se pone pm\n  private getHoraPmFormat12(_hora: string) {\n    const hora = _hora.split(':')[0];\n    this.hora_show = `${hora}:00 PM`;\n\n  }\n\n  private getHourSelectedIsValid(hSelected: string): boolean {\n    if ( hSelected === '' ) { return false; }\n    const h1 = parseInt(this.parametros.hora_max.split(':')[0], 0);\n    const h2 = parseInt(hSelected.split(':')[0], 0);\n    return h1 > h2;\n  }\n\n}\n","export default \".div-content-list {\\r\\n    background: #eeeeee;\\r\\n}\\r\\n\\r\\n.div-tp-consumo {\\r\\n    /* padding: 5px; */\\r\\n    border-radius: 5px;\\r\\n    background: white;\\r\\n    box-shadow: 0px 0px 5px 0px rgb(193 193 193);\\r\\n}\\r\\n\\r\\n.titulo-tpc {\\r\\n    background: #bdbdbd;\\r\\n    padding: 5px;    \\r\\n    border-radius: 5px 5px 0px 0px;\\r\\n}\\r\\n\\r\\n.titulo-seccion {\\r\\n    background: #d1d1d1;\\r\\n    padding: 5px;\\r\\n}\\r\\n\\r\\n.div-border-titulo {\\r\\n    border-radius: 5px 5px 0px 0px;\\r\\n}\\r\\n\\r\\n.div-seccion {    \\r\\n    padding: 5px;\\r\\n    border-bottom: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.div-seccion .item {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: justify;\\r\\n    -webkit-justify-content: space-between;\\r\\n            justify-content: space-between;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n}\\r\\n\\r\\n.sub-item {\\r\\n    padding: 5px;\\r\\n    background: antiquewhite;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n/* .seccion-item {\\r\\n    padding: 5px;\\r\\n} */\\r\\n\\r\\n.seccion-item p {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.ul-total {\\r\\n    padding: 5px;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.ul-total li {\\r\\n    border-bottom: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.ul-total li:last-child{\\r\\n    font-size: 20px;\\r\\n    font-weight: 800;\\r\\n    border-bottom: 0px;\\r\\n}\\r\\n\\r\\n.img-ico-entrega {\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n/* .div-control-add-fast {\\r\\n    position: absolute;\\r\\n    right: 20px;\\r\\n    top: 5px;\\r\\n} */\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1saXN0LWl0ZW0tcGVkaWRvLWNsaWVudGUvY29tcC1saXN0LWl0ZW0tcGVkaWRvLWNsaWVudGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLDRDQUE0QztBQUNoRDs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYix5QkFBOEI7SUFBOUIsc0NBQThCO1lBQTlCLDhCQUE4QjtJQUM5Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWix3QkFBd0I7SUFDeEIsa0JBQWtCO0FBQ3RCOztBQUVBOztHQUVHOztBQUVIO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7Ozs7R0FJRyIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtbGlzdC1pdGVtLXBlZGlkby1jbGllbnRlL2NvbXAtbGlzdC1pdGVtLXBlZGlkby1jbGllbnRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGl2LWNvbnRlbnQtbGlzdCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWVlZWVlO1xyXG59XHJcblxyXG4uZGl2LXRwLWNvbnN1bW8ge1xyXG4gICAgLyogcGFkZGluZzogNXB4OyAqL1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDE5MyAxOTMgMTkzKTtcclxufVxyXG5cclxuLnRpdHVsby10cGMge1xyXG4gICAgYmFja2dyb3VuZDogI2JkYmRiZDtcclxuICAgIHBhZGRpbmc6IDVweDsgICAgXHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHggNXB4IDBweCAwcHg7XHJcbn1cclxuXHJcbi50aXR1bG8tc2VjY2lvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZDFkMWQxO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4uZGl2LWJvcmRlci10aXR1bG8ge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwcHggMHB4O1xyXG59XHJcblxyXG4uZGl2LXNlY2Npb24geyAgICBcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uZGl2LXNlY2Npb24gLml0ZW0ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zdWItaXRlbSB7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBhbnRpcXVld2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi8qIC5zZWNjaW9uLWl0ZW0ge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG59ICovXHJcblxyXG4uc2VjY2lvbi1pdGVtIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4udWwtdG90YWwge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4udWwtdG90YWwgbGkge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICAgIGJvcmRlci1ib3R0b206IDBweDtcclxufVxyXG5cclxuLmltZy1pY28tZW50cmVnYSB7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbn1cclxuXHJcbi8qIC5kaXYtY29udHJvbC1hZGQtZmFzdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIHRvcDogNXB4O1xyXG59ICovIl19 */\";","import { AfterViewInit, Component, Input, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil } from 'rxjs/operators';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { PedidoModule } from 'src/app/pages/pedido/pedido.module';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { ReglascartaService } from 'src/app/shared/services/reglascarta.service';\nimport { DialogItemEditComponent } from '../dialog-item-edit/dialog-item-edit.component';\n\n@Component({\n  selector: 'app-comp-list-item-pedido-cliente',\n  templateUrl: './comp-list-item-pedido-cliente.component.html',\n  styleUrls: ['./comp-list-item-pedido-cliente.component.css']\n})\nexport class CompListItemPedidoClienteComponent implements OnInit, AfterViewInit {\n\n  @Input() arrSubtotales: any;\n\n  miPedido: PedidoModel = new PedidoModel();\n  // private itemSelected: ItemModel;\n  private objItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  private objNewItemTiposConsumo: ItemTipoConsumoModel[] = [];\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n  item: ItemModel;\n\n\n  isDeliveryCliente: boolean;\n\n  simbolo_moneda: string;\n\n  listIconsEntrega = [];\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    private infoToken: InfoTockenService,\n    private dialog: MatDialog,\n    private navigatorService: NavigatorLinkService,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit(): void {\n    this.isDeliveryCliente = this.infoToken.isDelivery();\n    this.miPedido = this.miPedidoService.getMiPedido();\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n    // console.log('miPedido', this.miPedido);\n    const _datosEstablecieminto = this.establecimientoService.get();\n    // console.log('_datosEstablecieminto', _datosEstablecieminto);\n    // console.log('arrSubtotales', this.arrSubtotales);\n    try {\n      this.listIconsEntrega = JSON.parse(JSON.stringify(_datosEstablecieminto.icons_entrega));\n    } catch (error) {\n      this.listIconsEntrega = [];\n    }\n\n\n    this.miPedidoService.miPedidoObserver$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((res) => {\n      // this.miPedidoService.clearObjMiPedido(); // quita las cantidades 0\n      // this._miPedido = this.miPedidoService.getMiPedido();\n      this.miPedido = <PedidoModel>res;\n      // this.pintarSubTotales();\n      // console.log('miPedido', this.miPedido);\n    });\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      // const res = this.reglasCartaService.getObjReglasCarta();\n      // console.log('this.arrSubtotales', this.arrSubtotales);\n\n      // this.rulesCarta = res[0] ? res[0].reglas ? res[0].reglas : [] : res.reglas ? res.reglas : [];\n      // this.rulesSubtoTales = res.subtotales || res[0].subtotales;\n    }, 500);\n  }\n\n\n  resultCantItemMercado(_selectedItem: any, tpc: ItemTipoConsumoModel, _seccion: SeccionModel) {\n\n\n    // solo para delivery\n    this.objNewItemTiposConsumo = [];\n    // console.log('tpc', tpc);\n    // console.log('_selectedItem', _selectedItem);\n\n    // const _tpc = <ItemTipoConsumoModel>{\n    //   cantidad_seleccionada: tpc.cantidad_seleccionada,\n    //   descripcion: tpc.descripcion,\n    //   idtipo_consumo: tpc.idtipo_consumo,\n    //   titulo: tpc.titulo\n    // };\n\n    // this.objNewItemTiposConsumo.push(_tpc);\n\n    // const _itemFromCarta = this.miPedidoService.findItemCarta(_selectedItem);\n    // this.objItemTipoConsumoSelected = _itemFromCarta.itemtiposconsumo;\n    // _selectedItem.cantidad = this.getCantidadItemCarta(_selectedItem); // trae el stock del item carta\n    // this.objItemTipoConsumoSelected = <ItemTipoConsumoModel[]>this.objItemTipoConsumoSelected;\n    // // this.objNewItemTiposConsumo = _itemFromCarta.itemtiposconsumo;\n    // // const tpcSelect = this.objNewItemTiposConsumo[0];\n    // const tpcSelect = tpc;\n\n    // this.miPedidoService.setObjSeccionSeleced(_seccion);\n    // this.miPedidoService.setobjItemTipoConsumoSelected(this.objNewItemTiposConsumo);\n\n    // const _isSuma = _selectedItem.isSuma_selected ? 0 : 1;\n\n    // // console.log('_selectedItem carta', this.itemSelected);\n\n    // _selectedItem.cantidad = _selectedItem.cantidad ? _selectedItem.cantidad : NaN;\n    // _selectedItem.cantidad_seleccionada = _selectedItem.cantidad_selected;\n\n\n    // this.miPedidoService.addItem2(tpcSelect, <ItemModel>_selectedItem, _isSuma);\n\n\n    // 2\n    const _itemFromCarta = this.miPedidoService.findItemCarta(_selectedItem);\n    this.objItemTipoConsumoSelected = <ItemTipoConsumoModel[]>_itemFromCarta.itemtiposconsumo;\n\n    this.miPedidoService.setObjSeccionSeleced(_seccion);\n    this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);\n\n    _selectedItem.itemtiposconsumo = this.objItemTipoConsumoSelected;\n\n\n    const tpcSelect = this.objItemTipoConsumoSelected.filter(x => x.idtipo_consumo === tpc.idtipo_consumo)[0];\n    const _isSuma = _selectedItem.isSuma_selected ? 0 : 1;\n\n    _selectedItem.cantidad = _selectedItem.cantidad ? _selectedItem.cantidad : NaN;\n    _itemFromCarta.cantidad = this.getCantidadItemCarta(_selectedItem);\n\n\n\n\n    // tpcSelect = al de la carta = tpc seleccionado por\n    // item = _itemFromCarta de la carta\n    this.miPedidoService.addItem2(tpcSelect, _itemFromCarta, _isSuma);\n\n  }\n\n\n  openDlgItemToResumen(_seccion: SeccionModel, _item: ItemModel): void {\n    const dialogConfig = new MatDialogConfig();\n    const _itemFromCarta = this.miPedidoService.findItemCarta(_item);\n\n    // dialogConfig.panelClass = 'dialog-item-edit';\n    dialogConfig.autoFocus = false;\n    dialogConfig.data = {\n      idTpcItemResumenSelect: null,\n      seccion: _seccion,\n      item: _itemFromCarta,\n      objItemTipoConsumoSelected: _itemFromCarta.itemtiposconsumo\n    };\n    dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'margen-0', 'margen-0'];\n\n    const dialogRef = this.dialog.open(DialogItemEditComponent, dialogConfig);\n\n    // subscribe al cierre y obtiene los datos\n    dialogRef.afterClosed().subscribe(\n        data => {\n          if ( !data ) { return; }\n\n        }\n    );\n\n  }\n\n  getCantidadItemCarta(item: any): number {\n    return parseInt(this.miPedidoService.findItemCarta(item).cantidad.toString(), 0);\n  }\n\n  goBackCarta(): void {\n    this.navigatorService.setPageActive('carta');\n  }\n\n}\n","export default \"p { margin: 0; }\\r\\n\\r\\n.content-op {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\n.item-propina {\\r\\n    text-align: center;\\r\\n    padding: 10px;\\r\\n    border: 1px solid #9e9e9e;\\r\\n    border-radius: 5px;\\r\\n    font-size: 12px;\\r\\n    background-color: white;\\r\\n    margin-left: 5px;\\r\\n    -webkit-transition: all 0.3s;\\r\\n    transition: all 0.3s;\\r\\n}\\r\\n\\r\\n.propina-selected {\\r\\n    /* background-color: black;\\r\\n    color: white; */\\r\\n    background-color: slategrey;\\r\\n    /* border: 1px solid gold; */\\r\\n    color: white;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1vcC1jb3N0by1lc3RpbWFkby9jb21wLW9wLWNvc3RvLWVzdGltYWRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxTQUFTLEVBQUU7O0FBRWY7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsNEJBQW9CO0lBQXBCLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJO21CQUNlO0lBQ2YsMkJBQTJCO0lBQzNCLDRCQUE0QjtJQUM1QixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1vcC1jb3N0by1lc3RpbWFkby9jb21wLW9wLWNvc3RvLWVzdGltYWRvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHsgbWFyZ2luOiAwOyB9XHJcblxyXG4uY29udGVudC1vcCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbn1cclxuXHJcblxyXG4uaXRlbS1wcm9waW5hIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOWU5ZTllO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbn1cclxuXHJcbi5wcm9waW5hLXNlbGVjdGVkIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2xhdGVncmV5O1xyXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgZ29sZDsgKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\";","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-comp-op-costo-estimado',\n  templateUrl: './comp-op-costo-estimado.component.html',\n  styleUrls: ['./comp-op-costo-estimado.component.css']\n})\nexport class CompOpCostoEstimadoComponent implements OnInit {\n\n  @Output() optionSelected = new EventEmitter();\n  listOpciones;\n  itemSelected: any;\n  constructor() { }\n\n  ngOnInit(): void {\n    this.loadOpaciones();\n  }\n\n  private loadOpaciones() {\n    this.listOpciones = [];\n    this.listOpciones.push({id: 0, value: 20, showImporte: 'S/. 25.00', descripcion: 'Menos que', selected: false});\n    this.listOpciones.push({id: 1, value: 50, showImporte: 'S/. 50.00', descripcion: 'Menos o igual que', selected: false});\n    this.listOpciones.push({id: 2, value: 100, showImporte: 'S/. 70.00', descripcion: 'Más que', selected: false});\n\n  }\n\n  selectedItem(item: any) {\n    this.listOpciones.map(x => x.selected = false);\n    item.selected = true;\n    this.itemSelected = item;\n    this.optionSelected.emit(this.itemSelected);\n  }\n\n}\n","export default \".content-pago {\\r\\n    height: 100vh;\\r\\n    /* background: #E5EFF7; */\\r\\n}\\r\\n\\r\\n.header-pago {\\r\\n    background: #3F51B5;\\r\\n    color: white;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.loader-pago {\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    height: 100vh;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    background: #212121;\\r\\n    width: 100%;\\r\\n    opacity: 0.9;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.loader-pago div {\\r\\n    top: 50%;\\r\\n    position: relative;\\r\\n    width: 50%;    \\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.btn-pago-disabled {\\r\\n    -webkit-transition: all ease-in-out 1s;\\r\\n    transition: all ease-in-out 1s;\\r\\n    background: grey;\\r\\n    border-radius: 5px;\\r\\n    padding: 8px;\\r\\n    width: 50%;\\r\\n    color: white;\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.btn-hidden {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.div-btn {\\r\\n    height: 48px;\\r\\n}\\r\\n\\r\\n.banner-res-ok {\\r\\n    color: white;\\r\\n    background: #436BE1;\\r\\n}\\r\\n\\r\\n.banner-res-error {\\r\\n    color: white;\\r\\n    background: #ef5350;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wYXNhcmVsYS1wYWdvL2NvbXAtcGFzYXJlbGEtcGFnby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksUUFBUTtJQUNSLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsY0FBYztBQUNsQjs7QUFHQTtJQUNJLHNDQUE4QjtJQUE5Qiw4QkFBOEI7SUFDOUIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVTtJQUNWLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wYXNhcmVsYS1wYWdvL2NvbXAtcGFzYXJlbGEtcGFnby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtcGFnbyB7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgLyogYmFja2dyb3VuZDogI0U1RUZGNzsgKi9cclxufVxyXG5cclxuLmhlYWRlci1wYWdvIHtcclxuICAgIGJhY2tncm91bmQ6ICMzRjUxQjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmxvYWRlci1wYWdvIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIGJhY2tncm91bmQ6ICMyMTIxMjE7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvYWRlci1wYWdvIGRpdiB7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA1MCU7ICAgIFxyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcblxyXG4uYnRuLXBhZ28tZGlzYWJsZWQge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIGVhc2UtaW4tb3V0IDFzO1xyXG4gICAgYmFja2dyb3VuZDogZ3JleTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLmJ0bi1oaWRkZW4ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmRpdi1idG4ge1xyXG4gICAgaGVpZ2h0OiA0OHB4O1xyXG59XHJcblxyXG4uYmFubmVyLXJlcy1vayB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDM2QkUxO1xyXG59XHJcblxyXG4uYmFubmVyLXJlcy1lcnJvciB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWY1MzUwO1xyXG59Il19 */\";","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { ClientePagoModel } from 'src/app/modelos/cliente.pago.model';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { DataTransaccion } from 'src/app/modelos/DataTransaccion';\n\n\ndeclare var pagar: any;\n@Component({\n  selector: 'app-comp-pasarela-pago',\n  templateUrl: './comp-pasarela-pago.component.html',\n  styleUrls: ['./comp-pasarela-pago.component.css']\n})\nexport class CompPasarelaPagoComponent implements OnInit {\n\n  @Input() dataTrasa: DataTransaccion;\n  @Output() responseTransa = new EventEmitter<any>();\n  @Output() repuestaBtnListo = new EventEmitter<boolean>(false);\n\n  infoToken: UsuarioTokenModel;\n\n  importe: number;\n  isLoaderTransaction = false;\n  isLoadBtnPago = false;\n  isCheckTerminos = false;\n  isTrasctionSuccess = false;\n  isViewAlertTerminos = false;\n  isViewAlertEmail = false;\n  isEmailValid = true;\n  isRequiredEmail = false;\n  isDisabledCheck = false; // desabilita el check de terminos\n\n  dataResTransaction: any = null;\n\n  el_purchasenumber;\n\n  fechaTransaction = new Date();\n\n  importeTransaccion = 0;\n\n\n  // repuesta\n  responseTranaccion = {\n    success: false,\n    data: {}\n  };\n\n\n  private listenKeyLoader = 'sys::transaction-load';\n  private listenKeyData = 'sys::transaction-response';\n  private timeListenerKeys: any;\n  private dataClientePago: ClientePagoModel = new ClientePagoModel();\n\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private utilService: UtilitariosService,\n    private crudService: CrudHttpService,\n    private listenStatusService: ListenStatusService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.importeTransaccion = this.dataTrasa.importe;\n\n    this.infoToken = this.infoTokenService.getInfoUs();\n\n    this.getEmailCliente();\n    localStorage.setItem('sys::btnP', '0');\n  }\n\n\n  // obtener datos del clienteP\n  private getEmailCliente(): void {\n    const dataClient = {\n      id: this.infoToken.idcliente\n    };\n\n    this.crudService.postFree(dataClient, 'transaction', 'get-email-client', false).subscribe((res: any) => {\n      this.dataClientePago.email = res.data[0].correo ? res.data[0].correo : '';\n\n      // this.dataClientePago.email = 'integraciones.visanet@necomplus.com'; // desarrollo\n      // // this.dataClientePago.email = 'review@cybersource.com';\n      // this.dataClientePago.isSaveEmail = false;\n\n      // email // comentar si es review@cybersource.com\n      this.isRequiredEmail = this.dataClientePago.email === '' ?  true : false;\n      this.isEmailValid = !this.isRequiredEmail;\n      this.dataClientePago.isSaveEmail = this.isRequiredEmail;\n\n      this.dataClientePago.idcliente = res.data[0].idcliente_card;\n      this.dataClientePago.diasRegistrado = res.data[0].dias_registrado;\n      this.dataClientePago.nombres = this.infoToken.nombres;\n\n\n      // ip del client\n      this.dataClientePago.ip = this.infoToken.ipCliente;\n      if ( !this.dataClientePago.ip ) {\n        this.crudService.getFree('https://api.ipify.org?format=json').subscribe((_res: any) => {\n          this.dataClientePago.ip = _res.ip;\n          this.infoTokenService.setLocalIpCliente(this.dataClientePago.ip);\n          this.isDisabledCheck = true;\n        });\n      } else {\n        this.isDisabledCheck = true;\n      }\n\n      this.getNomApClientePago(this.dataClientePago.nombres);\n\n    });\n  }\n\n  // dividi nombre y apellidos\n  private getNomApClientePago(nombres: string): void {\n    const _names = nombres.split(' ');\n    let nameCliente = '';\n    let apPaternoCliente = '';\n    switch (_names.length) {\n      case 1:\n        nameCliente = _names[0];\n        break;\n      case 2:\n        nameCliente = _names[0];\n        apPaternoCliente = _names[1];\n        break;\n      case 3:\n        nameCliente = _names[0];\n        apPaternoCliente = _names[2];\n        break;\n      case 4:\n        nameCliente = _names[0];\n        apPaternoCliente = _names[2];\n        break;\n    }\n\n    this.dataClientePago.nombre = this.utilService.primeraConMayusculas(nameCliente);\n    this.dataClientePago.apellido = this.utilService.primeraConMayusculas(apPaternoCliente);\n\n\n  }\n\n  goPagar() {\n    this.isViewAlertEmail = false;\n    this.isViewAlertTerminos = false;\n    this.isCheckTerminos = !this.isCheckTerminos;\n\n    const _pase = this.isCheckTerminos && this.isEmailValid;\n\n    if ( !_pase ) {\n      this.isViewAlertEmail = true;\n      this.isViewAlertTerminos = true; // comentar si review@cybersoruce.com\n      return;\n     }\n\n    this.isLoadBtnPago = true;\n    this.generarPurchasenumber();\n  }\n\n\n  generarPurchasenumber() {\n    this.crudService.getAll('transaction', 'get-purchasenumber', false, false, false).subscribe((res: any) => {\n      const _purchasenumber = res.data[0].purchasenumber;\n      this.el_purchasenumber = _purchasenumber;\n\n      pagar(this.importeTransaccion, _purchasenumber, this.dataClientePago);\n      this.listenResponse();\n      this.verificarCheckTerminos();\n\n      this.listenStatusService.setIsBtnPagoShow(true);\n\n      // marcar como si se dio btn pago para reload page\n      localStorage.setItem('sys::btnP', '1');\n    });\n\n  }\n\n  private listenResponse() {\n    this.timeListenerKeys = setTimeout(() => {\n\n      const dataResponse = localStorage.getItem(this.listenKeyData);\n      this.isLoaderTransaction = localStorage.getItem(this.listenKeyLoader) === '0' ? false : true;\n\n\n      let _dataTransactionRegister;\n\n      if ( dataResponse !== 'null' ) {\n        this.isLoadBtnPago = false;\n\n        this.dataResTransaction = JSON.parse(dataResponse);\n\n        this.isTrasctionSuccess = !this.dataResTransaction.error;\n\n        if (this.isTrasctionSuccess) {\n\n          _dataTransactionRegister = {\n            purchaseNumber: this.dataResTransaction.order.purchaseNumber,\n            card: this.dataResTransaction.dataMap.CARD,\n            brand: this.dataResTransaction.dataMap.BRAND,\n            descripcion: this.dataResTransaction.dataMap.ACTION_DESCRIPTION,\n            status: this.dataResTransaction.dataMap.STATUS,\n            error: this.dataResTransaction.error\n          };\n\n\n          // retorna evento transaccion success\n          this.responseTranaccion.success = true;\n          this.responseTranaccion.data = _dataTransactionRegister;\n\n          this.emitRespuesta();\n\n          setTimeout(() => {\n            this.isLoaderTransaction = false;\n            // marcador si actualiza la pagina cuando ya pago\n            this.infoTokenService.setIsPagoSuccess(true);\n\n            return;\n          }, 1900);\n\n\n        } else {\n          _dataTransactionRegister = {\n            purchaseNumber: this.el_purchasenumber,\n            card: this.dataResTransaction.data.CARD,\n            brand: this.dataResTransaction.data.BRAND,\n            descripcion: this.dataResTransaction.data.ACTION_DESCRIPTION,\n            status: this.dataResTransaction.data.STATUS,\n            error: this.dataResTransaction.error\n          };\n\n          // retorna evento transaccion success\n\n          this.responseTranaccion.success = false;\n          this.responseTranaccion.data = _dataTransactionRegister;\n\n          this.emitRespuesta();\n        }\n\n        localStorage.removeItem(this.listenKeyData);\n      } else {\n        this.listenResponse();\n      }\n    }, 100);\n  }\n\n\n  verificarCheckTerminos() {\n    this.isViewAlertTerminos = this.isCheckTerminos ? false : true;\n    this.isViewAlertEmail = !this.isEmailValid; // comentar si review@cybersoruce.com\n  }\n\n  verificarCorreo(el: any): void {\n    this.isEmailValid = el.checkValidity();\n    this.isViewAlertEmail = !this.isEmailValid;\n    this.dataClientePago.email = el.value;\n  }\n\n  emitRespuesta() {\n    this.responseTransa.emit(this.responseTranaccion);\n  }\n\n  btnFinListo() {\n    this.repuestaBtnListo.emit(true);\n  }\n\n}\n","export default \".div-plr {\\r\\n    padding-left: 7px;\\r\\n    padding-right: 7px;\\r\\n}\\r\\n\\r\\n.div-content-all {\\r\\n    top: 0px;\\r\\n    position: -webkit-sticky;\\r\\n    position: sticky;\\r\\n}\\r\\n\\r\\n.titulo-tpc {\\r\\n    background: #424242;\\r\\n    color: #e0e0e0;\\r\\n    padding-top: 8px;\\r\\n    padding-bottom: 8px;\\r\\n}\\r\\n\\r\\n.titulo-seccion {\\r\\n    padding-top: 8px;\\r\\n    padding-bottom: 8px;\\r\\n    background: blanchedalmond;\\r\\n}\\r\\n\\r\\n.li-item {\\r\\n    padding-top: 6px;\\r\\n    padding-bottom: 6px;\\r\\n    border-top: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.div-total {\\r\\n    border-top: 2px dashed #9e9e9e;\\r\\n}\\r\\n\\r\\n.ul-total li:last-child{\\r\\n    font-size: 20px;\\r\\n    font-weight: 800;\\r\\n}\\r\\n\\r\\n.countItem {\\r\\n    padding: 4px 7px 4px 7px;\\r\\n    border-radius: 90%;\\r\\n    line-height: 1;\\r\\n    font-size: 12px;\\r\\n    margin-top: 2px;\\r\\n}\\r\\n\\r\\n.countTpc{\\r\\n    float: right;\\r\\n    background: #212121;\\r\\n    color: #bdbdbd;\\r\\n}\\r\\n\\r\\n.countSeccion {\\r\\n  float: right;\\r\\n  color: #616161;\\r\\n  background: #ffcc80;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wZWRpZG8tZGV0YWxsZS9jb21wLXBlZGlkby1kZXRhbGxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksUUFBUTtJQUNSLHdCQUFnQjtJQUFoQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZixlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixjQUFjO0FBQ2xCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGNBQWM7RUFDZCxtQkFBbUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXBlZGlkby1kZXRhbGxlL2NvbXAtcGVkaWRvLWRldGFsbGUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtcGxyIHtcclxuICAgIHBhZGRpbmctbGVmdDogN3B4O1xyXG4gICAgcGFkZGluZy1yaWdodDogN3B4O1xyXG59XHJcblxyXG4uZGl2LWNvbnRlbnQtYWxsIHtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgcG9zaXRpb246IHN0aWNreTtcclxufVxyXG5cclxuLnRpdHVsby10cGMge1xyXG4gICAgYmFja2dyb3VuZDogIzQyNDI0MjtcclxuICAgIGNvbG9yOiAjZTBlMGUwO1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbn1cclxuXHJcbi50aXR1bG8tc2VjY2lvbiB7XHJcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcclxuICAgIGJhY2tncm91bmQ6IGJsYW5jaGVkYWxtb25kO1xyXG59XHJcblxyXG4ubGktaXRlbSB7XHJcbiAgICBwYWRkaW5nLXRvcDogNnB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDZweDtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uZGl2LXRvdGFsIHtcclxuICAgIGJvcmRlci10b3A6IDJweCBkYXNoZWQgIzllOWU5ZTtcclxufVxyXG5cclxuLnVsLXRvdGFsIGxpOmxhc3QtY2hpbGR7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBmb250LXdlaWdodDogODAwO1xyXG59XHJcblxyXG4uY291bnRJdGVtIHtcclxuICAgIHBhZGRpbmc6IDRweCA3cHggNHB4IDdweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDkwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMnB4O1xyXG59XHJcblxyXG4uY291bnRUcGN7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMjEyMTIxO1xyXG4gICAgY29sb3I6ICNiZGJkYmQ7XHJcbn1cclxuXHJcbi5jb3VudFNlY2Npb24ge1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBjb2xvcjogIzYxNjE2MTtcclxuICBiYWNrZ3JvdW5kOiAjZmZjYzgwO1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit, Input } from '@angular/core';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\n\n@Component({\n  selector: 'app-comp-pedido-detalle',\n  templateUrl: './comp-pedido-detalle.component.html',\n  styleUrls: ['./comp-pedido-detalle.component.css']\n})\nexport class CompPedidoDetalleComponent implements OnInit {\n  @Input() infoPedido: any;\n\n  _miPedido: any;\n  _arrSubtotales: any;\n  constructor(\n    private crudService: CrudHttpService,\n    private miPedidoService: MipedidoService\n  ) { }\n\n  ngOnInit() {\n    this.loadPedido();\n  }\n\n  private loadPedido() {\n    const _data = {\n      mesa: 0,\n      idsede: this.infoPedido.idsede,\n      idorg: this.infoPedido.idorg,\n      idpedido: this.infoPedido.idpedido\n    };\n\n    this.crudService.postFree(_data, 'pedido', 'lacuenta-zona-delivery', false)\n      .subscribe(res => {\n        // console.log(res);\n        this._miPedido = this.miPedidoService.darFormatoPedido(res);\n\n        // obtener subtotales bd\n        this.crudService.postFree(_data, 'pedido', 'lacuenta-pedido-totales', false)\n          .subscribe(arrTotal => {\n            this._arrSubtotales = arrTotal.data;\n          });\n      });\n  }\n\n}\n","export default \"p {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.div-content {\\r\\n    width: 100%;\\r\\n    max-width: 500px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.div-enviado {\\r\\n    text-align: center;\\r\\n    height: 80vh;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n\\r\\n}\\r\\n\\r\\n.div-listo {\\r\\n    background: white;\\r\\n    padding: 20px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWV4cHJlc3MvY29tcC1waWRlLWV4cHJlc3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFNBQVM7QUFDYjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osV0FBVztJQUNYLHdCQUF1QjtJQUF2QiwrQkFBdUI7WUFBdkIsdUJBQXVCOztBQUUzQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWV4cHJlc3MvY29tcC1waWRlLWV4cHJlc3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uZGl2LWNvbnRlbnQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5kaXYtZW52aWFkbyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDgwdmg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cclxufVxyXG5cclxuLmRpdi1saXN0byB7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { SedeDeliveryService } from 'src/app/shared/services/sede-delivery.service';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { DialogMetodoPagoComponent } from '../dialog-metodo-pago/dialog-metodo-pago.component';\nimport { DialogVerificarTelefonoComponent } from '../dialog-verificar-telefono/dialog-verificar-telefono.component';\nimport { DialogSelectDireccionComponent } from '../dialog-select-direccion/dialog-select-direccion.component';\nimport { DatosDeliveryModel } from 'src/app/modelos/datos.delivery.model';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { DialogTiempoEntregaComponent } from '../dialog-tiempo-entrega/dialog-tiempo-entrega.component';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\n\n@Component({\n  selector: 'app-comp-pide-express',\n  templateUrl: './comp-pide-express.component.html',\n  styleUrls: ['./comp-pide-express.component.css']\n})\nexport class CompPideExpressComponent implements OnInit {\n\n  direccionA: DeliveryDireccionCliente;\n  direccionB: DeliveryDireccionCliente;\n  direccionClienteIni: DeliveryDireccionCliente;\n  infoToken: UsuarioTokenModel;\n  metodoPagoSelected: MetodoPagoModel;\n  tiempoEntregaSelected: TiempoEntregaModel;\n  laPlazaDelivery: DeliveryEstablecimiento;\n  lasCiudad = '';\n  importe_pagar = 3;\n  isLoading = false;\n  isEnviado = false;\n  isCalculandoDistancia = false;\n  isShowFinalize = false;\n  isTiempoEntregaValid = true;\n  systemOS = '';\n\n  msjErrorDir = '';\n\n  datosFormUno: any;\n\n  isFormValid = false;\n  isFormValidDos = false;\n\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private plazaDelivery: SedeDeliveryService,\n    private calcDistanceService: CalcDistanciaService,\n    private crudService: CrudHttpService,\n    private dialogDireccion: MatDialog,\n    private dialogTelefono: MatDialog,\n    private dialogTiempoEntrega: MatDialog,\n    private dialog: MatDialog,\n    private router: Router,\n    private utilService: UtilitariosService,\n    private establecimientoService: EstablecimientoService,\n  ) { }\n\n  ngOnInit(): void {\n    this.systemOS = this.utilService.getOS();\n    this.msjErrorDir = '';\n    this.infoToken = this.infoTokenService.getInfoUs();\n\n    this.direccionClienteIni = new DeliveryDireccionCliente();\n    this.direccionClienteIni.titulo = 'Seleccione una direccion *';\n    this.direccionClienteIni.direccion = '';\n    this.direccionClienteIni.referencia = '';\n\n    this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(false);\n\n    this.datosFormUno = {};\n    this.datosFormUno.descripcion_paquete = '';\n    this.datosFormUno.telefono = this.infoToken.telefono;\n\n\n    this.direccionA = this.direccionClienteIni;\n    this.direccionB = this.direccionClienteIni;\n\n\n    // this.getTiempoEntrega();\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';\n    this.tiempoEntregaSelected.value = '';\n    this.tiempoEntregaSelected.modificado = false;\n    this.tiempoEntregaSelected.valid = false;\n    this.isTiempoEntregaValid = false;\n\n    this.getDatosSede();\n\n  }\n\n  private getTiempoEntrega() {\n\n\n    const horanow = new Date().getHours();\n    if ( this.laPlazaDelivery.options.s_hfin ) {\n      const hFin =  this.laPlazaDelivery.options.s_hfin.split(':')[0];\n      this.isTiempoEntregaValid = horanow <= parseInt(hFin, 0);\n    }\n\n    if ( this.tiempoEntregaSelected.modificado ) { this.isTiempoEntregaValid = true; return; }\n    if ( !this.isTiempoEntregaValid ) {\n      this.tiempoEntregaSelected.descripcion = 'Programa la entrega';\n      this.tiempoEntregaSelected.value = '';\n      this.tiempoEntregaSelected.modificado = false;\n      this.tiempoEntregaSelected.valid = true;\n      this.isTiempoEntregaValid = false;\n    } else {\n      this.tiempoEntregaSelected.descripcion = 'Lo antes posible';\n      this.tiempoEntregaSelected.value = '10 a 15 Minutos';\n      this.tiempoEntregaSelected.modificado = false;\n      this.tiempoEntregaSelected.valid = true;\n      this.isTiempoEntregaValid = true;\n    }\n\n  }\n\n  // obtener los datos de la sede segun direccion de entrega\n  // toma como referencia el centro de la ciudad para calcular la distancia\n  getDatosSede() {\n    if ( !this.direccionA.ciudad ) { return; }\n    if ( this.direccionA.ciudad === this.lasCiudad ) {\n      this.calcularDistanciaEntrega();\n      this.setDiasHoraEstablecimineto();\n      this.getTiempoEntrega();\n      return; }\n\n\n    this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionA.ciudad)\n    .subscribe((res: any) => {\n      this.laPlazaDelivery = res;\n      this.lasCiudad = this.laPlazaDelivery.ciudad;\n      this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;\n      this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;\n      this.calcularDistanciaEntrega();\n      this.setDiasHoraEstablecimineto();\n      this.getTiempoEntrega();\n    });\n\n  }\n\n  // para el tiempo programado\n  setDiasHoraEstablecimineto() {\n    this.laPlazaDelivery.hora_ini = this.laPlazaDelivery.options.s_hini;\n    this.laPlazaDelivery.hora_fin = this.laPlazaDelivery.options.s_hfin;\n    this.laPlazaDelivery.dias_atienden = this.laPlazaDelivery.options.s_dias;\n    this.laPlazaDelivery.pwa_delivery_habilitar_pedido_programado = 1;\n    this.laPlazaDelivery.tiempo_aprox_entrega = this.laPlazaDelivery.options.s_tiempo_aprox;\n    this.establecimientoService.set(this.laPlazaDelivery);\n  }\n\n  vehiculoSelected(val: any) {\n    this.datosFormUno.vehiculo = val;\n    this.validFormUno();\n    this.calcCostoServicio();\n  }\n\n  textChanged(val: any) {\n    this.datosFormUno.descripcion_paquete = val;\n    this.validFormUno();\n  }\n\n  private validFormUno() {\n    this.isFormValid = this.datosFormUno.vehiculo && this.datosFormUno.descripcion_paquete !== '';\n  }\n\n  private validFormDos() {\n    this.isFormValidDos = this.isFormValid;\n    this.isFormValidDos = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos;\n    this.isFormValidDos = !this.direccionA.ciudad ? false : this.isFormValidDos;\n    this.isFormValidDos = !this.direccionB.ciudad ? false : this.isFormValidDos;\n    this.isFormValidDos = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false;\n    // this.isFormValidDos = !this.isCalculandoDistancia;\n    this.isFormValidDos = this.isFormValidDos && !this.isCalculandoDistancia;\n  }\n\n\n  openDialogMetodoPago(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      importeTotalPagar: 3\n    };\n\n    const dialogLoading = this.dialog.open(DialogMetodoPagoComponent, _dialogConfig);\n      dialogLoading.afterClosed().subscribe((result: MetodoPagoModel) => {\n        this.metodoPagoSelected = result;\n        this.validFormDos();\n      });\n  }\n\n  openDialogsendSMS() {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = 'my-full-screen-dialog';\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.data = {\n      idcliente: this.infoTokenService.infoUsToken.idcliente,\n      numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'\n    };\n\n    const dialogRefTelefono = this.dialogTelefono.open(DialogVerificarTelefonoComponent, _dialogConfig);\n\n    dialogRefTelefono.afterClosed().subscribe((result: any) => {\n      if ( result.verificado ) {\n        this.infoToken.telefono = result.numberphone;\n        this.infoTokenService.setTelefono(result.numberphone);\n        this.datosFormUno.telefono = this.infoToken.telefono;\n        this.validFormDos();\n        // this.verifyClientService.setTelefono(result.numberphone);\n      }\n    });\n\n  }\n\n  openDialogTiempoEntrega(): void {\n    const _dialogConfig = new MatDialogConfig();\n    // _dialogConfig.width = '480px';\n    // _dialogConfig.disableClose = false;\n    // _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogTpC = this.dialogTiempoEntrega.open(DialogTiempoEntregaComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TiempoEntregaModel) => {\n        if ( result ) {\n          this.infoTokenService.setTiempoEntrega(result);\n          this.tiempoEntregaSelected = result;\n          this.isTiempoEntregaValid = true;\n          // this.verificarMontoMinimo();\n        }\n      });\n  }\n\n  openDialogDireccion(op: number) {\n    const _DdialogConfig = new MatDialogConfig();\n    _DdialogConfig.disableClose = true;\n    _DdialogConfig.hasBackdrop = true;\n    _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],\n    _DdialogConfig.data = {\n      isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false, // no guarda sole devuelve los datos de la direccion\n      isFromComercio: true, // para empezar en la posicion del comercio\n      // idClienteBuscar: this.infoTokenService.infoUsToken.idcliente // this.resData.idcliente\n    };\n    // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';\n    const dialogRef = this.dialogDireccion.open(DialogSelectDireccionComponent, _DdialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if ( !data ) { return; }\n        this.msjErrorDir = '';\n        if ( op === 0 ) {\n          this.direccionA = <DeliveryDireccionCliente>data;\n        } else {\n          this.direccionB = <DeliveryDireccionCliente>data;\n        }\n        this.getDatosSede();\n        this.validFormDos();\n      }\n    );\n  }\n\n  calcularDistanciaEntrega() {\n\n    if ( !this.direccionA.ciudad || !this.direccionB.ciudad ) {return; }\n\n    if ( this.direccionA.ciudad.toLocaleLowerCase() !== this.direccionB.ciudad.toLocaleLowerCase() ) {\n      // el servicio no esta disponible en esta ubicacion\n      this.direccionA.codigo = null;\n      this.msjErrorDir = 'Servicio no disponible en esta dirección.';\n      return;\n    }\n\n    const _dirB = this.laPlazaDelivery;\n    // pasamos las coordenadas de la direccion b\n    _dirB.latitude = this.direccionB.latitude;\n    _dirB.longitude = this.direccionB.longitude;\n    this.isCalculandoDistancia = true;\n    this.validFormDos();\n\n    this.calcDistanceService.calculateRoute(this.direccionA, _dirB, false);\n    // .subscribe((res: any) => {\n      setTimeout(() => {\n        this.laPlazaDelivery = _dirB;\n        this.isCalculandoDistancia = false;\n        this.setDiasHoraEstablecimineto();\n        this.validFormDos();\n        this.calcCostoServicio();\n      }, 1600);\n\n    // });\n  }\n\n\n  calcCostoServicio() {\n    if ( !this.laPlazaDelivery ) {return; }\n    const costo_distancia = this.laPlazaDelivery.c_servicio - this.laPlazaDelivery.c_minimo;\n    this.importe_pagar = this.laPlazaDelivery.options.costo_express + costo_distancia + this.datosFormUno.vehiculo.costo_adicional;\n  }\n\n\n  enviarPedidoExpress() {\n    try {\n      this.isLoading = true;\n      this.isEnviado = false;\n      this.datosFormUno.importe_pagar = this.importe_pagar;\n      this.datosFormUno.idcliente = this.infoToken.idcliente;\n      this.datosFormUno.direccionA = this.direccionA;\n      this.datosFormUno.direccionB = this.direccionB;\n      this.datosFormUno.metodoPago = this.metodoPagoSelected;\n      this.datosFormUno.tiempoEntrega = this.tiempoEntregaSelected;\n      this.datosFormUno.ciudad = this.laPlazaDelivery.ciudad;\n      this.datosFormUno.distancia_km = this.laPlazaDelivery.distancia_km;\n      this.datosFormUno.distancia_mt = this.laPlazaDelivery.distancia_mt;\n      this.datosFormUno.systemOS = this.systemOS;\n      this.datosFormUno.is_express = 1;\n\n    } catch (error) {\n      console.log(error);\n    }\n\n    const _dataSend = {\n      dataInfo: this.datosFormUno\n    };\n\n    this.crudService.postFree(_dataSend, 'delivery', 'set-pedido-mandado', false)\n    .subscribe(res => {\n\n      setTimeout(() => {\n        this.isLoading = false;\n        this.isEnviado = true;\n      }, 1500);\n    });\n\n  }\n\n  goZona() {\n    this.router.navigate(['./zona-delivery/establecimientos']);\n  }\n\n  goNext() {\n    this.isShowFinalize = !this.isShowFinalize;\n    const divcontent = document.getElementById('contentmaster');\n    divcontent.scrollTop = 0;\n  }\n\n}\n","export default \"p {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.div-content {\\r\\n    width: 100%;\\r\\n    max-width: 500px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.div-enviado {\\r\\n    text-align: center;\\r\\n    height: 80vh;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n\\r\\n}\\r\\n\\r\\n.div-listo {\\r\\n    background: white;\\r\\n    padding: 20px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWxvLXF1ZS1xdWllcmFzL2NvbXAtcGlkZS1sby1xdWUtcXVpZXJhcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixXQUFXO0lBQ1gsd0JBQXVCO0lBQXZCLCtCQUF1QjtZQUF2Qix1QkFBdUI7O0FBRTNCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXBpZGUtbG8tcXVlLXF1aWVyYXMvY29tcC1waWRlLWxvLXF1ZS1xdWllcmFzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmRpdi1jb250ZW50IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiA1MDBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4uZGl2LWVudmlhZG8ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiA4MHZoO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHJcbn1cclxuXHJcbi5kaXYtbGlzdG8ge1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\nimport { DialogSelectDireccionComponent } from '../dialog-select-direccion/dialog-select-direccion.component';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { DialogMetodoPagoComponent } from '../dialog-metodo-pago/dialog-metodo-pago.component';\nimport { DialogVerificarTelefonoComponent } from '../dialog-verificar-telefono/dialog-verificar-telefono.component';\nimport { SedeDeliveryService } from 'src/app/shared/services/sede-delivery.service';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { Router } from '@angular/router';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { DialogTiempoEntregaComponent } from '../dialog-tiempo-entrega/dialog-tiempo-entrega.component';\n\n@Component({\n  selector: 'app-comp-pide-lo-que-quieras',\n  templateUrl: './comp-pide-lo-que-quieras.component.html',\n  styleUrls: ['./comp-pide-lo-que-quieras.component.css']\n})\nexport class CompPideLoQueQuierasComponent implements OnInit  {\n\n  direccionCliente: DeliveryDireccionCliente;\n  direccionClienteIni: DeliveryDireccionCliente;\n  infoToken: UsuarioTokenModel;\n  metodoPagoSelected: MetodoPagoModel;\n  laPlazaDelivery: DeliveryEstablecimiento;\n  lasCiudad = '';\n  importe_pagar = 4;\n  isLoading = false;\n  isEnviado = false;\n  isExpress = false; // entrega\n  isCalculandoDistanciaA = false;\n  isShowFinalize = false;\n  systemOS = '';\n\n  msjErrorDir = '';\n\n  datosFormUno: any;\n\n  isFormValid = false;\n  isFormValidDos = false;\n\n  tiempoEntregaSelected: TiempoEntregaModel;\n  isTiempoEntregaValid = true;\n\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private plazaDelivery: SedeDeliveryService,\n    private calcDistanceService: CalcDistanciaService,\n    private crudService: CrudHttpService,\n    private dialogDireccion: MatDialog,\n    private dialogTelefono: MatDialog,\n    private dialogTiempoEntrega: MatDialog,\n    private dialog: MatDialog,\n    private router: Router,\n    private utilService: UtilitariosService,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit(): void {\n    this.systemOS = this.utilService.getOS();\n\n    this.msjErrorDir = '';\n    this.infoToken = this.infoTokenService.getInfoUs();\n\n    this.direccionClienteIni = new DeliveryDireccionCliente();\n    this.direccionClienteIni.titulo = 'Seleccione una direccion *';\n    this.direccionClienteIni.direccion = '';\n    this.direccionClienteIni.referencia = '';\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';\n    this.tiempoEntregaSelected.value = '';\n    this.tiempoEntregaSelected.modificado = false;\n    this.tiempoEntregaSelected.valid = false;\n    this.isTiempoEntregaValid = false;\n\n    this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(false);\n\n    this.datosFormUno = {};\n    this.datosFormUno.que_compramos = '';\n    this.datosFormUno.telefono = this.infoToken.telefono;\n\n\n    this.direccionCliente = this.infoToken.direccionEnvioSelected ? this.infoToken.direccionEnvioSelected : this.direccionClienteIni;\n    this.scrollTopInit();\n\n\n    this.getDatosSede();\n  }\n\n  private getTiempoEntrega() {\n\n\n    const horanow = new Date().getHours();\n\n    if ( this.laPlazaDelivery.options.s_hfin ) {\n      const hFin = this.laPlazaDelivery.options.s_hfin.split(':')[0];\n      this.isTiempoEntregaValid = horanow <= parseInt(hFin, 0);\n    }\n\n    if ( this.tiempoEntregaSelected.modificado ) { this.isTiempoEntregaValid = true; return; }\n    if ( !this.isTiempoEntregaValid ) {\n      this.tiempoEntregaSelected.descripcion = 'Programa la entrega';\n      this.tiempoEntregaSelected.value = '';\n      this.tiempoEntregaSelected.modificado = false;\n      this.tiempoEntregaSelected.valid = true;\n      // this.isTiempoEntregaValid = false;\n    } else {\n      this.tiempoEntregaSelected.descripcion = 'Lo antes posible';\n      this.tiempoEntregaSelected.value = '10 a 15 Minutos';\n      this.tiempoEntregaSelected.modificado = false;\n      this.tiempoEntregaSelected.valid = true;\n      // this.isTiempoEntregaValid = true;\n    }\n\n\n\n  }\n\n  // obtener los datos de la sede segun direccion de entrega\n  // toma como referencia el centro de la ciudad para calcular la distancia\n  getDatosSede() {\n    if ( !this.direccionCliente.ciudad ) { return; }\n    if ( this.direccionCliente.ciudad === this.lasCiudad ) {\n      this.getTiempoEntrega();\n      this.calcularDistanciaEntrega();\n      this.setDiasHoraEstablecimineto();\n      return; }\n\n\n    this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionCliente.ciudad)\n    .subscribe((res: any) => {\n      this.laPlazaDelivery = res;\n      this.lasCiudad = this.laPlazaDelivery.ciudad;\n      this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;\n      this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;\n      this.calcularDistanciaEntrega();\n      this.setDiasHoraEstablecimineto();\n      this.getTiempoEntrega();\n    });\n  }\n\n  vehiculoSelected(val: any) {\n    this.datosFormUno.vehiculo = val;\n    this.validFormUno();\n    this.calcCostoServicio();\n  }\n\n  costoSelected(val: any) {\n    this.datosFormUno.costo_producto = val;\n    this.validFormUno();\n  }\n\n  textChanged(val: any) {\n    this.datosFormUno.que_compramos = val;\n    this.validFormUno();\n  }\n\n  private validFormUno() {\n    this.isFormValid = this.datosFormUno.vehiculo && this.datosFormUno.costo_producto && this.datosFormUno.que_compramos !== '';\n    // this.isFormValid = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValid;\n    // this.isFormValid = !this.direccionCliente.codigo ? false : this.isFormValid;\n    // this.isFormValid = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValid : false;\n  }\n\n  private validFormDos() {\n    this.isFormValidDos = this.isFormValid;\n    this.isFormValidDos = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos;\n    this.isFormValidDos = !this.direccionCliente.ciudad ? false : this.isFormValidDos;\n    this.isFormValidDos = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false;\n    this.isFormValidDos = this.isFormValidDos && !this.isCalculandoDistanciaA;\n  }\n\n\n  openDialogMetodoPago(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      importeTotalPagar: 3\n    };\n\n    const dialogLoading = this.dialog.open(DialogMetodoPagoComponent, _dialogConfig);\n      dialogLoading.afterClosed().subscribe((result: MetodoPagoModel) => {\n        this.metodoPagoSelected = result;\n        this.validFormDos();\n      });\n  }\n\n  openDialogTiempoEntrega(): void {\n    const _dialogConfig = new MatDialogConfig();\n    // _dialogConfig.width = '480px';\n    // _dialogConfig.disableClose = false;\n    // _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogTpC = this.dialogTiempoEntrega.open(DialogTiempoEntregaComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TiempoEntregaModel) => {\n\n        if ( result ) {\n          this.infoTokenService.setTiempoEntrega(result);\n          this.tiempoEntregaSelected = result;\n          this.isTiempoEntregaValid = true;\n          // this.verificarMontoMinimo();\n        }\n      });\n  }\n\n  openDialogsendSMS() {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = 'my-full-screen-dialog';\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.data = {\n      idcliente: this.infoTokenService.infoUsToken.idcliente,\n      numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'\n    };\n\n    const dialogRefTelefono = this.dialogTelefono.open(DialogVerificarTelefonoComponent, _dialogConfig);\n\n    dialogRefTelefono.afterClosed().subscribe((result: any) => {\n      if ( result.verificado ) {\n        this.infoToken.telefono = result.numberphone;\n        this.infoTokenService.setTelefono(result.numberphone);\n        this.datosFormUno.telefono = this.infoToken.telefono;\n        this.validFormDos();\n        // this.verifyClientService.setTelefono(result.numberphone);\n      }\n    });\n\n  }\n\n  openDialogDireccion() {\n    const _DdialogConfig = new MatDialogConfig();\n    _DdialogConfig.disableClose = true;\n    _DdialogConfig.hasBackdrop = true;\n    _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],\n    _DdialogConfig.data = {\n      isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false, // no guarda sole devuelve los datos de la direccion\n      isFromComercio: true, // para empezar en la posicion del comercio\n      // idClienteBuscar: this.infoTokenService.infoUsToken.idcliente // this.resData.idcliente\n    };\n    // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';\n    const dialogRef = this.dialogDireccion.open(DialogSelectDireccionComponent, _DdialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if ( !data ) { return; }\n\n        this.msjErrorDir = '';\n        this.direccionCliente = <DeliveryDireccionCliente>data;\n        this.getDatosSede();\n        this.validFormDos();\n      }\n    );\n  }\n\n  calcularDistanciaEntrega() {\n    this.isCalculandoDistanciaA = true;\n    if ( this.direccionCliente.ciudad.toLocaleLowerCase() !== this.laPlazaDelivery.ciudad.toLocaleLowerCase() ) {\n      // el servicio no esta disponible en esta ubicacion\n      this.direccionCliente.codigo = null;\n      this.msjErrorDir = 'Servicio no disponible en esta dirección.';\n      return;\n    }\n\n\n    this.calcDistanceService.calculateRoute(this.direccionCliente, this.laPlazaDelivery, false);\n    // .subscribe((res: DeliveryEstablecimiento) => {\n      setTimeout(() => {\n        this.isCalculandoDistanciaA = false;\n        this.laPlazaDelivery = this.laPlazaDelivery;\n        // this.laPlazaDelivery = res;\n        // _suscription.unsubscribe();\n        this.validFormDos();\n        this.calcCostoServicio();\n      }, 1600);\n    // });\n\n\n  }\n\n  calcCostoServicio() {\n    if ( !this.laPlazaDelivery ) {return; }\n    const costo_distancia = this.laPlazaDelivery.c_servicio - this.laPlazaDelivery.c_minimo;\n    this.importe_pagar = this.laPlazaDelivery.options.costo_mandado + costo_distancia + this.datosFormUno.vehiculo.costo_adicional;\n  }\n\n\n  enviarPedidoLoQ() {\n\n    try {\n      this.isLoading = true;\n      this.isEnviado = false;\n      this.datosFormUno.importe_pagar = this.importe_pagar;\n      this.datosFormUno.idcliente = this.infoToken.idcliente;\n      this.datosFormUno.direccionCliente = this.direccionCliente;\n      this.datosFormUno.metodoPago = this.metodoPagoSelected;\n      this.datosFormUno.ciudad = this.laPlazaDelivery.ciudad;\n      this.datosFormUno.tiempoEntrega = this.tiempoEntregaSelected;\n      this.datosFormUno.distancia_km = this.laPlazaDelivery.distancia_km;\n      this.datosFormUno.distancia_mt = this.laPlazaDelivery.distancia_mt;\n      this.datosFormUno.systemOS = this.systemOS;\n      this.datosFormUno.is_express = 0;\n\n    } catch (error) {\n      console.log(error);\n    }\n\n    const _dataSend = {\n      dataInfo: this.datosFormUno\n    };\n\n    this.crudService.postFree(_dataSend, 'delivery', 'set-pedido-mandado', false)\n    .subscribe(res => {\n\n      setTimeout(() => {\n        this.isLoading = false;\n        this.isEnviado = true;\n      }, 1500);\n    });\n\n  }\n\n  goZona() {\n    this.router.navigate(['./zona-delivery/establecimientos']);\n  }\n\n  goNext() {\n    this.isShowFinalize = !this.isShowFinalize;\n    this.scrollTopInit();\n  }\n\n  private scrollTopInit() {\n    try {\n      const divcontent = document.getElementById('contentmaster');\n      divcontent.scrollTop = 0;\n    } catch (error) {}\n  }\n\n  // para el tiempo programado\n  setDiasHoraEstablecimineto() {\n    this.laPlazaDelivery.hora_ini = this.laPlazaDelivery.options.s_hini;\n    this.laPlazaDelivery.hora_fin = this.laPlazaDelivery.options.s_hfin;\n    this.laPlazaDelivery.dias_atienden = this.laPlazaDelivery.options.s_dias;\n    this.laPlazaDelivery.pwa_delivery_habilitar_pedido_programado = 1;\n    this.laPlazaDelivery.tiempo_aprox_entrega = this.laPlazaDelivery.options.s_tiempo_aprox;\n    this.establecimientoService.set(this.laPlazaDelivery);\n  }\n\n\n\n\n}\n","export default \"\\r\\n.item-propina {\\r\\n    padding: 5px;\\r\\n    border: 1px solid;\\r\\n    border-radius: 5px;\\r\\n    font-size: 12px;\\r\\n    background-color: white;\\r\\n    margin-left: 5px;\\r\\n}\\r\\n\\r\\n.propina-selected {\\r\\n    background-color: black;\\r\\n    color: white;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wcm9waW5hLWRlbGl2ZXJ5L2NvbXAtcHJvcGluYS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtJQUNJLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXByb3BpbmEtZGVsaXZlcnkvY29tcC1wcm9waW5hLWRlbGl2ZXJ5LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLml0ZW0tcHJvcGluYSB7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG5cclxuLnByb3BpbmEtc2VsZWN0ZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn0iXX0= */\";","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { PropinaModel } from 'src/app/modelos/propina.model';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n@Component({\n  selector: 'app-comp-propina-delivery',\n  templateUrl: './comp-propina-delivery.component.html',\n  styleUrls: ['./comp-propina-delivery.component.css']\n})\nexport class CompPropinaDeliveryComponent implements OnInit {\n\n  propinaSelected: PropinaModel;\n  listPropina: any;\n  arrTotales: any;\n  simbolo_moneda: string;\n\n  _listSubtotales: any;\n\n  @Output() selectedPropina = new EventEmitter<PropinaModel>();\n\n  @Input()\n  set listSubtotales(val: any) {\n    this._listSubtotales = val;\n  }\n\n  constructor(\n    private infoTokenService: InfoTockenService,\n    private establecimientoService: EstablecimientoService\n  ) { }\n\n  ngOnInit() {\n    this.propinaSelected = this.infoTokenService.infoUsToken.propina;\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n    this.loadPropina();\n  }\n\n  private loadPropina(): void {\n    this.listPropina = [];\n    this.listPropina.push(<PropinaModel>{'idpropina': 1, 'value': 0 , 'descripcion': this.simbolo_moneda + ' 0', 'checked': true});\n    this.listPropina.push(<PropinaModel>{'idpropina': 2, 'value': 1 , 'descripcion': this.simbolo_moneda + ' 1', 'checked': false});\n    this.listPropina.push(<PropinaModel>{'idpropina': 3, 'value': 2 , 'descripcion': this.simbolo_moneda + ' 2', 'checked': false});\n    this.listPropina.push(<PropinaModel>{'idpropina': 4, 'value': 3 , 'descripcion': this.simbolo_moneda + ' 3', 'checked': false});\n    this.listPropina.push(<PropinaModel>{'idpropina': 5, 'value': 5 , 'descripcion': this.simbolo_moneda + ' 5', 'checked': false});\n\n\n    this.selectedPropina.emit(this.propinaSelected);\n  }\n\n  itemCheck(item: PropinaModel) {\n    this.listPropina.map(x => x.checked = false);\n    item.checked = true;\n\n    this.propinaSelected = item;\n    this.infoTokenService.setPropina(item);\n\n    // agregar a subtotales\n\n    const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];\n\n    let rowPropina = this._listSubtotales.filter(x => x.id === -3)[0];\n    if ( !rowPropina ) {\n      rowPropina = {};\n      rowPropina.id = -3;\n      rowPropina.descripcion = 'Propina';\n      rowPropina.esImpuesto = 0;\n      rowPropina.visible = false;\n      rowPropina.quitar = false;\n      rowPropina.tachado = false;\n      rowPropina.visible_cpe = false;\n      rowPropina.importe = parseFloat(item.value.toString()).toFixed(2);\n\n      this._listSubtotales.pop();\n      this._listSubtotales.push(rowPropina);\n\n      rowTotal.importe = this.getTotalSubtotales();\n      this._listSubtotales.push(rowTotal);\n    } else {\n      rowPropina.importe = parseFloat(item.value.toString()).toFixed(2);\n      rowTotal.importe = this.getTotalSubtotales();\n    }\n\n    // agregar al local\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));\n\n    this.infoTokenService.setPropina(item);\n    this.selectedPropina.emit(item);\n  }\n\n  // optienen el importe total despues de agregrar la propina\n  private getTotalSubtotales(): any {\n    return this._listSubtotales.filter(x => x.descripcion !== 'TOTAL').map((x: any) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);\n  }\n\n}\n","export default \".div-content-promo {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    overflow: auto;\\r\\n    -webkit-box-orient: horizontal;\\r\\n    -webkit-box-direction: normal;\\r\\n    -webkit-flex-direction: row;\\r\\n            flex-direction: row;\\r\\n    -webkit-flex-wrap: nowrap;\\r\\n            flex-wrap: nowrap;\\r\\n    scrollbar-gutter: unset;\\r\\n}\\r\\n\\r\\n.div-promo {\\r\\n    min-width: 240px;\\r\\n}\\r\\n\\r\\n.div-promo img {\\r\\n    cursor: pointer;\\r\\n    width: 250px;\\r\\n    border-radius: 15px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.div-cerrado-comercio { \\r\\n    position: fixed;\\r\\n    margin: 0 auto;\\r\\n    top: 60px;\\r\\n    background: #ffffff;\\r\\n    left: 100px;\\r\\n    padding: 5px;\\r\\n    border-radius: 5px;\\r\\n    opacity: 0.8;\\r\\n    color: black;\\r\\n    font-size: 12px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC12aWV3LXByb21vL2NvbXAtdmlldy1wcm9tby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYixjQUFjO0lBQ2QsOEJBQW1CO0lBQW5CLDZCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLHlCQUFpQjtZQUFqQixpQkFBaUI7SUFDakIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixjQUFjO0lBQ2QsU0FBUztJQUNULG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXZpZXctcHJvbW8vY29tcC12aWV3LXByb21vLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGl2LWNvbnRlbnQtcHJvbW8ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogbm93cmFwO1xyXG4gICAgc2Nyb2xsYmFyLWd1dHRlcjogdW5zZXQ7XHJcbn1cclxuXHJcbi5kaXYtcHJvbW8ge1xyXG4gICAgbWluLXdpZHRoOiAyNDBweDtcclxufVxyXG5cclxuLmRpdi1wcm9tbyBpbWcge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5kaXYtY2VycmFkby1jb21lcmNpbyB7IFxyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICB0b3A6IDYwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgbGVmdDogMTAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbn0iXX0= */\";","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { URL_IMG_PROMO } from 'src/app/shared/config/config.const';\n\n@Component({\n  selector: 'app-comp-view-promo',\n  templateUrl: './comp-view-promo.component.html',\n  styleUrls: ['./comp-view-promo.component.css']\n})\nexport class CompViewPromoComponent implements OnInit {\n\n  _listPromo: any;\n  // itemEstablecimientoSeleted: DeliveryEstablecimiento;\n\n  @Input()\n  set list(val: any) {\n    this._listPromo = val;\n    // console.log('listPromos', this._listPromo);\n  }\n\n  @Output() itemSelected = new EventEmitter<DeliveryEstablecimiento>();\n\n  private urlRepoImg = URL_IMG_PROMO;\n  // imgdemo = this.urlRepoImg + '/' + '1613promo50.png';\n  imgdemo = this.urlRepoImg;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    // console.log('listPromos', this._listPromo);\n  }\n\n  _itemSelected(item: DeliveryEstablecimiento) {\n    if ( item.cerrado === 1 && item.pwa_delivery_habilitar_pedido_programado !== 1) {return; }\n    this.itemSelected.emit(item);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DatosDeliveryComponent } from './datos-delivery/datos-delivery.component';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { MaterialModule } from '../core/material/material.module';\nimport { DebounceClickDirective } from '../shared/directivas/debounce-click.directive';\nimport { EncuestaOpcionComponent } from './encuesta-opcion/encuesta-opcion.component';\n// import { DialogUbicacionComponent } from './dialog-ubicacion/dialog-ubicacion.component';\nimport { AgmCoreModule } from '@agm/core';\n\nimport { AgregarDireccionComponent } from './agregar-direccion/agregar-direccion.component';\n\nimport { ItemComercioComponent } from './item-comercio/item-comercio.component';\nimport { SeleccionarDireccionComponent } from './seleccionar-direccion/seleccionar-direccion.component';\nimport { ConfirmarDeliveryComponent } from './confirmar-delivery/confirmar-delivery.component';\nimport { MenuLateralClienteComponent } from './menu-lateral-cliente/menu-lateral-cliente.component';\nimport { DialogMetodoPagoComponent } from './dialog-metodo-pago/dialog-metodo-pago.component';\nimport { DialogVerificarTelefonoComponent } from './dialog-verificar-telefono/dialog-verificar-telefono.component';\nimport { DialogTipoComprobanteComponent } from './dialog-tipo-comprobante/dialog-tipo-comprobante.component';\nimport { CompPropinaDeliveryComponent } from './comp-propina-delivery/comp-propina-delivery.component';\nimport { MapaSoloComponent } from './mapa-solo/mapa-solo.component';\nimport { DirectionsMapDirectiveDirective } from '../shared/directivas/directions-map-directive.directive';\nimport { CompPedidoDetalleComponent } from './comp-pedido-detalle/comp-pedido-detalle.component';\nimport { CompCalificacionComponent } from './comp-calificacion/comp-calificacion.component';\n// import { DialogDesicionComponent } from './dialog-desicion/dialog-desicion.component';\n// import { DialogSelectDireccionComponent } from './dialog-select-direccion/dialog-select-direccion.component';\n\nimport { StarRatingModule } from 'angular-star-rating';\nimport { DialogCalificacionComponent } from './dialog-calificacion/dialog-calificacion.component';\nimport { DialogSelectDireccionComponent } from './dialog-select-direccion/dialog-select-direccion.component';\nimport { DialogTiempoEntregaComponent } from './dialog-tiempo-entrega/dialog-tiempo-entrega.component';\nimport { TiempoProgramadoComponent } from './tiempo-programado/tiempo-programado.component';\nimport { CompCajaTextoComponent } from './comp-caja-texto/comp-caja-texto.component';\nimport { CompOpCostoEstimadoComponent } from './comp-op-costo-estimado/comp-op-costo-estimado.component';\nimport { CompPideLoQueQuierasComponent } from './comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component';\nimport { TipoVehiculoComponent } from './tipo-vehiculo/tipo-vehiculo.component';\nimport { CompPideExpressComponent } from './comp-pide-express/comp-pide-express.component';\nimport { CompCheckComponent } from './comp-check/comp-check.component';\nimport { CompCtrlAddFastComponent } from './comp-ctrl-add-fast/comp-ctrl-add-fast.component';\nimport { CompGetDatosClienteComponent } from './comp-get-datos-cliente/comp-get-datos-cliente.component';\nimport { CompPasarelaPagoComponent } from './comp-pasarela-pago/comp-pasarela-pago.component';\nimport { SelectCiudadDeliveryComponent } from './select-ciudad-delivery/select-ciudad-delivery.component';\nimport { CompDatosReservaComponent } from './comp-datos-reserva/comp-datos-reserva.component';\nimport { CompGetHoraComponent } from './comp-get-hora/comp-get-hora.component';\n\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\nimport { DialogCalificacionSedeComponent } from './dialog-calificacion-sede/dialog-calificacion-sede.component';\nimport { DialogNombreClienteComponent } from './dialog-nombre-cliente/dialog-nombre-cliente.component';\nimport { DialogDireccionClienteDeliveryComponent } from './dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component';\nimport { CompListItemPedidoClienteComponent } from './comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component';\nimport { TextNomClienteComponent } from './text-nom-cliente/text-nom-cliente.component';\nimport { DialogConfigPuntoComponent } from './dialog-config-punto/dialog-config-punto.component';\nimport { MozoVirtualOnSpeechComponent } from './mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component';\nimport { MozoShowTraduceTextComponent } from './mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component';\nimport { ItemPromocionComponent } from './item-promocion/item-promocion.component';\nimport { MozoDialogComponent } from './mozo-virtual/mozo-dialog/mozo-dialog.component';\nimport { CompViewPromoComponent } from './comp-view-promo/comp-view-promo.component';\n\n@NgModule({\n  declarations: [\n    DatosDeliveryComponent,\n    DebounceClickDirective,\n    DirectionsMapDirectiveDirective,\n    EncuestaOpcionComponent,\n    AgregarDireccionComponent,\n    ItemComercioComponent,\n    SeleccionarDireccionComponent,\n    ConfirmarDeliveryComponent,\n    MenuLateralClienteComponent,\n    DialogMetodoPagoComponent,\n    DialogVerificarTelefonoComponent,\n    DialogTipoComprobanteComponent,\n    CompPropinaDeliveryComponent,\n    MapaSoloComponent,\n    CompPedidoDetalleComponent,\n    CompCalificacionComponent,\n    DialogCalificacionComponent,\n    DialogSelectDireccionComponent,\n    DialogTiempoEntregaComponent,\n    TiempoProgramadoComponent,\n    CompCajaTextoComponent,\n    CompOpCostoEstimadoComponent,\n    CompPideLoQueQuierasComponent,\n    TipoVehiculoComponent,\n    CompPideExpressComponent,\n    CompCheckComponent,\n    CompCtrlAddFastComponent,\n    CompGetDatosClienteComponent,\n    CompPasarelaPagoComponent,\n    SelectCiudadDeliveryComponent,\n    CompDatosReservaComponent,\n    CompGetHoraComponent,\n    DialogCalificacionSedeComponent,\n    DialogNombreClienteComponent,\n    DialogDireccionClienteDeliveryComponent,\n    CompListItemPedidoClienteComponent,\n    TextNomClienteComponent,\n    DialogConfigPuntoComponent,\n    MozoVirtualOnSpeechComponent,\n    MozoShowTraduceTextComponent,\n    ItemPromocionComponent,\n    MozoDialogComponent,\n    CompViewPromoComponent,\n    // DialogDesicionComponent,\n    // DialogUbicacionComponent\n  ],\n  imports: [\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyAknWQFyVH1RpR2OAL0vRTHTapaIpfKSqo',\n      libraries: ['places']\n    }),\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    MaterialModule,\n    StarRatingModule.forRoot(),\n    NgxMaterialTimepickerModule\n  ],\n  exports: [\n    AgregarDireccionComponent,\n    DatosDeliveryComponent,\n    DebounceClickDirective,\n    EncuestaOpcionComponent,\n    ItemComercioComponent,\n    SeleccionarDireccionComponent,\n    ConfirmarDeliveryComponent,\n    DialogMetodoPagoComponent,\n    DialogVerificarTelefonoComponent,\n    DialogTipoComprobanteComponent,\n    CompPropinaDeliveryComponent,\n    MapaSoloComponent,\n    CompPedidoDetalleComponent,\n    CompCalificacionComponent,\n    DialogCalificacionComponent,\n    DialogSelectDireccionComponent,\n    DialogTiempoEntregaComponent,\n    TiempoProgramadoComponent,\n    CompOpCostoEstimadoComponent,\n    CompCajaTextoComponent,\n    CompPideLoQueQuierasComponent,\n    CompPideExpressComponent,\n    TipoVehiculoComponent,\n    CompCtrlAddFastComponent,\n    CompGetDatosClienteComponent,\n    CompPasarelaPagoComponent,\n    SelectCiudadDeliveryComponent,\n    CompDatosReservaComponent,\n    CompGetHoraComponent,\n    DialogCalificacionSedeComponent,\n    CompListItemPedidoClienteComponent,\n    TextNomClienteComponent,\n    DialogConfigPuntoComponent,\n    MozoVirtualOnSpeechComponent,\n    MozoShowTraduceTextComponent,\n    ItemPromocionComponent,\n    MozoDialogComponent,\n    CompViewPromoComponent\n    // DialogDesicionComponent\n  ],\n\n  // entryComponents: [\n  //   DialogMetodoPagoComponent,\n  //   DialogVerificarTelefonoComponent,\n  //   DialogTipoComprobanteComponent,\n  //   DialogCalificacionComponent,\n  //   DialogSelectDireccionComponent,\n  //   DialogTiempoEntregaComponent\n  //   // DialogDesicionComponent\n  // ]\n})\nexport class ComponentesModule { }\n","export default \".div-total {\\r\\n    border-top: 2px dashed #9e9e9e;\\r\\n}\\r\\n\\r\\n.ul-total li:last-child{\\r\\n    font-size: 20px;\\r\\n    font-weight: 800;\\r\\n}\\r\\n\\r\\n.li-item {\\r\\n    padding-top: 6px;\\r\\n    padding-bottom: 6px;\\r\\n    border-top: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.img-ico-entrega {\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n.div-info {\\r\\n    background: antiquewhite;\\r\\n    padding: 5px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.div-metodo-pago {\\r\\n    background: #d0f1ff;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29uZmlybWFyLWRlbGl2ZXJ5L2NvbmZpcm1hci1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29uZmlybWFyLWRlbGl2ZXJ5L2NvbmZpcm1hci1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRpdi10b3RhbCB7XHJcbiAgICBib3JkZXItdG9wOiAycHggZGFzaGVkICM5ZTllOWU7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxufVxyXG5cclxuLmxpLWl0ZW0ge1xyXG4gICAgcGFkZGluZy10b3A6IDZweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA2cHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLmltZy1pY28tZW50cmVnYSB7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbn1cclxuXHJcbi5kaXYtaW5mbyB7XHJcbiAgICBiYWNrZ3JvdW5kOiBhbnRpcXVld2hpdGU7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5kaXYtbWV0b2RvLXBhZ28ge1xyXG4gICAgYmFja2dyb3VuZDogI2QwZjFmZjtcclxufSJdfQ== */\";","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { DialogMetodoPagoComponent } from '../dialog-metodo-pago/dialog-metodo-pago.component';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { TipoComprobanteModel } from 'src/app/modelos/tipo.comprobante.model';\n// import { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { DialogVerificarTelefonoComponent } from '../dialog-verificar-telefono/dialog-verificar-telefono.component';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\nimport { DialogTipoComprobanteComponent } from '../dialog-tipo-comprobante/dialog-tipo-comprobante.component';\nimport { PropinaModel } from 'src/app/modelos/propina.model';\nimport { DialogSelectDireccionComponent } from '../dialog-select-direccion/dialog-select-direccion.component';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { DialogTiempoEntregaComponent } from '../dialog-tiempo-entrega/dialog-tiempo-entrega.component';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { DialogDireccionClienteDeliveryComponent } from '../dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component';\n\n\n@Component({\n  selector: 'app-confirmar-delivery',\n  templateUrl: './confirmar-delivery.component.html',\n  styleUrls: ['./confirmar-delivery.component.css']\n})\nexport class ConfirmarDeliveryComponent implements OnInit {\n\n  infoEstablecimiento: DeliveryEstablecimiento;\n  infoToken: UsuarioTokenModel;\n  direccionCliente: DeliveryDireccionCliente;\n  direccionClienteIni: DeliveryDireccionCliente;\n  metodoPagoSelected: MetodoPagoModel;\n  tipoComprobanteSelected: TipoComprobanteModel;\n  propinaSelected: PropinaModel;\n  tiempoEntregaSelected: TiempoEntregaModel;\n\n\n  isComercioCerrado = false;\n  isComercioAceptaPedidoProgramado = false;\n  isComercioRepartidoresPropios = false;\n  isComercioPapayaSoloPedidosApp = false;\n  isRecojoLocalCheked = false;\n  isAceptaRecojoLocal = true;\n  isValidForm = false;\n  isTiempoEntregaValid = false;\n  msjErrorDir = ''; //\n  rippleColor = 'rgb(255,238,88, 0.3)';\n\n  montoMinimoPedido = 10; // monto minimo del pedido\n\n  // return for printer\n  resData = {\n    idcliente: '',\n    dni: '',\n    nombre: '',\n    f_nac: '',\n    direccion: '',\n    telefono: '',\n    paga_con: '',\n    dato_adicional: '',\n    referencia: '',\n    tipoComprobante: {},\n    importeTotal: 0,\n    metodoPago: {},\n    propina: {},\n    direccionEnvioSelected: {},\n    establecimiento: {},\n    subTotales: {},\n    pasoRecoger: false,\n    costoTotalDelivery: 0,\n    tiempoEntregaProgamado: {},\n    solicitaCubiertos: 0\n  };\n\n  _listSubtotalesTmp: any;\n  _listSubtotales: any;\n\n  isComercioSolidaridad = false;\n  titleInputDatoAdicional = 'Dato importante';\n\n  valInputDatoAdicianal = '';\n\n  private isHabilitadoTarjeta = true; // comercios no afiliado no se acepta tarjeta por la comision que cobran, algunos comercios tambien pueden especificar que no desean pagos con tarjeta\n\n  dirEstablecimiento: DeliveryEstablecimiento;\n\n  isRain = false; // si esta lloviendo\n\n  listIconsEntrega = [];\n\n\n  isCalculandoDistanciaA = false;\n\n  isRestaurante = false;\n  isCubierto = false;\n\n  @Input()\n  set listSubtotales(val: any) {\n    this._listSubtotales = val;\n    this.loadData();\n  }\n\n\n  @Output() isReady = new EventEmitter<boolean>();\n  @Output() dataDelivery = new EventEmitter<any>();\n\n  nombreClienteValido = false;\n  isShowNombreClienteLoginInvitado = false;\n\n  simbolo_moneda: string;\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    private infoTokenService: InfoTockenService,\n    private verifyClientService: VerifyAuthClientService,\n    private establecimientoService: EstablecimientoService,\n    private calcDistanceService: CalcDistanciaService,\n    private dialog: MatDialog,\n    private dialogTelefono: MatDialog,\n    private dialogTipoComprobante: MatDialog,\n    private dialogDireccion: MatDialog,\n    private dialogTiempoEntrega: MatDialog,\n    private utilService: UtilitariosService,\n    private dialogDireccionClienteDelivery: MatDialog,\n    // private crudService: CrudHttpService\n  ) { }\n\n  ngOnInit() {\n\n\n    this.loadData();\n\n    const _datosEstablecieminto = this.establecimientoService.get();\n    this.montoMinimoPedido = _datosEstablecieminto.pwa_delivery_importe_min;\n    this.tipoComprobanteSelected = this.infoTokenService.infoUsToken.tipoComprobante;\n    this.propinaSelected = this.infoTokenService.infoUsToken.propina;\n\n    this.isShowNombreClienteLoginInvitado = this.verifyClientService.getDataClient().isLoginByInvitado || false;\n    if ( this.isShowNombreClienteLoginInvitado ) {\n      let nomClienteInvitato = this.infoTokenService.infoUsToken.nombres;\n      nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;\n      this.isShowNombreClienteLoginInvitado = nomClienteInvitato === '';\n      this.nombreClienteValido = !this.isShowNombreClienteLoginInvitado;\n    } else {\n      // this.nombreClienteValido = true;\n\n      let nomClienteInvitato = this.infoTokenService.infoUsToken.nombres;\n      nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;\n      this.nombreClienteValido = nomClienteInvitato !== '';\n    }\n\n    this.isComercioSolidaridad = _datosEstablecieminto.pwa_delivery_comercio_solidaridad === 1;\n    this.titleInputDatoAdicional = this.isComercioSolidaridad ? 'Contacto' : 'Algún dato importante?';\n\n    this.isComercioRepartidoresPropios = _datosEstablecieminto.pwa_delivery_servicio_propio === 1;\n    this.isComercioPapayaSoloPedidosApp = _datosEstablecieminto.pwa_delivery_reparto_solo_app === 1;\n\n    // this.isRain = _datosEstablecieminto.is_rain === 1 ? true : false;\n    // console.log('_datosEstablecieminto', _datosEstablecieminto);\n    try {\n      this.listIconsEntrega = JSON.parse(JSON.stringify(_datosEstablecieminto.icons_entrega));\n    } catch (error) {\n      this.listIconsEntrega = [];\n    }\n\n    // si no tiene la distancia, entonces no calculo el costo de entrega\n    if ( !this.dirEstablecimiento.distancia_km ) {\n      this.calcularCostoEntrega(this.direccionCliente);\n    }\n\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n  }\n\n  private getTiempoEntrega() {\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    if ( this.infoTokenService.infoUsToken.tiempoEntrega ) {\n      this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;\n      this.isTiempoEntregaValid = this.tiempoEntregaSelected.valid;\n      return;\n    }\n\n    if ( this.isComercioCerrado ) {\n      this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';\n      this.tiempoEntregaSelected.value = '';\n      this.tiempoEntregaSelected.modificado = false;\n      this.tiempoEntregaSelected.valid = false;\n      this.isTiempoEntregaValid = false;\n      this.tiempoEntregaSelected.iddia = new Date().getDay();\n      this.infoTokenService.infoUsToken.tiempoEntrega = this.tiempoEntregaSelected;\n      return;\n    }\n\n    this.tiempoEntregaSelected.descripcion = 'Lo antes posible';\n    this.tiempoEntregaSelected.value = this.infoEstablecimiento.tiempo_aprox_entrega;\n    this.tiempoEntregaSelected.modificado = false;\n    this.tiempoEntregaSelected.valid = true;\n    this.isTiempoEntregaValid = true;\n\n\n  }\n\n  private loadData(): void {\n    this.dirEstablecimiento = this.establecimientoService.get();\n\n\n    this.isComercioCerrado = this.dirEstablecimiento.cerrado === 1;\n    this.isComercioAceptaPedidoProgramado = this.dirEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1;\n\n\n    this.direccionClienteIni = new DeliveryDireccionCliente();\n    this.direccionClienteIni.titulo = 'Seleccione una direccion *';\n    this.direccionClienteIni.direccion = '';\n    this.direccionClienteIni.referencia = '';\n\n\n\n    // metodo de pago\n    this.isHabilitadoTarjeta  = this.establecimientoService.get().pwa_delivery_acepta_tarjeta === 1;\n    this.metodoPagoSelected =  this.infoTokenService.setIniMetodoPagoSegunFiltro(this.isHabilitadoTarjeta);\n\n    // direccion de entrega\n    this.infoToken = this.infoTokenService.getInfoUs();\n    // console.log('this.infoToken', this.infoToken);\n\n    // que tenga la posibilidad de cambiar de direccion\n    this.direccionCliente = this.infoToken.direccionEnvioSelected ? this.infoToken.direccionEnvioSelected : this.direccionClienteIni;\n\n\n\n    // establecimiento seleccionado\n    this.infoEstablecimiento = this.establecimientoService.get();\n    this.getTiempoEntrega();\n\n    // si es restaurante muestra opciones adicionales como la posibilidad de pedir cubiertos\n    this.isRestaurante = this.infoEstablecimiento.idsede_categoria === 1;\n\n    this.isAceptaRecojoLocal = this.infoEstablecimiento.pwa_delivery_habilitar_recojo_local === 1;\n\n\n    this.resData.telefono = this.infoToken.telefono;\n    this.isValidForm = this.infoToken.telefono ? this.infoToken.telefono.length >= 5 ? true : false : false;\n    this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;\n    if ( this.isValidForm ) {\n      setTimeout(() => {\n        this.verificarNum(this.infoToken.telefono);\n      }, 500);\n    }\n  }\n\n  verificarNum(telefono: string): void {\n    // this.isValidForm = telefono.trim().length >= 5 ? true : false;\n    // this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;\n    // this.isReady.emit(this.isValidForm);\n    this.resData.telefono = telefono;\n    this.verificarFormValid();\n\n    this.propinaSelected = this.infoTokenService.infoUsToken.propina;\n\n    // const importeTotal = parseInt(this._listSubtotales[0].importe, 0);\n    const importeTotal = this._listSubtotales[this._listSubtotales.length - 1].importe;\n\n    const importeMetodoPago = this.metodoPagoSelected.importe ? this.metodoPagoSelected.importe : '';\n\n    if (this.isValidForm) {\n      this.resData.nombre = this.infoToken.nombres;\n      this.resData.direccion = this.infoToken.direccionEnvioSelected?.direccion;\n      this.resData.referencia = this.utilService.addslashes(this.infoToken.direccionEnvioSelected?.referencia);\n      this.resData.direccionEnvioSelected = this.infoToken.direccionEnvioSelected;\n      this.resData.idcliente = this.infoToken.idcliente.toString();\n      this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + importeMetodoPago;\n      this.resData.telefono = telefono;\n      this.resData.metodoPago = this.metodoPagoSelected;\n      this.resData.tipoComprobante = this.tipoComprobanteSelected;\n      this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;\n      this.resData.establecimiento = this.infoEstablecimiento;\n      this.resData.importeTotal = importeTotal;\n      this.resData.subTotales = this._listSubtotales;\n      this.resData.propina = this.propinaSelected;\n      this.infoToken.telefono = telefono;\n      this.infoTokenService.setTelefono(telefono);\n      this.resData.pasoRecoger = this.isRecojoLocalCheked;\n      this.resData.dato_adicional = this.valInputDatoAdicianal;\n      this.resData.costoTotalDelivery = this.infoEstablecimiento.costo_total_servicio_delivery;\n      this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;\n\n      // this.infoTokenService.set();\n\n      this.dataDelivery.emit(this.resData);\n    }\n\n    this.verificarMontoMinimo();\n  }\n\n  private verificarMontoMinimo() {\n    // const importeTotal = parseInt(this._listSubtotales[0].importe, 0);\n    const importeTotal = this._listSubtotales[this._listSubtotales.length - 1].importe;\n    this.resData.importeTotal = importeTotal;\n    // this.isValidForm = importeTotal >= this.montoMinimoPedido && this.isValidForm ? true : false;\n    // this.isReady.emit(this.isValidForm);\n\n    this.verificarFormValid();\n\n    this.propinaSelected = this.infoTokenService.infoUsToken.propina;\n\n    const importeMetodoPago = this.metodoPagoSelected.importe ? this.metodoPagoSelected.importe : '';\n\n    // if ( !this.direccionCliente.codigo && !this.isRecojoLocalCheked ) { this.isValidForm = false; }\n\n    if (this.isValidForm) {\n      this.resData.nombre = this.infoToken.nombres;\n      this.resData.direccion = this.infoToken.direccionEnvioSelected?.direccion;\n      this.resData.referencia = this.utilService.addslashes(this.infoToken.direccionEnvioSelected?.referencia);\n      this.resData.direccionEnvioSelected = this.infoToken.direccionEnvioSelected;\n      this.resData.idcliente = this.infoToken.idcliente.toString();\n      this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + importeMetodoPago;\n      this.resData.telefono = this.infoToken.telefono;\n      this.resData.metodoPago = this.metodoPagoSelected;\n      this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;\n      this.resData.tipoComprobante = this.tipoComprobanteSelected;\n      this.resData.establecimiento = this.infoEstablecimiento;\n      this.resData.propina = this.propinaSelected;\n      this.resData.importeTotal = importeTotal;\n      this.resData.subTotales = this._listSubtotales;\n      this.resData.pasoRecoger = this.isRecojoLocalCheked;\n      this.resData.dato_adicional = this.valInputDatoAdicianal;\n      this.resData.costoTotalDelivery = this.infoEstablecimiento.costo_total_servicio_delivery;\n      this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;\n      // this.infoToken.telefono = telefono;\n      // this.infoTokenService.setTelefono(telefono);\n\n      this.infoTokenService.set();\n      this.dataDelivery.emit(this.resData);\n    }\n  }\n\n  private verificarFormValid(): void {\n    // console.log('this.nombreClienteValido', this.nombreClienteValido);\n    this.isValidForm = this.isTiempoEntregaValid;\n    this.isValidForm = this.resData.importeTotal >= this.montoMinimoPedido && this.isValidForm ? true : false;\n    this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;\n    this.isValidForm = !this.direccionCliente.ciudad && !this.isRecojoLocalCheked ? false : this.isValidForm;\n    this.isValidForm = this.resData.telefono.trim().length >= 5 ? this.isValidForm : false;\n    this.isValidForm = this.isValidForm && !this.isCalculandoDistanciaA;\n    this.isValidForm = this.isValidForm && this.nombreClienteValido;\n    // if ( !this.direccionCliente.codigo && !this.isRecojoLocalCheked ) { this.isValidForm = false; }\n    this.isReady.emit(this.isValidForm);\n  }\n\n  openDialogMetodoPago(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      importeTotalPagar: this._listSubtotales[this._listSubtotales.length - 1].importe\n    };\n\n    const dialogLoading = this.dialog.open(DialogMetodoPagoComponent, _dialogConfig);\n      dialogLoading.afterClosed().subscribe((result: MetodoPagoModel) => {\n        this.metodoPagoSelected = result;\n\n        // guarda local mps metodo pago seleccionado\n        localStorage.setItem('sys:mps', btoa(JSON.stringify(result)));\n\n        this.verificarFormValid();\n\n        // this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;\n        this.verificarMontoMinimo();\n      });\n  }\n\n  openDialogTipoComprobnate(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n\n    const dialogTpC = this.dialogTipoComprobante.open(DialogTipoComprobanteComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TipoComprobanteModel) => {\n        this.tipoComprobanteSelected = result;\n      });\n  }\n\n  openDialogsendSMS() {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = 'my-full-screen-dialog';\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.data = {\n      idcliente: this.infoTokenService.infoUsToken.idcliente,\n      numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'\n    };\n\n    const dialogRefTelefono = this.dialogTelefono.open(DialogVerificarTelefonoComponent, _dialogConfig);\n\n    dialogRefTelefono.afterClosed().subscribe((result: any) => {\n      this.isValidForm = result.verificado;\n      if ( result.verificado ) {\n        this.infoToken.telefono = result.numberphone;\n        this.infoTokenService.setTelefono(result.numberphone);\n        this.verifyClientService.setTelefono(result.numberphone);\n        this.resData.telefono = this.infoToken.telefono;\n      }\n      this.verificarMontoMinimo();\n\n    });\n\n  }\n\n  // cuando el recojo es en el local\n  recalcularTotales(): void {\n    // this._listSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);\n    if ( this.isRecojoLocalCheked ) {\n      // propina se vielve 0\n      this.propinaSelected = {'idpropina': 1, 'value': 0 , 'descripcion': this.simbolo_moneda + ' 0', 'checked': true};\n      this.infoTokenService.setPropina(this.propinaSelected);\n\n      // recalcular subtotales\n      // lista temporal para back\n      this._listSubtotalesTmp = JSON.parse(JSON.stringify(this._listSubtotales));\n\n      const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];\n      this._listSubtotales = this._listSubtotales.filter(x => {\n        const _idTp = isNaN(parseInt(x.id, 0)) ? 1 : x.id;\n        if ( _idTp >= 0  && x.descripcion !== 'TOTAL' && x.descripcion.toUpperCase() !== 'ENTREGA' ) {\n          return x;\n        }\n      });\n      const _subtotal = this._listSubtotales.map((x: any) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);\n      rowTotal.importe = _subtotal;\n      this._listSubtotales.push(rowTotal);\n\n    } else {\n      this._listSubtotales = this._listSubtotalesTmp;\n    }\n\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));\n    this.infoTokenService.setPasoRecoger(this.isRecojoLocalCheked);\n\n    this.verificarMontoMinimo();\n  }\n\n  selectedPropinaRepartidor(propina: PropinaModel) {\n    this.propinaSelected = propina;\n    this.resData.propina = propina;\n  }\n\n\n\n\n\n\n\n  openDialogDireccion() {\n\n\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      idcliente : this.infoTokenService.infoUsToken.idcliente\n    };\n\n    const dialogDireccionCliente = this.dialogDireccionClienteDelivery.open(DialogDireccionClienteDeliveryComponent, _dialogConfig);\n    dialogDireccionCliente.afterClosed().subscribe((data: any) => {\n      if ( !data ) { return; }\n        // console.log('direcion', data);\n        // this.verifyClientService.setDireccionDeliverySelected(data);\n        // this.setDireccion(data);\n\n        this.msjErrorDir = '';\n        this.direccionCliente = <DeliveryDireccionCliente>data;\n\n        // if ( this.direccionCliente.codigo !== this.infoEstablecimiento.codigo_postal ) {\n        if ( this.direccionCliente.ciudad.toLocaleLowerCase() !== this.infoEstablecimiento.ciudad.toLocaleLowerCase() ) {\n          // el servicio no esta disponible en esta ubicacion\n          // this.direccionCliente = this.direccionClienteIni;\n          // this.infoToken.direccionEnvioSelected = null;\n          this.direccionCliente.codigo = null;\n          this.msjErrorDir = 'Servicio no disponible en esta dirección.';\n          this.verificarMontoMinimo();\n          return;\n        }\n\n        this.infoToken.direccionEnvioSelected = this.direccionCliente;\n\n        // esto para poder guardar en el procedure\n        this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;\n\n\n        this.calcularCostoEntrega(this.direccionCliente);\n    });\n\n  }\n\n  // anterior\n  openDialogDireccion_anterior() {\n    const _DdialogConfig = new MatDialogConfig();\n    _DdialogConfig.disableClose = true;\n    _DdialogConfig.hasBackdrop = true;\n    _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _DdialogConfig.data = {\n      isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false, // no guarda sole devuelve los datos de la direccion\n      isFromComercio: true, // para empezar en la posicion del comercio\n      idClienteBuscar: this.infoTokenService.infoUsToken.idcliente // this.resData.idcliente\n    };\n    // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';\n    const dialogRef = this.dialogDireccion.open(DialogSelectDireccionComponent, _DdialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if ( !data ) { return; }\n        this.msjErrorDir = '';\n        this.direccionCliente = <DeliveryDireccionCliente>data;\n\n        // if ( this.direccionCliente.codigo !== this.infoEstablecimiento.codigo_postal ) {\n        if ( this.direccionCliente.ciudad.toLocaleLowerCase() !== this.infoEstablecimiento.ciudad.toLocaleLowerCase() ) {\n          // el servicio no esta disponible en esta ubicacion\n          // this.direccionCliente = this.direccionClienteIni;\n          // this.infoToken.direccionEnvioSelected = null;\n          this.direccionCliente.codigo = null;\n          this.msjErrorDir = 'Servicio no disponible en esta dirección.';\n          this.verificarMontoMinimo();\n          return;\n        }\n\n        this.infoToken.direccionEnvioSelected = this.direccionCliente;\n\n        // esto para poder guardar en el procedure\n        this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;\n\n\n        this.calcularCostoEntrega(this.direccionCliente);\n        // this.calcDistanceService.calculateRoute(<DeliveryDireccionCliente>data, this.dirEstablecimiento, false);\n\n      }\n    );\n  }\n\n  calcularCostoEntrega(direccionCliente: DeliveryDireccionCliente) {\n\n    this.isReady.emit(false);\n    this.isCalculandoDistanciaA = true;\n    this.calcDistanceService.calculateRoute(direccionCliente, this.dirEstablecimiento, false);\n    // .subscribe((res: any) => {\n    setTimeout(() => {\n      // this.dirEstablecimiento = this.dirEstablecimiento;\n      this.establecimientoService.set(this.dirEstablecimiento);\n      this.infoEstablecimiento.c_servicio = this.dirEstablecimiento.c_servicio;\n      this.resData.costoTotalDelivery = this.dirEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;\n\n      const _arrSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);\n      localStorage.setItem('sys::st', btoa(JSON.stringify(_arrSubtotales)));\n\n      this._listSubtotales = _arrSubtotales;\n      this.isCalculandoDistanciaA = false;\n\n      this.verificarMontoMinimo();\n    }, 1500);\n    // });\n\n  }\n\n\n  openDialogTiempoEntrega(): void {\n    const _dialogConfig = new MatDialogConfig();\n    // _dialogConfig.width = '480px';\n    // _dialogConfig.disableClose = false;\n    // _dialogConfig.hasBackdrop = true;\n    // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n    _dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogTpC = this.dialogTipoComprobante.open(DialogTiempoEntregaComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TiempoEntregaModel) => {\n        if ( result ) {\n          this.infoTokenService.setTiempoEntrega(result);\n          this.tiempoEntregaSelected = result;\n          this.isTiempoEntregaValid = true;\n          this.verificarMontoMinimo();\n        }\n      });\n  }\n\n}\n\n","export default \".div-total {\\r\\n    border-top: 2px dashed #9e9e9e;\\r\\n}\\r\\n\\r\\n.ul-total li:last-child{\\r\\n    font-size: 20px;\\r\\n    font-weight: 800;\\r\\n}\\r\\n\\r\\n.li-item {\\r\\n    padding-top: 6px;\\r\\n    padding-bottom: 6px;\\r\\n    border-top: 1px solid #e0e0e0;\\r\\n}\\r\\n\\r\\n.mat-option {\\r\\n    height: 20px !important;\\r\\n}\\r\\n\\r\\n.span-input-alert {\\r\\n    bottom: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGF0b3MtZGVsaXZlcnkvZGF0b3MtZGVsaXZlcnkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kYXRvcy1kZWxpdmVyeS9kYXRvcy1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRpdi10b3RhbCB7XHJcbiAgICBib3JkZXItdG9wOiAycHggZGFzaGVkICM5ZTllOWU7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxufVxyXG5cclxuLmxpLWl0ZW0ge1xyXG4gICAgcGFkZGluZy10b3A6IDZweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA2cHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLm1hdC1vcHRpb24ge1xyXG4gICAgaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5zcGFuLWlucHV0LWFsZXJ0IHtcclxuICAgIGJvdHRvbTogMjBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufSJdfQ== */\";","import { Component, OnInit, Output, EventEmitter, ViewChild, ElementRef, Input } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { DialogSelectDireccionComponent } from '../dialog-select-direccion/dialog-select-direccion.component';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { DialogMetodoPagoComponent } from '../dialog-metodo-pago/dialog-metodo-pago.component';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { CalcDistanciaService } from 'src/app/shared/services/calc-distancia.service';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { startWith } from 'rxjs/internal/operators/startWith';\nimport { map } from 'rxjs/internal/operators/map';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { DialogTiempoEntregaComponent } from '../dialog-tiempo-entrega/dialog-tiempo-entrega.component';\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { ClienteService } from 'src/app/shared/services/cliente.service';\n// import { MapsAPILoader } from '@agm/core';\n\n@Component({\n  selector: 'app-datos-delivery',\n  templateUrl: './datos-delivery.component.html',\n  styleUrls: ['./datos-delivery.component.css']\n})\nexport class DatosDeliveryComponent implements OnInit {\n  @ViewChild('search') public searchElementRef: ElementRef;\n\n  @Output() public changeStatus = new EventEmitter<any>();\n\n  _listSubtotalesTmp: any;\n  _listSubtotales: any;\n  isDataFromDNI = false; // si utilizo el dni para registrar\n  errorDni = false;\n\n  private isValid = false;\n\n  @Input()\n  set listSubtotales(val: any) {\n    this._listSubtotales = val;\n  }\n\n  myForm: FormGroup;\n  loadConsulta = false;\n  isNuevoCliente = false; // si es nuevo cliente manda a guardar\n  direccionCliente: any = {};\n\n  dateInfoSede;\n  metodoPagoSelected: MetodoPagoModel;\n  isRecojoLocalCheked = false;\n  isAceptaRecojoLocal = true;\n\n  dataListClientes: any = [];\n  filteredOptions: Observable<any[]>;\n  myControl = new FormControl();\n  clienteSelectBusqueda: any;\n\n  infoEstablecimiento: DeliveryEstablecimiento;\n  tiempoEntregaSelected: TiempoEntregaModel;\n  rippleColor = 'rgb(255,238,88, 0.3)';\n\n  // latitude: number;\n  // longitude: number;\n  // address = '';\n  // dataMapa: any;\n  // private geoCoder;\n\n  // return for printer\n  private resData = {\n    idcliente: '',\n    dni: '',\n    nombre: '',\n    f_nac: '',\n    direccion: '',\n    telefono: '',\n    paga_con: '',\n    dato_adicional: '',\n    referencia: '',\n    tipoComprobante: {},\n    importeTotal: 0,\n    metodoPago: {},\n    propina: {},\n    direccionEnvioSelected: {},\n    establecimiento: {},\n    subTotales: {},\n    pasoRecoger: false,\n    buscarRepartidor: true,\n    isFromComercio: 1, // el pedido esta yendo desde el comercio,\n    costoTotalDelivery: 0,\n    tiempoEntregaProgamado: {},\n    num_verificador: '',\n    solicitaCubiertos: 0\n  };\n\n  dirEstablecimiento: DeliveryEstablecimiento;\n  importeTota = 0;\n\n  isShowAddDireccionMapa = true; // si esta habilitado busqueda en el mapa\n\n  isCubierto = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private crudService: CrudHttpService,\n    private dialogDireccion: MatDialog,\n    private infoTokenService: InfoTockenService,\n    private miPedidoService: MipedidoService,\n    private dialog: MatDialog,\n    private establecimientoService: EstablecimientoService,\n    private calcDistanceService: CalcDistanciaService,\n    private dialogTipoComprobante: MatDialog,\n    private utilService: UtilitariosService,\n    private clienteService: ClienteService\n    // private mapsAPILoader: MapsAPILoader,\n    // private ngZone: NgZone,\n    ) { }\n\n  ngOnInit() {\n\n    this.direccionCliente = {\n      titulo: 'Seleccione una direccion *',\n      direccion: '',\n      referencia: ''\n    };\n\n\n\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    // if ( this.infoTokenService.infoUsToken.tiempoEntrega ) {\n    //   this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;\n    //   // return;\n    // } else {\n    //   // this.isTiempoEntregaValid = false;\n    // }\n    this.tiempoEntregaSelected.descripcion = 'Programa la entrega';\n    this.tiempoEntregaSelected.value = '';\n    this.tiempoEntregaSelected.modificado = false;\n\n    this.infoTokenService.setIniMetodoPago('Efectivo');\n    this.metodoPagoSelected = this.infoTokenService.infoUsToken.metodoPago;\n    // this.dateInfoSede = this.miPedidoService.objDatosSede.datossede[0];\n\n    this.dirEstablecimiento = this.establecimientoService.get();\n\n    //  this.dateInfoSede.pwa_delivery_habilitar_recojo_local\n    this.isAceptaRecojoLocal = this.establecimientoService.establecimiento.pwa_delivery_habilitar_recojo_local === 1;\n\n    this.myForm = this.fb.group({\n      idcliente: new FormControl(''),\n      dni: new FormControl(''),\n      nombre: new FormControl('', [Validators.required]),\n      f_nac: new FormControl(''),\n      // direccion: new FormControl('', [Validators.required]),\n      telefono: new FormControl(''),\n      // paga_con: new FormControl('', [Validators.required]),\n      dato_adicional: new FormControl(''),\n      num_verificador: new FormControl('')\n    });\n\n    this.myForm.statusChanges.subscribe(res => {\n      this.isValid = res === 'VALID' ? true : false;\n      // const dataEmit = {\n      //   formIsValid: isValid,\n      //   isNuevoCliente: this.isNuevoCliente,\n      //   formData: this.myForm.value,\n      //   direccionMapsSave: this.direccionCliente // direccion guardar en el cliente\n      // };\n\n      // setear respuest\n\n      this.setearData();\n      // this.changeStatus.emit(dataEmit);\n    });\n\n\n    this.infoEstablecimiento = this.establecimientoService.get();\n\n    this.isShowAddDireccionMapa = this.infoEstablecimiento.pwa_habilitar_busqueda_mapa === 1;\n\n    // traer todos los clientes\n    // this.getAllClientes();\n\n\n    this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        // debounceTime(400), // al poner esto no actualiza formulario\n        // distinctUntilChanged(),\n        startWith(''),\n        switchMap(value => {\n          return this._filter(value);\n        }),\n        map(res => this.dataListClientes = res)\n        // map(value => this._filter(value))\n      );\n\n  }\n\n  setTextDirClienteNoMapa(val: string) {\n    this.direccionCliente.direccion = this.utilService.addslashes(val);\n    this.setearData();\n  }\n\n  setearData() {\n      this.isValid = this.myForm.status === 'VALID' ? true : false;\n\n      this.resData.idcliente = this.myForm.controls.idcliente.value || null;\n      this.resData.dni = this.myForm.controls.dni.value;\n      this.resData.nombre = this.myForm.controls.nombre.value;\n      this.resData.f_nac = this.myForm.controls.f_nac.value;\n      this.resData.num_verificador = this.myForm.controls.num_verificador.value;\n      // this.resData.direccion = this.myForm.controls.direccion.value.toString();\n      this.resData.telefono = this.myForm.controls.telefono.value;\n      // this.resData.paga_con = this.myForm.controls.paga_con.value.toString();\n      this.resData.importeTotal = this.getTotalPedido();\n      this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + this.metodoPagoSelected.importe || '';\n      this.resData.dato_adicional = this.myForm.controls.dato_adicional.value;\n      this.resData.metodoPago = this.metodoPagoSelected;\n      this.resData.tipoComprobante = this.infoTokenService.getInfoUs().tipoComprobante;\n      this.resData.direccionEnvioSelected = this.direccionCliente;\n      this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;\n      this.resData.establecimiento = this.infoEstablecimiento;\n      this.resData.referencia = this.direccionCliente.referencia === '' ? this.resData.nombre : this.utilService.addslashes(this.direccionCliente.referencia);\n      this.resData.direccion = this.direccionCliente.direccion;\n      this.resData.subTotales = this._listSubtotales;\n      this.resData.propina = this.infoTokenService.getInfoUs().propina;\n      this.resData.pasoRecoger = this.isRecojoLocalCheked;\n      this.resData.buscarRepartidor = this.establecimientoService.establecimiento.pwa_delivery_servicio_propio === 0;\n      this.resData.costoTotalDelivery = this.infoEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;\n      this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;\n      // this.resData.establecimiento = this.infoEstablecimiento;\n\n\n      if ( this.isShowAddDireccionMapa ) {\n        if ( !this.direccionCliente.ciudad && !this.isRecojoLocalCheked ) { this.isValid = false; }\n      }\n\n      const dataEmit = {\n        formIsValid: this.isValid,\n        isNuevoCliente: this.isNuevoCliente,\n        formData: this.resData,\n        direccionMapsSave: this.direccionCliente // direccion guardar en el cliente\n      };\n\n      this.changeStatus.emit(dataEmit);\n  }\n\n  buscarDNI(): void {\n    this.errorDni = false;\n    if ( this.myForm.controls.dni.value.length < 8 ) { this.errorDni = true; return; }\n    const datos = {\n      documento : this.myForm.controls.dni.value\n    };\n\n    this.loadConsulta = true;\n    this.isNuevoCliente = false;\n    this.limpiarForm(datos.documento);\n    this.isDataFromDNI = true;\n\n    // primero consultamos en la bd\n    this.crudService.postFree(datos, 'service', 'consulta-dni-ruc', true)\n    .subscribe((res: any) => {\n      const _datosBd = res.data;\n      if ( res.success && _datosBd.length > 0 ) {\n        this.myForm.controls.idcliente.patchValue(_datosBd[0].idcliente);\n        this.myForm.controls.nombre.patchValue(_datosBd[0].nombres);\n        this.myForm.controls.f_nac.patchValue(_datosBd[0].f_nac);\n        this.myForm.controls.num_verificador.patchValue('');\n\n        this.myControl.patchValue(_datosBd[0].nombres);\n\n        // this.myForm.controls.direccion.patchValue(_datosBd[0].direccion);\n        this.myForm.controls.telefono.patchValue(_datosBd[0].telefono);\n        this.loadConsulta = false;\n        this.isNuevoCliente = false;\n        this.errorDni = false;\n\n        // verificar datos en el api y actualizar\n        if ( _datosBd[0].dni_num_verificador == null ) {\n          this.clienteService.serchClienteByDni(datos.documento).subscribe((resClienteApi: any) => {\n            this.myForm.controls.f_nac.patchValue(resClienteApi.date_of_birthday);\n            this.myForm.controls.num_verificador.patchValue(resClienteApi.verification_code);\n          });\n        }\n\n      } else {\n\n        this.crudService.getConsultaRucDni('dni', datos.documento)\n        .subscribe((_res: any) => {\n          if (_res.success) {\n            const _datos = _res.data;\n            const _nombre = `${_datos.name} ${_datos.first_name} ${_datos.last_name}`;\n            this.myForm.controls.idcliente.patchValue(0);\n            this.myForm.controls.nombre.patchValue(_nombre);\n            this.myForm.controls.f_nac.patchValue(_datos.date_of_birthday);\n            this.myForm.controls.num_verificador.patchValue(_datos.verification_code);\n            this.isNuevoCliente = true;\n            this.errorDni = false;\n          } else {\n            this.limpiarForm(datos.documento);\n            this.isDataFromDNI = false;\n            this.errorDni = true;\n          }\n          this.loadConsulta = false;\n          this.resData.idcliente = '0';\n        });\n\n      }\n\n      // this.isDataFromDNI = true;\n    });\n\n  }\n\n  private limpiarForm(dni: string): void {\n    this.myForm.reset();\n    this.myForm.controls.dni.patchValue(dni);\n  }\n\n  openDialogDireccion() {\n    // const dialogConfig = new MatDialogConfig();\n    this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';\n    const _DdialogConfig = new MatDialogConfig();\n    // _DdialogConfig.disableClose = false,\n    _DdialogConfig.disableClose = true;\n    _DdialogConfig.hasBackdrop = true;\n    _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],\n    _DdialogConfig.data = {\n      isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false, // no guarda sole devuelve los datos de la direccion\n      isFromComercio: true, // para empezar en la posicion del comercio\n      idClienteBuscar: this.resData.idcliente\n    };\n\n\n    const dialogRef = this.dialogDireccion.open(DialogSelectDireccionComponent, _DdialogConfig);\n\n    dialogRef.afterClosed().subscribe(\n      data => {\n        if ( !data ) { return; }\n\n        this.direccionCliente = <DeliveryDireccionCliente>data;\n\n        // esto para poder guardar en el procedure\n        this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;\n\n\n        // console.log('aaaa calculateRoute');\n        let c_servicio = this.calcDistanceService.calculateRoute(<DeliveryDireccionCliente>data, this.dirEstablecimiento, false);\n\n\n        // recalcular\n        setTimeout(() => {\n\n          c_servicio = this.dirEstablecimiento.c_servicio;\n          this.establecimientoService.set(this.dirEstablecimiento);\n          this.infoEstablecimiento.c_servicio = c_servicio; // this.dirEstablecimiento.c_servicio;\n          this.resData.costoTotalDelivery = c_servicio; // this.dirEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;\n\n          const _arrSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);\n          localStorage.setItem('sys::st', btoa(JSON.stringify(_arrSubtotales)));\n\n          this._listSubtotales = _arrSubtotales;\n\n\n          this.setearData();\n        }, 800);\n\n      }\n    );\n  }\n\n\n  // cuando el recojo es en el local\n  recalcularTotales(): void {\n    if ( this.isRecojoLocalCheked ) {\n      // propina se vielve 0\n      // this.propinaSelected = {'idpropina': 1, 'value': 0 , 'descripcion': 'S/. 0', 'checked': true};\n      // this.infoTokenService.setPropina(this.propinaSelected);\n\n      // recalcular subtotales\n      // lista temporal para back\n\n      this._listSubtotalesTmp = JSON.parse(JSON.stringify(this._listSubtotales));\n\n      const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];\n      this._listSubtotales = this._listSubtotales.filter(x => x.id >= 0 && x.descripcion !== 'TOTAL');\n      const _subtotal = this._listSubtotales.map((x: any) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);\n      rowTotal.importe = _subtotal;\n      this._listSubtotales.push(rowTotal);\n\n\n      // quita los requerimientos y no graba al cliente cuando viene a llevar\n      // this.myForm.controls.idcliente.setValidators(null);\n      this.myForm.controls.telefono.setValidators(null);\n\n    } else {\n      // this.myForm.controls.idcliente.setValidators([Validators.required]);\n      this.myForm.controls.telefono.setValidators([Validators.required]);\n      this._listSubtotales = this._listSubtotalesTmp;\n    }\n\n\n    localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));\n    this.infoTokenService.setPasoRecoger(this.isRecojoLocalCheked);\n\n    this.setearData();\n    // this.verificarMontoMinimo();\n  }\n\n  openDialogMetodoPago(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    _dialogConfig.data = {\n      importeTotalPagar: this._listSubtotales[this._listSubtotales.length - 1].importe,\n      excluirId: 2 // id exlcluir\n    };\n\n    const dialogLoading = this.dialog.open(DialogMetodoPagoComponent, _dialogConfig);\n      dialogLoading.afterClosed().subscribe((result: MetodoPagoModel) => {\n        this.metodoPagoSelected = result;\n\n        // this.verificarMontoMinimo();\n        this.setearData();\n      });\n  }\n\n  private getTotalPedido(): number {\n    return this._listSubtotales[this._listSubtotales.length - 1].importe;\n  }\n\n\n  // data all clientes\n  // getAllClientes() {\n  //   this.crudService.getAll('pedido', 'get-all-clientes', false, false, true)\n  //   .subscribe((res: any) => {\n  //     this.dataListClientes = res.data;\n  //   });\n  // }\n\n  // getSearCliente(search: string): Observable<any[]>  {\n  //   return this.establecimientoService.getClienteAutocomplete(search);\n  // }\n\n  private _filter(value: string): Observable<any[]> {\n    if ( this.isDataFromDNI ) { return EMPTY; }\n    if ( value.length < 5 ) {return EMPTY; }\n\n    if ( typeof value === 'object' ) { this.selectedClienteBusqueda(value); return EMPTY; }\n    this.limpiarForm('');\n    return this.establecimientoService.getClienteAutocomplete(value);\n\n\n\n\n    // const filterValue = value.toLowerCase();\n    // this.limpiarForm('');\n    // return this.dataListClientes; // .filter(option => option.nombres.toLowerCase().includes(filterValue));\n\n  }\n\n  changeCliente($event: any) {\n\n  }\n\n  displayFn(option?: any): string  {\n    return option ? option.nombres : '';\n    }\n\n  private selectedClienteBusqueda(cliente: any) {\n    this.clienteSelectBusqueda = cliente;\n\n    this.myForm.controls.idcliente.patchValue(cliente.idcliente);\n    this.myForm.controls.nombre.patchValue(cliente.nombres);\n    this.myForm.controls.dni.patchValue(cliente.ruc);\n    // this.myForm.controls.f_nac.patchValue(cliente.f_nac);\n    // this.myForm.controls.direccion.patchValue(_datosBd[0].direccion);\n    this.myForm.controls.telefono.patchValue(cliente.telefono);\n  }\n\n  setNombreControl(nom: string) {\n    this.myForm.controls.nombre.patchValue(nom);\n  }\n\n\n  openDialogTiempoEntrega(): void {\n    const _dialogConfig = new MatDialogConfig();\n    _dialogConfig.width = '380px';\n    _dialogConfig.disableClose = true;\n    _dialogConfig.hasBackdrop = true;\n    _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n    const dialogTpC = this.dialogTipoComprobante.open(DialogTiempoEntregaComponent, _dialogConfig);\n    dialogTpC.afterClosed().subscribe((result: TiempoEntregaModel) => {\n\n        if ( result ) {\n          // this.infoTokenService.setTiempoEntrega(result);\n          this.tiempoEntregaSelected = result;\n          this.setearData();\n          // this.verificarMontoMinimo();\n        }\n      });\n  }\n\n}\n","export default \"::ng-deep .mat-dialog-container {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.div-content-opiniones {\\r\\n    padding: 24px;\\r\\n}\\r\\n\\r\\np {\\r\\n    margin: 0px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWNhbGlmaWNhY2lvbi1zZWRlL2RpYWxvZy1jYWxpZmljYWNpb24tc2VkZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kaWFsb2ctY2FsaWZpY2FjaW9uLXNlZGUvZGlhbG9nLWNhbGlmaWNhY2lvbi1zZWRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxufVxyXG5cclxuLmRpdi1jb250ZW50LW9waW5pb25lcyB7XHJcbiAgICBwYWRkaW5nOiAyNHB4O1xyXG59XHJcblxyXG5wIHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59Il19 */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-dialog-calificacion-sede',\n  templateUrl: './dialog-calificacion-sede.component.html',\n  styleUrls: ['./dialog-calificacion-sede.component.css']\n})\nexport class DialogCalificacionSedeComponent implements OnInit {\n\n  dataComentarios: any;\n  listComentarios: any;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    this.dataComentarios = data;\n    this.listComentarios = this.dataComentarios.listCalificacion;\n\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1jYWxpZmljYWNpb24vZGlhbG9nLWNhbGlmaWNhY2lvbi5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DatosCalificadoModel } from 'src/app/modelos/datos.calificado.model';\n\n@Component({\n  selector: 'app-dialog-calificacion',\n  templateUrl: './dialog-calificacion.component.html',\n  styleUrls: ['./dialog-calificacion.component.css']\n})\nexport class DialogCalificacionComponent implements OnInit {\n  _dataCalificado: DatosCalificadoModel;\n  constructor(\n    private dialogRef: MatDialogRef<DialogCalificacionComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any,\n  ) {\n    this._dataCalificado = data.dataCalificado;\n  }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1jb25maWctcHVudG8vZGlhbG9nLWNvbmZpZy1wdW50by5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n@Component({\n  selector: 'app-dialog-config-punto',\n  templateUrl: './dialog-config-punto.component.html',\n  styleUrls: ['./dialog-config-punto.component.css']\n})\nexport class DialogConfigPuntoComponent implements OnInit {\n\n  listImpresoras: any;\n  listCanalConsumo: any;\n  selectedValueImpresora: any;\n  selectedValueCanConsumo: any;\n  isPuntoAutoPedidoCheck: boolean;\n  isTomaPedidoRapido: boolean;\n\n  constructor(\n    private crudService: CrudHttpService,\n    private establecimientoService: EstablecimientoService,\n    private infoTokenService: InfoTockenService\n  ) { }\n\n  ngOnInit(): void {\n    // cargar impresoras disponibles\n    this.listImpresoras = this.establecimientoService.getImpresoras();\n\n    this.loadCanalesConsumo();\n\n    // cargar de localstorage\n    const _puntoConfig = JSON.parse(localStorage.getItem('sys::punto'));\n    if ( _puntoConfig ) {\n      // console.log('_puntoConfig', _puntoConfig);\n      this.isPuntoAutoPedidoCheck = _puntoConfig.ispunto_autopedido;\n      this.selectedValueImpresora = _puntoConfig.impresora;\n\n      this.isTomaPedidoRapido = _puntoConfig.istoma_pedido_rapido;\n      this.selectedValueCanConsumo = _puntoConfig.canal_consumo;\n\n      this.infoTokenService.setIsPuntoAutoPedido(this.isPuntoAutoPedidoCheck);\n      this.infoTokenService.setIsTomaPedidoRapido(this.isTomaPedidoRapido);\n    }\n\n\n  }\n\n  setConifg() {\n    this.isPuntoAutoPedidoCheck = this.isTomaPedidoRapido ? false : this.isPuntoAutoPedidoCheck;\n    const dataStorage = {\n      istoma_pedido_rapido: this.isTomaPedidoRapido,\n      canal_consumo: this.selectedValueCanConsumo,\n      ispunto_autopedido: this.isPuntoAutoPedidoCheck,\n      impresora: this.selectedValueImpresora\n    };\n\n    localStorage.setItem('sys::punto', JSON.stringify(dataStorage));\n\n    // console.log('dataStorage', dataStorage);\n\n    this.infoTokenService.setIsPuntoAutoPedido(this.isPuntoAutoPedidoCheck);\n    this.infoTokenService.setIsTomaPedidoRapido(this.isTomaPedidoRapido);\n\n    location.reload();\n  }\n\n  private loadCanalesConsumo() {\n    const _data = {\n      idsede: this.infoTokenService.getInfoUs().idsede\n    };\n\n    this.crudService.postFree(_data, 'pedido', 'get-canales-consumo', false)\n    .subscribe(res => {\n      // console.log('res', res);\n      this.listCanalConsumo = res.data;\n    });\n  }\n\n  compareById(f1: any, f2: any): boolean {\n    return f1 && f2 && f1.idimpresora === f2.idimpresora;\n  }\n\n  compareByIdCanal(f1: any, f2: any): boolean {\n    return f1 && f2 && f1.idtipo_consumo === f2.idtipo_consumo;\n  }\n\n}\n","export default \"\\r\\n/* quitar mas adelante cuando actualize css */\\r\\n/* ::ng-deep .mat-dialog-container {\\r\\n    padding: 0px;\\r\\n    min-width: 300px;\\r\\n    max-width: 450px !important;\\r\\n} */\\r\\n.div-dir-content {\\r\\n    padding: 24px;\\r\\n}\\r\\n/* quitar mas adelante cuando actualize css */\\r\\n.div-txt-dir {\\r\\n    border-radius: 5px;\\r\\n    background: #ededed;\\r\\n    padding: 10px;\\r\\n}\\r\\n.div-txt-dir input {\\r\\n    width: 100%;\\r\\n    border: 0px;\\r\\n    background: transparent;\\r\\n    outline: none;\\r\\n}\\r\\n.item-direccion {\\r\\n    border-bottom: 1px solid#e4e4e4;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    padding: 10px;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n    /* font-size: 14px; */\\r\\n    cursor: pointer;\\r\\n}\\r\\n.item-direccion-prediction {\\r\\n    border-bottom: 1px solid #e4e4e4;    \\r\\n    padding: 10px;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n    font-size: 14px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n.item-direccion-prediction p {\\r\\n    margin: 0;\\r\\n}\\r\\nagm-map {\\r\\n    height: 200px;\\r\\n}\\r\\n#map_canvas {\\r\\n    position: relative;\\r\\n}\\r\\n#map_canvas .centerMarker {\\r\\n    position: absolute;\\r\\n    /*url of the marker*/\\r\\n    background: url(\\\"/assets/images/marcador-de-mapa.png\\\") round;\\r\\n    /*center the marker*/    \\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    z-index: 2;\\r\\n    /*fix offset when needed*/\\r\\n    margin-left: -20px;\\r\\n    margin-top: -44px;\\r\\n    /*size of the image*/\\r\\n    height: 45px;\\r\\n    width: 45px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n#map_canvas .centerMarker-fondo {\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    z-index: 1;\\r\\n    margin-left: -32px;\\r\\n    margin-top: -40px;\\r\\n    height: 45px;\\r\\n    width: 45px;\\r\\n    cursor: pointer;\\r\\n    background: deepskyblue;\\r\\n    border-radius: 50%;\\r\\n    padding: 35px;\\r\\n    opacity: 0.4;\\r\\n  }\\r\\n.btn-confirmar-dir {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    bottom: 10px;\\r\\n}\\r\\n.input-dir {\\r\\n    font-weight: 600;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWRpcmVjY2lvbi1jbGllbnRlLWRlbGl2ZXJ5L2RpYWxvZy1kaXJlY2Npb24tY2xpZW50ZS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw2Q0FBNkM7QUFDN0M7Ozs7R0FJRztBQUNIO0lBQ0ksYUFBYTtBQUNqQjtBQUNBLDZDQUE2QztBQUU3QztJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjtBQUVBO0lBQ0ksV0FBVztJQUNYLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsYUFBYTtBQUNqQjtBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0lBQ2IsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQixlQUFlO0FBQ25CO0FBRUE7SUFDSSxnQ0FBZ0M7SUFDaEMsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixlQUFlO0FBQ25CO0FBRUE7SUFDSSxTQUFTO0FBQ2I7QUFJQTtJQUNJLGFBQWE7QUFDakI7QUFFQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9CQUFvQjtJQUNwQiw0REFBNEQ7SUFDNUQsb0JBQW9CO0lBQ3BCLFFBQVE7SUFDUixTQUFTO0lBQ1QsVUFBVTtJQUNWLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1osV0FBVztJQUNYLGVBQWU7RUFDakI7QUFFRjtJQUNJLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULFVBQVU7SUFDVixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLFlBQVk7RUFDZDtBQUVGO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUdBO0lBQ0ksZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWRpcmVjY2lvbi1jbGllbnRlLWRlbGl2ZXJ5L2RpYWxvZy1kaXJlY2Npb24tY2xpZW50ZS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qIHF1aXRhciBtYXMgYWRlbGFudGUgY3VhbmRvIGFjdHVhbGl6ZSBjc3MgKi9cclxuLyogOjpuZy1kZWVwIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gICAgbWF4LXdpZHRoOiA0NTBweCAhaW1wb3J0YW50O1xyXG59ICovXHJcbi5kaXYtZGlyLWNvbnRlbnQge1xyXG4gICAgcGFkZGluZzogMjRweDtcclxufVxyXG4vKiBxdWl0YXIgbWFzIGFkZWxhbnRlIGN1YW5kbyBhY3R1YWxpemUgY3NzICovXHJcblxyXG4uZGl2LXR4dC1kaXIge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZDogI2VkZWRlZDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5kaXYtdHh0LWRpciBpbnB1dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogMHB4O1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4uaXRlbS1kaXJlY2Npb24ge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkI2U0ZTRlNDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIC8qIGZvbnQtc2l6ZTogMTRweDsgKi9cclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLml0ZW0tZGlyZWNjaW9uLXByZWRpY3Rpb24ge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNGU0ZTQ7ICAgIFxyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5pdGVtLWRpcmVjY2lvbi1wcmVkaWN0aW9uIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG5cclxuXHJcbmFnbS1tYXAge1xyXG4gICAgaGVpZ2h0OiAyMDBweDtcclxufVxyXG5cclxuI21hcF9jYW52YXMge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4jbWFwX2NhbnZhcyAuY2VudGVyTWFya2VyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIC8qdXJsIG9mIHRoZSBtYXJrZXIqL1xyXG4gICAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9pbWFnZXMvbWFyY2Fkb3ItZGUtbWFwYS5wbmdcIikgcm91bmQ7XHJcbiAgICAvKmNlbnRlciB0aGUgbWFya2VyKi8gICAgXHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgICAvKmZpeCBvZmZzZXQgd2hlbiBuZWVkZWQqL1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0yMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTQ0cHg7XHJcbiAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgIGhlaWdodDogNDVweDtcclxuICAgIHdpZHRoOiA0NXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiNtYXBfY2FudmFzIC5jZW50ZXJNYXJrZXItZm9uZG8ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0zMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTQwcHg7XHJcbiAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICB3aWR0aDogNDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJhY2tncm91bmQ6IGRlZXBza3libHVlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgcGFkZGluZzogMzVweDtcclxuICAgIG9wYWNpdHk6IDAuNDtcclxuICB9XHJcblxyXG4uYnRuLWNvbmZpcm1hci1kaXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDEwcHg7XHJcbn1cclxuXHJcblxyXG4uaW5wdXQtZGlyIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfSJdfQ== */\";","import { AfterViewInit, Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatInput } from '@angular/material/input';\nimport { debounceTime } from 'rxjs/internal/operators/debounceTime';\nimport { distinctUntilChanged } from 'rxjs/internal/operators/distinctUntilChanged';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { SedeDeliveryService } from 'src/app/shared/services/sede-delivery.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\n\n\ndeclare var google: any;\n\n@Component({\n  selector: 'app-dialog-direccion-cliente-delivery',\n  templateUrl: './dialog-direccion-cliente-delivery.component.html',\n  styleUrls: ['./dialog-direccion-cliente-delivery.component.css']\n})\nexport class DialogDireccionClienteDeliveryComponent implements OnInit, AfterViewInit {\n\n\n\n  direccionSelected: DeliveryDireccionCliente;\n  listDirecciones: DeliveryDireccionCliente[];\n  idClienteDirecciones: number;\n  idClienteBuscar: number;\n  data: any;\n\n  direccionBuscar: string;\n  direccionBuscarUpdate = new Subject<string>();\n\n  listPredicciones: any;\n  showSelectedDireccion = true;\n  showBusqueda = false;\n\n  dataMapa: any;\n  latitude: number;\n  longitude: number;\n  zoom: number;\n  countMoveMap = 0;\n  isUsCliente = true; // si el usuario es cliente o usuario autorizado\n  mapCenter: any = {};\n  private isChangeDireccion = true;\n\n  // nueva direccion en ingreso\n  dataCliente: DeliveryDireccionCliente;\n  loader = 0;\n\n\n\n\n  constructor(\n    private dialogRef: MatDialogRef<DialogDireccionClienteDeliveryComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any,\n    private crudService: CrudHttpService,\n    private verifyClientService: VerifyAuthClientService,\n    private utilService: UtilitariosService,\n    private plazaDelivery: SedeDeliveryService\n  ) {\n    this.idClienteBuscar = data.idcliente;\n\n    this.direccionBuscarUpdate.pipe(\n      debounceTime(400),\n      distinctUntilChanged())\n      .subscribe(value => {\n        if ( value.length > 5 ) {\n          this.showBusqueda = true;\n          this.getPlacesPredictionsChange(value);\n        }\n      });\n  }\n\n  ngOnInit(): void {\n    this.dataCliente = new DeliveryDireccionCliente();\n    this.loadDireccionesAgregadas();\n  }\n\n  ngAfterViewInit() {\n    // this.getPlaceAutocomplete();\n}\n\n\n  private loadDireccionesAgregadas() {\n    this.listDirecciones = [];\n    const _dataClientDir = {\n      idcliente : this.idClienteBuscar\n    };\n\n    this.crudService.postFree(_dataClientDir, 'delivery', 'get-direccion-cliente', false)\n      .subscribe((res: any) => {\n        const direccionGuardada = this.getDireccionStorage();\n\n        this.listDirecciones = res.data;\n        this.listDirecciones.map(d => {\n          d.direccion = d.direccion.split(',')[0];\n          if ( direccionGuardada ) {\n            d.selected = d.idcliente_pwa_direccion === direccionGuardada.idcliente_pwa_direccion;\n          }\n        });\n\n        // console.log('this.listDirecciones', this.listDirecciones);\n      });\n  }\n\n\n  getPlacesPredictionsChange(value: string) {\n\n    const sessionToken = new google.maps.places.AutocompleteSessionToken();\n\n    const options = {\n      input: value,\n      componentRestrictions: { country: 'pe' },\n      sessionToken: sessionToken\n    };\n\n    const service = new google.maps.places.AutocompleteService();\n    service.getPlacePredictions(options, (\n      predictions: google.maps.places.QueryAutocompletePrediction[] | null,\n      status: google.maps.places.PlacesServiceStatus\n    ) => {\n      if (status !== google.maps.places.PlacesServiceStatus.OK || !predictions) {\n        // alert(status);\n        return;\n      }\n\n      this.listPredicciones = predictions;\n      // predictions.forEach((prediction) => {\n      //   console.log('prediction.description', prediction);\n      // });\n    });\n  }\n\n  goDireccionGuardada(item: DeliveryDireccionCliente) {\n    // console.log('item DeliveryDireccionCliente', item);\n    this.dataCliente = item;\n    this.cerrarDlg();\n  }\n\n  goDireccion(prediccionSelected: any) {\n    // console.log('direccion selected', prediccionSelected);\n\n    this.getDireccionGeocode({ placeId: prediccionSelected.place_id }, prediccionSelected);\n  }\n\n  goUbicacionActual() {\n      this.getPosition().then(pos => {\n      this.latitude = pos.lat;\n      this.longitude = pos.lng;\n\n      this.centerChange(pos);\n\n      this.getDireccionGeocode({ 'location': { lat: this.mapCenter.lat, lng: this.mapCenter.lng }});\n  });\n  }\n\n  getPosition(): Promise<any> {\n    return new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resp => {\n                resolve({lng: resp.coords.longitude, lat: resp.coords.latitude});\n            },\n            err => {\n                reject(err);\n          });\n    });\n}\n\n  private getDireccionGeocode(payload: any, prediccionSelected = null) {\n\n    if ( prediccionSelected ) {\n      this.dataCliente.direccion = prediccionSelected.structured_formatting.main_text;\n      this.dataCliente.ciudad = prediccionSelected.structured_formatting.secondary_text;\n    }\n\n    const geocoder = new google.maps.Geocoder();\n    geocoder\n      .geocode(payload)\n      .then(({ results }) => {\n        // console.log('results geocoder', results);\n\n        this.dataMapa = results[0];\n\n        if ( !prediccionSelected ) {\n          const _foramt_address = this.dataMapa.formatted_address.split(', ');\n          this.dataCliente.direccion = _foramt_address[0];\n          this.dataCliente.ciudad = _foramt_address[1];\n        }\n\n        this.latitude = results[0].geometry.location.lat();\n        this.longitude = results[0].geometry.location.lng();\n        this.zoom = 17;\n        this.isChangeDireccion = false;\n\n        // centrar\n        this.mapCenter.lat = this.latitude;\n        this.mapCenter.lng = this.longitude;\n\n        this.countMoveMap = 0;\n\n        this.showSelectedDireccion = false;\n\n        this.setDireccionSelected();\n\n\n        // setTimeout(() => {\n        // }, 500);\n      });\n  }\n\n  // mapa\n  idleMap() {\n    this.countMoveMap++;\n  }\n\n  centerChange(event: any) {\n    // console.log('event center event', event);\n    if (event) {\n      this.mapCenter.lat = event.lat;\n      this.mapCenter.lng = event.lng;\n    }\n  }\n\n  clickmap() {\n    this.isChangeDireccion = true;\n  }\n\n  setDireccionSelected() {\n\n    // this.latitude = this.mapCenter.lat;\n    // this.longitude = this.mapCenter.lng;\n\n    // this.loader = 1;\n    this.dataCliente.direccion = this.dataCliente.direccion;\n    this.dataCliente.idcliente = this.isUsCliente ? this.verifyClientService.getDataClient().idcliente : this.idClienteBuscar;\n    this.dataCliente.longitude = this.mapCenter.lng;\n    this.dataCliente.latitude = this.mapCenter.lat;\n    this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);\n    this.dataCliente.ciudad = this.searchTypeMap('locality');\n    this.dataCliente.provincia = this.searchTypeMap('administrative_area_level_2');\n    this.dataCliente.departamento = this.searchTypeMap('administrative_area_level_1');\n    this.dataCliente.pais = this.searchTypeMap('country');\n    this.dataCliente.codigo = this.searchTypeMap('postal_code');\n\n    // console.log('this.dataCliente', this.dataCliente);\n  }\n\n\n\n  private searchTypeMap(search: string): string {\n    let rpt = '';\n    this.dataMapa.address_components.map((x: any) => {\n      x.types.map( (t: any) => {\n        if (t === search) {\n          rpt = x.long_name;\n          return rpt;\n        }\n      });\n    });\n    return rpt;\n  }\n\n  goBackEscogerDireccion() {\n    this.showSelectedDireccion  = true;\n  }\n\n  confirmarDireccion() {\n    this.countMoveMap = 1;\n    this.getDireccionGeocode({ 'location': { lat: this.mapCenter.lat, lng: this.mapCenter.lng }});\n\n    // this.getAddress(this.mapCenter.lat, this.mapCenter.lng);\n  }\n\n  saveDireccion() {\n    this.loader = 1;\n    this.dataCliente.titulo = this.dataCliente.titulo || 'Casa';\n      this.loader = 2;\n      this.dataCliente.idcliente_pwa_direccion = null;\n      // this.saveDireccionOk.emit(this.dataCliente);\n      this.setBdDireccion();\n  }\n\n  private setBdDireccion() {\n\n    this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);\n    this.crudService.postFree(this.dataCliente, 'cliente', 'new-direccion', false)\n      .subscribe((res: any) => {\n        setTimeout(() => {\n          this.loader = 2;\n          setTimeout(() => {\n            this.dataCliente.idcliente_pwa_direccion = res.data[0].idcliente_pwa_direccion;\n            this.countMoveMap = 1;\n            this.cerrarDlg();\n          }, 500);\n        }, 1000);\n      });\n  }\n\n  private setDireccionStorage() {\n    localStorage.setItem('sys::dir_se', JSON.stringify(this.dataCliente));\n  }\n\n  private getDireccionStorage() {\n    return localStorage.getItem('sys::dir_se') ? JSON.parse(localStorage.getItem('sys::dir_se')) : null;\n  }\n\n  cerrarDlg(): void {\n    // guarda direccion en el storage direccion seleccionada\n    // console.log('this.dataCliente', this.dataCliente);\n    const rpt_dir = this.dataCliente.direccion ? this.dataCliente : null;\n\n    if ( rpt_dir && this.dataCliente ) {\n      if ( !this.dataCliente?.options ) {\n        this.plazaDelivery.loadDatosPlazaByCiudad(this.dataCliente.ciudad)\n        .subscribe((resPlaza: any) => {\n          this.dataCliente.options = resPlaza ? resPlaza.options : null;\n\n          this.setDireccionStorage();\n          this.dialogRef.close(rpt_dir);\n        });\n      } else {\n        this.setDireccionStorage();\n        this.dialogRef.close(rpt_dir);\n      }\n    } else {\n      // const rpt_dir = this.dataCliente.direccion ? this.dataCliente : null;\n      // this.dataCliente = null;\n      this.setDireccionStorage();\n      this.dialogRef.close(rpt_dir);\n    }\n\n  }\n\n}\n","export default \"::ng-deep .mat-checkbox-layout { margin: 0px; width: 100%; position: relative;}\\r\\n::ng-deep .mat-checkbox-inner-container { margin-left: 0px !important; }\\r\\n/* quitar mas adelante cuando actualize css */\\r\\n/* ::ng-deep .mat-dialog-container {\\r\\n    padding: 0px;\\r\\n    min-width: 300px;\\r\\n    max-width: 450px !important;\\r\\n} */\\r\\n/* .custom-dialog-container .mat-dialog-container {\\r\\n    padding: 0px !important;\\r\\n    min-width: 300px;\\r\\n    max-width: 450px !important;\\r\\n}\\r\\n\\r\\n.my-dialog-orden-detalle.margen-0 .mat-dialog-container {\\r\\n    padding: 0px !important;\\r\\n    min-width: 300px;\\r\\n    max-width: 450px !important;\\r\\n  } */\\r\\n::ng-deep .cdk-overlay-dark-backdrop {\\r\\n    background: rgba(0,0,0,.52);\\r\\n}\\r\\n.item-content {\\r\\n    position: relative;\\r\\n}\\r\\n.i-header {\\r\\n    padding: 15px;\\r\\n    border-bottom: 1px solid lightgray;\\r\\n    background: #eeeeee;\\r\\n}\\r\\n.titlo-detalle {\\r\\n    font-size: 14px;\\r\\n    font-family: Ubuntu-Light;\\r\\n    color: #616161;\\r\\n    /* text-transform: lowercase; */\\r\\n  }\\r\\n.i-stock {\\r\\n    border-radius: 5px;\\r\\n    text-align: center;\\r\\n    margin-right: 5px;\\r\\n    padding: 5px;    \\r\\n}\\r\\n.i-btn-exit {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n    top: 10px;\\r\\n    padding: 8px;    \\r\\n    line-height: 10px;\\r\\n    background: rgba(189,189,189,0.7);\\r\\n    border-radius: 4px;\\r\\n}\\r\\n.li-tachado {\\r\\n    text-decoration: line-through;\\r\\n    color: red;\\r\\n  }\\r\\n.sub-i-titulo-content {\\r\\n    padding-bottom: 20px;\\r\\n}\\r\\n.sub-i-titulo {\\r\\n    line-height: 1.2;\\r\\n}\\r\\n.borde-bajo {\\r\\n    border-bottom: 1px solid lightgray;\\r\\n}\\r\\n.i-body {    \\r\\n    /* max-height: 100vh;     */\\r\\n    height: -webkit-calc(100vh - 170px);\\r\\n    height: calc(100vh - 170px);\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    /* padding: 15px; */\\r\\n\\r\\n    /* overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    bottom: 150px !important;\\r\\n    position: fixed;\\r\\n    top: 50px;\\r\\n    width: 100%; */\\r\\n}\\r\\n.i-body.he2 {\\r\\n    height: -webkit-calc(100vh - 110px);\\r\\n    height: calc(100vh - 110px);\\r\\n}\\r\\n.txt-obligatorio {\\r\\n    font-size: 12px;\\r\\n    background: #e0e0e0;\\r\\n    padding: 3px;\\r\\n    margin-left: 5px;\\r\\n    border-radius: 8px;\\r\\n    position: relative;\\r\\n    float: right;\\r\\n    /* top: -18px; */\\r\\n}\\r\\n.mat-checkbox-layout {\\r\\n    margin: 0px;\\r\\n}\\r\\n.xoption {        \\r\\n    padding-right: 8px;\\r\\n    min-width: 150px;\\r\\n    font-size: 12px;\\r\\n    display: -webkit-inline-box;\\r\\n    display: -webkit-inline-flex;\\r\\n    display: inline-flex;\\r\\n    border-bottom: 1px solid #eeeeee;\\r\\n    padding-bottom: 2px;\\r\\n    padding-top: 2px;\\r\\n}\\r\\n.xoption .agotado {\\r\\n    text-decoration: line-through;\\r\\n    color: palevioletred;\\r\\n}\\r\\n.xoption .xprecio {\\r\\n    font-size: 10px;\\r\\n    color: #757575;\\r\\n}\\r\\n.xprecio.aling-derecha{\\r\\n    position: absolute;\\r\\n    float: right;\\r\\n    right: 0;\\r\\n}\\r\\n.i-footer {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    position: fixed;    \\r\\n    bottom: 0;\\r\\n    z-index: 1;\\r\\n    border-top: 1px solid lightgray;    \\r\\n    background: white;    \\r\\n    width: 100%;\\r\\n    padding: 15px;\\r\\n    background: #eeeeee;\\r\\n}\\r\\n.i-precio {\\r\\n    position: absolute;\\r\\n    right: 15px;\\r\\n    font-size: 20px;\\r\\n    font-weight: 600;\\r\\n    top: 18px;\\r\\n}\\r\\n.tb-tpc tr>td {\\r\\n    font-size: 12px;\\r\\n    /* border-bottom: 1px dashed #e0e0e0; */\\r\\n  }\\r\\n.tb-tpc-one tr>td {\\r\\n    font-size: 12px;\\r\\n    border: none;\\r\\n  }\\r\\n.btn-tbl {\\r\\n  text-align: center;\\r\\n  color: white;\\r\\n  padding: 7px 16px 7px 16px;\\r\\n  font-size: 15px;\\r\\n  border-radius: 5px;\\r\\n  margin-left: 4px;\\r\\n  margin-bottom: 4px;\\r\\n}\\r\\n#tpc_content[disabled] {\\r\\n    pointer-events:none;opacity:0.43;\\r\\n}\\r\\n.estado-color-verde {\\r\\n  background: #43a047;\\r\\n  color: #e0e0e0;\\r\\n}\\r\\n.estado-color-amarillo {\\r\\n  background: #ffb300;\\r\\n  color: #424242;\\r\\n}\\r\\n.estado-color-rojo {\\r\\n  background: #d81b60;\\r\\n  color: #e0e0e0;\\r\\n}\\r\\n.img-carta {\\r\\n    max-width: 100%;\\r\\n    /* width: auto; */\\r\\n    /* border-radius: 3px; */\\r\\n    /* border: solid 1px #e0e0e0; */\\r\\n    /* margin-bottom: 5px; */\\r\\n    /* max-height: 250px; */\\r\\n    max-height: 40vh;\\r\\n    -o-object-fit: cover;\\r\\n       object-fit: cover;\\r\\n    -webkit-transition: all 0.1s;\\r\\n    transition: all 0.1s;\\r\\n}\\r\\n/* .img-carta:hover {\\r\\n    transform:scale(1.5);\\r\\n    z-index: 10;\\r\\n} */\\r\\n.div-tpc {\\r\\n    bottom: 50px;\\r\\n    position: fixed;\\r\\n    /* position: sticky;     */\\r\\n    /* position: absolute; */\\r\\n    background: white;\\r\\n    border-top: 1px solid #bdbdbd;\\r\\n}\\r\\n/* @media only screen and (max-width: 600px) {\\r\\n    .i-body {\\r\\n        height: auto;\\r\\n    }\\r\\n} */\\r\\n@media only screen and (min-width: 445px) {\\r\\n    .img-carta {\\r\\n        padding: 10px;\\r\\n    }\\r\\n\\r\\n    .i-footer {        \\r\\n        position: -webkit-sticky;        \\r\\n        position: sticky;    \\r\\n    }\\r\\n    \\r\\n    .i-body {\\r\\n        height: auto;\\r\\n        max-height: -webkit-calc(90vh - 110px);\\r\\n        max-height: calc(90vh - 110px);\\r\\n    }\\r\\n\\r\\n    .i-body.he2 {\\r\\n        height: auto;\\r\\n    }\\r\\n\\r\\n    .div-tpc {\\r\\n        position: relative;\\r\\n        bottom: 0;\\r\\n    }\\r\\n    .div-tpc-one-option {\\r\\n        bottom: 50px;\\r\\n        position: absolute;\\r\\n    }\\r\\n\\r\\n    .div-tpc-one-option-buttom {\\r\\n        padding-bottom: 80px;\\r\\n    }\\r\\n    \\r\\n    \\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWl0ZW0tZWRpdC9kaWFsb2ctaXRlbS1lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLFdBQVcsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLENBQUM7QUFDOUUsMENBQTBDLDJCQUEyQixFQUFFO0FBQ3ZFLDZDQUE2QztBQUM3Qzs7OztHQUlHO0FBRUg7Ozs7Ozs7Ozs7S0FVSztBQUVMO0lBQ0ksMkJBQTJCO0FBQy9CO0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLGFBQWE7SUFDYixrQ0FBa0M7SUFDbEMsbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCwrQkFBK0I7RUFDakM7QUFFRjtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsU0FBUztJQUNULFlBQVk7SUFDWixpQkFBaUI7SUFDakIsaUNBQWlDO0lBQ2pDLGtCQUFrQjtBQUN0QjtBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFVBQVU7RUFDWjtBQUVGO0lBQ0ksb0JBQW9CO0FBQ3hCO0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7QUFFQTtJQUNJLGtDQUFrQztBQUN0QztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLG1DQUEyQjtJQUEzQiwyQkFBMkI7SUFDM0Isa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixtQkFBbUI7O0lBRW5COzs7OztrQkFLYztBQUNsQjtBQUVBO0lBQ0ksbUNBQTJCO0lBQTNCLDJCQUEyQjtBQUMvQjtBQUVBO0lBQ0ksZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksV0FBVztBQUNmO0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZiwyQkFBb0I7SUFBcEIsNEJBQW9CO0lBQXBCLG9CQUFvQjtJQUNwQixnQ0FBZ0M7SUFDaEMsbUJBQW1CO0lBQ25CLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLG9CQUFvQjtBQUN4QjtBQUVBO0lBQ0ksZUFBZTtJQUNmLGNBQWM7QUFDbEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osUUFBUTtBQUNaO0FBRUE7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLGVBQWU7SUFDZixTQUFTO0lBQ1QsVUFBVTtJQUNWLCtCQUErQjtJQUMvQixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixTQUFTO0FBQ2I7QUFFQTtJQUNJLGVBQWU7SUFDZix1Q0FBdUM7RUFDekM7QUFFRjtJQUNJLGVBQWU7SUFDZixZQUFZO0VBQ2Q7QUFFRjtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osMEJBQTBCO0VBQzFCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjtBQUVBO0lBQ0ksbUJBQW1CLENBQUMsWUFBWTtBQUNwQztBQUdBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCO0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjtBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQix3QkFBd0I7SUFDeEIsK0JBQStCO0lBQy9CLHdCQUF3QjtJQUN4Qix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLG9CQUFpQjtPQUFqQixpQkFBaUI7SUFDakIsNEJBQW9CO0lBQXBCLG9CQUFvQjtBQUN4QjtBQUVBOzs7R0FHRztBQUVIO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZiwwQkFBMEI7SUFDMUIsd0JBQXdCO0lBQ3hCLGlCQUFpQjtJQUNqQiw2QkFBNkI7QUFDakM7QUFNQTs7OztHQUlHO0FBRUg7SUFDSTtRQUNJLGFBQWE7SUFDakI7O0lBRUE7UUFDSSx3QkFBZ0I7UUFBaEIsZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksWUFBWTtRQUNaLHNDQUE4QjtRQUE5Qiw4QkFBOEI7SUFDbEM7O0lBRUE7UUFDSSxZQUFZO0lBQ2hCOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLFNBQVM7SUFDYjtJQUNBO1FBQ0ksWUFBWTtRQUNaLGtCQUFrQjtJQUN0Qjs7SUFFQTtRQUNJLG9CQUFvQjtJQUN4Qjs7O0FBR0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kaWFsb2ctaXRlbS1lZGl0L2RpYWxvZy1pdGVtLWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCAubWF0LWNoZWNrYm94LWxheW91dCB7IG1hcmdpbjogMHB4OyB3aWR0aDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlO31cclxuOjpuZy1kZWVwIC5tYXQtY2hlY2tib3gtaW5uZXItY29udGFpbmVyIHsgbWFyZ2luLWxlZnQ6IDBweCAhaW1wb3J0YW50OyB9XHJcbi8qIHF1aXRhciBtYXMgYWRlbGFudGUgY3VhbmRvIGFjdHVhbGl6ZSBjc3MgKi9cclxuLyogOjpuZy1kZWVwIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gICAgbWF4LXdpZHRoOiA0NTBweCAhaW1wb3J0YW50O1xyXG59ICovXHJcblxyXG4vKiAuY3VzdG9tLWRpYWxvZy1jb250YWluZXIgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50O1xyXG4gICAgbWluLXdpZHRoOiAzMDBweDtcclxuICAgIG1heC13aWR0aDogNDUwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLm15LWRpYWxvZy1vcmRlbi1kZXRhbGxlLm1hcmdlbi0wIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcclxuICAgIG1pbi13aWR0aDogMzAwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDQ1MHB4ICFpbXBvcnRhbnQ7XHJcbiAgfSAqL1xyXG5cclxuOjpuZy1kZWVwIC5jZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjUyKTtcclxufVxyXG5cclxuLml0ZW0tY29udGVudCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5pLWhlYWRlciB7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAgIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn1cclxuXHJcbi50aXRsby1kZXRhbGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGZvbnQtZmFtaWx5OiBVYnVudHUtTGlnaHQ7XHJcbiAgICBjb2xvcjogIzYxNjE2MTtcclxuICAgIC8qIHRleHQtdHJhbnNmb3JtOiBsb3dlcmNhc2U7ICovXHJcbiAgfVxyXG5cclxuLmktc3RvY2sge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7ICAgIFxyXG59XHJcblxyXG4uaS1idG4tZXhpdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMTBweDtcclxuICAgIHRvcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDhweDsgICAgXHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMTg5LDE4OSwxODksMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxufVxyXG5cclxuLmxpLXRhY2hhZG8ge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxuXHJcbi5zdWItaS10aXR1bG8tY29udGVudCB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLnN1Yi1pLXRpdHVsbyB7XHJcbiAgICBsaW5lLWhlaWdodDogMS4yO1xyXG59XHJcblxyXG4uYm9yZGUtYmFqbyB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmF5O1xyXG59XHJcblxyXG4uaS1ib2R5IHsgICAgXHJcbiAgICAvKiBtYXgtaGVpZ2h0OiAxMDB2aDsgICAgICovXHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNzBweCk7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLyogcGFkZGluZzogMTVweDsgKi9cclxuXHJcbiAgICAvKiBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgYm90dG9tOiAxNTBweCAhaW1wb3J0YW50O1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7ICovXHJcbn1cclxuXHJcbi5pLWJvZHkuaGUyIHtcclxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDExMHB4KTtcclxufVxyXG5cclxuLnR4dC1vYmxpZ2F0b3JpbyB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZTBlMGUwO1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIC8qIHRvcDogLTE4cHg7ICovXHJcbn1cclxuXHJcbi5tYXQtY2hlY2tib3gtbGF5b3V0IHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG4ueG9wdGlvbiB7ICAgICAgICBcclxuICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcclxuICAgIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlZWVlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDJweDtcclxuICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbn1cclxuXHJcbi54b3B0aW9uIC5hZ290YWRvIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xyXG4gICAgY29sb3I6IHBhbGV2aW9sZXRyZWQ7XHJcbn1cclxuXHJcbi54b3B0aW9uIC54cHJlY2lvIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGNvbG9yOiAjNzU3NTc1O1xyXG59XHJcblxyXG4ueHByZWNpby5hbGluZy1kZXJlY2hhe1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5pLWZvb3RlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgcG9zaXRpb246IGZpeGVkOyAgICBcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgbGlnaHRncmF5OyAgICBcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlOyAgICBcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn1cclxuXHJcbi5pLXByZWNpbyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMTVweDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0b3A6IDE4cHg7XHJcbn1cclxuXHJcbi50Yi10cGMgdHI+dGQge1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgLyogYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAjZTBlMGUwOyAqL1xyXG4gIH1cclxuXHJcbi50Yi10cGMtb25lIHRyPnRkIHtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9ICBcclxuXHJcbi5idG4tdGJsIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDdweCAxNnB4IDdweCAxNnB4O1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDRweDtcclxuICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbn1cclxuXHJcbiN0cGNfY29udGVudFtkaXNhYmxlZF0ge1xyXG4gICAgcG9pbnRlci1ldmVudHM6bm9uZTtvcGFjaXR5OjAuNDM7XHJcbn1cclxuXHJcblxyXG4uZXN0YWRvLWNvbG9yLXZlcmRlIHtcclxuICBiYWNrZ3JvdW5kOiAjNDNhMDQ3O1xyXG4gIGNvbG9yOiAjZTBlMGUwO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLWFtYXJpbGxvIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZiMzAwO1xyXG4gIGNvbG9yOiAjNDI0MjQyO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLXJvam8ge1xyXG4gIGJhY2tncm91bmQ6ICNkODFiNjA7XHJcbiAgY29sb3I6ICNlMGUwZTA7XHJcbn1cclxuXHJcbi5pbWctY2FydGEge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgLyogd2lkdGg6IGF1dG87ICovXHJcbiAgICAvKiBib3JkZXItcmFkaXVzOiAzcHg7ICovXHJcbiAgICAvKiBib3JkZXI6IHNvbGlkIDFweCAjZTBlMGUwOyAqL1xyXG4gICAgLyogbWFyZ2luLWJvdHRvbTogNXB4OyAqL1xyXG4gICAgLyogbWF4LWhlaWdodDogMjUwcHg7ICovXHJcbiAgICBtYXgtaGVpZ2h0OiA0MHZoO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcztcclxufVxyXG5cclxuLyogLmltZy1jYXJ0YTpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06c2NhbGUoMS41KTtcclxuICAgIHotaW5kZXg6IDEwO1xyXG59ICovXHJcblxyXG4uZGl2LXRwYyB7XHJcbiAgICBib3R0b206IDUwcHg7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAvKiBwb3NpdGlvbjogc3RpY2t5OyAgICAgKi9cclxuICAgIC8qIHBvc2l0aW9uOiBhYnNvbHV0ZTsgKi9cclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgICAuaS1ib2R5IHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcbn0gKi9cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDQ1cHgpIHtcclxuICAgIC5pbWctY2FydGEge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmktZm9vdGVyIHsgICAgICAgIFxyXG4gICAgICAgIHBvc2l0aW9uOiBzdGlja3k7ICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuaS1ib2R5IHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgbWF4LWhlaWdodDogY2FsYyg5MHZoIC0gMTEwcHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC5pLWJvZHkuaGUyIHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLmRpdi10cGMge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICB9XHJcbiAgICAuZGl2LXRwYy1vbmUtb3B0aW9uIHtcclxuICAgICAgICBib3R0b206IDUwcHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC5kaXYtdHBjLW9uZS1vcHRpb24tYnV0dG9tIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogODBweDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbn0iXX0= */\";","import { Component, OnInit, Inject, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { SubItem } from 'src/app/modelos/subitems.model';\nimport { SubItemContent } from 'src/app/modelos/subitem.content.model';\nimport { SubItemsView } from 'src/app/modelos/subitems.view.model';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\nimport { URL_IMG_CARTA } from 'src/app/shared/config/config.const';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n// import { CrudHttpService } from 'src/app/shared/services/crud-http.service';\n// import { type } from 'os';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\n\n@Component({\n  selector: 'app-dialog-item-edit',\n  templateUrl: './dialog-item-edit.component.html',\n  styleUrls: ['./dialog-item-edit.component.css'],\n})\nexport class DialogItemEditComponent implements OnInit, OnDestroy {\n\n  idTpcItemResumenSelect: number;\n  item: ItemModel;\n  objItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  _subitems_selected = []; // subitems chequeados\n  isOptionRequeridosComplet = true; // si todos los cheks requeridos estan marcados\n  precioProducto: number;\n  _precioProductoIni: number; // precio incio\n  isObjSubItems = true; // si el item tiene subitems\n  isUsCliente = true; // si el usario es cliente o es personal autorizado\n\n  isOneTipoConsumo = false; // s si solo hay un tipo de consumo sale enves del boton continuar\n\n  url_img = URL_IMG_CARTA;\n\n  isWaitBtnMenos = false;\n\n  private destroyDlg$: Subject<boolean> = new Subject<boolean>();\n  private isFirstOpen = true; // controla los observables // el observable de cantidad no se ejecuta en la primera interaccion\n\n  simbolo_moneda: string;\n\n  constructor(\n    public miPedidoService: MipedidoService,\n    private uttilService: UtilitariosService,\n    private infoToken: InfoTockenService,\n    private dialogRef: MatDialogRef<DialogItemEditComponent>,\n    //  private crudService: CrudHttpService,\n    private socketService: SocketService,\n    @Inject(MAT_DIALOG_DATA) data: any,\n    private establecimientoService: EstablecimientoService\n  ) {\n\n    // this.idTpcItemResumenSelect = data.idTpcItemResumenSelect;\n    // clear subitem cantidad\n    this.clearSubItemOpcionesCtrlCant(data.item);\n\n    this.item = data.item;\n    this.item.cantidad = this.getCantidadItemCarta(); // trae el stock del item carta\n    this.objItemTipoConsumoSelected = <ItemTipoConsumoModel[]>data.objItemTipoConsumoSelected;\n\n    // console.log('set this.objItemTipoConsumoSelected', this.objItemTipoConsumoSelected);\n\n    this.miPedidoService.setObjSeccionSeleced(data.seccion);\n    this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);\n\n\n\n    this.isOneTipoConsumo = this.objItemTipoConsumoSelected.length === 1;\n    this.item.detalles = this.primerMayuscula(this.item.detalles);\n\n    // this.miPedidoService.listenChangeCantItem();\n\n    // console.log('this.item', this.item);\n\n  }\n\n  ngOnInit() {\n\n    this.isUsCliente = this.infoToken.getInfoUs().isCliente;\n\n    // listen cambios en el stock\n    this.miPedidoService.itemStockChangeObserve$\n    .pipe(takeUntil(this.destroyDlg$))\n    .subscribe((res: ItemModel) => {\n      // para que la ultima cantidad modificada\n      if ( this.isFirstOpen ) {this.isFirstOpen = false; return; }\n\n      if ( this.item.iditem === res.iditem ) {\n        this.item.cantidad = res.cantidad;\n      }\n    });\n\n    this.item.subitems_selected = null;\n    this.item.subitems_view = null;\n\n    // this.cocinarListSubItemsView();\n    this.getSubItemsItemSelect(this.item);\n\n    // this.compItemSumImporte();\n    // this.item.subitems.map((sub: SubItem) => sub.selected = false);\n\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n\n  }\n\n  ngOnDestroy(): void {\n    this.destroyDlg$.next(true);\n    this.destroyDlg$.unsubscribe();\n  }\n\n  // reset control cantidad\n  clearSubItemOpcionesCtrlCant(_item: any) {\n    if ( !_item.cantidad_seleccionada || _item?.cantidad_seleccionada === 0) {\n      if ( !_item.subitems ) { return; }\n      _item.subitems.map((i: any) => {\n        if ( i.show_cant_item === 1 ) {\n          i.opciones.map((o: any) => {\n            if ( o?.cantidad_selected > 0) {\n              o.des = o.desIni;\n              o.precio = o.precio_first.toFixed(2);\n              o.cantidad_selected = 0;\n              o.stop_add = false;\n            }\n          });\n        }\n      });\n    }\n  }\n\n  shoFirstChartUpperOptions(_item: any) {\n    if ( !_item.subitems ) { return; }\n      _item.subitems.map((i: any) => {\n          i.opciones.map((o: any) => {\n            o.des = this.uttilService.primeraConMayusculas(o.des.toLowerCase());\n          });\n      });\n  }\n\n  getCantidadItemCarta(): number {\n    return parseInt(this.miPedidoService.findItemCarta(this.item).cantidad.toString(), 0);\n  }\n\n  // get subitems item seleccionado\n\n  getSubItemsItemSelect( elItem: ItemModel ): any {\n    // si de bodega no lleva subitems\n    if ( elItem.procede === 0 ) {\n      this.isObjSubItems = false;\n      this.isOptionRequeridosComplet = true;\n      return; }\n\n    // verificamos si ya buscamos los subitems de este item\n    if ( !elItem.is_search_subitems ) {\n      // buscamos\n      // const _dataIdItem = {\n      //   iditem: elItem.iditem\n      // };\n\n\n      // this.crudService.postFree(_dataIdItem, 'pedido', 'search-subitems-del-item', false).subscribe((res: any) => {\n      this.socketService.emitRes('search-subitems-del-item', elItem.iditem).subscribe((res: any) => {\n        // console.log('res subitems', res);\n        let _resSubItems = res[0].respuesta;\n        _resSubItems = typeof _resSubItems === 'string' ? JSON.parse(_resSubItems) : null;\n\n        elItem.subitems = _resSubItems;\n        elItem.is_search_subitems = true;\n\n        this.shoFirstChartUpperOptions(elItem);\n        this.cocinarListSubItemsView();\n        this.compItemSumImporte();\n      });\n    } else {\n      this.shoFirstChartUpperOptions(elItem);\n      this.cocinarListSubItemsView();\n      this.compItemSumImporte();\n    }\n\n  }\n\n  // get subitems item seleccionado\n\n  private cocinarListSubItemsView(): void {\n\n    // console.log('subitems');\n\n    if ( this.item.subitems && this.item.subitems.length > 0) {\n      this.item.subitems.map( (z: SubItemContent) => {\n            z.isSoloUno = z.subitem_cant_select_ini === 1 ? true : false;\n            z.isObligatorio = z.subitem_required_select === 1 ? true : false;\n            // z.subitem_cant_select_ini = z.subitem_cant_select;\n            z.subitem_cant_select = z.subitem_cant_select === 0 ? z.opciones.length : z.subitem_cant_select;\n            z.des_cant_select = z.isSoloUno ?  `Solo 1` : `Hasta ${z.subitem_cant_select}`;\n            z.des_cant_select = z.show_cant_item === 1 && z.subitem_cant_select_ini === 0 ? 'Seleccione' : z.des_cant_select;\n            // z.isRequeridComplet = !z.isObligatorio ? true : false;\n\n            z.opciones.map((x: SubItem) => {\n                x.iditem_subitem = x.iditem_subitem;\n                x.precio_visible = x.precio === 0 ? false : true;\n                x.precio = x.precio_visible ? x.precio : 0;\n                x.cantidad_visible = isNaN(parseFloat(x.cantidad)) ? false : true;\n                // x.disabled = x.cantidad <= 0 ? true : false;\n                // x.classAgotado = x.cantidad <= 0 ? 'agotado' : '';\n                x.selected = false;\n            });\n        });\n\n        this.isObjSubItems = true;\n        this.item.indicaciones = '';\n        this.checkOptionObligario();\n    } else {\n      this.isObjSubItems = false;\n      this.isOptionRequeridosComplet = true;\n    }\n  }\n\n  addSubItemCtrlCantidad(subitemContent: SubItemContent, subItemCant: any) {\n    subItemCant.selected = subItemCant.cantidad_selected > 0;\n    if ( subItemCant.cantidad_selected === 1 ) {\n      if ( parseFloat(subItemCant.precio) > subItemCant.precio_first ) {\n        subItemCant.precio_first = subItemCant.precio_first;\n      } else {\n        subItemCant.desIni = subItemCant.precio_first !== 0 ? subItemCant.des : subItemCant.desIni;\n        subItemCant.precio_first = parseFloat(subItemCant.precio);\n      }\n    }\n\n    // subItemCant.precio_first = subItemCant.cantidad_selected === 1 ? parseFloat(subItemCant.precio) > subItemCant.precio_first ? subItemCant.precio_first : parseFloat(subItemCant.precio) : subItemCant.precio_first;\n\n    if ( subItemCant.cantidad_selected > 1 ) {\n      subItemCant.precio = subItemCant.isSuma_selected ? parseFloat(subItemCant.precio) + parseFloat(subItemCant.precio_first) : parseFloat(subItemCant.precio) - parseFloat(subItemCant.precio_first);\n    } else {\n      subItemCant.precio = subItemCant.precio_first;\n    }\n\n    subItemCant.des = subItemCant.cantidad_selected > 0 ? `${subItemCant.cantidad_selected} ${subItemCant.desIni}` : subItemCant.desIni;\n\n\n    subItemCant.precio = subItemCant.precio.toFixed(2);\n\n    // stop add\n    if ( subitemContent.subitem_cant_select_ini ===  0 ) {\n      subItemCant.stop_add = false;\n    } else {\n      const _cantOpciones = subitemContent.opciones.map((x: any) => x.cantidad_selected || 0).reduce((a, b) => a + b, 0);\n      const isStopAdd = subitemContent.subitem_cant_select === _cantOpciones;\n      subitemContent.opciones.map((x: any) => x.stop_add = isStopAdd);\n\n    }\n\n    // console.log('subItemCant', subItemCant);\n\n    this.addSubItem( subitemContent, subItemCant);\n  }\n\n  addSubItem(subitemContent: SubItemContent, subitem: SubItem): void {\n    // chequeamos cuantos subitem estan checkes\n    // console.log('aadd subitem', subitem);\n    // console.log('aadd subitemContent', subitemContent);\n    let listSubItemChecked = subitemContent.opciones.filter((x: SubItem) => x.selected);\n    let countSelectReq = listSubItemChecked.length;\n\n    listSubItemChecked.map( (_subItem: SubItem, i: number) =>  {\n      if (countSelectReq > subitemContent.subitem_cant_select && _subItem !== subitem) {\n        _subItem.selected = false;\n        countSelectReq--;\n      }\n    });\n\n    // total de cheks chekeados\n    listSubItemChecked = subitemContent.opciones.filter((x: SubItem) => x.selected);\n    const countOptionsCheks = listSubItemChecked.length;\n    // quita el obligatorio\n    if ( subitemContent.subitem_required_select === 1 ) {\n      if ( subitemContent.show_cant_item === 1 ) {\n        const _cantOptionsSelcted = subitemContent.opciones.map((x: any) => x.cantidad_selected || 0).reduce((a, b) => a + b, 0 );\n        subitemContent.isObligatorio = _cantOptionsSelcted === subitemContent.subitem_cant_select ? false : true;\n      } else {\n        subitemContent.isObligatorio = countOptionsCheks === subitemContent.subitem_cant_select ? false : true;\n      }\n    }\n\n    // agrega las opciones seleccionadas al subitems_selected del item;\n    this._subitems_selected = [];\n    this.item.subitems.map((sc: SubItemContent) => {\n      sc.opciones.filter((s: SubItem) => s.selected)\n                .map((s: SubItem) => {\n                  this._subitems_selected.push(s);\n                });\n    });\n\n    this.item.subitems_selected = this._subitems_selected;\n\n    this.checkOptionObligario();\n    this.compItemSumImporte(true);\n}\n\n  // chequea si todas las opciones requeridas ya estan marcadas\n  private checkOptionObligario(): void {\n      let countOptionReq = 0;\n\n      if ( !this.item.subitems || this.item.subitems === null ) { this.isOptionRequeridosComplet = true; return; }\n\n      this.item.subitems.map(t => {\n          countOptionReq = t.isObligatorio ? + 1 : countOptionReq;\n      });\n\n      this.isOptionRequeridosComplet = countOptionReq === 0 ?  true : false;\n  }\n\n  private compItemSumImporte(fromToCheck = false): void {\n    if ( fromToCheck ) {\n        let _importeChecks = 0;\n        this.item.subitems.map(t => {\n            t.opciones.filter(o => o.selected).map(o => {\n                _importeChecks += parseFloat(o.precio.toString());\n            });\n        });\n\n        this.precioProducto = this._precioProductoIni + _importeChecks;\n    } else {\n        // si viene del btn add +\n        this.precioProducto = this.getImporteTotalItem();\n        this._precioProductoIni = this.precioProducto;\n    }\n  }\n\n  private getImporteTotalItem(): number {\n    let rpt = 0;\n    rpt = this.miPedidoService.getImporteTotalItemFromMiPedido(this.item);\n    rpt = rpt === 0 ? parseFloat(this.item.precio) : rpt;\n    return rpt;\n  }\n\n  addItemToDialogItem(tpcSelect: ItemTipoConsumoModel, suma: number): void {\n\n    let paseCantSuItem = true;\n    this.item.subitems_selected = this._subitems_selected;\n\n    // agrega tipo de consumo para identificar y no sumar de otro tpc\n    this.item.subitems_selected.map(subi => subi.idtipo_consumo = tpcSelect.idtipo_consumo);\n\n    // ver si selecciono subitems y si ese subitem tiene stock disponible\n    this.item.subitems_selected.map((t: SubItem) => {\n      if (t.cantidad !== 'ND') {\n        if ( parseFloat(t.cantidad.toString()) === 0 ) {\n          paseCantSuItem = false;\n          return;\n        }\n      }\n    });\n\n    if ( !paseCantSuItem ) {return; }\n    // ver si selecciono subitems y si ese subitem tiene stock disponible\n\n    this.miPedidoService.addItem2(tpcSelect, this.item, suma);\n\n    tpcSelect.animar_cantidad = true;\n    setTimeout(() => {\n      tpcSelect.animar_cantidad = false;\n    }, 500);\n\n    this.compItemSumImporte();\n    // this.item.indicaciones = this.isObjSubItems ? '' : this.item.indicaciones;\n\n  }\n\n  setIndicaciones(val: string): void {\n    this.item.indicaciones = this.uttilService.addslashes(val);\n    // this.item.indicaciones = val;\n\n    let isItemSubISelected = false;\n    if ( this.isObjSubItems ) {\n      isItemSubISelected = this.item.subitems_selected?.length > 0;\n    }\n\n    // agrega las indicaciones si existe en mipedido y si no tienen subitems\n    const _itemFromPedido = this.miPedidoService.findOnlyItemMiPedido(this.item);\n    if (_itemFromPedido && !this.isObjSubItems) {\n      _itemFromPedido.indicaciones = val;\n    }\n\n    if ( _itemFromPedido && !isItemSubISelected ) {\n      _itemFromPedido.indicaciones = val;\n    }\n\n    this.miPedidoService.setLocalStoragePedido();\n  }\n\n\n  getEstadoStockItem(stock: any): string {\n    if ( stock === 'ND' || isNaN(stock) ) {\n      // stock = 'ND';\n      return 'verde';\n    } else {\n      const _stock = parseInt(stock, 0);\n      return _stock > 10 ? 'verde' : _stock > 5 ? 'amarillo' : 'rojo';\n    }\n  }\n\n  cerrarDlg(): void {\n    this.dialogRef.close();\n  }\n\n  primerMayuscula(val: string): string {\n    return this.uttilService.primeraConMayusculas(val);\n  }\n\n\n\n}\n","export default \"p {\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.div-list-icon {\\r\\n    display: grid;\\r\\n    width: 100%;\\r\\n    margin: 0 auto;\\r\\n    grid-gap: 10px;\\r\\n    grid-template-columns: repeat(auto-fill, 65px);    \\r\\n}\\r\\n\\r\\n.div-list-icon p {\\r\\n    margin: 0px;\\r\\n}\\r\\n\\r\\n.item-option-pago {\\r\\n    text-align: center;\\r\\n    padding: 10px;\\r\\n    border: 1px solid #9e9e9e;\\r\\n    border-radius: 5px;\\r\\n    font-size: 12px;\\r\\n    background-color: white;\\r\\n    margin-left: 5px;\\r\\n    -webkit-transition: all 0.3s;\\r\\n    transition: all 0.3s;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.item-option-pago-selected {\\r\\n    /* background-color: black;\\r\\n    color: white; */\\r\\n    background-color: slategrey;\\r\\n    /* border: 1px solid gold; */\\r\\n    color: white;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLW1ldG9kby1wYWdvL2RpYWxvZy1tZXRvZG8tcGFnby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxjQUFjO0lBQ2QsY0FBYztJQUNkLDhDQUE4QztBQUNsRDs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFHQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtJQUNoQiw0QkFBb0I7SUFBcEIsb0JBQW9CO0lBQ3BCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJO21CQUNlO0lBQ2YsMkJBQTJCO0lBQzNCLDRCQUE0QjtJQUM1QixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLW1ldG9kby1wYWdvL2RpYWxvZy1tZXRvZG8tcGFnby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW46IDBweDtcclxufVxyXG5cclxuLmRpdi1saXN0LWljb24ge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBncmlkLWdhcDogMTBweDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgNjVweCk7ICAgIFxyXG59XHJcblxyXG4uZGl2LWxpc3QtaWNvbiBwIHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG5cclxuLml0ZW0tb3B0aW9uLXBhZ28ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbi5pdGVtLW9wdGlvbi1wYWdvLXNlbGVjdGVkIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2xhdGVncmV5O1xyXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgZ29sZDsgKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\n\n@Component({\n  selector: 'app-dialog-metodo-pago',\n  templateUrl: './dialog-metodo-pago.component.html',\n  styleUrls: ['./dialog-metodo-pago.component.css']\n})\nexport class DialogMetodoPagoComponent implements OnInit {\n\n  // dialogResponse: MetodoPagoModel;\n  listMetodoPago: any;\n  isMontoVisible = false;\n  formValid = false;\n  importeIndicado: string;\n  isFromNoComercio = false; // si no viene de comercio\n\n  private idExluir: null; // id escluir // cuando el comercio toma el pedido no puede pagar con tarjeta\n  private isHabilitadoYape = true;\n  isHabilitadoTarjeta = true; // comercios no afiliado no se acepta tarjeta por la comision que cobran, algunos comercios tambien pueden especificar que no desean pagos con tarjeta\n  private isComercioSolidaridad = false;\n\n  itemSelected: MetodoPagoModel;\n  private importeTotal: number;\n  private importeValid = false;\n\n  private isClientePedido  = false;\n\n  constructor(\n    private dialogRef: MatDialogRef<DialogMetodoPagoComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any,\n    private infoTokenService: InfoTockenService,\n    private establecimientoService: EstablecimientoService\n  ) {\n    this.importeTotal = parseFloat(data.importeTotalPagar);\n    this.isFromNoComercio = data.isFromComercio ? false : true; // si no viene ese dato entonces viene de un coemrico\n    this.idExluir = data.excluirId;\n  }\n\n  ngOnInit() {\n\n    this.isHabilitadoYape  = this.isFromNoComercio ? true : this.establecimientoService.get().pwa_delivery_acepta_yape === 1;\n    this.isHabilitadoTarjeta  = this.establecimientoService.get().pwa_delivery_acepta_tarjeta === 1;\n    this.isComercioSolidaridad  = this.establecimientoService.get().pwa_delivery_comercio_solidaridad === 1;\n    this.isClientePedido = this.infoTokenService.infoUsToken.isCliente;\n\n    this.loadMetodoPago();\n    this.itemSelected = this.infoTokenService.infoUsToken.metodoPago;\n    this.itemSelected.info = this.itemSelected.info ? this.itemSelected.info : '';\n    this.verificarMetodoInit();\n  }\n\n  private loadMetodoPago() {\n    this.listMetodoPago = [];\n\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 2, 'descripcion': 'Tarjeta', 'checked': true, visible: this.isHabilitadoTarjeta, importe: '', img: '_tp_tarjeta.png', info: ''});\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 3, 'descripcion': 'Yape', 'checked': false, visible: this.isHabilitadoYape, importe: '', img: '_tp_yape.png',\n      info: 'El Yapeo debe realizarle al repartidor al momento de recibir su pedido.'});\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 6, 'descripcion': 'Plin', 'checked': false, visible: this.isHabilitadoYape, importe: '', img: '_tp_plin.png',\n      info: 'El Plineo debe realizarle al repartidor al momento de recibir su pedido.'});\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 1, 'descripcion': 'Efectivo', 'checked': false, visible: true, importe: '', img: '_tp_efectivo.png', info: ''});\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 4, 'descripcion': 'POS', 'checked': false, visible: !this.isClientePedido, importe: '', img: '_tp_pos.png', info: ''});\n    this.listMetodoPago.push(<MetodoPagoModel>{'idtipo_pago': 5, 'descripcion': 'Trasferencia', 'checked': false, visible: !this.isClientePedido, importe: '', img: '_tp_transferencia.png', info: ''});\n\n    this.validaCociones();\n\n  }\n\n  private validaCociones(): void {\n    // exlucion -- mayormente tarjeta cuando el comercio hace pedido delivery\n    if ( this.idExluir ) {\n      this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago !== this.idExluir ).map(m => m);\n    }\n\n    // if ( !this.isHabilitadoYape ) {\n    //   this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago !== 3 ).map(m => m);\n    // }\n\n    // exclui metodos de pago no habilitados\n    this.listMetodoPago = this.listMetodoPago.filter(m => m.visible ).map(m => m);\n\n    // si es comercio solidario solo tarjeta\n    if ( this.isComercioSolidaridad ) {\n      this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago === 2 ).map(m => m);\n    }\n  }\n\n  private verificarMetodoInit() {\n    if ( this.itemSelected.idtipo_pago === 1 ) {\n      this.isMontoVisible = true;\n      this.importeIndicado = this.itemSelected.importe.toString();\n\n      this.verificarImporte(this.importeIndicado);\n    }\n    this.listMetodoPago.map(x => {\n      x.checked = x.idtipo_pago === this.itemSelected.idtipo_pago ? true : false;\n    });\n    this.verificarValidForm();\n\n  }\n\n  chageItem(item: MetodoPagoModel) {\n    this.listMetodoPago.map(x => x.checked = false);\n    this.isMontoVisible = false;\n    this.importeValid = false;\n    this.importeIndicado = '';\n    item.checked = true;\n    this.itemSelected = item;\n\n    if ( item.idtipo_pago === 1 ) {\n      this.isMontoVisible = true;\n    }\n\n    this.verificarValidForm();\n  }\n\n  verificarImporte(importe: string) {\n    this.importeValid = parseFloat(importe) >= this.importeTotal;\n    this.importeIndicado = importe;\n    this.itemSelected.importe = this.importeIndicado;\n    this.verificarValidForm();\n  }\n\n  private verificarValidForm() {\n    this.formValid = this.itemSelected.idtipo_pago !== 1 ? true : this.importeValid;\n\n  }\n\n  cerrarDlg(): void {\n    this.infoTokenService.setMetodoPago( this.itemSelected );\n    this.dialogRef.close(this.itemSelected);\n  }\n\n  selectedItemOptionPago(item: MetodoPagoModel) {\n    this.listMetodoPago.map(x => x.checked = false);\n    this.isMontoVisible = false;\n    this.importeValid = false;\n    this.importeIndicado = '';\n    item.checked = true;\n    this.itemSelected = item;\n\n    if ( item.idtipo_pago === 1 ) {\n      this.isMontoVisible = true;\n    }\n\n    this.verificarValidForm();\n\n\n    // this.listOpciones.map(x => x.selected = false);\n    // item.selected = true;\n    // this.itemSelected = item;\n    // this.optionSelected.emit(this.itemSelected);\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1ub21icmUtY2xpZW50ZS9kaWFsb2ctbm9tYnJlLWNsaWVudGUuY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-dialog-nombre-cliente',\n  templateUrl: './dialog-nombre-cliente.component.html',\n  styleUrls: ['./dialog-nombre-cliente.component.css']\n})\nexport class DialogNombreClienteComponent implements OnInit {\n\n  nombre_cliente: string;\n  isValidForm = false;\n  constructor(\n    private dialogRef: MatDialogRef<DialogNombreClienteComponent>,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  verificarNombre(val: string) {\n    this.isValidForm = val.length > 3;\n    this.nombre_cliente = val;\n  }\n\n  cerrarDlg(): void {\n    this.dialogRef.close(this.nombre_cliente);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1zZWxlY3QtZGlyZWNjaW9uL2RpYWxvZy1zZWxlY3QtZGlyZWNjaW9uLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\n\n@Component({\n  selector: 'app-dialog-select-direccion',\n  templateUrl: './dialog-select-direccion.component.html',\n  styleUrls: ['./dialog-select-direccion.component.css']\n})\nexport class DialogSelectDireccionComponent implements OnInit {\n\n  isShowAddDireccion = false;\n  direccionSelected: DeliveryDireccionCliente;\n\n  isGuardarDireccion = true;\n\n  _idClienteBuscar: number; // cuando el pedido delivery lo toma el comercio\n\n  constructor(\n    private dialogRef: MatDialogRef<DialogSelectDireccionComponent>,\n    private listenService: ListenStatusService,\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    this.isGuardarDireccion = data ? data.isGuardar : true;\n    this._idClienteBuscar = data ? data.idClienteBuscar : null;\n  }\n\n  ngOnInit() {\n  }\n\n  setDireccion($event: DeliveryDireccionCliente) {\n\n    this.direccionSelected = $event;\n\n    this.listenService.setChangeDireccionDelivery(this.direccionSelected);\n    this.cerrarDlg();\n  }\n\n  showAddDireccion() {\n    this.isShowAddDireccion = true;\n  }\n\n  cerrarDlg(): void {\n    this.dialogRef.close(this.direccionSelected);\n  }\n\n}\n","export default \".div-content-dialog {\\r\\n    /* display: flex; */\\r\\n\\r\\n    -webkit-box-align: center;\\r\\n\\r\\n    -webkit-align-items: center;\\r\\n\\r\\n            align-items: center;\\r\\n    \\r\\n    height: -webkit-calc(100% - 95px);\\r\\n    \\r\\n    height: calc(100% - 95px);\\r\\n    overflow: auto;\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n/* .xfooter-dialog {\\r\\n    position: fixed;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n} */\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLXRpZW1wby1lbnRyZWdhL2RpYWxvZy10aWVtcG8tZW50cmVnYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUJBQW1COztJQUVuQix5QkFBbUI7O0lBQW5CLDJCQUFtQjs7WUFBbkIsbUJBQW1COztJQUVuQixpQ0FBeUI7O0lBQXpCLHlCQUF5QjtJQUN6QixjQUFjOzs7QUFHbEI7O0FBRUE7Ozs7R0FJRyIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy10aWVtcG8tZW50cmVnYS9kaWFsb2ctdGllbXBvLWVudHJlZ2EuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtY29udGVudC1kaWFsb2cge1xyXG4gICAgLyogZGlzcGxheTogZmxleDsgKi9cclxuXHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgXHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDk1cHgpO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcblxyXG5cclxufVxyXG5cclxuLyogLnhmb290ZXItZGlhbG9nIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gICAgbGVmdDogMHB4O1xyXG59ICovIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n\n@Component({\n  selector: 'app-dialog-tiempo-entrega',\n  templateUrl: './dialog-tiempo-entrega.component.html',\n  styleUrls: ['./dialog-tiempo-entrega.component.css']\n})\nexport class DialogTiempoEntregaComponent implements OnInit {\n\n  infoEstablecimiento: DeliveryEstablecimiento;\n  tiempoEntregaSelected: TiempoEntregaModel;\n  isComercioAceptaPedidoProgramado = false;\n  isPersonalAutorizado = false;\n  hourNow: number;\n  minNow: number;\n  rippleColor = 'rgb(255,238,88, 0.3)';\n\n  isHoraValid  = true;\n\n  private dateNow = new Date();\n  constructor(\n    private dialogRef: MatDialogRef<DialogTiempoEntregaComponent>,\n    private establecimientoService: EstablecimientoService,\n    private inforTokenService: InfoTockenService\n\n  ) { }\n\n  ngOnInit() {\n\n    this.hourNow = this.dateNow.getHours();\n    this.minNow = this.dateNow.getMinutes();\n\n    this.infoEstablecimiento = this.establecimientoService.get();\n\n    this.isPersonalAutorizado = !this.inforTokenService.getInfoUs().isCliente;\n    this.isComercioAceptaPedidoProgramado = this.infoEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1;\n\n  }\n\n  selectedTime($event: TiempoEntregaModel) {\n    this.tiempoEntregaSelected = $event;\n\n  }\n\n  timePersonalAutorizado() {\n    this.isHoraValid = this.hourNow <= 24 && this.minNow <= 59;\n\n    const _houra = this.hourNow + ':' + this.minNow;\n    const _valAdd = this.dateNow.toLocaleDateString() + ' ' + _houra;\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n    this.tiempoEntregaSelected.dia = 'Hoy';\n    this.tiempoEntregaSelected.descripcion = 'Hoy';\n    this.tiempoEntregaSelected.hora = _houra;\n    this.tiempoEntregaSelected.value = _houra;\n    this.tiempoEntregaSelected.date = _valAdd;\n    this.tiempoEntregaSelected.idhora = 0;\n    this.tiempoEntregaSelected.iddia = 0;\n    this.tiempoEntregaSelected.modificado = true;\n    this.tiempoEntregaSelected.isUsuarioAutorizado = true;\n\n\n  }\n\n  cerrarDlg(): void {\n    this.dialogRef.close(this.tiempoEntregaSelected);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy10aXBvLWNvbXByb2JhbnRlL2RpYWxvZy10aXBvLWNvbXByb2JhbnRlLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { TipoComprobanteModel } from 'src/app/modelos/tipo.comprobante.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\n\n@Component({\n  selector: 'app-dialog-tipo-comprobante',\n  templateUrl: './dialog-tipo-comprobante.component.html',\n  styleUrls: ['./dialog-tipo-comprobante.component.css']\n})\nexport class DialogTipoComprobanteComponent implements OnInit {\n\n  listTipoComprobante: any;\n  datosComprobante = {\n    dni: '',\n    otro: ''\n  };\n\n  private itemSelected: TipoComprobanteModel;\n  constructor(\n    private dialogRef: MatDialogRef<DialogTipoComprobanteComponent>,\n    private infoTokenService: InfoTockenService,\n    private utilService: UtilitariosService\n  ) { }\n\n  ngOnInit() {\n    this.loadTipoComprobante();\n    this.itemSelected = this.infoTokenService.infoUsToken.tipoComprobante;\n    this.datosComprobante.dni = this.itemSelected.dni;\n    this.datosComprobante.otro = this.itemSelected.otro_dato;\n\n    this.verificarComprobanteInit();\n  }\n\n  private loadTipoComprobante() {\n    this.listTipoComprobante = [];\n\n    this.listTipoComprobante.push(<TipoComprobanteModel>{'idtipo_comprobante': 1, 'descripcion': 'Boleta', 'checked': true});\n    this.listTipoComprobante.push(<TipoComprobanteModel>{'idtipo_comprobante': 2, 'descripcion': 'Factura', 'checked': false});\n\n  }\n\n  private verificarComprobanteInit() {\n    this.listTipoComprobante.map(x => {\n      x.checked = x.idtipo_comprobante === this.itemSelected.idtipo_comprobante ? true : false;\n    });\n\n  }\n\n  chageItem(item: TipoComprobanteModel) {\n    this.listTipoComprobante.map(x => x.checked = false);\n    item.checked = true;\n    this.itemSelected = item;\n  }\n\n\n  cerrarDlg(): void {\n    this.itemSelected.dni = this.datosComprobante.dni;\n    this.itemSelected.otro_dato = this.utilService.addslashes(this.datosComprobante.otro);\n    this.infoTokenService.setTipoComprobante( this.itemSelected );\n    this.dialogRef.close(this.itemSelected);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy12ZXJpZmljYXItdGVsZWZvbm8vZGlhbG9nLXZlcmlmaWNhci10ZWxlZm9uby5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\n\n\n@Component({\n  selector: 'app-dialog-verificar-telefono',\n  templateUrl: './dialog-verificar-telefono.component.html',\n  styleUrls: ['./dialog-verificar-telefono.component.css']\n})\nexport class DialogVerificarTelefonoComponent implements OnInit {\n\n  data: any;\n  isValidForm = false;\n  isSendSMS = false;\n  isNumberSuccess = 0;\n  loader = 0;\n  isVerificacionOk = false;\n  infoClient: any;\n  intentoVerificacion = 0;\n  conteoInterval: any;\n  numSegundosActivarBtn = 15;\n  isContandoShow = false;\n  private isClienteNoRegister = false;\n\n  constructor(\n    private dialogRef: MatDialogRef<DialogVerificarTelefonoComponent>,\n    @Inject(MAT_DIALOG_DATA) data: any,\n    private crudService: CrudHttpService,\n    private socketService: SocketService,\n    private verifyClientService: VerifyAuthClientService\n  ) {\n    this.data = data;\n\n\n    // cliente aun no definido\n    // busca el cliente por el numero de telefono sino lo encuentra\n    // crea un registro temporal de codigo verificacion\n    if ( this.data?.idcliente === -1 ) {\n      this.isClienteNoRegister = true;\n    }\n   }\n\n  ngOnInit() {\n    // setTimeout(() => {\n      if (!this.socketService.isSocketOpen) {\n        this.infoClient = this.verifyClientService.getDataClient();\n        console.log('this.infoClient', this.infoClient);\n        this.socketService.connect(this.infoClient, 0, false, false);\n      }\n    // }, 2000);\n\n\n    // respuesta del msj verificacion\n    this.socketService.onMsjVerificacionResponse().subscribe((res: any) => {\n      console.log('repuesta == ', res);\n      if ( res.msj ) { this.intentoVerificacion = 0; } // por si quiere enviar nuevamente\n      this.isNumberSuccess = res.msj ? 1 : 2;\n      this.isSendSMS = true; // res.msj;\n      this.isValidForm = false;\n      this.isContandoShow = false;\n\n      this.detenerContadorBtnSend();\n    });\n  }\n\n  enviarCodigoSMS() {\n    if ( this.isClienteNoRegister ) {\n      this.buscarClienteTelefono();\n      return;\n    }\n\n    this.sendSMS();\n  }\n\n  sendSMS() {\n\n    this.isVerificacionOk = false;\n    this.isSendSMS = false;\n    this.isContandoShow = false;\n    this.isNumberSuccess = 0;\n    this.numSegundosActivarBtn = 15;\n\n    // por wsp\n    if ( this.intentoVerificacion === 0 ) {\n      this.data.idsocket = this.socketService.getIdSocket();\n\n      if (!this.socketService.isSocketOpen) {\n        this.socketService.connect(this.infoClient, 0, false, false);\n      }\n\n\n      setTimeout(() => {\n        this.socketService.emit('msj-confirma-telefono', this.data);\n      }, 500);\n      this.isContandoShow = true;\n      this.contadorActvarBtnSend();\n      return;\n    }\n\n    // console.log('enviando por msj texto');\n    this.contadorActvarBtnSend();\n    this.crudService.postSMS(this.data, 'delivery', 'send-sms-confirmation', false)\n      .subscribe(res => {\n\n        this.isNumberSuccess = res.msj ? 1 : 2;\n        this.isSendSMS = res.msj;\n        this.isValidForm = false;\n        this.detenerContadorBtnSend();\n      });\n  }\n\n  verificarCodigoSMS(val: string) {\n    this.loader = 1;\n    // this.isVerificacionOk = true;\n    // idcliente -2  verifica -1 guarda codigo tmp\n    const _dataCod = {\n      idcliente: this.isClienteNoRegister ? -2 : this.data.idcliente,\n      codigo: val,\n      numberphone: this.data.numberphone\n    };\n\n    this.crudService.postFree(_dataCod, 'delivery', 'verificar-codigo-sms', false)\n      .subscribe(res => {\n\n        this.isVerificacionOk = res.data[0].response === 1 ? true : false;\n        setTimeout(() => {\n          this.loader = this.isVerificacionOk ? 2 : 3;\n          this.data.verificado = this.isVerificacionOk;\n          // this.loader = 2;s\n\n          if ( this.isVerificacionOk ) {\n            setTimeout(() => {\n              this.cerrarDlg();\n            }, 1000);\n          }\n        }, 1000);\n      });\n  }\n\n  verificarNum(telefono: string): void {\n    this.isValidForm = telefono.trim().length >= 5 ? true : false;\n    this.data.numberphone = telefono;\n    this.data.verificado = false;\n  }\n\n  contadorActvarBtnSend() {\n    this.isContandoShow = true;\n    this.conteoInterval = setInterval(() => {\n      if ( this.numSegundosActivarBtn > 0 ) {\n        this.numSegundosActivarBtn--;\n      } else {\n        this.numSegundosActivarBtn = 15;\n        this.isSendSMS = true;\n        this.isContandoShow = false;\n        this.intentoVerificacion = 1;\n        clearInterval(this.conteoInterval);\n      }\n    }, 1000);\n  }\n\n  detenerContadorBtnSend() {\n    this.numSegundosActivarBtn = 15;\n    this.isSendSMS = true;\n    this.isContandoShow = false;\n    clearInterval(this.conteoInterval);\n  }\n\n\n  private buscarClienteTelefono() {\n    const _dataSend = {\n      telefono: this.data.numberphone\n    };\n\n     this.crudService.postFree(_dataSend, 'delivery', 'search-cliente-by-phone', false)\n    .subscribe((res: any) => {\n      console.log('cliten con telefono', res);\n      this.data.isClienteTelefono = true;\n      this.data.cliente = res.data.length > 0 ? res.data[0] : null;\n      if ( res.data.length > 0 ) {\n        this.isClienteNoRegister = false;\n        this.data.idcliente = this.data.cliente.idcliente;\n      }\n\n      this.sendSMS();\n    });\n  }\n\n  cerrarDlg(): void {\n    this.dialogRef.close(this.data);\n  }\n\n\n}\n\n","export default \".btnIco {\\r\\n    opacity: 0.7;\\r\\n    padding: 10px;\\r\\n    cursor: pointer;\\r\\n    /* width: 112px; */\\r\\n    -webkit-transition: -webkit-transform .2s;\\r\\n    transition: -webkit-transform .2s;\\r\\n    transition: transform .2s;\\r\\n    transition: transform .2s, -webkit-transform .2s; /* Animation */\\r\\n}\\r\\n\\r\\n.btnIco:hover {\\r\\n    -webkit-transform: scale(1.2);\\r\\n            transform: scale(1.2);\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.divBtn {\\r\\n    display: grid;\\r\\n}\\r\\n\\r\\n.divBtn span {\\r\\n    color: #757575;\\r\\n}\\r\\n\\r\\n.op {\\r\\n    text-align: center;    \\r\\n    line-height: 1;\\r\\n}\\r\\n\\r\\n.op img {\\r\\n    width: 65px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZW5jdWVzdGEtb3BjaW9uL2VuY3Vlc3RhLW9wY2lvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLHlDQUF5QjtJQUF6QixpQ0FBeUI7SUFBekIseUJBQXlCO0lBQXpCLGdEQUF5QixFQUFFLGNBQWM7QUFDN0M7O0FBRUE7SUFDSSw2QkFBcUI7WUFBckIscUJBQXFCO0lBQ3JCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9lbmN1ZXN0YS1vcGNpb24vZW5jdWVzdGEtb3BjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuSWNvIHtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAvKiB3aWR0aDogMTEycHg7ICovXHJcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzOyAvKiBBbmltYXRpb24gKi9cclxufVxyXG5cclxuLmJ0bkljbzpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG4uZGl2QnRuIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbn1cclxuXHJcbi5kaXZCdG4gc3BhbiB7XHJcbiAgICBjb2xvcjogIzc1NzU3NTtcclxufVxyXG5cclxuLm9wIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgICAgXHJcbiAgICBsaW5lLWhlaWdodDogMTtcclxufVxyXG5cclxuLm9wIGltZyB7XHJcbiAgICB3aWR0aDogNjVweDtcclxufSJdfQ== */\";","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n\n@Component({\n  selector: 'app-encuesta-opcion',\n  templateUrl: './encuesta-opcion.component.html',\n  styleUrls: ['./encuesta-opcion.component.css']\n})\nexport class EncuestaOpcionComponent implements OnInit {\n  @Input() ListOption: any;\n  @Output() public NextPregunta = new EventEmitter<any>();\n\n  constructor(\n  ) { }\n\n  ngOnInit() {\n  }\n\n  xNextPregunta(item: any) {\n    setTimeout(() => {\n      this.NextPregunta.emit(item);\n    }, 300);\n  }\n\n}\n","export default \".content-comercio {\\r\\n    width: 335px;\\r\\n    margin: 5px;\\r\\n}\\r\\n\\r\\n.content-img-comercio {\\r\\n    border: 1px solid lightgray;\\r\\n    border-radius: 2px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.img-comercio {\\r\\n    max-width: 100%;\\r\\n    /* max-width: 330px; */\\r\\n    height: 115px;\\r\\n}\\r\\n\\r\\n.div-info-comercio {\\r\\n    padding-top: 15px;\\r\\n    margin: 0px;\\r\\n    line-height: 0.35em;\\r\\n}\\r\\n\\r\\n.div-sub-info-comercio{\\r\\n    /* background: #eeeeee; */\\r\\n    margin-top: -15px;\\r\\n}\\r\\n\\r\\n.div-sub-info-comercio div {\\r\\n    border-radius: 2px;    \\r\\n    font-size: 13px;\\r\\n    padding: 5px;    \\r\\n    padding-right: 15px;\\r\\n    padding-left: 0px;\\r\\n}\\r\\n\\r\\n.div-cerrado {\\r\\n    /* width: 100%;\\r\\n    background: lavenderblush;\\r\\n    margin-top: -200px;\\r\\n    opacity: 0.6;\\r\\n    text-align: center;     */\\r\\n\\r\\n    background: #fff0f5;\\r\\n    opacity: .6;\\r\\n    text-align: center;\\r\\n    top: 15px;\\r\\n    position: absolute;\\r\\n    width: 90%;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n    height: 120px;\\r\\n\\r\\n    \\r\\n}\\r\\n\\r\\n.div-cerrado p {\\r\\n    /* font-size: 25px;\\r\\n    font-weight: 800;\\r\\n    width: 100%;\\r\\n    top: 10%;\\r\\n    position: relative; */\\r\\n\\r\\n    font-size: 18px;\\r\\n    font-weight: 600;\\r\\n    /* font-weight: 800; */\\r\\n    width: 100%;\\r\\n    /* top: 30%; */\\r\\n    position: relative;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.div-acepta-tarjeta {\\r\\n    /* position: absolute;\\r\\n    right: 20px;\\r\\n    background: aliceblue;\\r\\n    width: 97px;\\r\\n    height: 25px;\\r\\n    border-radius: 0px 0px 0px 5px;\\r\\n    opacity: 0.7; */\\r\\n    /* background: #e0e0e0;\\r\\n    border-radius: 5px;\\r\\n    opacity: 0.7;\\r\\n    font-size: 10px;\\r\\n    padding: 5px;\\r\\n    border: 1px solid #9e9e9e; */\\r\\n\\r\\n    background: #eeeeee;\\r\\n    border-radius: 5px;\\r\\n    opacity: 0.7;\\r\\n    font-size: 10px;\\r\\n    padding: 4px;\\r\\n    border: 1px solid #757575;\\r\\n    color: black;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.title-acepta-tarjeta {\\r\\n    position: fixed;\\r\\n    right: 27px;\\r\\n    font-size: 10px;\\r\\n    z-index: 1;\\r\\n    margin-top: 5px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvaXRlbS1jb21lcmNpby9pdGVtLWNvbWVyY2lvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztJQUNYLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0k7Ozs7NkJBSXlCOztJQUV6QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLGFBQWE7OztBQUdqQjs7QUFFQTtJQUNJOzs7O3lCQUlxQjs7SUFFckIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsU0FBUztBQUNiOztBQUVBO0lBQ0k7Ozs7OzttQkFNZTtJQUNmOzs7OztnQ0FLNEI7O0lBRTVCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7SUFDZixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLGVBQWU7SUFDZixVQUFVO0lBQ1YsZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2l0ZW0tY29tZXJjaW8vaXRlbS1jb21lcmNpby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtY29tZXJjaW8ge1xyXG4gICAgd2lkdGg6IDMzNXB4O1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbn1cclxuXHJcbi5jb250ZW50LWltZy1jb21lcmNpbyB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5pbWctY29tZXJjaW8ge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgLyogbWF4LXdpZHRoOiAzMzBweDsgKi9cclxuICAgIGhlaWdodDogMTE1cHg7XHJcbn1cclxuXHJcbi5kaXYtaW5mby1jb21lcmNpbyB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDAuMzVlbTtcclxufVxyXG5cclxuLmRpdi1zdWItaW5mby1jb21lcmNpb3tcclxuICAgIC8qIGJhY2tncm91bmQ6ICNlZWVlZWU7ICovXHJcbiAgICBtYXJnaW4tdG9wOiAtMTVweDtcclxufVxyXG5cclxuLmRpdi1zdWItaW5mby1jb21lcmNpbyBkaXYge1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4OyAgICBcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIHBhZGRpbmc6IDVweDsgICAgXHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcbn1cclxuXHJcbi5kaXYtY2VycmFkbyB7XHJcbiAgICAvKiB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IGxhdmVuZGVyYmx1c2g7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjAwcHg7XHJcbiAgICBvcGFjaXR5OiAwLjY7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICAgICAqL1xyXG5cclxuICAgIGJhY2tncm91bmQ6ICNmZmYwZjU7XHJcbiAgICBvcGFjaXR5OiAuNjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRvcDogMTVweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTIwcHg7XHJcblxyXG4gICAgXHJcbn1cclxuXHJcbi5kaXYtY2VycmFkbyBwIHtcclxuICAgIC8qIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA4MDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRvcDogMTAlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAqL1xyXG5cclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAvKiBmb250LXdlaWdodDogODAwOyAqL1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICAvKiB0b3A6IDMwJTsgKi9cclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmRpdi1hY2VwdGEtdGFyamV0YSB7XHJcbiAgICAvKiBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTtcclxuICAgIHdpZHRoOiA5N3B4O1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCAwcHggNXB4O1xyXG4gICAgb3BhY2l0eTogMC43OyAqL1xyXG4gICAgLyogYmFja2dyb3VuZDogI2UwZTBlMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7ICovXHJcblxyXG4gICAgYmFja2dyb3VuZDogI2VlZWVlZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3NTc1NzU7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG5cclxuLnRpdGxlLWFjZXB0YS10YXJqZXRhIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHJpZ2h0OiAyN3B4O1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgei1pbmRleDogMTtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxufSJdfQ== */\";","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { URL_IMG_COMERCIO } from 'src/app/shared/config/config.const';\n\n\n@Component({\n  selector: 'app-item-comercio',\n  templateUrl: './item-comercio.component.html',\n  styleUrls: ['./item-comercio.component.css']\n})\nexport class ItemComercioComponent implements OnInit {\n  isCerrado = false;\n  isComercioAceptaPedidoProgramado = false;\n  isTiempoProgramadoSoloDia = false; // si el pedido se programa solo para el dia\n  isComercioReservacionesActiva = false; // si el comercio acepta reserva y ademas esta en el horario\n  amPm = 'AM';\n  imgComercio = '';\n\n  descripcionDiaProgramado = '';\n  horaAceptaReservas = '';\n\n  @Input() itemEstablecimiento: DeliveryEstablecimiento;\n  @Input() reserva: boolean;\n\n  @Output() itemSelected = new EventEmitter<DeliveryEstablecimiento>();\n\n  constructor() { }\n\n  ngOnInit() {\n\n    // console.log('aa');\n\n    this.isCerrado = this.itemEstablecimiento.cerrado === 1 ? true : false;\n\n\n\n    // this.isComercioAceptaPedidoProgramado = this.reserva ? this.reserva : this.isComercioAceptaPedidoProgramado; // si es reserva nada\n\n    this.amPm = this.itemEstablecimiento.hora_ini ? parseInt(this.itemEstablecimiento.hora_ini.split(':')[0], 0) > 12 ? 'PM' : 'AM' : '';\n    this.imgComercio = URL_IMG_COMERCIO + this.itemEstablecimiento.pwa_delivery_img;\n\n    // si aceptas reservas   // reserva = true = acepta reserva\n    if ( this.reserva ) {\n      // verificamos si esta dentro del horario que acepta recervas\n      let _hIni = this.itemEstablecimiento.hora_ini;\n      const _hFin = this.itemEstablecimiento.hora_fin;\n\n      _hIni = this.itemEstablecimiento.pwa_acepta_reserva_desde ? this.itemEstablecimiento.pwa_acepta_reserva_desde : _hIni;\n\n      this.horaAceptaReservas = `${_hIni} hasta las ${_hFin}`;\n\n      this.isComercioReservacionesActiva = this.getHortaValida(_hIni, _hFin);\n      return;\n\n    }\n\n    this.isComercioAceptaPedidoProgramado = this.itemEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1 && this.isCerrado;\n    this.isTiempoProgramadoSoloDia = this.itemEstablecimiento.pwa_pedido_programado_solo_del_dia === 1;\n    this.isComercioAceptaPedidoProgramado = this.isComercioAceptaPedidoProgramado && !this.isTiempoProgramadoSoloDia;\n\n    if ( this.itemEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1 && !this.reserva) {\n      const dateHoy = new Date();\n      const hourNow = dateHoy.getHours();\n      const horaIni = parseInt(this.itemEstablecimiento.hora_ini.split(':')[0], 0);\n      const horaFni = parseInt(this.itemEstablecimiento.hora_fin.split(':')[0], 0);\n      const diasAtiende = this.itemEstablecimiento.dias_atienden;\n      const numDay  = dateHoy.getDay();\n      const diasSemana = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];\n      let disponibleHoy = diasAtiende.indexOf(numDay.toString()) > -1 ? true : false;\n      let horaDisponibleHoy = hourNow <= horaFni;\n      disponibleHoy = disponibleHoy && horaDisponibleHoy;\n      horaDisponibleHoy = hourNow >= horaIni && horaDisponibleHoy && disponibleHoy && this.isCerrado;\n\n\n      if ( horaDisponibleHoy ) {\n        this.isComercioAceptaPedidoProgramado = false; // no muestra\n        return;\n      }\n\n      let _descripcion = 'Hoy';\n      if ( !disponibleHoy ) {\n        let countDays = 1;\n        while (countDays <= 5) {\n          const numDayAdd = dateHoy.getDay() + 1;\n          dateHoy.setDate(dateHoy.getDate() + 1);\n          if ( diasAtiende.indexOf(numDayAdd.toString()) > -1 ) {\n            _descripcion = countDays === 1 ? 'Mañana' :  diasSemana[numDayAdd] + ' ' + dateHoy.getDate();\n            this.descripcionDiaProgramado = _descripcion;\n            return;\n          }\n          countDays ++;\n        }\n      }\n\n      this.descripcionDiaProgramado = _descripcion;\n    }\n\n\n\n  }\n\n  private getHortaValida(min: string, max: string): boolean {\n    const dateHoy = new Date();\n      const hourNow = dateHoy.getHours();\n      const horaIni = parseInt(min.split(':')[0], 0);\n      const horaFni = parseInt(max.split(':')[0], 0);\n\n      const rptHoraValid = hourNow <= horaFni && hourNow >= horaIni;\n      // rptHoraValid = hourNow >= horaIni;\n      return rptHoraValid;\n  }\n\n  _itemSelected() {\n    if ( this.isCerrado && !this.isComercioAceptaPedidoProgramado && !this.reserva) {return; }\n    this.itemSelected.emit(this.itemEstablecimiento);\n  }\n\n}\n","export default \".bg-confetti-animated {\\r\\n    background-repeat: repeat-x;\\r\\n    background-position: top -10px center;\\r\\n    background-image: url(\\\"data:image/svg+xml,%3Csvg width='600' height='90' viewBox='0 0 600 90' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='42' y='-10' width='6' height='10'/%3E%3Crect x='84' y='-10' width='6' height='10'/%3E%3Crect x='126' y='-13' width='5' height='13'/%3E%3Crect x='168' y='-13' width='5' height='13'/%3E%3Crect x='210' y='-10' width='6' height='10'/%3E%3Crect x='252' y='-13' width='5' height='13'/%3E%3Crect x='294' y='-10' width='6' height='10'/%3E%3Crect x='336' y='-13' width='5' height='13'/%3E%3Crect x='378' y='-13' width='5' height='13'/%3E%3Crect x='420' y='-10' width='6' height='10'/%3E%3Crect x='462' y='-10' width='6' height='10'/%3E%3Crect x='504' y='-13' width='5' height='13'/%3E%3Crect x='546' y='-10' width='6' height='10'/%3E%3Cstyle type='text/css'%3E rect %7B opacity: 0; %7D rect:nth-child(1) %7B transform-origin: 45px 5px; transform: rotate(-145deg); animation: blast 700ms infinite ease-out; animation-delay: 88ms; animation-duration: 631ms; %7D rect:nth-child(2) %7B transform-origin: 87px 5px; transform: rotate(164deg); animation: blast 700ms infinite ease-out; animation-delay: 131ms; animation-duration: 442ms; %7D rect:nth-child(3) %7B transform-origin: 128px 6px; transform: rotate(4deg); animation: blast 700ms infinite ease-out; animation-delay: 92ms; animation-duration: 662ms; %7D rect:nth-child(4) %7B transform-origin: 170px 6px; transform: rotate(-175deg); animation: blast 700ms infinite ease-out; animation-delay: 17ms; animation-duration: 593ms; %7D rect:nth-child(5) %7B transform-origin: 213px 5px; transform: rotate(-97deg); animation: blast 700ms infinite ease-out; animation-delay: 122ms; animation-duration: 476ms; %7D rect:nth-child(6) %7B transform-origin: 255px 6px; transform: rotate(57deg); animation: blast 700ms infinite ease-out; animation-delay: 271ms; animation-duration: 381ms; %7D rect:nth-child(7) %7B transform-origin: 297px 5px; transform: rotate(-46deg); animation: blast 700ms infinite ease-out; animation-delay: 131ms; animation-duration: 619ms; %7D rect:nth-child(8) %7B transform-origin: 338px 6px; transform: rotate(-65deg); animation: blast 700ms infinite ease-out; animation-delay: 85ms; animation-duration: 668ms; %7D rect:nth-child(9) %7B transform-origin: 380px 6px; transform: rotate(13deg); animation: blast 700ms infinite ease-out; animation-delay: 128ms; animation-duration: 377ms; %7D rect:nth-child(10) %7B transform-origin: 423px 5px; transform: rotate(176deg); animation: blast 700ms infinite ease-out; animation-delay: 311ms; animation-duration: 508ms; %7D rect:nth-child(11) %7B transform-origin: 465px 5px; transform: rotate(108deg); animation: blast 700ms infinite ease-out; animation-delay: 108ms; animation-duration: 595ms; %7D rect:nth-child(12) %7B transform-origin: 506px 6px; transform: rotate(62deg); animation: blast 700ms infinite ease-out; animation-delay: 105ms; animation-duration: 375ms; %7D rect:nth-child(13) %7B transform-origin: 549px 5px; transform: rotate(16deg); animation: blast 700ms infinite ease-out; animation-delay: 149ms; animation-duration: 491ms; %7D rect:nth-child(odd) %7B fill: %2365BB5C; %7D rect:nth-child(even) %7B z-index: 1; fill: %2333AAFF; %7D rect:nth-child(4n) %7B animation-duration: 1400ms; fill: %23F23B14; %7D rect:nth-child(3n) %7B animation-duration: 1750ms; animation-delay: 700ms; %7D rect:nth-child(4n-7) %7B fill: %232A2F6A; %7D rect:nth-child(6n) %7B fill: %23FBBA23; %7D @keyframes blast %7B from %7B opacity: 0; %7D 20%25 %7B opacity: 1; %7D to %7B transform: translateY(90px); %7D %7D %3C/style%3E%3C/svg%3E%0A\\\");\\r\\n\\r\\n    @media (prefers-reduced-motion) {\\r\\n        background-image: url(\\\"data:image/svg+xml,%3Csvg width='574' height='60' viewBox='0 0 574 60' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect opacity='0.8' x='27.1224' y='20.0458' width='5' height='13' transform='rotate(-139 27.1224 20.0458)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='118.478' y='7.00201' width='5' height='13' transform='rotate(-38.8114 118.478 7.00201)' fill='%23FBBA23'/%3E%3Crect opacity='0.8' x='504.616' y='25.4479' width='5' height='13' transform='rotate(-60.2734 504.616 25.4479)' fill='%23F23B14'/%3E%3Crect opacity='0.6' x='538.983' y='45.555' width='5' height='13' transform='rotate(16.7826 538.983 45.555)' fill='%232A2F6A'/%3E%3Crect opacity='0.3' x='470.322' y='2.63625' width='5' height='13' transform='rotate(11.295 470.322 2.63625)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='190.295' y='4.58138' width='5' height='13' transform='rotate(27.5954 190.295 4.58138)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='234.303' y='16.3233' width='5' height='13' transform='rotate(-41.8233 234.303 16.3233)' fill='%2365BB5C'/%3E%3Crect opacity='0.6' x='369.702' y='40.9875' width='5' height='13' transform='rotate(-56.419 369.702 40.9875)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='402.121' y='31.0848' width='5' height='13' transform='rotate(-17.9234 402.121 31.0848)' fill='%23F23B14'/%3E%3Crect opacity='0.6' x='200.316' y='31.9328' width='5' height='13' transform='rotate(-15.8896 200.316 31.9328)' fill='%232A2F6A'/%3E%3Crect opacity='0.6' x='69.6745' y='23.4725' width='6' height='10' transform='rotate(70.0266 69.6745 23.4725)' fill='%2365BB5C'/%3E%3Crect opacity='0.6' x='291.945' y='7.16931' width='6' height='10' transform='rotate(30.4258 291.945 7.16931)' fill='%23FBBA23'/%3E%3Crect opacity='0.3' x='33.7754' y='38.2208' width='6' height='10' transform='rotate(38.6056 33.7754 38.2208)' fill='%23FBBA23'/%3E%3Crect opacity='0.8' x='109.752' y='31.1743' width='6' height='10' transform='rotate(28.5296 109.752 31.1743)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='278.081' y='37.8695' width='6' height='10' transform='rotate(-26.5651 278.081 37.8695)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='416.294' y='11.5573' width='6' height='10' transform='rotate(-22.8498 416.294 11.5573)' fill='%23FBBA23'/%3E%3Crect opacity='0.3' x='354.667' y='9.32341' width='6' height='10' transform='rotate(17.7506 354.667 9.32341)' fill='%232A2F6A'/%3E%3Crect opacity='0.8' x='532.404' y='16.6372' width='6' height='10' transform='rotate(-75.3432 532.404 16.6372)' fill='%23FBBA23'/%3E%3Crect opacity='0.6' x='460.463' y='39.3557' width='6' height='10' transform='rotate(45.4982 460.463 39.3557)' fill='%2365BB5C'/%3E%3C/svg%3E\\\");\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n.div-promo {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n    -webkit-box-pack: justify;\\r\\n    -webkit-justify-content: space-between;\\r\\n            justify-content: space-between;\\r\\n}\\r\\n\\r\\n\\r\\n.div-promo p{ margin: 0;}\\r\\n\\r\\n\\r\\n.img-promo {\\r\\n    /* margin-top: -20px;\\r\\n    margin-left: 8px; */\\r\\n    text-align: left;\\r\\n    width: 64px;\\r\\n}\\r\\n\\r\\n\\r\\n.info-promo {\\r\\n    margin-left: -1px;\\r\\n    max-width: 210px;\\r\\n}\\r\\n\\r\\n\\r\\n.content-importe-minimo {\\r\\n    border-radius: 10px;\\r\\n    border: 1px solid #e0e0e0;\\r\\n    margin-right: -20px;\\r\\n    background: #e1f5fe;\\r\\n    padding: 10px 0px 10px 0px;\\r\\n    width: 72px;\\r\\n    height: 75px;\\r\\n}\\r\\n\\r\\n\\r\\n.importe-minimo {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n}\\r\\n\\r\\n\\r\\n.label-promo {\\r\\n    width: 60px;\\r\\n    float: left;\\r\\n    position: absolute;\\r\\n    background: aqua;\\r\\n    color: aqua;\\r\\n    -webkit-transform: rotate(318deg);\\r\\n            transform: rotate(318deg);\\r\\n    text-align: center;\\r\\n    margin: -15px -40px;\\r\\n    /* font-size: 0px; */\\r\\n    padding: 10\\r\\npx\\r\\n;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvaXRlbS1wcm9tb2Npb24vaXRlbS1wcm9tb2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDJCQUEyQjtJQUMzQixxQ0FBcUM7SUFDckMsbWdIQUFtZ0g7O0lBRW5nSDtRQUNJLHltRkFBeW1GO0lBQzdtRjtBQUNKOzs7QUFHQTtJQUNJLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0lBQ2IseUJBQW1CO0lBQW5CLDJCQUFtQjtZQUFuQixtQkFBbUI7SUFDbkIseUJBQThCO0lBQTlCLHNDQUE4QjtZQUE5Qiw4QkFBOEI7QUFDbEM7OztBQUNBLGNBQWMsU0FBUyxDQUFDOzs7QUFFeEI7SUFDSTt1QkFDbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOzs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQiwwQkFBMEI7SUFDMUIsV0FBVztJQUNYLFlBQVk7QUFDaEI7OztBQUVBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYix3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtBQUN2Qjs7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGlDQUF5QjtZQUF6Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixvQkFBb0I7SUFDcEI7O0FBRUo7QUFDQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2l0ZW0tcHJvbW9jaW9uL2l0ZW0tcHJvbW9jaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmctY29uZmV0dGktYW5pbWF0ZWQge1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIC0xMHB4IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzYwMCcgaGVpZ2h0PSc5MCcgdmlld0JveD0nMCAwIDYwMCA5MCcgZmlsbD0nbm9uZScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3JlY3QgeD0nNDInIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nODQnIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nMTI2JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzE2OCcgeT0nLTEzJyB3aWR0aD0nNScgaGVpZ2h0PScxMycvJTNFJTNDcmVjdCB4PScyMTAnIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nMjUyJyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzI5NCcgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDcmVjdCB4PSczMzYnIHk9Jy0xMycgd2lkdGg9JzUnIGhlaWdodD0nMTMnLyUzRSUzQ3JlY3QgeD0nMzc4JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzQyMCcgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDcmVjdCB4PSc0NjInIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nNTA0JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzU0NicgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDc3R5bGUgdHlwZT0ndGV4dC9jc3MnJTNFIHJlY3QgJTdCIG9wYWNpdHk6IDA7ICU3RCByZWN0Om50aC1jaGlsZCgxKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogNDVweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKC0xNDVkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDg4bXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNjMxbXM7ICU3RCByZWN0Om50aC1jaGlsZCgyKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogODdweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKDE2NGRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTMxbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNDQybXM7ICU3RCByZWN0Om50aC1jaGlsZCgzKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMTI4cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg0ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiA5Mm1zOyBhbmltYXRpb24tZHVyYXRpb246IDY2Mm1zOyAlN0QgcmVjdDpudGgtY2hpbGQoNCkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDE3MHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoLTE3NWRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTdtczsgYW5pbWF0aW9uLWR1cmF0aW9uOiA1OTNtczsgJTdEIHJlY3Q6bnRoLWNoaWxkKDUpICU3QiB0cmFuc2Zvcm0tb3JpZ2luOiAyMTNweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKC05N2RlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTIybXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNDc2bXM7ICU3RCByZWN0Om50aC1jaGlsZCg2KSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMjU1cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg1N2RlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMjcxbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogMzgxbXM7ICU3RCByZWN0Om50aC1jaGlsZCg3KSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMjk3cHggNXB4OyB0cmFuc2Zvcm06IHJvdGF0ZSgtNDZkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDEzMW1zOyBhbmltYXRpb24tZHVyYXRpb246IDYxOW1zOyAlN0QgcmVjdDpudGgtY2hpbGQoOCkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDMzOHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoLTY1ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiA4NW1zOyBhbmltYXRpb24tZHVyYXRpb246IDY2OG1zOyAlN0QgcmVjdDpudGgtY2hpbGQoOSkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDM4MHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoMTNkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDEyOG1zOyBhbmltYXRpb24tZHVyYXRpb246IDM3N21zOyAlN0QgcmVjdDpudGgtY2hpbGQoMTApICU3QiB0cmFuc2Zvcm0tb3JpZ2luOiA0MjNweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKDE3NmRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMzExbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNTA4bXM7ICU3RCByZWN0Om50aC1jaGlsZCgxMSkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDQ2NXB4IDVweDsgdHJhbnNmb3JtOiByb3RhdGUoMTA4ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiAxMDhtczsgYW5pbWF0aW9uLWR1cmF0aW9uOiA1OTVtczsgJTdEIHJlY3Q6bnRoLWNoaWxkKDEyKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogNTA2cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg2MmRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTA1bXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogMzc1bXM7ICU3RCByZWN0Om50aC1jaGlsZCgxMykgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDU0OXB4IDVweDsgdHJhbnNmb3JtOiByb3RhdGUoMTZkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDE0OW1zOyBhbmltYXRpb24tZHVyYXRpb246IDQ5MW1zOyAlN0QgcmVjdDpudGgtY2hpbGQob2RkKSAlN0IgZmlsbDogJTIzNjVCQjVDOyAlN0QgcmVjdDpudGgtY2hpbGQoZXZlbikgJTdCIHotaW5kZXg6IDE7IGZpbGw6ICUyMzMzQUFGRjsgJTdEIHJlY3Q6bnRoLWNoaWxkKDRuKSAlN0IgYW5pbWF0aW9uLWR1cmF0aW9uOiAxNDAwbXM7IGZpbGw6ICUyM0YyM0IxNDsgJTdEIHJlY3Q6bnRoLWNoaWxkKDNuKSAlN0IgYW5pbWF0aW9uLWR1cmF0aW9uOiAxNzUwbXM7IGFuaW1hdGlvbi1kZWxheTogNzAwbXM7ICU3RCByZWN0Om50aC1jaGlsZCg0bi03KSAlN0IgZmlsbDogJTIzMkEyRjZBOyAlN0QgcmVjdDpudGgtY2hpbGQoNm4pICU3QiBmaWxsOiAlMjNGQkJBMjM7ICU3RCBAa2V5ZnJhbWVzIGJsYXN0ICU3QiBmcm9tICU3QiBvcGFjaXR5OiAwOyAlN0QgMjAlMjUgJTdCIG9wYWNpdHk6IDE7ICU3RCB0byAlN0IgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDkwcHgpOyAlN0QgJTdEICUzQy9zdHlsZSUzRSUzQy9zdmclM0UlMEFcIik7XHJcblxyXG4gICAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uKSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0nNTc0JyBoZWlnaHQ9JzYwJyB2aWV3Qm94PScwIDAgNTc0IDYwJyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzI3LjEyMjQnIHk9JzIwLjA0NTgnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMTM5IDI3LjEyMjQgMjAuMDQ1OCknIGZpbGw9JyUyM0YyM0IxNCcvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzExOC40NzgnIHk9JzcuMDAyMDEnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMzguODExNCAxMTguNDc4IDcuMDAyMDEpJyBmaWxsPSclMjNGQkJBMjMnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC44JyB4PSc1MDQuNjE2JyB5PScyNS40NDc5JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoLTYwLjI3MzQgNTA0LjYxNiAyNS40NDc5KScgZmlsbD0nJTIzRjIzQjE0Jy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNTM4Ljk4MycgeT0nNDUuNTU1JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoMTYuNzgyNiA1MzguOTgzIDQ1LjU1NSknIGZpbGw9JyUyMzJBMkY2QScvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjMnIHg9JzQ3MC4zMjInIHk9JzIuNjM2MjUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgxMS4yOTUgNDcwLjMyMiAyLjYzNjI1KScgZmlsbD0nJTIzMzNBQUZGJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMTkwLjI5NScgeT0nNC41ODEzOCcgd2lkdGg9JzUnIGhlaWdodD0nMTMnIHRyYW5zZm9ybT0ncm90YXRlKDI3LjU5NTQgMTkwLjI5NSA0LjU4MTM4KScgZmlsbD0nJTIzRjIzQjE0Jy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuOCcgeD0nMjM0LjMwMycgeT0nMTYuMzIzMycgd2lkdGg9JzUnIGhlaWdodD0nMTMnIHRyYW5zZm9ybT0ncm90YXRlKC00MS44MjMzIDIzNC4zMDMgMTYuMzIzMyknIGZpbGw9JyUyMzY1QkI1QycvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjYnIHg9JzM2OS43MDInIHk9JzQwLjk4NzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtNTYuNDE5IDM2OS43MDIgNDAuOTg3NSknIGZpbGw9JyUyMzMzQUFGRicvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjMnIHg9JzQwMi4xMjEnIHk9JzMxLjA4NDgnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMTcuOTIzNCA0MDIuMTIxIDMxLjA4NDgpJyBmaWxsPSclMjNGMjNCMTQnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC42JyB4PScyMDAuMzE2JyB5PSczMS45MzI4JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoLTE1Ljg4OTYgMjAwLjMxNiAzMS45MzI4KScgZmlsbD0nJTIzMkEyRjZBJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNjkuNjc0NScgeT0nMjMuNDcyNScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDcwLjAyNjYgNjkuNjc0NSAyMy40NzI1KScgZmlsbD0nJTIzNjVCQjVDJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nMjkxLjk0NScgeT0nNy4xNjkzMScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDMwLjQyNTggMjkxLjk0NSA3LjE2OTMxKScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMzMuNzc1NCcgeT0nMzguMjIwOCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDM4LjYwNTYgMzMuNzc1NCAzOC4yMjA4KScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuOCcgeD0nMTA5Ljc1MicgeT0nMzEuMTc0Mycgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDI4LjUyOTYgMTA5Ljc1MiAzMS4xNzQzKScgZmlsbD0nJTIzMzNBQUZGJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMjc4LjA4MScgeT0nMzcuODY5NScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKC0yNi41NjUxIDI3OC4wODEgMzcuODY5NSknIGZpbGw9JyUyM0YyM0IxNCcvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzQxNi4yOTQnIHk9JzExLjU1NzMnIHdpZHRoPSc2JyBoZWlnaHQ9JzEwJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMjIuODQ5OCA0MTYuMjk0IDExLjU1NzMpJyBmaWxsPSclMjNGQkJBMjMnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC4zJyB4PSczNTQuNjY3JyB5PSc5LjMyMzQxJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcgdHJhbnNmb3JtPSdyb3RhdGUoMTcuNzUwNiAzNTQuNjY3IDkuMzIzNDEpJyBmaWxsPSclMjMyQTJGNkEnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC44JyB4PSc1MzIuNDA0JyB5PScxNi42MzcyJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcgdHJhbnNmb3JtPSdyb3RhdGUoLTc1LjM0MzIgNTMyLjQwNCAxNi42MzcyKScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNDYwLjQ2MycgeT0nMzkuMzU1Nycgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDQ1LjQ5ODIgNDYwLjQ2MyAzOS4zNTU3KScgZmlsbD0nJTIzNjVCQjVDJy8lM0UlM0Mvc3ZnJTNFXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLmRpdi1wcm9tbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG4uZGl2LXByb21vIHB7IG1hcmdpbjogMDt9XHJcblxyXG4uaW1nLXByb21vIHtcclxuICAgIC8qIG1hcmdpbi10b3A6IC0yMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDsgKi9cclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICB3aWR0aDogNjRweDtcclxufVxyXG5cclxuLmluZm8tcHJvbW8ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xcHg7XHJcbiAgICBtYXgtd2lkdGg6IDIxMHB4O1xyXG59XHJcblxyXG4uY29udGVudC1pbXBvcnRlLW1pbmltbyB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDtcclxuICAgIG1hcmdpbi1yaWdodDogLTIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZTFmNWZlO1xyXG4gICAgcGFkZGluZzogMTBweCAwcHggMTBweCAwcHg7XHJcbiAgICB3aWR0aDogNzJweDtcclxuICAgIGhlaWdodDogNzVweDtcclxufVxyXG5cclxuLmltcG9ydGUtbWluaW1vIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sYWJlbC1wcm9tbyB7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYmFja2dyb3VuZDogYXF1YTtcclxuICAgIGNvbG9yOiBhcXVhO1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzE4ZGVnKTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbjogLTE1cHggLTQwcHg7XHJcbiAgICAvKiBmb250LXNpemU6IDBweDsgKi9cclxuICAgIHBhZGRpbmc6IDEwXHJcbnB4XHJcbjtcclxufSJdfQ== */\";","import { StringMap } from '@angular/compiler/src/compiler_facade_interface';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { CocinarPromoShowService } from 'src/app/shared/services/promo/cocinar-promo-show.service';\n\n@Component({\n  selector: 'app-item-promocion',\n  templateUrl: './item-promocion.component.html',\n  styleUrls: ['./item-promocion.component.css']\n})\nexport class ItemPromocionComponent implements OnInit {\n\n  @Input() promo: any;\n  @Output() selected: EventEmitter<any> = new EventEmitter();\n  ItemPromoheader: any;\n  ItemPromoBody: any;\n  diasActivo = '';\n  isAbierto = false;\n  animateBloqueo = false;\n  iconGifPromo = '';\n  showInfoPromo = false;\n  simbolo_moneda: string;\n\n  constructor(\n    private cocinarPromocionService: CocinarPromoShowService,\n    private establecimientoService: EstablecimientoService\n  ) {\n  }\n\n  ngOnInit(): void {\n    // console.log('promo', this.promo);\n    this.isAbierto = this.promo.abierto === 1;\n    this.ItemPromoheader = this.promo.parametros.header;\n    this.ItemPromoBody = this.promo.parametros.body;\n    this.diasActivo = this.cocinarPromocionService.showDiasSemana(this.ItemPromoBody.dias_semana);\n    this.iconGifPromo = `assets/images/${this.ItemPromoheader.icon}`;\n\n    this.isAbierto = this.promo.abierto === 1;\n    this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();\n  }\n\n  clickPromo() {\n    // if ( this.cocinarPromocionService.consultarPromoAbierto(this.promo) ) {\n\n    if ( this.validarIngresoPromo() ) {\n      this.isAbierto = true;\n      this.selected.emit(this.promo);\n    }\n  }\n\n  validarIngresoPromo(): Boolean {\n    let paseAbierto = false;\n    let importeMinimoPromo = null;\n    if ( this.promo.abierto === 1 ) {\n      paseAbierto = true;\n      // validamos si tiene importe minimo de consumo\n      importeMinimoPromo = this.ItemPromoBody.importe_consumo_min;\n      if ( importeMinimoPromo ) {\n        const importePedido = this.cocinarPromocionService.getImportePedido();\n        // console.log('importePedido', importePedido);\n        if ( importePedido >=  importeMinimoPromo) {\n          paseAbierto = true;\n        } else {\n          paseAbierto = false;\n        }\n      }\n    }\n\n    if ( !paseAbierto ) {\n      this.isAbierto = false;\n      this.animateBloqueo = true;\n      setTimeout(() => {\n        this.showInfoPromo = importeMinimoPromo && this.promo.abierto === 1 ? true : false;\n        this.animateBloqueo = false;\n\n        if ( this.showInfoPromo ) {\n          setTimeout(() => {this.showInfoPromo = false; }, 6000);\n        }\n\n      }, 300);\n    }\n\n    return paseAbierto;\n  }\n\n}\n","export default \"agm-map {\\r\\n    height: 230px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbWFwYS1zb2xvL21hcGEtc29sby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21hcGEtc29sby9tYXBhLXNvbG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImFnbS1tYXAge1xyXG4gICAgaGVpZ2h0OiAyMzBweDtcclxufSJdfQ== */\";","import { Component, OnInit, Input } from '@angular/core';\n\ndeclare var google: any;\n\n@Component({\n  selector: 'app-mapa-solo',\n  templateUrl: './mapa-solo.component.html',\n  styleUrls: ['./mapa-solo.component.css']\n})\nexport class MapaSoloComponent implements OnInit {\n\n  @Input() origin: any;\n  @Input() destination: any;\n\n  displayDirections = true;\n  zoom = 13;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.zoom = 13;\n\n  }\n\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21lbnUtbGF0ZXJhbC1jbGllbnRlL21lbnUtbGF0ZXJhbC1jbGllbnRlLmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-menu-lateral-cliente',\n  templateUrl: './menu-lateral-cliente.component.html',\n  styleUrls: ['./menu-lateral-cliente.component.css']\n})\nexport class MenuLateralClienteComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \".content-btn {\\r\\n    border-radius: 50%;\\r\\n    background: #302855;\\r\\n    width: 30px;\\r\\n    line-height: 30px;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    margin: auto;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tZGlhbG9nL21vem8tZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tZGlhbG9nL21vem8tZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVudC1idG4ge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgYmFja2dyb3VuZDogIzMwMjg1NTtcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-mozo-dialog',\n  templateUrl: './mozo-dialog.component.html',\n  styleUrls: ['./mozo-dialog.component.css']\n})\nexport class MozoDialogComponent implements OnInit {\n\n  constructor(\n    private dialogRef: MatDialogRef<MozoDialogComponent>,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export default \".footer-btn-go-lista {\\r\\n    position: fixed;\\r\\n    bottom: 0px;\\r\\n    width: 100%;  \\r\\n    text-align: center;  \\r\\n    background: #d3d3d3;\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n    padding: 13px;\\r\\n    z-index: 100;\\r\\n    font-weight: 400;\\r\\n    border-top: 3px solid #3f78b5;\\r\\n  }\\r\\n  \\r\\n  .footer-btn-go-lista .content {\\r\\n    background: #3f51b5;\\r\\n    color: white;\\r\\n    width: 85%;\\r\\n    font-size: 14px;\\r\\n    border-radius: 5px 5px 0px 0px;\\r\\n    padding: 10px;\\r\\n    font-weight: 100;\\r\\n    margin-top: 10px;\\r\\n  \\r\\n    display: -webkit-box;\\r\\n  \\r\\n    display: -webkit-flex;\\r\\n  \\r\\n    display: flex;\\r\\n    -webkit-box-pack: justify;\\r\\n    -webkit-justify-content: space-between;\\r\\n            justify-content: space-between;\\r\\n    -webkit-box-align: center;\\r\\n    -webkit-align-items: center;\\r\\n            align-items: center;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tc2hvdy10cmFkdWNlLXRleHQvbW96by1zaG93LXRyYWR1Y2UtdGV4dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLHdCQUF1QjtJQUF2QiwrQkFBdUI7WUFBdkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLDZCQUE2QjtFQUMvQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osVUFBVTtJQUNWLGVBQWU7SUFDZiw4QkFBOEI7SUFDOUIsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixnQkFBZ0I7O0lBRWhCLG9CQUFhOztJQUFiLHFCQUFhOztJQUFiLGFBQWE7SUFDYix5QkFBOEI7SUFBOUIsc0NBQThCO1lBQTlCLDhCQUE4QjtJQUM5Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtFQUNyQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21vem8tdmlydHVhbC9tb3pvLXNob3ctdHJhZHVjZS10ZXh0L21vem8tc2hvdy10cmFkdWNlLXRleHQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb290ZXItYnRuLWdvLWxpc3RhIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7ICBcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgIFxyXG4gICAgYmFja2dyb3VuZDogI2QzZDNkMztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEzcHg7XHJcbiAgICB6LWluZGV4OiAxMDA7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgYm9yZGVyLXRvcDogM3B4IHNvbGlkICMzZjc4YjU7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb290ZXItYnRuLWdvLWxpc3RhIC5jb250ZW50IHtcclxuICAgIGJhY2tncm91bmQ6ICMzZjUxYjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogODUlO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwcHggMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiAxMDA7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { takeUntil } from 'rxjs/operators';\nimport { SpechTotextService } from 'src/app/shared/services/speech/spech-totext.service';\nimport { SpeechDataProviderService } from 'src/app/shared/services/speech/speech-data-provider.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\n\n@Component({\n  selector: 'app-mozo-show-traduce-text',\n  templateUrl: './mozo-show-traduce-text.component.html',\n  styleUrls: ['./mozo-show-traduce-text.component.css']\n})\nexport class MozoShowTraduceTextComponent implements OnInit {\n\n  private destroy$: Subject<boolean> = new Subject<boolean>();\n\n  isShowTxtTraduce = false;\n  isShowCheck = false;\n  countTimeClose = null;\n  txtResults: any;\n  textTranscript = '';\n\n  constructor(\n    private spechTotextService: SpechTotextService,\n    private speechDataProviderService: SpeechDataProviderService,\n    private utilitariosSerivce: UtilitariosService\n  ) { }\n\n  ngOnInit(): void {\n\n    this.spechTotextService.listenOnTraduce$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe(res => {\n      // console.log('traduciendo', res);\n      if ( res ) { this.isShowTxtTraduce = res; }\n\n      clearInterval(this.countTimeClose);\n      this.activeCloseBanner();\n    });\n\n    this.spechTotextService.speechTexResponse$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((data: any) => {\n      if ( !data ) {return; }\n      this.txtResults = data;\n      this.textTranscript = this.txtResults[0].alternatives[0].transcript;\n      this.isShowCheck = false;\n      // console.log('this.txtResults', this.txtResults);\n    });\n\n    this.speechDataProviderService.commandAceptado$\n    .pipe(takeUntil(this.destroy$))\n    .subscribe((codAceptado: number) => {\n      // console.log('codAceptado', codAceptado);\n      if ( codAceptado > 0) {\n         setTimeout(() => {\n           this.isShowCheck = true;\n         }, 100);\n\n         const timeBeep = setInterval(() => {\n           if ( codAceptado <= 0 ) {\n             clearInterval(timeBeep);\n             return;\n           }\n           this.utilitariosSerivce.beep();\n           codAceptado--;\n         }, 100);\n      }\n    });\n\n\n  }\n\n  private activeCloseBanner() {\n    let countClose = 0;\n    this.countTimeClose = setInterval(() => {\n      if ( countClose > 4 ) {\n        this.isShowTxtTraduce = false;\n        clearInterval(this.countTimeClose);\n      }\n      countClose++;\n    }, 1000);\n  }\n\n}\n","export default \".content-btn {\\r\\n    border-radius: 50%;\\r\\n    background: #5363bf;\\r\\n}\\r\\n\\r\\n.content-btn.on {\\r\\n    background: #2a3785;\\r\\n    font-size: 20px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tdmlydHVhbC1vbi1zcGVlY2gvbW96by12aXJ0dWFsLW9uLXNwZWVjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tdmlydHVhbC1vbi1zcGVlY2gvbW96by12aXJ0dWFsLW9uLXNwZWVjaC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtYnRuIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJhY2tncm91bmQ6ICM1MzYzYmY7XHJcbn1cclxuXHJcbi5jb250ZW50LWJ0bi5vbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMmEzNzg1O1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { ComandAnalizerService } from 'src/app/shared/services/speech/comand-analizer.service';\n\n@Component({\n  selector: 'app-mozo-virtual-on-speech',\n  templateUrl: './mozo-virtual-on-speech.component.html',\n  styleUrls: ['./mozo-virtual-on-speech.component.css']\n})\nexport class MozoVirtualOnSpeechComponent implements OnInit {\n\n  isGrabando = false;\n\n  constructor(\n    private comandAnalizerService: ComandAnalizerService,\n    private establecimientoService: EstablecimientoService,\n  ) { }\n\n  ngOnInit(): void {\n    // si no esta habilitado\n    if ( this.establecimientoService.get().speech_disabled === 0 ) {return; }\n\n    this.comandAnalizerService.getComands();\n  }\n\n  goClickBtn() {\n    if ( this.isGrabando ) { this.stopRecording(); } else { this.startRecording(); }\n  }\n\n  startRecording(): void {\n    this.comandAnalizerService.startRecording();\n    this.isGrabando = true;\n  }\n\n  stopRecording(): void {\n    this.comandAnalizerService.stopRecording();\n    this.isGrabando = false;\n  }\n\n}\n","export default \"p {\\r\\n    margin-bottom: 0px;\\r\\n}\\r\\n\\r\\n.li-item {\\r\\n    border-bottom: solid 1px lightgray;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvc2VsZWNjaW9uYXItZGlyZWNjaW9uL3NlbGVjY2lvbmFyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvc2VsZWNjaW9uYXItZGlyZWNjaW9uL3NlbGVjY2lvbmFyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuXHJcbi5saS1pdGVtIHtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCBsaWdodGdyYXk7XHJcbn1cclxuIl19 */\";","import { Component, OnInit, Output, EventEmitter, Input, Inject } from '@angular/core';\nimport { VerifyAuthClientService } from 'src/app/shared/services/verify-auth-client.service';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-seleccionar-direccion',\n  templateUrl: './seleccionar-direccion.component.html',\n  styleUrls: ['./seleccionar-direccion.component.css']\n})\nexport class SeleccionarDireccionComponent implements OnInit {\n  private infoClienteLogueado: any;\n  listDirecciones: DeliveryDireccionCliente[];\n\n  @Output() direccionSelected = new EventEmitter<DeliveryDireccionCliente>();\n  @Input() idClienteBuscar: number; // cuando el pedido lo toma el mismo comercio\n\n  idClienteDirecciones: number;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private crudService: CrudHttpService,\n    private verifyClientService: VerifyAuthClientService,\n  ) { }\n\n  ngOnInit() {\n    this.infoClienteLogueado = this.verifyClientService.getDataClient();\n    this.idClienteDirecciones = this.idClienteBuscar ? this.idClienteBuscar : this.infoClienteLogueado.idcliente;\n    // console.log(this.infoClienteLogueado);\n\n    this.loadDireccion();\n    // console.log('load direcciones');\n  }\n\n  loadDireccion() {\n    // si es 0 no cliente nuevo\n    this.listDirecciones = [];\n    if ( !this.idClienteDirecciones || this.idClienteDirecciones.toString() === '0' ) {return; }\n    const _dataClientDir = {\n      idcliente : this.idClienteDirecciones\n    };\n\n    // console.log(_dataClientDir);\n\n    this.crudService.postFree(_dataClientDir, 'delivery', 'get-direccion-cliente', false)\n      .subscribe((res: any) => {\n        // console.log('direcciones', res);\n        this.listDirecciones = res.data;\n        // console.log('this.listDirecciones', this.listDirecciones);\n\n        if ( this.idClienteBuscar ) {return; }\n\n        // si solo hay una direccion selecciona\n        // if (this.listDirecciones.length === 1 && this.infoClienteLogueado.direccionEnvioSelected === null ) {\n          // this.direccionSelected.emit(this.listDirecciones[0]);\n        // }\n      });\n  }\n\n  selected(item: DeliveryDireccionCliente) {\n    this.direccionSelected.emit(item);\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL3NlbGVjdC1jaXVkYWQtZGVsaXZlcnkvc2VsZWN0LWNpdWRhZC1kZWxpdmVyeS5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\n\n@Component({\n  selector: 'app-select-ciudad-delivery',\n  templateUrl: './select-ciudad-delivery.component.html',\n  styleUrls: ['./select-ciudad-delivery.component.css']\n})\nexport class SelectCiudadDeliveryComponent implements OnInit {\n\n  @Input() isOnlyReserva: boolean;\n  @Output() cuidadSelected = new EventEmitter<any>();\n  listCiudadesServicio: any;\n\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadCiudades();\n  }\n\n  private loadCiudades() {\n    this.crudService.getAll('delivery', 'get-ciudades-delivery', false, false, false)\n    .subscribe((res: any) => {\n      console.log('res', res);\n      this.listCiudadesServicio = res.data;\n\n      if ( this.isOnlyReserva ) {\n        this.listCiudadesServicio = this.listCiudadesServicio.filter(s => s.isreserva === 1);\n      }\n    });\n  }\n\n  selectedCiudad(item: any) {\n    this.cuidadSelected.emit(item);\n  }\n\n}\n","export default \".text-nom-cliente {\\r\\n    font-size: 20px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.div-text-nombre {\\r\\n    background: #cce8ff;\\r\\n    border-radius: 5px;\\r\\n    padding: 10px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGV4dC1ub20tY2xpZW50ZS90ZXh0LW5vbS1jbGllbnRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixhQUFhO0FBQ2pCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvdGV4dC1ub20tY2xpZW50ZS90ZXh0LW5vbS1jbGllbnRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1ub20tY2xpZW50ZSB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5kaXYtdGV4dC1ub21icmUge1xyXG4gICAgYmFja2dyb3VuZDogI2NjZThmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn0iXX0= */\";","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n@Component({\n  selector: 'app-text-nom-cliente',\n  templateUrl: './text-nom-cliente.component.html',\n  styleUrls: ['./text-nom-cliente.component.css']\n})\nexport class TextNomClienteComponent implements OnInit {\n\n  @Input() sizeTextBg: boolean;\n  @Output() isNombreValid = new EventEmitter<boolean>();\n\n  infoCliente: UsuarioTokenModel;\n  isValidNombre = false;\n  nombreCliente: string;\n  constructor(\n    private infoTokenService: InfoTockenService,\n  ) { }\n\n  ngOnInit(): void {\n    this.infoCliente = this.infoTokenService.getInfoUs();\n    this.nombreCliente = this.infoCliente.nombres;\n\n    this.saveNomCliente(this.nombreCliente);\n\n    // this.isValidNombre = this.nombreCliente !== '';\n    // this.isNombreValid.emit(this.isValidNombre);\n    // console.log('this.infoCliente txt nombre', this.infoCliente);\n  }\n\n  saveNomCliente(value: string) {\n    value = value.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : value;\n    this.infoTokenService.setNombres(value);\n    this.infoCliente = this.infoTokenService.getInfoUs();\n    this.nombreCliente = this.infoCliente.nombres;\n    this.isValidNombre = this.nombreCliente !== '';\n    this.isNombreValid.emit(this.isValidNombre);\n    // console.log('this.infoCliente txt nombre A', this.infoCliente);\n  }\n\n}\n","export default \".div-list {\\r\\n    max-height: 80vh !important;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.tfs-11 {\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n\\r\\n.mat-list-option {\\r\\n    height: 20px;\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGllbXBvLXByb2dyYW1hZG8vdGllbXBvLXByb2dyYW1hZG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDJCQUEyQjtJQUMzQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksMEJBQTBCO0FBQzlCOztBQUVBO0lBQ0ksWUFBWTtFQUNkIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvdGllbXBvLXByb2dyYW1hZG8vdGllbXBvLXByb2dyYW1hZG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtbGlzdCB7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MHZoICFpbXBvcnRhbnQ7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuLnRmcy0xMSB7XHJcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1hdC1saXN0LW9wdGlvbiB7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgfSJdfQ== */\";","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\n\n\n@Component({\n  selector: 'app-tiempo-programado',\n  templateUrl: './tiempo-programado.component.html',\n  styleUrls: ['./tiempo-programado.component.css']\n})\nexport class TiempoProgramadoComponent implements OnInit {\n\n  @Output() tiempoProgramado = new EventEmitter<TiempoEntregaModel>();\n\n  infoEstablecimiento: DeliveryEstablecimiento;\n  listDia = [];\n  listHora = [];\n  selectedIni: any;\n\n  seletecDay: any;\n  tiempoEntregaSelected: TiempoEntregaModel = new TiempoEntregaModel();\n\n  private isTiempoProgramadoSoloDia = false; // si el pedido se programa solo para el dia\n\n  private dateHoy = new Date();\n  private dateNow = new Date();\n\n  constructor(\n    private establecimientoService: EstablecimientoService,\n    private infoTokenService: InfoTockenService\n  ) { }\n\n  ngOnInit() {\n    // console.log('aaa');\n    this.infoEstablecimiento = this.establecimientoService.get();\n    this.isTiempoProgramadoSoloDia = this.infoEstablecimiento.pwa_pedido_programado_solo_del_dia === 1;\n    this.getDia();\n\n    this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;\n    this.findTimeList();\n  }\n\n  private findTimeList() {\n    // console.log('time');\n    // if( !this.tiempoEntregaSelected ) { return; }\n    if ( this.tiempoEntregaSelected?.iddia !== undefined ) {\n      this.selectedIni = this.listDia[0]; // this.listDia.filter(d => d.numDay === this.tiempoEntregaSelected.iddia)[0];\n\n      this.seletecDay = this.selectedIni;\n      this.listHora = this.selectedIni.hours;\n\n      this.listDia.map(d => {\n        d.hours.map(h => h.selected = false);\n      });\n\n      this.listHora.map(h => h.selected = false );\n      const _h = this.listHora.filter(h => h.hora === this.tiempoEntregaSelected.idhora)[0];\n      if ( _h ) { _h.selected = true; }\n      // this.listHora.filter(h => h.hora === this.tiempoEntregaSelected.idhora)[0].selected = true;\n    }\n  }\n\n  private getDia() {\n    const horaIni = parseInt(this.infoEstablecimiento.hora_ini.split(':')[0], 0);\n    const horaFni = parseInt(this.infoEstablecimiento.hora_fin.split(':')[0], 0);\n    const diasSemana = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];\n    const numDay  = this.dateHoy.getDay();\n    const hourNow = this.dateHoy.getHours();\n    const minNow = this.dateHoy.getMinutes();\n    // console.log('numDay', numDay);\n\n    const horaDisponibleHoy = hourNow <= horaFni;\n\n    this.listDia = [];\n    let countDays = 1;\n    const _numDay = diasSemana[this.dateHoy.getDay()];\n    if ( horaDisponibleHoy ) {\n      const _lisHours = this.hourSow(hourNow, horaIni, horaFni, true);\n      this.listDia.push({ numDay:  0, descripcion: 'Hoy', date: this.dateNow.toLocaleDateString(), hours: _lisHours});\n    }\n\n    // si solo se puede programar el pedido en el dia\n    if ( !this.isTiempoProgramadoSoloDia ) {\n\n      while (countDays <= 3) {\n        const _lisHours = this.hourSow(hourNow, horaIni, horaFni, false);\n        let numDayAdd = this.dateHoy.getDay() + 1;\n        numDayAdd = numDayAdd > 6 ? numDayAdd - 7 : numDayAdd;\n        this.dateHoy.setDate(this.dateHoy.getDate() + 1);\n        const dateAdd = this.dateHoy.toLocaleDateString();\n        const _descripcion = countDays === 1 ? 'Mañana' :  diasSemana[numDayAdd] + ' ' + this.dateHoy.getDate();\n        const _dayBus = numDayAdd;\n        const isAdd = this.infoEstablecimiento.dias_atienden.indexOf(_dayBus.toString()) > -1;\n        if ( isAdd ) {\n          this.listDia.push({ numDay: countDays, descripcion: _descripcion, date: dateAdd, hours: _lisHours});\n        }\n\n        countDays++;\n      }\n    }\n\n    this.selectedIni = this.listDia[0];\n    this.seletecDay = this.selectedIni;\n    this.listHora = this.selectedIni.hours;\n\n  }\n\n  private hourSow(horaNow: number, horaIni: number, horaFin: number, isHoy = false): any {\n    const listHoursShow = [];\n    let loAntesPosible = false;\n    let _itemHour = {};\n    let hours  = isHoy ? horaNow >= horaIni ? horaNow : horaIni : horaIni;\n    // for (hours; horaIni <= horaFin; hours++) {\n    while (hours < horaFin) {\n      if ( horaNow >= horaIni && isHoy && !loAntesPosible) {\n        _itemHour = {hora: 8, descripcion: 'Lo mas antes posible: ' + this.infoEstablecimiento.tiempo_aprox_entrega, selected: true};\n        loAntesPosible = true;\n      } else {\n        _itemHour = {hora: hours, descripcion: hours + ':00 - ' +  hours + ':30', selected: false};\n      }\n      hours ++;\n\n      listHoursShow.push(_itemHour);\n    }\n\n    // console.log('listHoursShow', listHoursShow);\n    return listHoursShow;\n  }\n\n  selectedDay(selectedDay: any) {\n    // console.log('daySelected', selectedDay);\n    this.seletecDay = selectedDay.value;\n    this.listHora = selectedDay.value.hours;\n  }\n\n  selectHour(rowHour: any) {\n    // this.listHora.map(h => h.selected = false);\n    this.listDia.map(d => {\n      d.hours.map(h => h.selected = false);\n    });\n    rowHour.selected = true;\n\n    this.tiempoEntregaSelected = new TiempoEntregaModel();\n\n    const _valAdd = this.seletecDay.date + ' ' + rowHour.descripcion.split(' - ')[0];\n    // console.log('_valAdd', _valAdd);\n    this.tiempoEntregaSelected.dia = this.seletecDay.descripcion;\n    this.tiempoEntregaSelected.descripcion = this.seletecDay.descripcion;\n    this.tiempoEntregaSelected.hora = rowHour.descripcion;\n    this.tiempoEntregaSelected.value = rowHour.descripcion;\n    this.tiempoEntregaSelected.date = _valAdd;\n    this.tiempoEntregaSelected.idhora = rowHour.hora;\n    this.tiempoEntregaSelected.iddia = this.seletecDay.numDay;\n    this.tiempoEntregaSelected.modificado = true;\n\n    if (  rowHour.descripcion.indexOf( 'Lo mas antes posible' ) > -1 ) {\n      this.tiempoEntregaSelected.modificado = false;\n    }\n\n    this.tiempoProgramado.emit(this.tiempoEntregaSelected);\n  }\n\n  compareObjects(o1: any, o2: any): boolean {\n    return o1.descripcion === o2.descripcion && o1.numDay === o2.numDay;\n  }\n\n}\n","export default \"p { margin: 0; }\\r\\n\\r\\n.content-op {\\r\\n    display: -webkit-box;\\r\\n    display: -webkit-flex;\\r\\n    display: flex;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: center;\\r\\n    -webkit-justify-content: center;\\r\\n            justify-content: center;\\r\\n    margin-top: 15px;\\r\\n}\\r\\n\\r\\n.item-propina {\\r\\n    text-align: center;\\r\\n    padding: 10px;\\r\\n    border: 1px solid #9e9e9e;\\r\\n    border-radius: 5px;\\r\\n    font-size: 12px;\\r\\n    background-color: white;\\r\\n    margin-left: 5px;\\r\\n    min-width: 90px;\\r\\n    -webkit-transition: all 0.3s;\\r\\n    transition: all 0.3s;\\r\\n}\\r\\n\\r\\n.propina-selected {\\r\\n    /* background-color: black;\\r\\n    color: white; */\\r\\n    background-color: slategrey;\\r\\n    /* border: 1px solid gold; */\\r\\n    color: white;\\r\\n\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGlwby12ZWhpY3Vsby90aXBvLXZlaGljdWxvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxTQUFTLEVBQUU7O0FBRWY7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLDRCQUFvQjtJQUFwQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSTttQkFDZTtJQUNmLDJCQUEyQjtJQUMzQiw0QkFBNEI7SUFDNUIsWUFBWTs7QUFFaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy90aXBvLXZlaGljdWxvL3RpcG8tdmVoaWN1bG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInAgeyBtYXJnaW46IDA7IH1cclxuXHJcbi5jb250ZW50LW9wIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxufVxyXG5cclxuXHJcbi5pdGVtLXByb3BpbmEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBtaW4td2lkdGg6IDkwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcclxufVxyXG5cclxuLnByb3BpbmEtc2VsZWN0ZWQge1xyXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7ICovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBzbGF0ZWdyZXk7XHJcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCBnb2xkOyAqL1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG5cclxufSJdfQ== */\";","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\n\n@Component({\n  selector: 'app-tipo-vehiculo',\n  templateUrl: './tipo-vehiculo.component.html',\n  styleUrls: ['./tipo-vehiculo.component.css']\n})\nexport class TipoVehiculoComponent implements OnInit {\n  @Output() optionSelected = new EventEmitter();\n  @Input() selectedFirst: boolean; // si selecciona el primero\n\n  listVehiculo = null;\n  itemSelected: any;\n\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  ngOnInit(): void {\n    // console.log('selectedFirst', this.selectedFirst);\n    this.selectedFirst = this.selectedFirst ? this.selectedFirst : true;\n    this.loadTipoVehiculo();\n  }\n\n  loadTipoVehiculo() {\n    this.crudService.getAll('delivery', 'get-tipo-vehiculo', false, false, false)\n    .subscribe((res: any) => {\n      // console.log(res);\n      this.listVehiculo = res.data;\n\n      if ( this.selectedFirst ) {\n        this.selectedItem(this.listVehiculo[0]);\n      }\n    });\n  }\n\n  selectedItem(item: any) {\n    this.listVehiculo.map(x => x.selected = false);\n    item.selected = true;\n    this.itemSelected = item;\n    this.optionSelected.emit(this.itemSelected);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HttpClientModule, HTTP_INTERCEPTORS  } from '@angular/common/http';\nimport { CrudHttpService } from '../shared/services/crud-http.service';\n\nimport { LayoutMainComponent } from './layout-main/layout-main.component';\nimport { RouterModule } from '@angular/router';\nimport { MaterialModule } from './material/material.module';\nimport { ToolBarComponent } from './tool-bar/tool-bar.component';\nimport { ProgressTimeLimitComponent } from './progress-time-limit/progress-time-limit.component';\nimport { HttpConfigInterceptorService } from '../shared/services/http-config-interceptor.service';\nimport { ComponentesModule } from '../componentes/componentes.module';\n\n\n@NgModule({\n  declarations: [\n    LayoutMainComponent,\n    ToolBarComponent,\n    ProgressTimeLimitComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    HttpClientModule,\n    MaterialModule,\n    ComponentesModule\n  ],\n  exports: [\n    MaterialModule,\n    ToolBarComponent,\n    ProgressTimeLimitComponent\n  ],\n  providers: [\n    CrudHttpService,\n    { provide: HTTP_INTERCEPTORS, useClass: HttpConfigInterceptorService, multi: true }\n  ]\n})\nexport class CoreModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvbGF5b3V0LW1haW4vbGF5b3V0LW1haW4uY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-layout-main',\n  templateUrl: './layout-main.component.html',\n  styleUrls: ['./layout-main.component.css']\n})\nexport class LayoutMainComponent implements OnInit {\n\n  constructor(\n  ) { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n// material\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatCardModule } from '@angular/material/card';\nimport {MatRadioModule} from '@angular/material/radio';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatListModule} from '@angular/material/list';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\n\n\n// import {MatSidenavModule} from '@angular/material/sidenav';\n// import { MatTooltipModule } from '@angular/material/tooltip';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatTooltipModule,\n    MatSidenavModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    MatListModule,\n    MatFormFieldModule,\n    MatSlideToggleModule,\n    // MatTooltipModule\n  ],\n  exports: [\n    MatButtonModule,\n    MatRippleModule,\n    MatIconModule,\n    MatInputModule,\n    MatTabsModule,\n    MatProgressBarModule,\n    MatToolbarModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatSnackBarModule,\n    MatStepperModule,\n    MatExpansionModule,\n    MatCardModule,\n    MatRadioModule,\n    MatTooltipModule,\n    MatSidenavModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    MatListModule,\n    MatFormFieldModule,\n    MatSlideToggleModule,\n    // MatTooltipModule\n  ]\n})\nexport class MaterialModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvcHJvZ3Jlc3MtdGltZS1saW1pdC9wcm9ncmVzcy10aW1lLWxpbWl0LmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { TimerLimitService } from 'src/app/shared/services/timer-limit.service';\n\n@Component({\n  selector: 'app-progress-time-limit',\n  templateUrl: './progress-time-limit.component.html',\n  styleUrls: ['./progress-time-limit.component.css']\n})\nexport class ProgressTimeLimitComponent implements OnInit {\n\n  constructor(public timerLimitService: TimerLimitService) { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \".example-icon {\\r\\n    padding: 0 14px;\\r\\n  }\\r\\n  \\r\\n.example-spacer {\\r\\n    -webkit-box-flex: 1;\\r\\n    -webkit-flex: 1 1 auto;\\r\\n            flex: 1 1 auto;\\r\\n  }\\r\\n  \\r\\n.example-ripple-container {\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n  \\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n\\r\\n    line-height: 40px;\\r\\n    -webkit-flex-shrink: 0;\\r\\n            flex-shrink: 0;\\r\\n    line-height: 40px;\\r\\n    border-radius: 50%;\\r\\n    \\r\\n  \\r\\n    user-select: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n  \\r\\n    -webkit-user-drag: none;\\r\\n    -webkit-tap-highlight-color: transparent;\\r\\n  }\\r\\n  \\r\\n.text-busqueda {\\r\\n  border: none;\\r\\n  outline: none;\\r\\n}\\r\\n  \\r\\n.toolbar-busqueda {\\r\\n  background: white;\\r\\n}\\r\\n  \\r\\n.nom-comercio {\\r\\n  max-width: 70%;\\r\\n  white-space: nowrap;\\r\\n  text-overflow: ellipsis;\\r\\n  overflow: hidden;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtFQUNqQjs7QUFFRjtJQUNJLG1CQUFjO0lBQWQsc0JBQWM7WUFBZCxjQUFjO0VBQ2hCOztBQUVBO0lBQ0UsZUFBZTtJQUNmLGtCQUFrQjs7SUFFbEIsV0FBVztJQUNYLFlBQVk7O0lBRVosaUJBQWlCO0lBQ2pCLHNCQUFjO1lBQWQsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixrQkFBa0I7OztJQUdsQixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixxQkFBcUI7O0lBRXJCLHVCQUF1QjtJQUN2Qix3Q0FBd0M7RUFDMUM7O0FBRUY7RUFDRSxZQUFZO0VBQ1osYUFBYTtBQUNmOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4YW1wbGUtaWNvbiB7XHJcbiAgICBwYWRkaW5nOiAwIDE0cHg7XHJcbiAgfVxyXG4gIFxyXG4uZXhhbXBsZS1zcGFjZXIge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgfVxyXG5cclxuICAuZXhhbXBsZS1yaXBwbGUtY29udGFpbmVyIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG5cclxuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIFxyXG4gIFxyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuICBcclxuICAgIC13ZWJraXQtdXNlci1kcmFnOiBub25lO1xyXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICB9XHJcblxyXG4udGV4dC1idXNxdWVkYSB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi50b29sYmFyLWJ1c3F1ZWRhIHtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLm5vbS1jb21lcmNpbyB7XHJcbiAgbWF4LXdpZHRoOiA3MCU7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef, Renderer2} from '@angular/core';\nimport { SocketService } from 'src/app/shared/services/socket.service';\nimport { NavigatorLinkService } from 'src/app/shared/services/navigator-link.service';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { DialogResetComponent } from 'src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component';\nimport { MipedidoService } from 'src/app/shared/services/mipedido.service';\nimport { Router } from '@angular/router';\nimport { ListenStatusService } from 'src/app/shared/services/listen-status.service';\nimport { filter } from 'rxjs/operators';\nimport { InfoTockenService } from 'src/app/shared/services/info-token.service';\nimport { UtilitariosService } from 'src/app/shared/services/utilitarios.service';\nimport {MAT_TOOLTIP_DEFAULT_OPTIONS, MatTooltipDefaultOptions} from '@angular/material/tooltip';\nimport { CrudHttpService } from 'src/app/shared/services/crud-http.service';\nimport { DialogConfigPuntoComponent } from 'src/app/componentes/dialog-config-punto/dialog-config-punto.component';\nimport { EstablecimientoService } from 'src/app/shared/services/establecimiento.service';\nimport { ComandAnalizerService } from 'src/app/shared/services/speech/comand-analizer.service';\n\nexport const myCustomTooltipDefaults: MatTooltipDefaultOptions = {\n  showDelay: 500,\n  hideDelay: 1000,\n  touchendHideDelay: 500,\n};\n\n\n@Component({\n  selector: 'app-tool-bar',\n  templateUrl: './tool-bar.component.html',\n  styleUrls: ['./tool-bar.component.css'],\n  providers: [\n    {provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: myCustomTooltipDefaults}\n  ]\n})\n\n\nexport class ToolBarComponent implements OnInit {\n  isBusqueda = false;\n  rippleColor = 'rgba(238,238,238,0.2)';\n  rippleColorBusqueda = 'rgba(238,238,238,0.9)';\n  rippleColorPlomo = 'rgba(158,158,158,0.5)';\n  isClienteDelivery = false;\n  isCliente = false;\n  isSpeechVoiceAcivado = false;\n  isActiveMozoVoz = false;\n\n\n  nomSede = '';\n  idSedeCartaVirtual: number;\n  urlSharedCartaVirtual: string;\n\n  @ViewChild('txtBuscar') txtBuscar: ElementRef;\n\n  // isBuqueda=\n\n  constructor(\n    private miPedidoService: MipedidoService,\n    // private socketService: SocketService,\n    private navigatorService: NavigatorLinkService,\n    private dialog: MatDialog,\n    private listenStatusService: ListenStatusService,\n    private renderer: Renderer2,\n    private infoTokenService: InfoTockenService,\n    private utilitariosSerivce: UtilitariosService,\n    private crudService: CrudHttpService,\n    private establecimientoService: EstablecimientoService,\n    private comandAnalizerService: ComandAnalizerService\n    ) { }\n\n  ngOnInit() {\n\n    // console.log('establecimientoService', this.establecimientoService.get());\n    this.isSpeechVoiceAcivado = this.establecimientoService.get().speech_disabled === 1;\n\n    this.listenStatusService.isBusqueda$.subscribe(res => {\n      this.isBusqueda = res;\n      // console.log('liste isBusqueda', res);\n    });\n\n    this.listenStatusService.hayDatosSede$.pipe(filter(res => res === true)).subscribe(res => {\n      this.getNomSede();\n    });\n\n    this.isClienteDelivery = this.infoTokenService.isDelivery();\n    this.isCliente = this.infoTokenService.isCliente();\n    this.idSedeCartaVirtual = this.infoTokenService.infoUsToken.idsede;\n\n\n    this.isActiveMozoVoz = this.isSpeechVoiceAcivado && this.isCliente && !this.isClienteDelivery;\n\n    this.getLinkSharedCarta();\n  }\n\n  private getNomSede(): void {\n    this.nomSede =  this.miPedidoService.objDatosSede.datossede[0].sedenombre;\n  }\n\n  private getLinkSharedCarta() {\n    const _dataSend = {\n      idsede: this.idSedeCartaVirtual\n    };\n\n    this.crudService.postFree(_dataSend, 'delivery', 'get-shared-url-carta', false)\n    .subscribe((res: any) => {\n      this.urlSharedCartaVirtual = res.data[0].qr_delivery;\n    });\n  }\n\n  activaBusqueda(): void {\n    this.navigatorService.setPageActive('carta');\n    this.navigatorService.addLink('carta-i-');\n\n    this.listenStatusService.setIsBusqueda();\n\n\n    setTimeout(() => {\n      if ( !this.txtBuscar ) {return; }\n      this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();\n      this.txtBuscar.nativeElement.value = this.getStorageBusqueda();\n      // this.renderer.selectRootElement(this.txtBuscar.nativeElement).value('aaaaaa');\n    }, 300);\n  }\n\n  buscarCharAhora(charFind: string): void {\n    // console.log(charFind);\n    this.listenStatusService.setCharBusqueda(charFind);\n    this.setStorageBusqueda(charFind);\n  }\n\n  private setStorageBusqueda(charFind: string): void {\n    window.localStorage.setItem('sys::find', charFind);\n  }\n\n  private getStorageBusqueda(): string {\n    return window.localStorage.getItem('sys::find') || '';\n  }\n\n  clearTextBuqueda() {\n    this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();\n    this.txtBuscar.nativeElement.value = '';\n    window.localStorage.setItem('sys::find', '');\n  }\n\n  cerrarSession(): void {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.data = {idMjs: 1};\n\n    const dialogReset = this.dialog.open(DialogResetComponent, dialogConfig);\n    dialogReset.afterClosed().subscribe(result => {\n      if (result ) {\n        this.stopRecordingToolbar();\n        this.miPedidoService.resetAllNewPedido();\n        this.miPedidoService.cerrarSession();\n        // this.socketService.closeConnection();\n        // this.navigatorService.cerrarSession();\n        this.infoTokenService.cerrarSession();\n\n\n      }\n  });\n}\n\n\ngoBackOutEstablecimiento() {\n  const dialogConfig = new MatDialogConfig();\n      dialogConfig.data = {idMjs: 2};\n\n      const dialogReset = this.dialog.open(DialogResetComponent, dialogConfig);\n      dialogReset.afterClosed().subscribe(result => {\n        if (result ) {\n          this.miPedidoService.resetAllNewPedido();\n          this.miPedidoService.cerrarSession();\n          // this.socketService.closeConnection();\n          // this.navigatorService.cerrarSession();\n          this.infoTokenService.cerrarSession();\n        }\n      });\n\n}\n\nsharedCarta() {\n  console.log('this.urlSharedCartaVirtual', this.urlSharedCartaVirtual);\n  this.utilitariosSerivce.sharedNative(this.urlSharedCartaVirtual, this.nomSede);\n}\n\nconfigPunto() {\n\n  const dialogConfig = new MatDialogConfig();\n\n  // dialogConfig.panelClass = 'dialog-item-edit';\n  dialogConfig.panelClass =  ['my-dialog-orden-detalle', 'my-dialog-scrool'];\n\n  this.dialog.open(DialogConfigPuntoComponent, dialogConfig);\n}\n\nstopRecordingToolbar(): void {\n  this.comandAnalizerService.stopRecording();\n}\n\n\n}\n","export class DataTransaccion {\r\n    from: string;\r\n    importe: number;\r\n}\r\n","export class GetFormDatosCliente {\r\n    showDirreccionA: boolean;\r\n    showDirreccionB: boolean;\r\n    tiempoEntrega: boolean;\r\n    metodoPago: boolean;\r\n    metodoPagoAceptaTarjeta: boolean;\r\n    telefono: boolean;\r\n    calDistanciaCentro: boolean; // si calcula del centro\r\n    calDistanciaAB: boolean; // si calcula distancia desde dirA a dirB\r\n    calDistanciaFrom: any; // si calcula de una direccion dada\r\n    tituloDirA: string;\r\n    tituloDirB: string;\r\n}\r\n","import { SeccionModel } from './seccion.model';\r\n\r\nexport class CategoriaModel {\r\n    idcarta: number;\r\n    idcategoria: number;\r\n    visible_x_hora: number;\r\n    hora_fin: string;\r\n    hora_ini: string;\r\n    des: string;\r\n    detalle: string;\r\n    secciones: SeccionModel[];\r\n}\r\n","export class ClientePagoModel {\r\n    idcliente: string;\r\n    idcliente_card: string; // id cliente para antifraud y guardar sus tarjetas;\r\n    nombres: string;\r\n    nombre: string;\r\n    apellido: string;\r\n    email: string;\r\n    isSaveEmail: boolean; // si se guarda email\r\n    diasRegistrado: string; // dias que el cliente esta registrado / viene del server\r\n    ip: string; // ip del cliente\r\n    nomComercio: string; // nombre sede que se muestra en el form de pago\r\n}\r\n","export class DatosCalificadoModel {\r\n    idrepartidor: number;\r\n    idcliente: number;\r\n    idpedido: number;\r\n    idsede: number;\r\n    nombre: string;\r\n    titulo: string;\r\n    comentario: string;\r\n    calificacion: number;\r\n    showNombre: boolean;\r\n    showTitulo: boolean;\r\n    showMsjTankyou: boolean; // si aparece el agradecimiento luego de calificar\r\n    tipo: number; // 1 repartidor 2 cliente 3 establecimiento\r\n    showTxtComentario: boolean; // si muestra la caja de comentario\r\n}\r\n","export class DeliveryDireccionCliente {\r\n    idcliente_pwa_direccion: number;\r\n    idcliente: number;\r\n    direccion: string;\r\n    ciudad: string;\r\n    provincia: string;\r\n    departamento: string;\r\n    pais: string;\r\n    titulo: string;\r\n    referencia: string;\r\n    latitude: number;\r\n    longitude: number;\r\n    codigo: string;\r\n    estado: number;\r\n    options: any;\r\n    selected: boolean; // si esta seleccionado\r\n}\r\n","export class DeliveryEstablecimiento {\r\n    idsede: number;\r\n    idorg: number;\r\n    eslogan: string;\r\n    ciudad: string;\r\n    calificacion: number;\r\n    provincia: string;\r\n    departamento: string;\r\n    nombre: string;\r\n    direccion: string;\r\n    pwa_delivery_img: string;\r\n    sub_categoria: string;\r\n    latitude: number;\r\n    longitude: number;\r\n    codigo_postal: string;\r\n    c_minimo: number; // costo minimo del servicio 1=costo_minimo\r\n    c_km: number; // costo x km adicional > 1  = costo_minimo + (dif * c_km)\r\n    c_servicio: number; // costo del servicio calculando la distancia\r\n    distancia_km: string; // distancia en kilomentros\r\n    distancia_mt: string; // distancia en metros\r\n    tiempo_aprox_entrega: string;\r\n    abre_en: string; // tiempo que falta para abrir\r\n    hora_ini: string; // hora que abre\r\n    hora_fin: string;\r\n    cerrado: number; // 0 abierto 1 cerrado,\r\n    dias_atienden: string;\r\n    pwa_delivery_servicio_propio: number; // delivery / el importe minimo por pedido\r\n    pwa_delivery_importe_min: number; // cantidad de productos en el pedido // solo para delivery\r\n    idsede_categoria: number;\r\n    idsede_subcategoria: string; // group concat id_subcategoria\r\n    idsede_subcategoria_filtro: string; // group concat id_subcategoria\r\n    visible: boolean;\r\n    pwa_delivery_habilitar_recojo_local: number;\r\n    pwa_delivery_acepta_yape: number;\r\n    pwa_delivery_acepta_tarjeta: number;\r\n    pwa_delivery_hablitar_calc_costo_servicio: number; // si el sistema calcula el servicio delivery segun distancia de los pedidos tomados por el comercio\r\n    pwa_delivery_habilitar_calc_costo_servicio_solo_app: number; // solo habilita costo de entrega cuando pide el cliente por la aplicacion mas no cuando el comercio hace el pedido\r\n    pwa_delivery_reparto_solo_app: number; // los repartidores de papaya solo llevaran los pedidos ingresados por la app\r\n    pwa_delivery_comercio_solidaridad: number; // si es comercio solidario, solo pago con tarjeta y parece campo de contacto\r\n    pwa_delivery_comision_fija_no_afiliado: number; // comision fija comercio no afiliado (plaza vea cualquier pedido la comision es 2 para la platafoma)\r\n    rulesSubTotales: any;\r\n    pwa_delivery_comercio_paga_entrega: number; // si el comercio paga el costo del delivery al repartidor\r\n    costo_total_servicio_delivery: number; // costo del servicio de entrega si pwa_delivery_comercio_paga_entrega\r\n    pwa_delivery_habilitar_pedido_programado: number; // 1 acepta pedidos programados\r\n    pwa_habilitar_busqueda_mapa: number; // 1 acepta busqueda de direcciones por mapa\r\n    pwa_show_item_view_mercado: number; // si la vista es como estanes mercado\r\n    isCalcApiGoogle: boolean; // si el calculo de la distacia fue desde api google\r\n    is_rain: number; // 1 = true\r\n    options: any;\r\n    centro: any;\r\n    icons_entrega: []; // iconos json de entrega a mostrar\r\n    pwa_pedido_programado_solo_del_dia: number; // pedidos programados solo del dia\r\n    pwa_acepta_reservas: number; // 1 acepta recervas\r\n    pwa_acepta_reserva_desde: string; // hora desde que acepta reserva\r\n    img_mini: string; // logo mini\r\n    impresoras: []; // impresoras de la sede\r\n    speech_disabled: number; // mozo virtual voz\r\n    simbolo_moneda: string;\r\n}\r\n","export class EstadoPedidoModel {\r\n    estado: number; // 0: espera 1: despachado 2: pagado 3: anulado\r\n    importe: number; // importe a pagar\r\n    isTiempoAproxCumplido: boolean; // si el tiempo aproximado esta cumplido\r\n    horaInt: number; // hora init conteo\r\n    numMinAprox: number; // numero de minutos aproximadamente\r\n    hayPedidoCliente: boolean; // si hay pedido, si hay cuenta\r\n    hayPedidoClientePendiente: boolean; // si hay productos en lista de pedido pendientes por enviar.\r\n    isPagada: boolean; // si ya fue pagada\r\n    isRegisterOnePago: boolean; // si se registro algun pago aunque no se el total\r\n}\r\n","export class FormValidRptModel {\r\n    isTpcLocal = false;\r\n    isTpcSoloLLevar = false;\r\n    isTpcSoloDelivery = false;\r\n    isTpcSoloOther = false;\r\n    isRequiereMesa = false;\r\n}\r\n","import { ItemTipoConsumoModel } from './item.tipoconsumo.model';\r\nimport { SubItem } from './subitems.model';\r\nimport { SubItemsView } from './subitems.view.model';\r\nimport { SubItemContent } from './subitem.content.model';\r\n\r\nexport class ItemModel {\r\n    iditem: number;\r\n    idseccion: number;\r\n    idcarta_lista: number;\r\n    isalmacen: number;\r\n    isporcion: string; // si es SP = porcion\r\n    imprimir_comanda: number;\r\n    procede: number; // tabla de donde descontar 0 = producto 1 = cartalista\r\n    precio: string; // precio unitario\r\n    precio_unitario: string; // para calculo del precio item + precio subitem\r\n    precio_default: number;\r\n    precio_print: number; // precio que se muestra\r\n    precio_total_calc: number; // preciounitario * cantidad // para calular reglas carta\r\n    precio_total = 0; // preciounitario * cantidad\r\n    precio_antes = null; // precio antes del descuento\r\n    cantidad: number;\r\n    cantidad_seleccionada: number; // total\r\n    cantidad_seleccionada_x_tpc = 0; // cantidad seleccionada por tipo cosnumo\r\n    cantidad_reset: number; // cuando caduca el tiempo y recupera stock\r\n    cantidad_descontado = 0; // cantidad que se decuenta por reglas de carta\r\n    // cantidad_selected: number; // cantidad selecciona del control de add fast comp-ctl-add-fast\r\n    des: string;\r\n    indicaciones: string; // indicaciones del pedido\r\n    detalles: string; // descripcion en detalle\r\n    img: string; // imagen del item\r\n    selected: boolean;\r\n    itemtiposconsumo: ItemTipoConsumoModel[] = []; // para la vista -> listItemsPedido\r\n    seccion: string;\r\n    subitems: SubItemContent[];\r\n    subitem_required_select: number;\r\n    subitem_cant_select: number;\r\n    subitems_selected: SubItem[] = []; // subitems seleccionados\r\n    subitems_view: SubItemsView[] = []; // subitems vista y guardar pedido detalle\r\n    count_subitems: number; // numero de subitems para saber si mostrar detalle en autopedido\r\n    sumar: boolean; // si suma o resta en el back end -- el back envia las cantidadees\r\n    iddescuento: number;\r\n    is_visible_cliente: number; // 1 no visible para el cliente\r\n    is_search_subitems: boolean; // si ya hizo la busqueda de sus subitems\r\n    is_visible_control_last_add: boolean;\r\n    ispromo: any;\r\n    ispromo_aplica: boolean;\r\n    is_recomendacion: string;\r\n}\r\n","export class ItemTipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    cantidad_seleccionada: number;\r\n    animar_cantidad: boolean; // anima la cantidad cuando se modifoca + -\r\n}\r\n","export class MetodoPagoModel {\r\n    idtipo_pago: number;\r\n    descripcion: string;\r\n    importe: string;\r\n    checked: boolean;\r\n    visible: boolean;\r\n    img: string;\r\n    info: string;\r\n}\r\n","export class ParametrosCompHora {\r\n    titulo: string;\r\n    tituloHora: string;\r\n    hora_ini: string;\r\n    hora_min: string;\r\n    hora_max: string;\r\n    addMin: number; // agregar minutos a la hora\r\n    showHoraMinMax: boolean;\r\n    showHoraIni: boolean;\r\n}\r\n","import { TipoConsumoModel } from './tipoconsumo.model';\r\n\r\nexport class PedidoModel {\r\n    tipoconsumo: TipoConsumoModel[] = [];\r\n}\r\n","export class PropinaModel {\r\n    idpropina: number;\r\n    descripcion: string;\r\n    value: number;\r\n    checked: boolean;\r\n}\r\n","import { ItemModel } from './item.model';\r\n\r\nexport class SeccionModel {\r\n    idseccion: number;\r\n    idimpresora: number;\r\n    idimpresora_otro: number;\r\n    imprimir: number;\r\n    sec_orden: number;\r\n    count_items: number;\r\n    ver_stock_cero: number;\r\n    des: string;\r\n    descuento = null;\r\n    iddescuento: number;\r\n    is_visible_cliente: number; // 1 no visible para el cliente\r\n    items: ItemModel[] = [];\r\n}\r\n","export class SendDataTTS {\r\n    codigo_accion: string;\r\n    comando: string;\r\n    comando_recibido: string; // el comando recibido\r\n    texto_recibido: string;\r\n    idcomando_voz: number;\r\n    seccion: string;\r\n    texto_default: any; //\r\n    text: string;\r\n    idsede: number;\r\n}\r\n","import { DeliveryDireccionCliente } from './delivery.direccion.cliente.model';\r\n\r\nexport class SocketClientModel {\r\n    idsocket_client: string; // obtiene cuando se conecta el socket\r\n    idcliente: number; // cuando se loguea a un establecimiento\r\n    idusuario: number;\r\n    idorg: number; // cuando se loguea a un establecimiento\r\n    idsede: number; // cuando se loguea a un establecimiento\r\n    isCliente: boolean;\r\n    nombres: string;\r\n    usuario: string;\r\n    datalogin: any;\r\n    numMesaLector: number; // numero de mesa del lector qr\r\n    isQrSuccess: boolean; // si paso por el lector qr\r\n    isLoginByDNI: boolean; // si el logue fue por dni\r\n    isLoginByInvitado: boolean; // si el logue fue por invitado\r\n    isLoginByTelefono: boolean; // si el logue fue por telefono\r\n    isSoloLLevar: boolean; // si escanea codigo que sea solo para llevar\r\n    isDelivery: boolean;\r\n    isReserva: boolean; // si es reserva\r\n    isRetiroCash: boolean;\r\n    direccionEnvioSelected: DeliveryDireccionCliente;\r\n    telefono: string;\r\n    systemOS: string;\r\n}\r\n","import { SubItem } from './subitems.model';\r\n\r\nexport class SubItemsView {\r\n    id: string;\r\n    des: string;\r\n    listDes: string[];\r\n    cantidad: string;\r\n    indicaciones: string;\r\n    cantidad_seleccionada: number;\r\n    precio: number;\r\n    subitems: SubItem[];\r\n    idtipo_consumo: number; // idtipoconsumo para no sumar de otro tpc\r\n}\r\n","export class TiempoEntregaModel {\r\n    descripcion: string;\r\n    hora: string;\r\n    dia: string;\r\n    value: string;\r\n    date: string;\r\n    idhora: number;\r\n    iddia: number;\r\n    modificado: boolean;\r\n    isUsuarioAutorizado: boolean;\r\n    valid: boolean;\r\n}\r\n","export class TipoComprobanteModel {\r\n    idtipo_comprobante: number;\r\n    descripcion: string;\r\n    dni: string;\r\n    otro_dato: string;\r\n    checked: boolean;\r\n}\r\n","import { SeccionModel } from './seccion.model';\r\n\r\nexport class TipoConsumoModel {\r\n    idtipo_consumo: number;\r\n    descripcion: string;\r\n    titulo: string;\r\n    count_items_seccion: number;\r\n    secciones: SeccionModel[] = [];\r\n    cantidad_seleccionada: number;\r\n}\r\n","import { DeliveryDireccionCliente } from './delivery.direccion.cliente.model';\r\nimport { MetodoPagoModel } from './metodo.pago.model';\r\nimport { TipoComprobanteModel } from './tipo.comprobante.model';\r\nimport { PropinaModel } from './propina.model';\r\nimport { TiempoEntregaModel } from './tiempo.entrega.model';\r\n\r\nexport class UsuarioTokenModel {\r\n    acc: string;\r\n    cargo: string;\r\n    estadistica: number;\r\n    estado: number;\r\n    idalmacen: number;\r\n    idorg: number;\r\n    idsede: number;\r\n    idusuario: number;\r\n    nombres: string;\r\n    nuevo: number;\r\n    pass: string;\r\n    per: string;\r\n    rol: number;\r\n    super: number;\r\n    usuario: string;\r\n    idcliente: number;\r\n    isCliente: boolean;\r\n    isUsuarioAutorizado: boolean;\r\n    isHayDescuento: boolean;\r\n    email: string;\r\n    numMesaLector: number; // numero de mesa del lector qr\r\n    ipCliente: string; // ip del cliente api autorizacion\r\n    isSoloLLevar: boolean; // si escanea qr solo para llevar\r\n    isDelivery: boolean; // si es delivery\r\n    isReserva: boolean; // si es delivery\r\n    isRetiroCash: boolean; // si es delivery\r\n    isPuntoAutoPedido: boolean; // si es punto de autopedido\r\n    isTomaPedidoRapido: boolean; // si es se toma pedido rapido se muestra como punto de autopedido\r\n    direccionEnvioSelected: DeliveryDireccionCliente;\r\n    tiempoEntrega: TiempoEntregaModel;\r\n    telefono: string;\r\n    orderDelivery: string; // pedido pendiente de confirmacion\r\n    importeDelivery: string; // importe pendiente de confirmacion\r\n    isPagoSuccess: boolean; // si ya pago, si es que actualiza cuando ya pago\r\n    metodoPago: MetodoPagoModel; // metodo pago seleccionado\r\n    metodoPagoSelected: MetodoPagoModel; // metodo pago seleccionado\r\n    tipoComprobante: TipoComprobanteModel; // tipo comprobante en delivery\r\n    propina: PropinaModel; // propina para el repartidor delivery\r\n    socketId: string;\r\n    otro: any;\r\n    pasoRecoger: boolean; // si el cliente pasa a recoger\r\n    isActiveMozoVoz: boolean;\r\n    isUsLoggedIn: boolean; // si viene a loguearse es decir si viene de login fb gmail telefono dni\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9yZXN1bWVuLXBlZGlkby9kaWFsb2ctcmVzZXQvZGlhbG9nLXJlc2V0LmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-dialog-reset',\n  templateUrl: './dialog-reset.component.html',\n  styleUrls: ['./dialog-reset.component.css']\n})\nexport class DialogResetComponent implements OnInit {\n\n  msj = '';\n  constructor(\n    @Inject(MAT_DIALOG_DATA) data: any\n  ) {\n    // console.log('data dialog', data);\n    const idMsj = data ? data.idMjs : 0;\n    switch (idMsj) {\n      case 0:\n        this.msj = 'Confirma que desea de borrar el pedido actual?';\n        break;\n      case 1:\n        this.msj = 'Confirma que desea salir?';\n        break;\n      case 2:\n        this.msj = 'Solo puede hacer un pedido por establecimiento a la vez. Confirma que desea salir?';\n        break;\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n","// pruebas\r\n// export const URL_SERVER = 'http://localhost:5819/v3/'; // desarrollo\r\n// export const URL_SERVER_SOCKET = 'http://localhost:5819'; // desarrollo\r\n// export const URL_SERVER_SOCKET_SPEECH = 'http://localhost:1337'; //\r\n// export const URL_SERVER_FILE_AUDIO_SPEECH = 'http://localhost:1337/resources/'; //\r\n// export const URL_IMG_CARTA = 'http://192.168.1.64/restobar/file/'; // imagenes de la carta\r\n// export const URL_IMG_PROMO = 'http://192.168.1.64/restobar/repositorio/img_promo'; // imagenes de promosiones\r\n// export const URL_IMG_COMERCIO = 'http://192.168.1.64/restobar/print/logo/';\r\n// export const VAPID_PUBLIC = 'BC7ietauZE99Hx9HkPyuGVr8jaYETyEJgH-gLaYIsbORYobppt9dX49_K_wubDqphu1afi7XrM6x1zAp4kJh_wU';\r\n\r\n\r\n\r\n// export const VAPID_PUBLIC = 'BOiwO8PftVFo8MrQfp3oAv4KbVtFdZAQojGKgzyxMCPgiNhg8PySbOSlkxDqd3iKA4J1GhzwFiCIGKmXRiKZM_0';\r\n\r\n// export const URL_CONSULTA_RUC_DNI = 'http://apifacturalo_a.test:8080/api/services/'; // consulta dni o ruc\r\n\r\n// produccion\r\nexport const URL_SERVER = 'https://app.restobar.papaya.com.pe/api.pwa/v3'; // produccion\r\nexport const URL_SERVER_SOCKET = 'https://app.restobar.papaya.com.pe/'; // produccion\r\nexport const URL_SERVER_SOCKET_SPEECH = 'https://app.restobar.papaya.com.pe/';\r\nexport const URL_SERVER_FILE_AUDIO_SPEECH = 'https://app.restobar.papaya.com.pe/speech/resources/'; //\r\nexport const URL_IMG_CARTA = '//restobar.papaya.com.pe/file/'; // web\r\nexport const URL_IMG_PROMO = '//restobar.papaya.com.pe/repositorio/img_promo'; // imagenes de promosiones\r\n// export const URL_IMG_CARTA = 'https://restobar.papaya.com.pe/file/'; // capacitor\r\nexport const URL_IMG_COMERCIO = '//restobar.papaya.com.pe/print/logo/';\r\nexport const VAPID_PUBLIC = 'BOiwO8PftVFo8MrQfp3oAv4KbVtFdZAQojGKgzyxMCPgiNhg8PySbOSlkxDqd3iKA4J1GhzwFiCIGKmXRiKZM_0';\r\n\r\nexport const VIEW_APP_MOZO = false; // true = app solo mozo\r\nexport const URL_CONSULTA_RUC_DNI = 'https://apifac.papaya.com.pe/api/services/'; // consulta dni o ruc\r\nexport const TOKEN_CONSULTA = 'tLKbDncvyKIPcgdVAGqt7rmy7W9mU9cnbawpZdc7JJv7l6h9cU'; // token de prueba\r\nexport const TOKEN_SMS = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoicGFwYXlhLXNtcyIsImlhdCI6MTAwMDIwMDAzMDAwfQ.bKnTHEEGW_SustFir-40ZAYcHtfIo7Gyjq7c2onsAj0'; // token de prueba\r\n\r\n\r\n\r\n// export const URL_SERVER_SOCKET = '/'; // produccion\r\n\r\n","import { Directive, Input, Output, EventEmitter, OnInit, OnDestroy, HostListener } from '@angular/core';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { Subscription } from 'rxjs/internal/Subscription';\n// import { debounceTime } from 'rxjs/internal/operators/debounceTime';\nimport { throttleTime } from 'rxjs/internal/operators/throttleTime';\n\n\n@Directive({\n  selector: '[appDebounceClick]'\n})\nexport class DebounceClickDirective implements OnInit, OnDestroy {\n\n  @Input() debounceTime = 300;\n  @Output() debounceClick = new EventEmitter();\n\n  private clicks = new Subject();\n  private subscription: Subscription;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.subscription = this.clicks.pipe(\n      throttleTime(this.debounceTime)\n    ).subscribe((e: Event) => {\n      this.debounceClick.emit(e);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {this.subscription.unsubscribe(); }\n  }\n\n  @HostListener('click', ['$event'])\n  clickEvent(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.clicks.next(event);\n  }\n\n}\n","import {Directive, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {GoogleMapsAPIWrapper} from '@agm/core';\n\nexport interface ILatLng {\n  latitude: number;\n  longitude: number;\n}\n\ndeclare var google: any;\n\n@Directive({\n  selector: '[appDirectionsMapDirective]'\n})\nexport class DirectionsMapDirectiveDirective implements OnInit, OnChanges {\n\n  @Input() origin: ILatLng;\n  @Input() destination: ILatLng;\n  @Input() showDirection: boolean;\n\n  // We'll keep a single google maps directions renderer instance so we get to reuse it.\n  // using a new renderer instance every time will leave the previous one still active and visible on the page\n  private directionsRenderer: any;\n\n  // We inject AGM's google maps api wrapper that handles the communication with the Google Maps Javascript\n  constructor(private gmapsApi: GoogleMapsAPIWrapper) {}\n\n  ngOnInit() {\n    this.drawDirectionsRoute();\n  }\n\n  drawDirectionsRoute() {\n    this.gmapsApi.getNativeMap().then(map => {\n      if (!this.directionsRenderer) {\n        // if you already have a marker at the coordinate location on the map, use suppressMarkers option\n        // suppressMarkers prevents google maps from automatically adding a marker for you\n        this.directionsRenderer = new google.maps.DirectionsRenderer({suppressMarkers: true});\n      }\n      const directionsRenderer = this.directionsRenderer;\n\n      if ( this.showDirection && this.destination ) {\n          const directionsService = new google.maps.DirectionsService;\n          directionsRenderer.setMap(map);\n          directionsService.route({\n              origin: {lat: this.origin.latitude, lng: this.origin.longitude},\n              destination: {lat: this.destination.latitude, lng: this.destination.longitude},\n              waypoints: [],\n              optimizeWaypoints: true,\n              travelMode: 'DRIVING'\n          }, (response, status) => {\n              if (status === 'OK') {\n                  directionsRenderer.setDirections(response);\n                  // If you'll like to display an info window along the route\n                  // middleStep is used to estimate the midpoint on the route where the info window will appear\n                  // const middleStep = (response.routes[0].legs[0].steps.length / 2).toFixed();\n                  // const infowindow2 = new google.maps.InfoWindow();\n                  // infowindow2.setContent(`${response.routes[0].legs[0].distance.text} <br> ${response.routes[0].legs[0].duration.text}  `);\n                  // infowindow2.setPosition(response.routes[0].legs[0].steps[middleStep].end_location);\n                  // infowindow2.open(map);\n              } else {\n                  console.log('Directions request failed due to ' + status);\n              }\n          });\n      }\n\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n      if (changes.origin || changes.showDirection) {\n          // this checks if the show directions input changed, if so the directions are removed\n          // else we redraw the directions\n          if (changes.showDirection && !changes.showDirection.currentValue) {\n              if (this.directionsRenderer !== undefined) { // check this value is not undefined\n                  this.directionsRenderer.setDirections({routes: []});\n                  return;\n              }\n          } else {\n              this.drawDirectionsRoute();\n          }\n      }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\nimport { VerifyAuthClientService } from '../services/verify-auth-client.service';\nimport { InfoTockenService } from '../services/info-token.service';\n// import { InfoTockenService } from '../services/info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private authService: AuthService,\n    private verifyClientService: VerifyAuthClientService,\n    private infoTokenService: InfoTockenService,\n  ) {}\n\n  // canActivate(\n  //   next: ActivatedRouteSnapshot,\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n\n  //   return true;\n  // }\n\n  canActivate() {\n    const us = this.authService.getLoggedStatus();\n    const infoToken = this.infoTokenService.getInfoUs();\n    const res = infoToken.isCliente ? infoToken.isDelivery || infoToken.isReserva  ? true : this.verifyClientService.getIsQrSuccess() && us : us;\n\n    // if ( us )\n    return res;\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { VerifyAuthClientService } from '../services/verify-auth-client.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ClienteProfileGuard implements CanActivate {\r\n  constructor (\r\n    private verifyClientService: VerifyAuthClientService\r\n  ) {}\r\n  // canActivate(\r\n  //   next: ActivatedRouteSnapshot,\r\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n  //   return true;\r\n  // }\r\n\r\n  canActivate() {\r\n    // console.log('llega canActivate', this.verifyClientService.getIsQrSuccess());\r\n    return this.verifyClientService.isLogin() || this.verifyClientService.getIsLoginByDNI();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioAutorizadoModel } from 'src/app/modelos/usuario-autorizado.model';\r\nimport { Auth0Service } from './auth0.service';\r\nimport { CrudHttpService } from './crud-http.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n    private isLoggedStatus = false;\r\n\r\n    constructor(\r\n        private crudService: CrudHttpService,\r\n        private auth: Auth0Service,\r\n        ) {\r\n\r\n    }\r\n\r\n    setLoggedStatus(value: boolean) {\r\n        this.isLoggedStatus = value;\r\n    }\r\n\r\n    // verfica la existencia del token\r\n    getLoggedStatus() {\r\n        const token = localStorage.getItem('::token');\r\n        const rpt = !!token ? true : false;\r\n        this.isLoggedStatus = rpt;\r\n        return rpt;\r\n    }\r\n\r\n    getUserLogged(usuario: UsuarioAutorizadoModel) {\r\n        return this.crudService.loginUsuarioAutorizado(usuario);\r\n    }\r\n\r\n    setLocalToken(token: string) {\r\n        localStorage.setItem('::token', token);\r\n        // guardo tambien la hora que esta iniciando session\r\n        const ms_tieme_init_session = new Date().getTime();\r\n        localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n    }\r\n\r\n    setLocalTokenAuth(token: string) {\r\n        localStorage.setItem('::token:auth', token);\r\n    }\r\n\r\n    getLocalToken() {\r\n        return localStorage.getItem('::token');\r\n    }\r\n\r\n    setLocalUsuario(usuario: UsuarioAutorizadoModel) {\r\n        localStorage.setItem('::us', JSON.stringify(usuario));\r\n    }\r\n\r\n    verifyToken() {\r\n        return this.crudService.verificarToken();\r\n    }\r\n\r\n    loggedOutUser() {\r\n        localStorage.removeItem('::token');\r\n        localStorage.removeItem('::us');\r\n        if ( this.getLoggedStatus() ) {\r\n            this.auth.logout();\r\n        }\r\n        // localStorage.clear();\r\n        this.setLoggedStatus(false);\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport createAuth0Client from '@auth0/auth0-spa-js';\nimport Auth0Client from '@auth0/auth0-spa-js/dist/typings/Auth0Client';\nimport { from, of, Observable, BehaviorSubject, combineLatest, throwError } from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay, delay, switchMap, share } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Auth0Service {\n  // Create an observable of Auth0 instance of client\n  auth0Client$ = (from(\n    createAuth0Client({\n      domain: 'dev-m48s1pe2.auth0.com',\n      client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n      redirect_uri: `${window.location.origin}/callback-auth`\n    })\n  ) as Observable<Auth0Client>).pipe(\n    share(), // Every subscription receives the same shared value\n    catchError(err => throwError(err))\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n\n  // isAuthenticated$ = this.auth0Client$.pipe(\n  //   concatMap((client: Auth0Client) => from(client.isAuthenticated())),\n  //   tap(res => this.loggedIn = res)\n  // );\n\n  private urlFromAuth: string;\n  // Create a local property for login status\n  loggedIn: boolean = null;\n\n  // handleRedirectCallback$ = this.auth0Client$.pipe(\n  //   concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\n  // );\n\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback(this.urlFromAuth)))\n  );\n\n  isAuthenticated$ = this.auth0Client$.pipe(\n    delay(500), // add delay to pipe\n    switchMap((client: Auth0Client) => from(client.isAuthenticated())),\n    tap(res => this.loggedIn = res)\n  );\n\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n\n  // 01022022 avisar al callback-auth\n  userProfileChangeSubject$ = new BehaviorSubject<any>(null);\n  userProfileChange$ = this.userProfileChangeSubject$.asObservable();\n\n\n  constructor(private router: Router) {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    this.localAuthSetup();\n    // Handle redirect from Auth0 login\n    this.handleAuthCallback();\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    // console.log('change userProfileSubject');\n    return this.auth0Client$.pipe(\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\n      tap(user => this.userProfileSubject$.next(user))\n    );\n  }\n\n  private localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          return this.getUser$();\n        }\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  login(redirectPath: string = '/', proveedor: string) {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log in\n      client.loginWithRedirect({\n        connection: proveedor,\n        redirect_uri: `${window.location.origin}/callback-auth`,\n        appState: { target: redirectPath }\n      });\n    });\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    this.urlFromAuth = window.location.href;\n    const params = window.location.search;\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute: string; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap(cbRes => {\n          // Get and set target redirect route from callback results\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([\n            this.getUser$(),\n            this.isAuthenticated$\n          ]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(([user, loggedIn]) => {\n        // Redirect to target route after callback processing\n        // console.log('targetRoute', targetRoute);\n        this.router.navigate([targetRoute]);\n      });\n    }\n  }\n\n  logout() {\n    // Ensure Auth0 client instance exists\n    this.auth0Client$.subscribe((client: Auth0Client) => {\n      // Call method to log out\n      client.logout({\n        client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',\n        returnTo: `${window.location.origin}`\n      });\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { EstablecimientoService } from './establecimiento.service';\nimport { GeoPositionModel } from 'src/app/modelos/geoposition.model';\nimport { Observable } from 'rxjs/internal/Observable';\n\ndeclare var google: any;\n\nimport {\n  insideCircle, distanceTo\n} from 'geolocation-utils';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CalcDistanciaService {\n  directionsService = new google.maps.DirectionsService();\n  // private directionsDisplay = new google.maps.DirectionsRenderer();\n\n  private origin = {};\n  private destination = {};\n\n\n  constructor(\n    private estableciminetoService: EstablecimientoService\n  ) { }\n\n\n  // para cacular al visualizar estableciminetos\n  calculateRouteNoApi(dirCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento, buscarEnCache = true): any {\n      let c_servicio = 0;\n      c_servicio = dirEstablecimiento.c_minimo;\n\n      const c_km = dirEstablecimiento.c_km; // costo x km adicional\n\n\n      dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;\n      dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;\n\n      dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;\n      dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;\n\n      let km = 0;\n      const distanciaMetros = distanceTo({lat: dirEstablecimiento.latitude, lon: dirEstablecimiento.longitude}, {lat: dirCliente.latitude, lon: dirCliente.longitude});\n      const inKm = distanciaMetros / 1000;\n      dirEstablecimiento.distancia_mt = distanciaMetros.toString();\n      dirEstablecimiento.distancia_km = (inKm).toFixed(2);\n\n      km = Math.ceil(inKm);\n\n      c_servicio = this.calCostoDistancia(dirEstablecimiento, inKm);\n\n      // console.log('establecimeinto', dirEstablecimiento.nombre);\n      // console.log('km distancia', km);\n      // console.log('metros distancia', distanciaMetros);\n\n      // if ( km > 1 ) {\n      //   // const kmAddicionales = km / 0.5\n      //   const kmMenos = km > 2 ? 0 : 1; // si es mayor a 2 no resta\n      //   c_servicio = (( km - kmMenos ) * c_km) + c_servicio;\n      //   dirEstablecimiento.c_servicio = c_servicio;\n\n      //   // console.log('c_servicio', c_servicio);\n      //   // return c_servicio;\n      // }\n\n      dirEstablecimiento.c_servicio = c_servicio;\n      return c_servicio;\n  }\n\n\n  calculateRoute(dirCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento, buscarEnCache: boolean = true): any {\n    // console.log('calcular google');\n    // return new Observable(observer => {\n        let c_servicio = 0;\n      // si tiene repartidores propios y no esta suscrito al servicio de calcular distancia\n      // if ( dirEstablecimiento.pwa_delivery_servicio_propio === 1 && dirEstablecimiento.pwa_delivery_hablitar_calc_costo_servicio === 0) {\n        // c_servicio = 0;\n      // } else {\n\n        c_servicio = dirEstablecimiento.c_minimo;\n\n        const c_km = dirEstablecimiento.c_km; // costo x km adicional\n\n\n        dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;\n        dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;\n\n        dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;\n        dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;\n\n        // // no google\n        // // calculamos la distancia - return metros\n        // let km = 0;\n        // const distanciaMetros = distanceTo({lat: dirEstablecimiento.latitude, lon: dirEstablecimiento.longitude}, {lat: dirCliente.latitude, lon: dirCliente.longitude});\n        // const inKm = distanciaMetros / 1000;\n        // dirEstablecimiento.distancia_km = (inKm).toFixed(2);\n\n        // km = Math.ceil(inKm);\n\n        // // console.log('establecimeinto', dirEstablecimiento.nombre);\n        // // console.log('km distancia', km);\n        // // console.log('metros distancia', distanciaMetros);\n\n        // if ( km > 1 ) {\n        //   // const kmAddicionales = km / 0.5\n        //   const kmMenos = km > 2 ? 0 : 1; // si es mayor a 2 no resta\n        //   c_servicio = (( km - kmMenos ) * c_km) + c_servicio;\n        //   dirEstablecimiento.c_servicio = c_servicio;\n\n        //   // console.log('c_servicio', c_servicio);\n        //   // return c_servicio;\n        // }\n\n\n        // buscamos primero la direccion del cliente en cache\n        // console.log('buscarEnCache', buscarEnCache);\n        if ( buscarEnCache ) {\n          const _establecimientoCacheado = <any>this.estableciminetoService.getFindDirClienteCacheEstableciemto(dirCliente, dirEstablecimiento);\n          if ( _establecimientoCacheado ) {\n            // console.log('from calcDistance cache', _establecimientoCacheado);\n\n            dirEstablecimiento.distancia_km = _establecimientoCacheado.distancia_km;\n            dirEstablecimiento.c_servicio = this.calCostoDistancia(dirEstablecimiento, _establecimientoCacheado.distancia_km);\n\n            // si el costo del delivery es mayor a 15 lo vuelve a calcular\n            if ( dirEstablecimiento.c_servicio <= 15 ) {\n              return dirEstablecimiento.c_servicio;\n            }\n          }\n        }\n\n        // // con google // //\n        //  // cordenadas\n        this.origin = {\n          lat: dirCliente.latitude, lng: dirCliente.longitude\n        };\n\n        // console.log('this.origin', this.origin);\n\n        this.destination = {\n          lat: dirEstablecimiento.latitude, lng: dirEstablecimiento.longitude\n        };\n\n        const request = {\n          origin: this.origin,\n          destination: this.destination,\n          travelMode: google.maps.TravelMode.DRIVING\n        };\n\n        let km = 0;\n        this.directionsService.route(request, (result: any, status) => {\n          if (status === 'OK') {\n            // this.directionsRenderer.setDirections(result);\n            km = result.routes[0].legs[0].distance.value;\n            const _kmReal =  km / 1000;\n            dirEstablecimiento.distancia_mt = km.toString();\n            dirEstablecimiento.distancia_km = (_kmReal).toFixed(2);\n\n            dirEstablecimiento.isCalcApiGoogle = true;\n\n            // km = parseInt((km / 1000).toFixed(), 0);\n\n            c_servicio = this.calCostoDistancia(dirEstablecimiento, _kmReal);\n            dirEstablecimiento.c_servicio = c_servicio;\n\n            // km = Math.ceil(_kmReal); // lo redondea\n            // if ( km > 2 ) {\n            //   // const kmMenos = _kmReal > 1.5 ? 0 : 1; // si es mayor a 2 no resta\n            //   c_servicio = (( km - 1 ) * c_km) + c_servicio;\n            //   dirEstablecimiento.c_servicio = c_servicio;\n            //   // return c_servicio;\n            // }\n\n            // cachear direccion establecimineto\n            const listCache = [];\n            listCache.push(dirEstablecimiento);\n\n            // guardar lista en cache\n            const establecimientoToCache = {\n              idcliente_pwa_direccion: dirCliente.idcliente_pwa_direccion,\n              listEstablecimientos: listCache\n            };\n\n            this.estableciminetoService.setEstableciminetosCache(establecimientoToCache);\n\n\n            // console.log('km from calculateRoute', km);\n            // console.log(result.routes[0].legs[0]);\n            // console.log('c_servicio', c_servicio);\n            // console.log('dirEstablecimiento', dirEstablecimiento);\n            // return c_servicio;\n            // callback(c_servicio);\n          }\n        });\n\n      // }\n\n\n      // // con google // //\n      setTimeout(() => {\n        dirEstablecimiento.c_servicio = c_servicio;\n        return c_servicio;\n      }, 500);\n\n      dirEstablecimiento.c_servicio = c_servicio;\n      return c_servicio;\n    // });\n  }\n\n\n  calculateRouteObserver(dirCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento, buscarEnCache: boolean = true): Observable<DeliveryEstablecimiento> {\n    return new Observable(observer => {\n        let c_servicio = 0;\n\n        c_servicio = dirEstablecimiento.c_minimo;\n\n        const c_km = dirEstablecimiento.c_km; // costo x km adicional\n\n\n        dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;\n        dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;\n\n        dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;\n        dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;\n\n        if ( buscarEnCache ) {\n          const _establecimientoCacheado = <any>this.estableciminetoService.getFindDirClienteCacheEstableciemto(dirCliente, dirEstablecimiento);\n          if ( _establecimientoCacheado ) {\n            // console.log('from calcDistance cache', _establecimientoCacheado);\n\n            dirEstablecimiento.distancia_km = _establecimientoCacheado.distancia_km;\n            dirEstablecimiento.c_servicio = this.calCostoDistancia(dirEstablecimiento, _establecimientoCacheado.distancia_km);\n            // console.log('rpt a', dirEstablecimiento);\n            observer.next(dirEstablecimiento);\n            return;\n          }\n        }\n\n        // // con google // //\n        //  // cordenadas\n        this.origin = {\n          lat: dirCliente.latitude, lng: dirCliente.longitude\n        };\n\n        // console.log('this.origin', this.origin);\n\n        this.destination = {\n          lat: dirEstablecimiento.latitude, lng: dirEstablecimiento.longitude\n        };\n\n        const request = {\n          origin: this.origin,\n          destination: this.destination,\n          travelMode: google.maps.TravelMode.DRIVING\n        };\n\n        let km = 0;\n        // console.log('calculando.. 1');\n        this.directionsService.route(request, (result: any, status) => {\n          if (status === 'OK') {\n            // this.directionsRenderer.setDirections(result);\n            km = result.routes[0].legs[0].distance.value;\n            const _kmReal =  km / 1000;\n            dirEstablecimiento.distancia_mt = km.toString();\n            dirEstablecimiento.distancia_km = (_kmReal).toFixed(2);\n\n            dirEstablecimiento.isCalcApiGoogle = true;\n\n            // km = parseInt((km / 1000).toFixed(), 0);\n\n            c_servicio = this.calCostoDistancia(dirEstablecimiento, _kmReal);\n            dirEstablecimiento.c_servicio = c_servicio;\n            // console.log('calculando.. 3');\n\n            // cachear direccion establecimineto\n            const listCache = [];\n            listCache.push(dirEstablecimiento);\n\n            // guardar lista en cache\n            const establecimientoToCache = {\n              idcliente_pwa_direccion: dirCliente.idcliente_pwa_direccion,\n              listEstablecimientos: listCache\n            };\n\n            this.estableciminetoService.setEstableciminetosCache(establecimientoToCache);\n\n            // console.log('rpt b', dirEstablecimiento);\n            observer.next(dirEstablecimiento);\n\n          }\n        });\n\n    });\n  }\n\n  // distancia_km > tambien del elemento cacheado\n  calCostoDistancia(dirEstablecimiento: DeliveryEstablecimiento,  distancia_km: number): number {\n    // console.log('distancia_km', distancia_km);\n    const km = Math.ceil(distancia_km); // lo redondea\n    const c_km = parseFloat(dirEstablecimiento.c_km.toString()); // costo x km adicional // puede variar\n    let c_servicio = parseFloat(dirEstablecimiento.c_minimo.toString()); // puede variar\n\n    let menosKm = 0;\n    menosKm = km > 2 ? 2 : menosKm;\n    menosKm = km > 4 ? 0 : menosKm; // si es mayor o igual  a 4 kilometros entonce no resta\n    if ( km > 2 ) {\n      c_servicio = (( km - menosKm ) * c_km) + c_servicio;\n      dirEstablecimiento.c_servicio = c_servicio;\n    }\n\n    // console.log('calculando.. 4');\n\n    return c_servicio;\n  }\n\n  // regla x km adicional\n  // private reglaKm() {\n\n  // }\n\n\n  // retorna true si esta cerca\n  calcDistancia(coordOrigen: GeoPositionModel, coordDetino: GeoPositionModel): boolean {\n    const center = {lat: coordDetino.latitude, lon: coordDetino.longitude };\n    const radius = 75; // meters\n    return insideCircle({lat: coordOrigen.latitude, lon: coordOrigen.longitude}, center, radius);  // false\n  }\n\n  // calcula la lluvia\n\n\n  // calcula la distanca del establecimiento al ingresar a la carta para asegurar lo cacula con api google\n  calcCostoEntregaApiGoogleRain(direccionCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento) {\n\n    if ( !direccionCliente ) {return; }\n    // buscamos en cache\n    const _establecimientoCache = this.estableciminetoService.getFindDirClienteCacheEstableciemto(direccionCliente, dirEstablecimiento);\n    if ( _establecimientoCache ) {\n      if ( !_establecimientoCache.isCalcApiGoogle ) {\n\n        _establecimientoCache.isCalcApiGoogle = true;\n        this.calculateRoute(direccionCliente, _establecimientoCache, false);\n      } else {\n        this.calculateRoute(direccionCliente, dirEstablecimiento, false);\n      }\n    }\n\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { CrudHttpService } from './crud-http.service';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClienteService {\n\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  serchClienteByDni(numdni: string): Observable<any> {\n    return new Observable(observer => {\n      this.crudService.getConsultaRucDni('dni', numdni)\n        .subscribe((_res: any) => {\n          if (_res.success) {\n            observer.next( _res.data );\n          } else {\n            observer.next( null );\n          }\n        });\n    });\n\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { InfoTockenService } from './info-token.service';\r\nimport { URL_SERVER, URL_CONSULTA_RUC_DNI, TOKEN_CONSULTA, TOKEN_SMS } from '../config/config.const';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class CrudHttpService {\r\n\r\n    constructor(\r\n        private httpClient: HttpClient\r\n        , private infoTockenService: InfoTockenService\r\n    ) {\r\n\r\n    }\r\n\r\n    // conOrg, conSede FILTRAN SI NO SE ESPECIFICA POR ORG Y SEDE\r\n    getAll(controller: string, evento: string, conOrg: boolean = true, conSede: boolean = true, token: boolean = true): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede);\r\n        const header = token ? this.getHeaderHttpClientForm() : null;\r\n\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    getTimeNow(): Observable<any[]> {\r\n        const url = this.setUrlFiltros('estadistica', 'getFechaNow', false, false);\r\n        const header = null;\r\n        return this.httpClient.get<any[]>(url, { headers: header });\r\n    }\r\n\r\n    // numeropagina: numero pagina a mostrar\r\n    // rows: cantidad de filas o registros a mostrar\r\n    // filter: filtros de busqueda para la paginacion // se adjunta a org y sede\r\n    // orden: nombre del campo por el cual se ordenara\r\n    // ordendireccion: default ASC\r\n    paginacion(controller: string, evento: string,\r\n        pagenumber: number, rows: number, filter: string,\r\n        orden: string, ordendireccion: string = null,\r\n        conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        // console.log('url', url);\r\n        const params = new HttpParams({\r\n            fromObject: {\r\n                pagenumber: pagenumber.toString(),\r\n                rows: rows.toString(),\r\n                orden: orden,\r\n                ordendireccion: ordendireccion || ''\r\n            }\r\n        });\r\n\r\n        return this.httpClient.get<any[]>(url, { params: params });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    create(datos: any, controller: string, evento: string = 'create'): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    update(datos: any, id: any, controller: string, evento: string = 'update'): Observable<any> {\r\n        const url = this.setUrl(controller, evento) + '/' + id.toString();\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.put<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar idorg o idsede o idusuario vacios, el back end los llenara\r\n    postFree(datos: any, controller: string, evento: string = 'update', conToken: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conToken ? this.getHeaderHttpClientForm() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    // enviar mensaje SMS de seguridad\r\n    postSMS(datos: any, controller: string, evento: string , conTokenSMS: boolean = true): Observable<any> {\r\n        const url = this.setUrl(controller, evento);\r\n        const header = conTokenSMS ? this.getHeaderHttpClientFormSMS() : this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    getFree(url: string): Observable<any> {\r\n        return this.httpClient.get<any>(url);\r\n    }\r\n\r\n    // consulta ruc o dni\r\n    getConsultaRucDni(controller: string, number: string): Observable<any> {\r\n        const url =  `${URL_CONSULTA_RUC_DNI}${controller}/${number}`;\r\n        const header = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', `Bearer ${TOKEN_CONSULTA}`);\r\n\r\n        return this.httpClient.get<any>(url, { headers: header });\r\n    }\r\n\r\n    getFilterBy(controller: string, evento: string,\r\n        filter: string, conOrg: boolean = true, conSede: boolean = true): Observable<any[]> {\r\n\r\n        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n    getById(id: any, controller: string, evento: string): Observable<any[]> {\r\n        const url = this.setUrlFiltros(controller, evento, false, false, id);\r\n        return this.httpClient.get<any[]>(url);\r\n    }\r\n\r\n\r\n    // login manda los datos en json\r\n    loginUsuarioAutorizado(datos: any): Observable<any> {\r\n        const url = this.setUrl('login-usuario-autorizado', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, datos, { headers: header });\r\n    }\r\n\r\n    verificarToken(): Observable<any> {\r\n        const url = this.setUrl('verificarToken', '');\r\n        const header = this.getHeaderHttpClientForm();\r\n\r\n        return this.httpClient.post<any>(url, { headers: header });\r\n    }\r\n\r\n    refreshToken() {\r\n        const _jwt = this.infoTockenService.getInfoUs();\r\n        const _data = {\r\n            nomusuario: _jwt.usuario,\r\n            pass: atob(_jwt.pass)\r\n          };\r\n\r\n        const url = this.setUrl('login-usuario-autorizado', '');\r\n        const header = this.getHeaderHttpClientFormNoToken();\r\n\r\n        return this.httpClient.post<any>(url, _data , { headers: header });\r\n    }\r\n\r\n\r\n\r\n\r\n    private setUrl(controller: string, evento: string) {\r\n        const url = `${URL_SERVER}/${controller}/${evento}`;\r\n        return url;\r\n    }\r\n\r\n    private setUrlFiltros(controller: string, evento: string, conOrg: boolean, conSede: boolean, filter: string = ''): string {\r\n        const getSede = conSede ? this.setInfoSedeToken() : '';\r\n        const getOrg = conOrg ? this.setInfoOrgToken() : '';\r\n        const getOperador = (conOrg && conSede) ? '~y~' : '';\r\n        const filterOrgSede = `${getSede + getOperador + getOrg}`;\r\n        let getFilter = filterOrgSede === '' ? filter : filter === '' ? '' : `~y~${filter}`;\r\n\r\n        getFilter = '/' + filterOrgSede + getFilter;\r\n\r\n\r\n        const url = `${URL_SERVER}/${controller}/${evento}${getFilter}`;\r\n        return url;\r\n    }\r\n\r\n    private setInfoSedeToken(): string {\r\n        return 'idsede:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n    private setInfoOrgToken(): string {\r\n        return 'idorg:eq:' + this.infoTockenService.getInfoSedeToken();\r\n    }\r\n\r\n    private getHeaderHttpClientForm(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', this.infoTockenService.getTokenAuth());\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderHttpClientFormSMS(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json')\r\n            .set('Authorization', TOKEN_SMS);\r\n        return headers;\r\n    }\r\n\r\n    private getHeaderHttpClientFormNoToken(): HttpHeaders {\r\n        const headers = new HttpHeaders()\r\n            .set('Content-Type', 'application/json');\r\n        return headers;\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { DeliveryEstablecimiento } from 'src/app/modelos/delivery.establecimiento';\nimport { CrudHttpService } from './crud-http.service';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EstablecimientoService {\n  establecimiento: DeliveryEstablecimiento;\n\n  private keyStorage = 'sys::ed';\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  set(_establecimiento: DeliveryEstablecimiento) {\n    localStorage.setItem(this.keyStorage, btoa(JSON.stringify(_establecimiento)));\n  }\n\n  get(): DeliveryEstablecimiento {\n    let _establecimiento = new DeliveryEstablecimiento;\n    const _isExist = localStorage.getItem(this.keyStorage);\n    _establecimiento = _isExist ? <DeliveryEstablecimiento>JSON.parse(atob(_isExist)) : _establecimiento;\n    return _establecimiento;\n  }\n\n  setRulesSubtotales(val: any) {\n    this.establecimiento = this.get();\n    this.establecimiento.rulesSubTotales = val;\n    this.set(this.establecimiento);\n  }\n\n  setCostoSercioDelivery(val: number) {\n    this.establecimiento = this.get();\n    this.establecimiento.costo_total_servicio_delivery = val;\n    this.set(this.establecimiento);\n  }\n\n  setImpresoras(val: any) {\n    this.establecimiento = this.get();\n    this.establecimiento.impresoras = val;\n    this.set(this.establecimiento);\n  }\n\n  getImpresoras() {\n    this.establecimiento = this.get();\n    return this.establecimiento.impresoras;\n  }\n\n  getSimboloMoneda() {\n    this.establecimiento = this.get();\n    return this.establecimiento.simbolo_moneda;\n  }\n\n\n  // al iniciar el usuario\n  loadEstablecimientoById(id: number) {\n    const _dataSend = {\n      idsede: id\n    };\n\n    // console.log('get-establecimientos _dataSend', _dataSend);\n\n    this.crudService.postFree(_dataSend, 'delivery', 'get-establecimientos', false)\n    .subscribe(res => {\n      // console.log('get-establecimientos', res);\n      this.establecimiento = res.data[0];\n      this.set(this.establecimiento);\n    });\n  }\n\n  // busca la direccion del cliente en el cache de establecimientos\n  // para devolver el costo de entrega\n  getFindDirClienteCacheEstableciemto(direccionCliente: DeliveryDireccionCliente, dirEstablecimiento: DeliveryEstablecimiento): DeliveryEstablecimiento {\n    let _establecimientoEnCache = null;\n    if ( !direccionCliente ) { return _establecimientoEnCache; } // puede que sea para consumir en el local o llevar\n\n    let listEsblecimientosCache = <any>this.getEstableciminetosCache();\n    listEsblecimientosCache = listEsblecimientosCache.filter(e => e.idcliente_pwa_direccion ===  direccionCliente.idcliente_pwa_direccion)[0];\n\n    if ( listEsblecimientosCache ) {\n      listEsblecimientosCache = listEsblecimientosCache ? listEsblecimientosCache.listEstablecimientos : [];\n      _establecimientoEnCache = listEsblecimientosCache.filter(e => e.idsede === dirEstablecimiento.idsede)[0];\n    }\n\n    // console.log('establecimiento cacheado', _establecimientoEnCache);\n    return _establecimientoEnCache;\n  }\n\n  getEstableciminetosCache(): any[] {\n    const listEsblecimientosCache = localStorage.getItem('sys:ech');\n    return listEsblecimientosCache ? JSON.parse(atob(listEsblecimientosCache)) : [];\n  }\n\n  setEstableciminetosCache(list: any) {\n    // const _establecimientoCache = this.getEstableciminetosCache();\n    const establecimientosCache = <any>this.getEstableciminetosCache();\n    const findEstablecimiento = establecimientosCache.filter(e => e.idcliente_pwa_direccion ===  list.idcliente_pwa_direccion)[0];\n\n    if ( findEstablecimiento ) {\n      list.listEstablecimientos.map(e => {\n        let isExistEstablecimiento = findEstablecimiento.listEstablecimientos.filter(x => x.idsede === e.idsede )[0];\n        if ( isExistEstablecimiento ) {\n          isExistEstablecimiento = e;\n        } else {\n          findEstablecimiento.listEstablecimientos.push(e);\n        }\n      });\n      list.listEstablecimientos = findEstablecimiento.listEstablecimientos;\n    } else {\n      establecimientosCache.push(list);\n    }\n\n    localStorage.setItem('sys:ech', btoa(JSON.stringify(establecimientosCache)));\n  }\n\n  // trae las ultima comision\n  getComsionEntrega() {\n    const _dirEstablecimineto = this.get();\n    if (_dirEstablecimineto.pwa_delivery_hablitar_calc_costo_servicio === 1) {\n      const _dataSend = {\n        codigo_postal: _dirEstablecimineto.codigo_postal\n      };\n      this.crudService.postFree(_dataSend, 'pedido', 'get-last-comsion-entrega-sede', false)\n      .subscribe(res => {\n        if ( res.data.length === 0 ) { return; }\n        const _data = res.data[0];\n        _dirEstablecimineto.c_minimo = _data.c_minimo;\n        _dirEstablecimineto.c_km = _data.c_km;\n        this.set(_dirEstablecimineto);\n        // console.log(res);\n      });\n    }\n  }\n\n\n  getClienteAutocomplete(search: string): Observable<any[]> {\n    const _dataSend = { buscar: search };\n    return new Observable(observer => {\n      this.crudService.postFree(_dataSend, 'pedido', 'get-find-cliente-by-name', true)\n      .subscribe((res: any) => {\n        observer.next(res.data);\n      });\n\n    });\n  }\n\n  // trae los ultimos pedidos que falta calificar\n  getComerciosXCalifcar(idcliente: number): Observable<any[]> {\n    const _dataSend = { idcliente: idcliente };\n    return new Observable(observer => {\n      this.crudService.postFree(_dataSend, 'delivery', 'get-comercio-x-calificar', false)\n      .subscribe((res: any) => {\n        observer.next(res.data);\n      });\n\n    });\n  }\n\n  setRegisterScanQr(_sede: number, _canal: string, _idscan: number = 0) {\n    const _dataSend = {\n      idsede: _sede,\n      canal: _canal,\n      idscan: _idscan\n    };\n\n    this.crudService.postFree(_dataSend, 'pedido', 'register-scan', false)\n      .subscribe((res: any) => {\n        // console.log('register-scan',  res);\n        this.setLocalIdScanQr(res.data[0].idscanqr);\n      });\n  }\n\n  setLocalIdScanQr(id: number) {\n    localStorage.setItem('sys::scan', id.toString());\n  }\n\n  getLocalIdScanQr(): number {\n    const _id = localStorage.getItem('sys::scan') || '0';\n    return parseInt(_id, 0);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { catchError } from 'rxjs/operators';\nimport { InfoTockenService } from './info-token.service';\nimport { CrudHttpService } from './crud-http.service';\nimport { AuthService } from './auth.service';\n\n\n@Injectable()\nexport class HttpConfigInterceptorService implements HttpInterceptor {\n\n  constructor(\n    private authService: AuthService\n    , private crudService: CrudHttpService) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request)\n      .pipe(\n        catchError((err, caught: Observable<HttpEvent<any>>) => {\n          if (err instanceof HttpErrorResponse && err.status === 401) {\n            // si es error 401 de autentificacion es decir token caducadado\n            // lo refresquea\n            this.crudService.refreshToken().subscribe(res => {\n              this.authService.setLocalToken(res.token);\n              this.authService.setLoggedStatus(true);\n            });\n          }\n          throw err;\n        })\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { UsuarioTokenModel } from 'src/app/modelos/usuario.token.model';\r\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\r\nimport { TipoComprobanteModel } from 'src/app/modelos/tipo.comprobante.model';\r\nimport { PropinaModel } from 'src/app/modelos/propina.model';\r\nimport { TiempoEntregaModel } from 'src/app/modelos/tiempo.entrega.model';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InfoTockenService {\r\n  infoUsToken: UsuarioTokenModel;\r\n  constructor(\r\n    // private miPedidoService: MipedidoService,\r\n    private router: Router\r\n  ) {\r\n    this.converToJSON();\r\n  }\r\n\r\n  getInfoUs(): UsuarioTokenModel {\r\n    this.verificarContunuarSession();\r\n    this.getLocalIpCliente();\r\n    return this.infoUsToken;\r\n  }\r\n\r\n  saveToken(token: any) {\r\n    localStorage.setItem('::token', token);\r\n\r\n    // guardo tambien la hora que esta iniciando session\r\n    const ms_tieme_init_session = new Date().getTime();\r\n    localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());\r\n  }\r\n\r\n  getInfoSedeToken(): string {\r\n    // const token = jwt.decode(this.getToken());\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.idsede.toString();\r\n    // return '1';\r\n  }\r\n  getInfoOrgToken(): string {\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.idorg.toString();\r\n  }\r\n\r\n  getInfoNomSede(): string {\r\n    this.verificarContunuarSession();\r\n    return localStorage.getItem('sys::s');\r\n  }\r\n\r\n  isCliente(): boolean {\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.isCliente;\r\n  }\r\n\r\n  isSoloLlevar(): boolean {\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.isSoloLLevar;\r\n  }\r\n\r\n  isDelivery(): boolean {\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.isDelivery;\r\n  }\r\n\r\n  isReserva(): boolean {\r\n    this.verificarContunuarSession();\r\n    return this.infoUsToken.isReserva;\r\n  }\r\n\r\n  isPuntoAutoPedido(): boolean {\r\n    // this.verificarContunuarSession();\r\n    return this.infoUsToken.isPuntoAutoPedido;\r\n  }\r\n\r\n  isTomaPedidoRapido(): boolean {\r\n    // this.verificarContunuarSession();\r\n    return this.infoUsToken.isTomaPedidoRapido || false;\r\n  }\r\n\r\n  isUsuarioAutorizado(): boolean {\r\n    // this.verificarContunuarSession();\r\n    return this.infoUsToken?.isUsuarioAutorizado || false;\r\n  }\r\n\r\n  getLocalIpCliente(): string {\r\n    this.verificarContunuarSession();\r\n    if ( this.infoUsToken ) {\r\n      this.infoUsToken.ipCliente = localStorage.getItem('sys::it') || '';\r\n      return this.infoUsToken.ipCliente;\r\n    }\r\n  }\r\n\r\n  setLocalIpCliente(val: string): void {\r\n    localStorage.setItem('sys::it', val);\r\n  }\r\n\r\n  setIsPagoSuccess(val: boolean) {\r\n    this.infoUsToken.isPagoSuccess = val;\r\n    this.set();\r\n  }\r\n\r\n  setSocketId( val: string) {\r\n    // this.infoUsToken.socketId = this.infoUsToken.socketId ? this.infoUsToken.socketId : val;\r\n    if ( this.infoUsToken ) {\r\n      this.infoUsToken.socketId = val;\r\n      this.set();\r\n    }\r\n  }\r\n\r\n  // para el confirmar pago si es clienteDelivery\r\n  setOrderDelivery(_order: string, _importes: string): void {\r\n    this.infoUsToken.orderDelivery = btoa(_order);\r\n    this.infoUsToken.importeDelivery = btoa(_importes);\r\n\r\n    // const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    // localStorage.setItem('::token', _token);\r\n    this.set();\r\n  }\r\n\r\n  setTelefono(val: string) {\r\n    this.infoUsToken.telefono = val;\r\n    this.set();\r\n  }\r\n\r\n  setMetodoPago( metodo: MetodoPagoModel) {\r\n    this.infoUsToken.metodoPago = metodo;\r\n    this.set();\r\n  }\r\n\r\n  setTipoComprobante( comprobante: TipoComprobanteModel) {\r\n    this.infoUsToken.tipoComprobante = comprobante;\r\n    this.set();\r\n  }\r\n\r\n  setPropina( propina: PropinaModel) {\r\n    this.infoUsToken.propina = propina;\r\n    this.set();\r\n  }\r\n\r\n  setPasoRecoger( val: boolean) {\r\n    this.infoUsToken.pasoRecoger = val;\r\n    this.set();\r\n  }\r\n\r\n  setTiempoEntrega( val: TiempoEntregaModel) {\r\n    this.infoUsToken.tiempoEntrega = val;\r\n    this.set();\r\n  }\r\n\r\n  setIniMetodoPago(descripcion = 'Tarjeta') {\r\n    const metodoPagoInit: MetodoPagoModel = new MetodoPagoModel;\r\n    metodoPagoInit.idtipo_pago = descripcion === 'Tarjeta' ? 2 : 1;\r\n    metodoPagoInit.descripcion = descripcion;\r\n    metodoPagoInit.importe = '0';\r\n    metodoPagoInit.checked = true;\r\n\r\n    this.setMetodoPago( metodoPagoInit );\r\n  }\r\n\r\n  setIniMetodoPagoSegunFiltro(isAceptaTarjeta): MetodoPagoModel {\r\n    const metodoPagoInit: MetodoPagoModel = new MetodoPagoModel;\r\n\r\n    if ( isAceptaTarjeta ) {\r\n      metodoPagoInit.idtipo_pago = 2;\r\n      metodoPagoInit.descripcion = 'Tarjeta';\r\n      metodoPagoInit.importe = '0';\r\n      metodoPagoInit.checked = true;\r\n    }\r\n\r\n    this.setMetodoPago( metodoPagoInit );\r\n    return metodoPagoInit;\r\n\r\n    // if ( isAceptaYape ) {\r\n    //   metodoPagoInit.idtipo_pago = 3;\r\n    //   metodoPagoInit.descripcion = 'Yape';\r\n    //   metodoPagoInit.importe = '0';\r\n    //   metodoPagoInit.checked = true;\r\n    //   this.setMetodoPago( metodoPagoInit );\r\n    //   return metodoPagoInit;\r\n    // }\r\n\r\n    // metodoPagoInit.idtipo_pago = 1;\r\n    // metodoPagoInit.descripcion = 'Efectivo';\r\n    // metodoPagoInit.importe = '0';\r\n    // metodoPagoInit.checked = true;\r\n    // this.setMetodoPago( metodoPagoInit );\r\n    // return metodoPagoInit;\r\n\r\n    // this.setMetodoPago( metodoPagoInit );\r\n    // return metodoPagoInit;\r\n\r\n  }\r\n\r\n  setMetodoPagoSelected(metodo: MetodoPagoModel) {\r\n    this.infoUsToken.metodoPagoSelected = metodo;\r\n    this.set();\r\n  }\r\n\r\n  setIniTipoComprobante() {\r\n    const tipoComprobanteInit: TipoComprobanteModel = new TipoComprobanteModel;\r\n    tipoComprobanteInit.idtipo_comprobante = 1;\r\n    tipoComprobanteInit.descripcion = 'Boleta';\r\n    tipoComprobanteInit.checked = true;\r\n\r\n    this.setTipoComprobante( tipoComprobanteInit );\r\n  }\r\n\r\n  setIniPropina() {\r\n    const prpinaInt: PropinaModel = new PropinaModel;\r\n    prpinaInt.idpropina = 1;\r\n    prpinaInt.value = 0;\r\n    prpinaInt.descripcion = 'S/. 0';\r\n    prpinaInt.checked = true;\r\n\r\n    this.setPropina( prpinaInt );\r\n  }\r\n\r\n  setIniTiempoEntrega() {\r\n    const tiempoEntregaSelected = new TiempoEntregaModel();\r\n    tiempoEntregaSelected.descripcion = 'Programa la entrega';\r\n    tiempoEntregaSelected.value = '';\r\n    tiempoEntregaSelected.modificado = false;\r\n\r\n    this.setTiempoEntrega(tiempoEntregaSelected);\r\n  }\r\n\r\n  setNombres( val: any) {\r\n    this.infoUsToken.nombres = val;\r\n    this.set();\r\n  }\r\n\r\n  setIsUsLoggedIn( val: any) {\r\n    this.infoUsToken.isUsLoggedIn = val;\r\n    this.set();\r\n  }\r\n\r\n  setOtro( val: any) {\r\n    this.infoUsToken.otro = val;\r\n    this.set();\r\n  }\r\n\r\n  // setea en sotrage el id del cliente despues de hacer un pedido para llamar en mis ordenes\r\n  setIdCliente(id: number = null) {\r\n    id = id ? id : this.infoUsToken?.idcliente || null;\r\n    localStorage.setItem('sys::ic-orden', btoa(id.toString()));\r\n  }\r\n\r\n  setIsPuntoAutoPedido( val: boolean) {\r\n    this.infoUsToken.isPuntoAutoPedido = val;\r\n    this.set();\r\n  }\r\n\r\n  setIsTomaPedidoRapido( val: boolean) {\r\n    this.infoUsToken.isTomaPedidoRapido = val;\r\n    this.set();\r\n  }\r\n\r\n  setIsUsuarioAutorizacion( val: boolean) {\r\n    this.infoUsToken.isUsuarioAutorizado = val;\r\n    this.set();\r\n  }\r\n\r\n  setIsAvtiveMozoVoz( val: boolean) {\r\n    this.infoUsToken.isActiveMozoVoz = val;\r\n    this.set();\r\n  }\r\n\r\n  getIsAvtiveMozoVoz(): boolean {\r\n    return this.infoUsToken.isActiveMozoVoz;\r\n  }\r\n\r\n  // id cliente del ultimo\r\n  getIdCliente(): any {\r\n    const _id = localStorage.getItem('sys::ic-orden');\r\n    return _id ? atob(_id) : null;\r\n  }\r\n\r\n  // guarda en el local storage\r\n  set() {\r\n    const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;\r\n    localStorage.setItem('::token', _token);\r\n  }\r\n  //\r\n\r\n  getToken(): any { return localStorage.getItem('::token'); }\r\n  getTokenAuth(): any { return localStorage.getItem('::token:auth'); }\r\n\r\n  converToJSON(): void {\r\n    if (localStorage.getItem('::token')) {\r\n      let _token =  JSON.parse(atob(localStorage.getItem('::token').split('.')[1]));\r\n\r\n      // si existe idcliente, setea al usuario\r\n      if ( _token?.idcliente ) {\r\n        const _newUs = new UsuarioTokenModel();\r\n        _newUs.isCliente = true;\r\n        _newUs.idcliente = _token.idcliente;\r\n        _newUs.idorg = _token.idorg;\r\n        _newUs.idsede = _token.idsede;\r\n        _newUs.nombres = _token.datalogin ? _token.datalogin.name : _token.nombres ;\r\n        _newUs.idusuario = 0;\r\n        _newUs.usuario = 'cliente';\r\n        _newUs.numMesaLector = _token.numMesaLector;\r\n        _newUs.ipCliente = _token.ipCliente;\r\n        _newUs.isSoloLLevar = _token.isSoloLLevar;\r\n        _newUs.isDelivery = _token.isDelivery;\r\n        _newUs.isReserva = _token.isReserva;\r\n        _newUs.isRetiroCash = _token.isRetiroCash;\r\n        _newUs.direccionEnvioSelected = _token.direccionEnvioSelected;\r\n        _newUs.tiempoEntrega = _token.tiempoEntrega;\r\n        _newUs.telefono = _token.telefono;\r\n        _newUs.orderDelivery = _token.orderDelivery;\r\n        _newUs.importeDelivery = _token.importeDelivery;\r\n        _newUs.isPagoSuccess = _token.isPagoSuccess;\r\n        _newUs.metodoPago = _token.metodoPago;\r\n        _newUs.tipoComprobante = _token.tipoComprobante;\r\n        _newUs.propina = _token.propina;\r\n        _newUs.socketId = _token.socketId;\r\n        _newUs.otro = _token.otro;\r\n        _newUs.pasoRecoger = _token.pasoRecoger;\r\n        _newUs.isUsLoggedIn = false;\r\n        // _newUs.isUsuarioAutorizado = false;\r\n        this.infoUsToken = _newUs;\r\n\r\n        // agregar el metodo pago prederteminado tarjeta // valores iniciales\r\n        if (!this.infoUsToken.metodoPago)  { this.setIniMetodoPago(); this.setIniTipoComprobante(); this.setIniPropina(); this.setPasoRecoger(false);  } // this.setIniTiempoEntrega();\r\n      } else {\r\n\r\n        _token = _token ? _token : new UsuarioTokenModel();\r\n\r\n        this.infoUsToken = typeof _token?.usuario === 'object' ? <UsuarioTokenModel>_token.usuario : <UsuarioTokenModel>_token;\r\n        // this.infoUsToken = <UsuarioTokenModel>_token;\r\n\r\n        // inicializa valores\r\n        this.setIniMetodoPago(); this.setIniTipoComprobante(); this.setIniPropina(); this.setPasoRecoger(false); // this.setIniTiempoEntrega();\r\n\r\n        // this.infoUsToken.isCliente = false;\r\n        // this.infoUsToken.isUsuarioAutorizado = true;\r\n\r\n      }\r\n    } else {\r\n      this.infoUsToken = null;\r\n    }\r\n  }\r\n\r\n  cerrarSession(): void {\r\n    try {\r\n      if (!this.infoUsToken.isDelivery) {\r\n        // no quitamos token para que pueda consultar sus pedidos\r\n        // localStorage.removeItem('::token');\r\n        // localStorage.removeItem('token');\r\n        localStorage.removeItem('sys::numtis');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    // borra datos del storage del pedido\r\n    this.removeStoragePedido();\r\n\r\n    // al momento de confirmar pedido envia a cerrar session, solo debe borrar los datos del pedido\r\n    // localStorage.removeItem('sys::rules');\r\n    // localStorage.removeItem('sys::status');\r\n    // localStorage.removeItem('sys::st');\r\n\r\n    // localStorage.removeItem('sys::ed');\r\n    // localStorage.removeItem('sys::transaction-response');\r\n    // localStorage.removeItem('sys::transaction-load');\r\n    // localStorage.removeItem('data');\r\n    // localStorage.removeItem('sys::tpm');\r\n  }\r\n\r\n  // borra datos del storage del pedido\r\n  removeStoragePedido() {\r\n    localStorage.removeItem('sys::rules');\r\n    localStorage.removeItem('sys::status');\r\n    localStorage.removeItem('sys::st');\r\n\r\n    localStorage.removeItem('sys::ed');\r\n    localStorage.removeItem('sys::transaction-response');\r\n    localStorage.removeItem('sys::transaction-load');\r\n    localStorage.removeItem('data');\r\n  }\r\n\r\n  // cerrar toda la sesssion\r\n  cerrarSessionGoIni() {\r\n    // this.cerrarSession();\r\n    localStorage.clear();\r\n    this.router.navigate(['../']);\r\n  }\r\n\r\n  // verifica el tiempo de inactividad para cerrar session\r\n  // cerrar session despues de 3:20 => ( 12000 sec )horas inciadas\r\n  verificarContunuarSession(): boolean {\r\n\r\n    // si no existe token cierra\r\n    if ( !this.infoUsToken) {\r\n\r\n      // trata de recuperar el token desde tpm\r\n      const isUsTmp = localStorage.getItem('sys::tpm');\r\n      if ( isUsTmp ) {\r\n        localStorage.setItem('::token', 'eyCJ9.' + isUsTmp);\r\n        this.converToJSON();\r\n        return;\r\n      }\r\n\r\n      this.cerrarSessionGoIni();\r\n    }\r\n    if ( !this.infoUsToken || !this.infoUsToken.isCliente || !this.infoUsToken.isDelivery) { // si es usuario autorizado no cuenta tiempo\r\n      return true;\r\n    }\r\n\r\n    if (this.infoUsToken.isDelivery) {\r\n      // si es delivery no cierra session\r\n      return true;\r\n    }\r\n\r\n    let numTis = parseInt(localStorage.getItem('sys::numtis'), 0);\r\n    let continueSession = this.infoUsToken.isDelivery ? this.infoUsToken.isDelivery : !isNaN(numTis);\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    if ( isNaN(numTis) ) {\r\n      localStorage.setItem('sys::numtis', new Date().getTime().toString());\r\n    }\r\n\r\n    numTis = isNaN(numTis) ?  new Date().getTime() : numTis;\r\n    const ms_now = new Date().getTime();\r\n    const ms = ms_now - numTis;\r\n    const sec = Math.floor((ms / 1000));\r\n\r\n    if ( sec > 10000 ) {\r\n      continueSession = false;\r\n    }\r\n\r\n    if (!continueSession) {\r\n      this.cerrarSession();\r\n      // this.miPedidoService.cerrarSession();\r\n      return continueSession;\r\n    }\r\n\r\n    return true;\r\n    // const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { EstadoPedidoModel } from 'src/app/modelos/estado.pedido.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { MetodoPagoModel } from 'src/app/modelos/metodo.pago.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListenStatusService {\n\n  // para activar la busqueda\n  private isBusquedaSource = new BehaviorSubject<boolean>(false);\n  public isBusqueda$ = this.isBusquedaSource.asObservable();\n\n  // string a buscar\n  private charBuquedaSource = new BehaviorSubject<string>('');\n  public charBuqueda$ = this.charBuquedaSource.asObservable();\n\n  // hay items en la busqueda - se encontro cuenta\n  private hayCuentaBusquedaSource = new BehaviorSubject<boolean>(false);\n  public hayCuentaBusqueda$ = this.hayCuentaBusquedaSource.asObservable();\n\n  // datos de la sede estan disponible\n  private hayDatosSedeSource = new BehaviorSubject<boolean>(false);\n  public hayDatosSede$ = this.hayDatosSedeSource.asObservable();\n\n  // si es cliente usuario\n  private isUsuarioClienteSource = new BehaviorSubject<boolean>(false);\n  public isUsuarioCliente$ = this.isUsuarioClienteSource.asObservable();\n\n  // estado del pedido enviado por el cliente\n  private estadoPedidoSource = new BehaviorSubject<EstadoPedidoModel>(new EstadoPedidoModel());\n  public estadoPedido$ = this.estadoPedidoSource.asObservable();\n\n  // hay pedido en el storage, si es cliente usuario no cargar al cuenta.\n  private hayPedidoPendienteSource = new BehaviorSubject<boolean>(false);\n  public hayPedidoPendiente$ = this.hayPedidoPendienteSource.asObservable();\n\n  // form pagar la cuenta\n  private isPagePagarCuentaShowSource = new BehaviorSubject<boolean>(false);\n  public isPagePagarCuentaShow$ = this.isPagePagarCuentaShowSource.asObservable();\n\n  // si el boton de pago ha sido visible // recargamos la pagina al volver a ingresar\n  private isBtnPagoShowSource = new BehaviorSubject<boolean>(false);\n  public isBtnPagoShow$ = this.isBtnPagoShowSource.asObservable();\n\n  // notifica el pago correcto para enviar el pedido cuando es solo para llevar\n  private isPagoSuccesSource = new BehaviorSubject<boolean>(false);\n  public isPagoSucces$ = this.isPagoSuccesSource.asObservable();\n\n  private isChangeDireccionDeliverySource = new BehaviorSubject<DeliveryDireccionCliente>(null);\n  public isChangeDireccionDelivery$ = this.isChangeDireccionDeliverySource.asObservable();\n\n\n  // notifica salir del establecimeinto cuando es cliente delivery goback\n  private isOutEstablecimientoDeliverySource = new BehaviorSubject<boolean>(false);\n  public isOutEstablecimientoDelivery$ = this.isOutEstablecimientoDeliverySource.asObservable();\n\n  // si es visible el footer de zona delivery\n  private isShowFooterZonaDeliverySource = new BehaviorSubject<boolean>(true);\n  public isShowFooterZonaDelivery$ = this.isShowFooterZonaDeliverySource.asObservable();\n\n  private isLoaderSendPedidoSource = new BehaviorSubject<boolean>(false);\n  public isLoaderSendPedido$ = this.isLoaderSendPedidoSource.asObservable();\n\n  private isLoaderCartaSource = new BehaviorSubject<boolean>(false);\n  public isLoaderCarta$ = this.isLoaderCartaSource.asObservable();\n\n  // observable del metodo de pago seleccionado\n  private elMetodoPagoSelectedSource = new BehaviorSubject<MetodoPagoModel>(new MetodoPagoModel());\n  public elMetodoPagoSelected$ = this.elMetodoPagoSelectedSource.asObservable();\n\n  // observable page show atm\n  private numberPageShowAtmSoruce = new BehaviorSubject<number>(0);\n  public numberPageShowAtm$ = this.numberPageShowAtmSoruce.asObservable();\n\n  // observable atm cash -> pago tarjeta\n  // private isDataFromCashAtmSoruce = new BehaviorSubject<any>({});\n  // public isDataFromCashAtm$ = this.isDataFromCashAtmSoruce.asObservable();\n\n\n  constructor() { }\n\n  setIsBusqueda() {\n    if ( !this.isBusquedaSource.value ) {\n      setTimeout(() => {\n        this.isBusquedaSource.next(true);\n      }, 250);\n    } else {\n      this.isBusquedaSource.next(false);\n    }\n  }\n\n  setCharBusqueda(charFind: string) {\n    this.charBuquedaSource.next(charFind);\n  }\n\n  setHayCuentaBuesqueda(value: boolean): void {\n    this.hayCuentaBusquedaSource.next(value);\n  }\n\n  setHayDatosSede(value: boolean): void {\n    this.hayDatosSedeSource.next(value);\n  }\n\n  setIsUsuarioCliente(value: boolean): void {\n    this.isUsuarioClienteSource.next(value);\n  }\n\n  setEstadoPedido(value: EstadoPedidoModel): void {\n    this.estadoPedidoSource.next(value);\n  }\n\n  setHayPedidoPendiente(value: boolean): void {\n    this.hayPedidoPendienteSource.next(value);\n  }\n\n  setIsPagePagarCuentaShow(value: boolean) {\n    this.isPagePagarCuentaShowSource.next(value);\n  }\n\n  setIsBtnPagoShow(value: boolean) {\n    this.isBtnPagoShowSource.next(value);\n  }\n\n  setPagoSuccess(value: boolean) {\n    this.isPagoSuccesSource.next(value);\n  }\n\n  setChangeDireccionDelivery(value: DeliveryDireccionCliente) {\n    this.isChangeDireccionDeliverySource.next(value);\n  }\n\n  setIsOutEstablecimientoDelivery(value: boolean) {\n    this.isOutEstablecimientoDeliverySource.next(value);\n  }\n\n  setIsShowFooterZonaDelivery(value: boolean) {\n    this.isShowFooterZonaDeliverySource.next(value);\n  }\n\n  setLoaderSendPedido(value: boolean) {\n    this.isLoaderSendPedidoSource.next(value);\n  }\n\n  setLoaderCarta(value: boolean) {\n    this.isLoaderCartaSource.next(value);\n  }\n\n  setMetodoPagoSelected(metodoSelected: MetodoPagoModel) {\n    this.elMetodoPagoSelectedSource.next(metodoSelected);\n  }\n\n  setNumberShowPageAtm(num: number) {\n    this.numberPageShowAtmSoruce.next(num);\n  }\n\n  // setDataFromAtmCash (dataAtm: any) {\n  //   this.isDataFromCashAtmSoruce.next(dataAtm);\n  // }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n\n\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { PedidoModel } from 'src/app/modelos/pedido.model';\nimport { CategoriaModel } from 'src/app/modelos/categoria.model';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\n// import { MAX_MINUTE_ORDER } from '../config/config.const';\n\n// servicios\nimport { StorageService } from './storage.service';\nimport { SocketService } from './socket.service';\nimport { TimerLimitService } from './timer-limit.service';\nimport { NavigatorLinkService } from './navigator-link.service';\nimport { UtilitariosService } from './utilitarios.service';\nimport { ListenStatusService } from './listen-status.service';\n\n\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { FormValidRptModel } from 'src/app/modelos/from.valid.rpt.model';\nimport { SubItem } from 'src/app/modelos/subitems.model';\nimport { SubItemsView } from 'src/app/modelos/subitems.view.model';\nimport { SubItemContent } from 'src/app/modelos/subitem.content.model';\nimport { CartaModel } from 'src/app/modelos/carta.model';\nimport { EstablecimientoService } from './establecimiento.service';\nimport { CrudHttpService } from './crud-http.service';\nimport { match } from 'minimatch';\nimport { InfoTockenService } from './info-token.service';\nimport { CocinarDescuentosPromoService } from './promo/cocinar-descuentos-promo.service';\n\n\n// import { distinctUntilChanged } from 'rxjs/internal/operators/distinctUntilChanged';\n// import { takeUntil } from 'rxjs/internal/operators/takeUntil';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MipedidoService {\n\n  private miPedidoSource = new BehaviorSubject<PedidoModel>(new PedidoModel());\n  public miPedidoObserver$ = this.miPedidoSource.asObservable();\n\n  // la carta observable\n  // private laCartaObjSource = new BehaviorSubject<any>({});\n  // public laCartaObj$ = this.laCartaObjSource.asObservable();\n\n  // number tab Mi Pedido\n  private countItemsSource = new BehaviorSubject<number>(0);\n  public countItemsObserve$ = this.countItemsSource.asObservable();\n\n  // observable que se modifco cantidad - stock de algun producto\n  // si es que esta en resumen de pedido dialog -- actualize stock\n  private itemStockChangeSource = new BehaviorSubject<ItemModel>(new ItemModel());\n  public itemStockChangeObserve$ = this.itemStockChangeSource.asObservable();\n\n  public objCarta: any;\n  public objDatosSede: any;\n\n  private isPreAvisoVisible = false;\n\n  listItemsPedido: ItemModel[] = [];\n  miPedido: PedidoModel = new PedidoModel();\n\n  mpObjNewItemTiposConsumo: ItemTipoConsumoModel[] = [];\n  mpObjItemTipoConsumoSelected: ItemTipoConsumoModel[];\n  mpObjSeccionSelected: SeccionModel = new SeccionModel();\n\n  time = new Date();\n  max_minute_order: number;\n\n  // pwa_delivery_importe_min = 10; // delivery / el importe minimo por pedido\n  pwa_delivery_servicio_propio = false; // delivery / si el comercio tiene propio repartidores\n\n  deliveryCanItemsInOrder = 0; // cantidad de productos en el pedido // solo para delivery\n  deliveryArrConstantes = {\n    cantItemsScala: 0,\n    costoScala: 0\n  };\n\n\n\n  constructor(\n    private storageService: StorageService,\n    private socketService: SocketService,\n    private timerLimitService: TimerLimitService,\n    private navigatorService: NavigatorLinkService,\n    private _snackBar: MatSnackBar,\n    private utilesService: UtilitariosService,\n    private listenStatusService: ListenStatusService,\n    private establecimientoService: EstablecimientoService, // datos del estableciento // clienteSelivery\n    private crudService: CrudHttpService,\n    private infoTokenService: InfoTockenService,\n    private cocinarDescuentosPromoService: CocinarDescuentosPromoService\n    ) {\n\n    }\n\n\n  // cuando obtenemos la cuenta\n  setObjMiPedido(obj: any): void {\n    this.miPedido = obj;\n    this.miPedidoSource.next(this.miPedido);\n  }\n\n  resetObjMiPedido(): void {\n    this.miPedido = new PedidoModel();\n    this.miPedidoSource.next(this.miPedido);\n  }\n\n  setObjCarta(res: any) {\n    // console.log('carta', res);\n    // esto lo manda desde carta component\n    this.objCarta = {};\n\n    // setTimeout(() => {\n      this.objCarta = {\n        'carta': null,\n        'bodega': null,\n        'promociones': null,\n        'recomendados': null\n      };\n\n      this.objCarta.carta = <CartaModel[]>res[0].carta;\n      this.objCarta.bodega = <SeccionModel[]>res[0].bodega;\n      this.objCarta.promociones = <any[]>res[0].promociones;\n\n      // colocamos la bodega en todas las cartas\n      let _carta = this.objCarta.carta;\n      const _bodega = this.objCarta.bodega;\n      if ( _bodega ) {\n\n        // si no hay carta solo productos\n        if ( !this.objCarta.carta ) {\n          // const newCarta = new CartaModel;\n          const newCategoria = new CategoriaModel;\n          newCategoria.des = 'Productos';\n          newCategoria.detalle = '';\n          newCategoria.hora_fin = '';\n          newCategoria.hora_ini = '';\n          newCategoria.idcarta = 0;\n          newCategoria.idcategoria = 0;\n          newCategoria.secciones = [];\n\n          _carta = [];\n          _carta.push(newCategoria);\n\n          _carta.map((c: CategoriaModel) => {\n            _bodega.map((bs: SeccionModel) => {\n              c.secciones.push(bs);\n            });\n          });\n\n          this.objCarta.carta = _carta;\n          return;\n        }\n\n        _carta.map((c: CategoriaModel) => {\n          _bodega.map((bs: SeccionModel) => {\n            c.secciones.push(bs);\n          });\n        });\n      }\n\n      const _itemsRecomendacion = [];\n      _carta.map((c: CategoriaModel) => {\n        c.secciones.map((s: SeccionModel) => {\n          const _itemsSeccionRecomendados = s.items.filter(x => x.is_recomendacion === '1');\n          if ( _itemsSeccionRecomendados ) {\n            _itemsSeccionRecomendados.map(i => _itemsRecomendacion.push(i));\n          }\n        });\n      });\n\n      if ( _itemsRecomendacion.length > 0 ) {\n        this.objCarta.recomendados =  _itemsRecomendacion;\n      }\n\n\n      // chequear si hay recomendaciones\n\n      // this.laCartaObjSource.next(this.objCarta);\n      // console.log('objCartaCarta', this.objCarta);\n    // }, 1000);\n  }\n\n  getObjCarta() {\n    return this.objCarta;\n  }\n\n  getObjCartaLibery() {\n    return JSON.parse(JSON.stringify(this.objCarta));\n  }\n\n  // aplicar descuentos a la carta\n  setObjCartaDescuentos(objDescuento: any) {\n    this.infoTokenService.infoUsToken.isHayDescuento = false;\n    if ( objDescuento.length === 0 ) {return; }\n    if ( objDescuento[0].solo_app === 1 && !this.infoTokenService.infoUsToken.isCliente ) { return; }\n    this.infoTokenService.infoUsToken.isHayDescuento = true;\n    let _dsc = 0;\n    // let precio_ahora = 0;\n\n    objDescuento.map((d: any) => {\n\n      switch (d.tipo) {\n        case 0: // items\n          this.objCarta.carta.map((c: CategoriaModel) => {\n            c.secciones.map((s: SeccionModel) => {\n                const _i = s.items.filter((i: ItemModel) => i.iditem.toString() === d.id)[0];\n                if ( _i ) {\n                  _dsc = d.porcentaje;\n                  _i.iddescuento = d.idsede_descuento;\n                  this.aplicarDescuentoImte(_i, _dsc);\n                  return false;\n                }\n            });\n          });\n          break;\n        case 1: // secciones\n          _dsc = d.porcentaje;\n          this.objCarta.carta.map((c: CategoriaModel) => {\n            c.secciones.map((s: SeccionModel) => {\n              if (s.idseccion.toString() ===  d.id) {\n                s.descuento = _dsc + '%';\n                s.iddescuento = d.idsede_descuento;\n                s.items.map( (i: ItemModel) => {\n                  this.aplicarDescuentoImte(i, _dsc);\n                } );\n              }\n            });\n          });\n          break;\n        case 2: // producto\n          _dsc = d.porcentaje;\n          this.objCarta.bodega.map((s: SeccionModel) => {\n            const _i = s.items.filter((i: ItemModel) => i.iditem.toString() === d.id)[0];\n            if ( _i ) {\n              _dsc = d.porcentaje;\n              _i.iddescuento = d.idsede_descuento;\n              this.aplicarDescuentoImte(_i, _dsc);\n              return false;\n            }\n          });\n          break;\n        case 3: // producto familia\n          _dsc = d.porcentaje;\n          this.objCarta.bodega.map((s: SeccionModel) => {\n              if (s.idseccion.toString() ===  d.id) {\n                s.descuento = _dsc + '%';\n                s.iddescuento = d.idsede_descuento;\n                s.items.map( (i: ItemModel) => {\n                  this.aplicarDescuentoImte(i, _dsc);\n                } );\n              }\n          });\n          break;\n      }\n\n    });\n\n\n    // console.log('this.objCarta descuento', this.objCarta);\n  }\n\n  private aplicarDescuentoImte(i: ItemModel, _dsc: number) {\n    const _pItem = parseFloat(i.precio);\n    const precio_ahora = Math.round(_pItem - ( _pItem * ( _dsc / 100 )));\n    i.precio_antes = i.precio;\n    i.precio = precio_ahora.toString();\n    i.precio_default = precio_ahora;\n    i.precio_unitario = precio_ahora.toString();\n  }\n\n  getIdsDescuentos(): any {\n    let _idDsc;\n    const listIds = [];\n    this.miPedido.tipoconsumo.map((tp: TipoConsumoModel) => {\n      tp.secciones.map((s: SeccionModel) => {\n        _idDsc = s.iddescuento;\n        if ( _idDsc ) {\n          if ( !listIds.filter(a => a.id === _idDsc)[0] ) {\n            listIds.push({id: _idDsc});\n          }\n        }\n\n        // en items\n        s.items.map((i: ItemModel) => {\n          _idDsc = s.iddescuento;\n          if ( _idDsc ) {\n            if ( !listIds.filter(a => a.id === _idDsc)[0] ) {\n              listIds.push({id: _idDsc});\n            }\n          }\n        });\n      });\n    });\n\n    return listIds;\n  }\n\n  getMiPedido(): PedidoModel {\n    if ( this.miPedido.tipoconsumo.length === 0 ) {\n      if (this.storageService.isExistKey('sys::order::all')) {\n        this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n      }\n    }\n    // this.miPedidoSource.next(this.miPedido);\n    return this.miPedido;\n  }\n\n  // setea los tipos de consumo del item seleccionado para sumar las cantidaddes seleccionadas\n  setobjItemTipoConsumoSelected(_objItemTipoConsumoSelected: ItemTipoConsumoModel[]) {\n    // this.mpObjItemTipoConsumoSelected = JSON.parse(JSON.stringify(_objItemTipoConsumoSelected));\n    this.mpObjItemTipoConsumoSelected = _objItemTipoConsumoSelected;\n  }\n\n  // los tipos de consumo\n  setObjNewItemTiposConsumo(val: any) {\n    this.mpObjNewItemTiposConsumo = val;\n  }\n\n  getObjNewItemTiposConsumo() {\n    return this.mpObjNewItemTiposConsumo;\n  }\n\n  // seteamos seccion seleccionada menos items[]; para que no se forme el bucle\n  setObjSeccionSeleced(seccion: SeccionModel) {\n    this.mpObjSeccionSelected = new SeccionModel();\n    this.mpObjSeccionSelected.des = seccion.des;\n    this.mpObjSeccionSelected.idimpresora = seccion.idimpresora;\n    this.mpObjSeccionSelected.idimpresora_otro = seccion.idimpresora_otro;\n    this.mpObjSeccionSelected.idseccion = seccion.idseccion;\n    this.mpObjSeccionSelected.sec_orden = seccion.sec_orden;\n    this.mpObjSeccionSelected.ver_stock_cero = seccion.ver_stock_cero;\n    this.mpObjSeccionSelected.iddescuento = seccion.iddescuento;\n    this.mpObjSeccionSelected.descuento = seccion.descuento;\n  }\n\n  getObjSeccionSeleced() {\n    return this.mpObjSeccionSelected;\n  }\n\n  // obtener el DELIVERY_CANTIDAD_ITEMS_ESCALA // solo si es cliente delivery\n  getDeliveryConstCantEscala(): void {\n\n    // recuperar del storage\n    const _arrItemScala = localStorage.getItem('sys::ICS');\n    if ( _arrItemScala ) {\n      this.deliveryArrConstantes = JSON.parse(atob(_arrItemScala));\n    } else {\n      this.crudService.getAll('pedido', 'get-const-delivery-items-escala', false, false, false)\n        .subscribe((res: any) => {\n          this.deliveryArrConstantes = {\n            cantItemsScala: res.data[0].value,\n            costoScala: res.data[1].value\n          };\n          // = parseInt(res.data[0][0].value, 0);\n          // console.log('deliveryItemsScala', res);\n          localStorage.setItem('sys::ICS', btoa(JSON.stringify(this.deliveryArrConstantes)));\n        });\n    }\n\n  }\n\n  // suma cantidad seleccionada\n  // idTpcItemResumenSelect tipo consumo del item al modificar desde resumen, si el tpc es diferente al seleccionado en el dialog entonces no suma al item\n  addItem2(tipoconsumo: ItemTipoConsumoModel, item: ItemModel, signo: number = 0, idTpcItemResumenSelect: number = null) {\n    // let sumTotalTpcSelected = this.totalItemTpcSelected();\n    // console.log('add item', item);\n    // console.log('add item tipoconsumo', tipoconsumo);\n    // el item que viene es de carta o del resumen\n    // buscamos el item en la carta para el stock\n    // de esta manera manejamos una sola cantidad\n    // idTpcItemResumenSelect si viene del resumen dialog\n    // let cantItem = idTpcItemResumenSelect ? parseInt(this.findItemCarta(item).cantidad.toString(), 0) : parseInt(item.cantidad.toString(), 0);\n\n\n\n\n    let cantItem = parseInt(item.cantidad.toString(), 0);\n    const sumar = signo === 0 ? true : false;\n\n    if (cantItem <= 0 && sumar) { return; }\n\n    let cantSeleccionada = tipoconsumo.cantidad_seleccionada || 0;\n    cantSeleccionada += sumar ? 1 : -1;\n    if (cantSeleccionada < 0) { return; }\n\n    if ( item.isporcion !== 'ND' ) {\n      cantItem += sumar ? -1 : 1;\n      cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;\n      cantItem = cantItem < 0 || cantSeleccionada < 0 ? 0 : cantItem;\n    }\n\n    cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;\n    tipoconsumo.cantidad_seleccionada = cantSeleccionada;\n\n    // listItemsPedido -> para el local storage recuperar y resetear\n    // const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];\n    // let sumTotalTpcSelected = 1;\n    // if (itemInList) {\n    //   sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n    //   itemInList.cantidad_seleccionada = sumTotalTpcSelected;\n\n    // } else {\n    //   this.listItemsPedido.push(item);\n    // }\n\n    // item\n    // sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n    // actualizar cantidades en item carta\n    // item.cantidad_seleccionada = sumTotalTpcSelected;\n    // item.cantidad = cantItem;\n\n\n    // json pedido\n    const _tipoconsumo = JSON.parse(JSON.stringify(tipoconsumo));\n    const itemInPedido = this.findItemMiPedido(_tipoconsumo, this.mpObjSeccionSelected, item, sumar);\n    itemInPedido.cantidad = cantItem;\n\n    // actualizar cantidades en item carta\n    if ( idTpcItemResumenSelect ) {\n      // console.log('idTpcItemResumenSelect addItem2', item);\n      item = this.findItemCarta(item);\n    }\n    // item = idTpcItemResumenSelect ? this.findItemCarta(item) : item;\n\n    // emitir item modificado\n    item.sumar = sumar;\n    item.subitems_selected = itemInPedido.subitems_selected;\n    item.subitems_view = itemInPedido.subitems_view;\n\n    // listItemsPedido -> para el local storage recuperar y resetear\n    const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];\n    let sumTotalTpcSelected = 1;\n    if (itemInList) {\n\n      // por momentos pierde referencia al tipo de consumo, para evitar eso\n      if (!itemInList.itemtiposconsumo) {\n        itemInList.itemtiposconsumo = this.mpObjItemTipoConsumoSelected;\n      }\n\n      sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;\n      itemInList.cantidad_seleccionada = sumTotalTpcSelected;\n      itemInList.subitems_selected = itemInPedido.subitems_selected;\n      itemInList.subitems_view = sumTotalTpcSelected === 0 ? [] : itemInPedido.subitems_view;\n    } else {\n      this.listItemsPedido.push(item);\n    }\n\n    item.cantidad_seleccionada = sumTotalTpcSelected;\n    // if (item.isporcion !== 'ND') { item.cantidad = cantItem; } // la cantidad lo envia el socket\n\n    // comunica el cambio de stock en el item carta\n    this.itemStockChangeSource.next(item);\n\n    // hora que comienza a realizar el pedido\n    this.setLocalStorageHora();\n\n    // guardamos el pedido en local // por si se actualiza\n    this.setLocalStoragePedido();\n\n    // emitir item modificado\n    // item.sumar = sumar;\n    // item.subitems_selected = itemInPedido.subitems_selected;\n    // item.subitems_view = itemInPedido.subitems_view;\n\n    this.socketService.emit('itemModificado', item);\n\n    // console.log('listItemsPedido', this.listItemsPedido);\n    // console.log('mipedido', this.miPedido);\n    // console.log('itemModificado en add', item);\n    // console.log('itemModificado en add', JSON.stringify(item));\n\n    this.listenStatusService.setHayPedidoPendiente(true);\n\n    // item.subitems_selected = null;\n    // itemInPedido.subitems_selected = null;\n    // item.subitems_view = null;\n\n    // 070521 quitamos no hay caso mantenerlo\n    // this.playTimerLimit();\n  }\n\n  totalItemTpcSelected(_arrTpc: any): number {\n    return _arrTpc.map((x: ItemTipoConsumoModel) => x.cantidad_seleccionada || 0).reduce((a, b) => a + b, 0);\n  }\n\n  // cantidad seleccionada y precio\n  addCantItemMiPedido(elItem: ItemModel, cantidad_seleccionada: number) {\n    const cantSeleccionadaTPC = cantidad_seleccionada;\n    let precioTotal = cantSeleccionadaTPC * parseFloat(elItem.precio_unitario);\n\n    // total subitems\n    // sumar el total\n    // const totalSubItems = elItem.subitems_selected ? elItem.subitems_selected.map((subIt: SubItem) => subIt.precio * subIt.cantidad_seleccionada).reduce((a, b) => a + b , 0) : 0;\n    const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt: SubItemsView) => subIt.precio).reduce((a, b) => a + b , 0) : 0;\n    precioTotal += totalSubItems;\n\n    elItem.cantidad_seleccionada = cantSeleccionadaTPC;\n    // elItem.precio_total = precioTotal + totalSubItems;\n    // elItem.precio_print = precioTotal + totalSubItems;\n\n    // revisa si aplica promo a este item\n    if ( elItem.ispromo ) {\n      precioTotal = this.cocinarDescuentosPromoService.reviewPromoApplyItem(elItem, precioTotal) || precioTotal;\n    }\n    elItem.precio_total = precioTotal;\n    elItem.precio_print = precioTotal;\n    // elItem.precio_total_calc = precioTotal;\n  }\n\n  // agrega el precio sumado con los subitems si los hay del item mipedido\n  private addPrecioItemMiPedido(elItem: ItemModel): void {\n    const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt: SubItemsView) => subIt.precio).reduce((a, b) => a + b , 0) : 0;\n    let precioTotal = elItem.cantidad_seleccionada * parseFloat(elItem.precio_unitario);\n    precioTotal += totalSubItems;\n\n    // revisa si aplica promo a este item\n    if ( elItem.ispromo ) {\n      precioTotal = this.cocinarDescuentosPromoService.reviewPromoApplyItem(elItem, precioTotal) || precioTotal;\n    }\n\n    elItem.precio_total = precioTotal;\n    elItem.precio_print = precioTotal;\n  }\n\n  // agrega a subitem_selected -> lista de subitems seleccionados\n  private addItemSubItemMiPedido(elItem: ItemModel, itemCarta: ItemModel, sumar: boolean, tipoConsumo: TipoConsumoModel): void {\n    // console.log('indicaciones');\n    if (elItem.subitems) {\n      // elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n      // subitemsviews\n      if (elItem.subitems.length === 0 ) { return; }\n      const newSubItemView: SubItemsView = new SubItemsView();\n      newSubItemView.id = '';\n      newSubItemView.des = '';\n      newSubItemView.listDes = [];\n      newSubItemView.cantidad_seleccionada = 0;\n      newSubItemView.precio = 0;\n      newSubItemView.indicaciones = '';\n      newSubItemView.subitems = [];\n\n      if ( elItem.subitems_selected && elItem.subitems_selected.length > 0 ) {\n\n        elItem.subitems_selected.map((x) => {\n          newSubItemView.id += x.iditem_subitem.toString();\n          newSubItemView.listDes.push(this.utilesService.primeraConMayusculas(x.des.toLowerCase()));\n          newSubItemView.cantidad_seleccionada = 1;\n          newSubItemView.precio += parseFloat(x.precio.toString());\n          // newSubItemView.indicaciones += x.indicaciones === undefined ? '' :  ' (' + x.indicaciones + ')';\n          newSubItemView.subitems.push(x);\n          newSubItemView.idtipo_consumo = x.idtipo_consumo;\n        });\n\n        newSubItemView.des = newSubItemView.listDes.join(', ');\n\n        newSubItemView.des += elItem.indicaciones === undefined || elItem.indicaciones === '' ? '' :  ', (' + elItem.indicaciones + ')';\n\n        elItem.indicaciones = '';\n        elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n        // agregamos para que no sume de otro tpc\n        // && subView.idtipo_consumo === tipoConsumo.idtipo_consumo\n        const isExistInTipoConsumo = elItem.subitems_view.filter((subView: SubItemsView) => subView.idtipo_consumo === tipoConsumo.idtipo_consumo)[0];\n        if ( !isExistInTipoConsumo ) {\n          elItem.subitems_view = [];\n        }\n\n        const isExistSubItemView = elItem.subitems_view.filter((subView: SubItemsView) => subView.id === newSubItemView.id)[0];\n        if ( isExistSubItemView ) {\n          if ( sumar ) {\n            isExistSubItemView.indicaciones += newSubItemView.indicaciones;\n            isExistSubItemView.cantidad_seleccionada += 1;\n            isExistSubItemView.precio += newSubItemView.precio;\n            isExistSubItemView.des = newSubItemView.des;\n          } else {\n            // resta\n            this.restarCantSubItemView(elItem, isExistSubItemView);\n          }\n        } else {\n          // si no existe\n          // isExistSubItemView.indicaciones = newSubItemView.indicaciones;\n          if ( sumar ) {\n            // elItem.subitems_view = [];\n            elItem.subitems_view.push(newSubItemView);\n          } else {\n            // si es restar y no existe en la lista quita el ultimo\n            this.restarCantSubItemView(elItem, null);\n          }\n        }\n\n        this.addPrecioItemMiPedido(elItem);\n\n      }  else {\n        // si no tiene ningun suitem seleccionado y ademas es restar y ademas que la cantidad es igual al los subtviews\n        // entonces agarra al primer subview y comienza a restar\n\n        if ( !sumar ) {\n          if ( !elItem?.subitems_view ) { return; }\n          if (elItem?.subitems_view.length === 0 ) { return; }\n          this.restarCantSubItemView(elItem, null);\n        }\n      }\n\n      // let _subItemExist: SubItem;\n      // elItem.subitems.filter((x: SubItem) => x.selected).map((subItem: SubItem) => {\n      //   elItem.subitems_selected = elItem.subitems_selected ? elItem.subitems_selected : [];\n      //   _subItemExist = elItem.subitems_selected.filter((subIt: SubItem) => subIt === subItem)[0];\n      //   if ( _subItemExist ) {\n      //     _subItemExist.cantidad_seleccionada++;\n      //     _subItemExist.indicaciones = elItem.indicaciones || '';\n      //     // _subItemExist.precio += subItem.precio;\n      //   } else {\n      //     subItem.indicaciones = elItem.indicaciones || '';\n      //     subItem.cantidad_seleccionada = 1;\n      //     elItem.subitems_selected.push(subItem);\n      //   }\n      // });\n\n      // // subitemsviews\n      // if (elItem.subitems.length === 0 ) { return; }\n      // const newSubItemView: SubItemsView = new SubItemsView();\n      // newSubItemView.id = 0;\n      // newSubItemView.des = '';\n      // newSubItemView.cantidad_seleccionada = 0;\n      // newSubItemView.precio = 0;\n      // newSubItemView.indicaciones = '';\n      // newSubItemView.subitems = [];\n\n\n      // if ( elItem.subitems_selected ) {\n\n      //   elItem.subitems_selected.map((x: SubItem) => {\n      //     newSubItemView.id += x.iditem_subitem;\n      //     newSubItemView.des += x.des + ' ';\n      //     newSubItemView.cantidad_seleccionada = 1;\n      //     newSubItemView.precio += x.precio;\n      //     newSubItemView.indicaciones += x.indicaciones === '' ? '' :  x.indicaciones  + '. ';\n      //     newSubItemView.subitems.push(x);\n      //   });\n\n      //   // itemCarta para sacar los indicadores\n      //   itemCarta.indicaciones = '';\n      //   elItem.indicaciones = '';\n      //   elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];\n\n      //   const isExistSubItemView = elItem.subitems_view.filter((subView: SubItemsView) => subView.id === newSubItemView.id)[0];\n      //   if ( isExistSubItemView ) {\n      //     if ( sumar ) {\n      //       isExistSubItemView.indicaciones += newSubItemView.indicaciones;\n      //       isExistSubItemView.cantidad_seleccionada += 1;\n      //       isExistSubItemView.precio += newSubItemView.precio;\n      //     } else {\n      //       // resta\n      //       this.restarCantSubItemView(elItem, isExistSubItemView);\n\n      //     }\n      //   } else {\n      //     // isExistSubItemView.indicaciones = newSubItemView.indicaciones;\n      //     if ( sumar ) {\n      //       elItem.subitems_view.push(newSubItemView);\n      //     } else {\n      //       // si es restar y no existe en la lista quita el ultimo\n      //       this.restarCantSubItemView(elItem, null);\n      //     }\n      //   }\n\n      // } else {\n\n      //   this.restarCantSubItemView(elItem, null);\n      // }\n\n      // sumar importe total con los subitems\n      // this.addPrecioItemMiPedido(elItem);\n\n    }\n  }\n\n  restarCantSubItemView(_elItem: ItemModel, isExistSubItemView: SubItemsView = null): void {\n    if ( isExistSubItemView ) {\n      // si existe subitemview\n      const precioDescontar = isExistSubItemView.precio / isExistSubItemView.cantidad_seleccionada;\n      isExistSubItemView.cantidad_seleccionada -= 1;\n      isExistSubItemView.precio -= precioDescontar;\n      isExistSubItemView.precio = isExistSubItemView.precio < 0 ? 0 : isExistSubItemView.precio;\n\n      if ( isExistSubItemView.cantidad_seleccionada <= 0 ) {\n        // borrar el item\n        _elItem.subitems_view = _elItem.subitems_view.filter((subView: SubItemsView) => subView.cantidad_seleccionada > 0);\n      }\n\n    } else {\n      // si no envia o no existe el subitemview a restar toma el ultimo\n      const lentSubItemView = _elItem.subitems_view.length;\n      const _SubItemView = _elItem.subitems_view[lentSubItemView - 1];\n      const precioDescontar = _SubItemView.precio / _SubItemView.cantidad_seleccionada;\n\n      _SubItemView.cantidad_seleccionada --;\n      _SubItemView.precio -= precioDescontar;\n\n      if ( _SubItemView.cantidad_seleccionada <= 0 ) {\n        // borrar el item\n        _elItem.subitems_view = _elItem.subitems_view.filter((subView: SubItemsView) => subView.cantidad_seleccionada > 0);\n      }\n\n      // para restar en el back end\n      _elItem.subitems_selected = _SubItemView.subitems;\n    }\n  }\n\n  // del socket nuevo item from monitoreo stock\n  addItemInCarta(newItem: any) {\n    // console.log('addItemInCarta', newItem);\n    const newItemFind = this.findItemCarta(newItem);\n    if ( newItemFind ) { // update\n      // console.log('update');\n      newItemFind.cantidad = newItemFind.cantidad;\n    } else { // agrega a la carta\n      // console.log('add in carta');\n      this.objCarta.carta.map((cat: CategoriaModel) => {\n        cat.secciones\n          .filter((sec: SeccionModel) => sec.idseccion === newItem.idseccion )\n          .map((sec: SeccionModel) => {\n            sec.items.push(newItem);\n        });\n      });\n    }\n\n    // this.laCartaObjSource.next(this.objCarta.carta);\n    // console.log('item new add in carta', this.objCarta.carta);\n  }\n\n  // actualizar las cantidades despues de connectar\n  // setUpdateCantAfterReconnect( arrObj: any ) {\n  //   arrObj.carta.map((cat: CategoriaModel) => {\n  //     cat.secciones.map((sec: SeccionModel) => {\n  //       sec.items.filter((x: ItemModel) => x.indicaciones )\n  //             .map((i: ItemModel) => {\n  //               const itemCartaUpdate = this.findItemCarta(i);\n  //               itemCartaUpdate.cantidad = i.cantidad;\n  //             });\n  //     });\n  //   });\n  // }\n\n  // <---------- Busquedas ------> //\n\n  // buscar item en listItemsPedido\n  findItemFromArr(arrFind: any, item: ItemModel) {\n    return arrFind.filter((x: any) => x.iditem === item.iditem)[0];\n  }\n\n  // buscar item en listItemsPedido\n  findItemListPedido(item: ItemModel) {\n    return this.listItemsPedido.filter((x: any) => x.iditem === item.iditem)[0];\n  }\n\n  // buscar item en carta y limpiar las indicaciones y subitems_seleceted\n  // en nuevo pedido\n  findItemCartaAndClearIndicaciones() {\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items.map( x => x.is_visible_control_last_add = false );\n\n        sec.items.filter((x: ItemModel) => x.indicaciones )\n              .map((x: ItemModel) => x.indicaciones = '');\n\n        sec.items.filter((x: ItemModel) => x.subitems_selected )\n              .map((x: ItemModel) => x.subitems_selected = null);\n\n        sec.items.filter((x: ItemModel) => x.subitems_view )\n              .map((x: ItemModel) => x.subitems_view = null);\n      });\n    });\n\n    // this.laCartaObjSource.next(this.objCarta);\n  }\n\n  // buscar item en la carta\n  findItemCarta(item: ItemModel): ItemModel {\n    let rpt: ItemModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n          const _rpt = sec.items.filter((x: ItemModel) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];\n          if (_rpt) {\n            rpt = _rpt;\n            return rpt;\n          }\n        });\n      });\n\n    return rpt;\n  }\n\n  // buscar item en la carta x idItem\n  findItemCartaByIdCartaLista(id: number): ItemModel {\n    let rpt: ItemModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        const _rpt = sec.items.filter((x: ItemModel) => x.idcarta_lista.toString() === id.toString())[0];\n        if (_rpt) {\n          rpt = _rpt;\n          return rpt;\n        }\n      });\n    });\n\n    return rpt;\n  }\n\n  // buscar subitem del item segun idproducto + idporcion\n  // iditemFilter = iditem que se va a filtrar, porque ya fue actualizado\n  findSubItemCartaById(idFind: string, iditemFilter: string): SubItem[] {\n    const rptSubItem: SubItem[] = [];\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items\n        .filter((item: ItemModel) => item.iditem.toString() !== iditemFilter)\n        .filter((item: ItemModel) => item.subitems)\n        .map((item: ItemModel) => {\n          item.subitems.map((subItemContent: SubItemContent) => {\n            const _subItem = subItemContent.opciones.filter((x: SubItem) => x.idproducto.toString() + x.idporcion.toString() === idFind)[0];\n            if (_subItem) {\n              rptSubItem.push(_subItem);\n              // console.log(item);\n              // return rptSubItem;\n            }\n          });\n        });\n      });\n    });\n    return rptSubItem;\n  }\n\n  // resetear las cantidades seleccionadas en el item carta, luego de hacer un pedido para que no se quede marcado\n  private resetCantidadesTpcItemCarta(): void {\n    if ( !this.objCarta ) {return; }\n    if ( !this.objCarta.carta ) {return; }\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      cat.secciones.map((sec: SeccionModel) => {\n        sec.items.map( x => {\n          x.indicaciones = '';\n          x.cantidad_seleccionada = 0;\n          x.itemtiposconsumo = null;\n          // return x;\n        });\n      });\n    });\n  }\n\n  findItemSeccionCarta(idFind: number): SeccionModel {\n    let rpt: SeccionModel;\n    this.objCarta.carta.map((cat: CategoriaModel) => {\n      const _rpt = cat.secciones.filter((sec: SeccionModel) => sec.idseccion === idFind)[0];\n      if ( _rpt ) {\n        rpt = _rpt;\n        return;\n      }\n    });\n    return rpt;\n  }\n\n  // bucar item en Mi pedido, update indicaciones\n  findOnlyItemMiPedido(itemSearch: ItemModel): ItemModel {\n    // let rpt: ItemModel;\n    // this.miPedido.tipoconsumo\n    //   .map((tpc: TipoConsumoModel) => {\n    //     tpc.secciones.map((sec: SeccionModel) => {\n    //       rpt = sec.items.filter(i => i.idcarta_lista.toString() === itemSearch.idcarta_lista.toString())[0];\n    //       if ( rpt ) { return; }\n    //     });\n    //   });\n    // return rpt;\n\n    return <ItemModel>this.miPedido.tipoconsumo.map(c => c.secciones.map(s => s.items.find(i => i.idcarta_lista.toString() === itemSearch.idcarta_lista.toString())))[0].find(x => x);\n  }\n\n  // buscar o agregar item en miPedido\n  findItemMiPedido(_tpc: any, _seccion: SeccionModel, item: ItemModel, sumar: boolean): ItemModel {\n    let rpt: ItemModel;\n    // let elItem = item;\n    // this.addItemSubItemMiPedido(item);\n\n    let elItem = <ItemModel>JSON.parse(JSON.stringify(item));\n    const cantSeleccionadaTPC = _tpc.cantidad_seleccionada;\n    elItem.itemtiposconsumo = [];\n\n    // elItem.indicaciones = item.indicaciones;\n\n    this.addCantItemMiPedido(elItem, cantSeleccionadaTPC);\n\n    const findTpc = <TipoConsumoModel>this.miPedido.tipoconsumo.filter((x: TipoConsumoModel) => x.idtipo_consumo.toString() === _tpc.idtipo_consumo.toString())[0];\n    if (findTpc) {\n      // if (!sumar) { this.quitarTpcMiPedido(findTpc); return; }\n      const findSecc = <SeccionModel>findTpc.secciones.filter((sec: SeccionModel) => sec.idseccion === _seccion.idseccion)[0];\n      if (findSecc) {\n        // if (!sumar) { this.quitarTpcMiPedido(findTpc); }\n        const _rpt = findSecc.items.filter((x: ItemModel) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];\n        if (_rpt) {\n\n          // indicaciones\n          _rpt.indicaciones = elItem.indicaciones;\n\n          // actualiza subitems_selected\n          // _rpt.subitems_selected = [];\n          // _rpt.subitems_selected = elItem.subitems_selected;\n          // _rpt.subitems_view = elItem.subitems_view;\n          // this.addItemSubItemMiPedido(_rpt);\n\n          this.addCantItemMiPedido(_rpt, cantSeleccionadaTPC);\n\n          elItem = _rpt;\n\n          // this.addItemSubItemMiPedido(elItem);\n          // elItem.cantidad_seleccionada = this.addCantItemMiPedido(elItem.cantidad_seleccionada, sumar);\n          rpt = elItem;\n        } else {\n          // si no existe item lo agrega\n          // elItem.cantidad_seleccionada = 0;\n\n          findSecc.items.push(elItem);\n          rpt = elItem;\n        }\n\n        elItem.subitems = item.subitems;\n        elItem.subitems_selected = item.subitems_selected;\n        this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);\n        this.setCountCantItemTpcAndSeccion(findTpc, findSecc);\n      } else {\n        // si no existe seccion add\n        rpt = elItem;\n        // _seccion.items.push(rpt);\n\n        const _newSeccion = <SeccionModel>JSON.parse(JSON.stringify(_seccion));\n        _newSeccion.items = [];\n        _newSeccion.items.push(elItem);\n        findTpc.secciones = findTpc.secciones ? findTpc.secciones : [];\n        findTpc.secciones.push(_newSeccion);\n        // findTpc.secciones.push(_seccion);\n\n        this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);\n        this.setCountCantItemTpcAndSeccion(findTpc, _newSeccion);\n      }\n    } else {\n      // si no existe tpc add\n      // elItem.cantidad_seleccionada = 0;\n      elItem.subitems = item.subitems;\n      elItem.subitems_selected = item.subitems_selected;\n      this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);\n      const _newSeccion = <SeccionModel>JSON.parse(JSON.stringify(_seccion));\n      _newSeccion.items = [];\n      _newSeccion.items.push(elItem);\n      _tpc.secciones = _tpc.secciones ? _tpc.secciones : [];\n      _tpc.secciones.push(_newSeccion);\n\n      this.miPedido.tipoconsumo.push(_tpc);\n\n      this.setCountCantItemTpcAndSeccion(_tpc, _newSeccion);\n      rpt = elItem;\n    }\n\n    this.clearObjMiPedido();\n    // this.miPedidoSource.next(this.miPedido);\n    return rpt;\n  }\n\n  private quitarTpcMiPedido(tpcFind: TipoConsumoModel): void {\n    if ( tpcFind.count_items_seccion === 1 ) {\n      this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc: TipoConsumoModel) => !tpcFind);\n    }\n  }\n\n  private quitarSeccionMiPedido(secFind: SeccionModel): void {\n    if ( secFind.count_items === 1 ) {\n      this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n        tpc.secciones.filter((sec: SeccionModel) => !secFind);\n      });\n    }\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCLocal(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.titulo === 'LOCAL')\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCDelivery(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.descripcion.toUpperCase() === 'DELIVERY')\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa\n  findMiPedidoIsTPCLLevar(): boolean {\n    let rpt = false;\n    this.miPedido.tipoconsumo\n      .filter(x => x.descripcion.toUpperCase().indexOf('LLEVAR'))\n      .map((t: TipoConsumoModel) => {\n        rpt = t.secciones.filter((s: SeccionModel) => s.count_items > 0)[0] ? true : false;\n      });\n    return rpt;\n  }\n\n  // recorre los tipos de consumo y devuelve un arr de requerimientos\n  findEvaluateTPCMiPedido(): any {\n    const rptArr: FormValidRptModel = new FormValidRptModel();\n\n    let sumTpcReqMesa = 0;\n\n    this.miPedido.tipoconsumo\n    .filter((t: TipoConsumoModel) => t.count_items_seccion > 0)\n    .map((t: TipoConsumoModel) => {\n      if (t.titulo === 'LOCAL') { rptArr.isTpcLocal = true; sumTpcReqMesa++; }\n      if (t.descripcion.toUpperCase().indexOf('LLEVAR') > -1) { rptArr.isTpcSoloLLevar = true; sumTpcReqMesa++; }\n      if (t.descripcion.toUpperCase().indexOf('DELIVERY') > -1) { rptArr.isTpcSoloDelivery = true; }\n\n      rptArr.isRequiereMesa = rptArr.isTpcLocal ? true : false;\n      rptArr.isTpcSoloLLevar = sumTpcReqMesa === 1 && rptArr.isTpcSoloLLevar ? true : false;\n    });\n\n    return rptArr;\n  }\n\n  // busca la seccion por idimpresora -- para mandar imprimir\n  findSeccionInMipedidoByPrint(idPrintSearch: number): SeccionModel[] {\n    let secRpt: SeccionModel[];\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        secRpt = tpc.secciones.filter((s: SeccionModel) => s.idimpresora === idPrintSearch);\n      });\n    return secRpt;\n  }\n\n  findIsHayItems(): boolean {\n    return this.setCountTotalImtesPedido() > 0 ? true : false;\n  }\n\n  // quita los items, secciones, tpc con cantidad 0\n  clearObjMiPedido(): void {\n    // limpia los tipos de consumo con items = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc: TipoConsumoModel) => tpc.count_items_seccion > 0 );\n    if ( this.miPedido.tipoconsumo.length === 0 ) {\n      this.miPedido = new PedidoModel();\n\n      // console.log('mi pedido clear', this.miPedido);\n      this.miPedidoSource.next(this.miPedido);\n      return;\n    }\n\n\n    // limpia las secciones con items = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n      tpc.secciones = tpc.secciones.filter((sec: SeccionModel) => sec.count_items > 0);\n      return tpc;\n    });\n\n    // limpia las item con cantidad_seleccionada = 0\n    this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc: TipoConsumoModel) => {\n      tpc.secciones = tpc.secciones.map((sec: SeccionModel) => {\n        sec.items = sec.items.filter((item: ItemModel) => item.cantidad_seleccionada > 0);\n        return sec;\n      });\n      return tpc;\n    });\n\n    // console.log('mi pedido clear', this.miPedido);\n    this.miPedidoSource.next(this.miPedido);\n\n  }\n\n  // <---------- Busquedas ------> //\n\n\n  // cuenta la cantidad de items en seccion\n  setCountCantItemTpcAndSeccion(_tpc: TipoConsumoModel, _seccion: SeccionModel) {\n    const countItemsSeccion = _seccion.items.map((i: ItemModel) => i.cantidad_seleccionada).reduce((a, b) => a + b, 0);\n    _seccion.count_items = countItemsSeccion;\n\n    const countSeccionTpc = _tpc.secciones.map((s: SeccionModel) => s.count_items).reduce((a, b) => a + b, 0);\n    _tpc.count_items_seccion = countSeccionTpc;\n\n    this.setCountTotalImtesPedido();\n  }\n\n  // <------ storage ---- > ///\n  setCountTotalImtesPedido(): number {\n    const countTotal = this.miPedido.tipoconsumo.map((t: TipoConsumoModel) => t.count_items_seccion).reduce((a, b) => a + b, 0);\n    this.countItemsSource.next(countTotal);\n    return countTotal;\n  }\n\n  setLocalStorageHora() {\n    if (this.storageService.isExistKey('sys::h')) { return; }\n    const hora = `${this.time.getHours()}:${this.time.getMinutes()}:${this.time.getSeconds()}`;\n    this.storageService.set('sys::h', hora.toString());\n  }\n\n  setLocalStoragePedido() {\n    // console.log('local storage pedido');\n    this.storageService.set('sys::order', btoa(JSON.stringify(this.listItemsPedido)));\n    this.storageService.set('sys::order::all', btoa(JSON.stringify(this.miPedido)));\n  }\n\n  clearPedidoIsLimitTime() {\n    if (!this.storageService.isExistKey('sys::order')) { return; }\n    // if ( !this.storageService.isExistKey('sys::h') ) { return; }\n    this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));\n    this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n\n    // if (this.isTimeLimit()) {\n    //   // si el tiempo limite fue superado mandamos a restablecer carta\n    //   // nuevo pdido\n    //   this.socketService.emit('resetPedido', this.listItemsPedido);\n    //   this.updatePedidoFromClear();\n    //   // this.resetAllNewPedido();\n    // }\n  }\n\n  // resetear stock\n  resetAllNewPedido() {\n    // _mipedidoVista = _mipedidoVista ? _mipedidoVista : this.listItemsPedido;\n    this.socketService.emit('resetPedido', this.listItemsPedido);\n    // this.updatePedidoFromClear();\n    this.prepareNewPedido();\n  }\n\n  // nuevo pedido // sin recuperar stock // cuando el envio fue exitoso\n  prepareNewPedido(): void {\n    // this.updatePedidoFromClear();\n    this.resetTpcCarta();\n    // this.findItemCartaAndClearIndicaciones();\n\n    // valor en blanco para nuevo pedido\n    this.storageService.clear('sys::h');\n    this.storageService.clear('sys::order');\n    this.storageService.clear('sys::order::all');\n    this.storageService.clear('sys::tcount'); // timer count\n    this.storageService.clear('sys::tnum'); // timer count\n    this.storageService.clear('sys::mps'); // metodo de pago seleccionado por el cliente\n    // this.listItemsPedido = [];\n    this.miPedido = null;\n    this.miPedido = new PedidoModel();\n    this.miPedidoSource.next(this.miPedido);\n    this.countItemsSource.next(0);\n\n    this.listenStatusService.setHayPedidoPendiente(false);\n\n    this.stopTimerLimit();\n    // this.getOnlyCarta();\n\n    // this.\n    // console.log('antes new', this.listItemsPedido);\n  }\n\n  // pide la carta nuevamente / despues de mandar el pedido o despues de reconectar\n  private getOnlyCarta(): void {\n    this.socketService.emit('getOnlyCarta', null);\n  }\n\n  // reset cantidades en vista tipos de consumo\n  private resetTpcCarta(): void {\n    try {\n      this.listItemsPedido.map((item: ItemModel) => {\n        item.indicaciones = '';\n        if ( !item.itemtiposconsumo ) { return; }\n        item.itemtiposconsumo = null;\n        // item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {\n        //   tpc.cantidad_seleccionada = 0;\n        // });\n        // console.log('resetTpcCarta', item);\n        const _item = this.findItemCarta(item);\n        _item.indicaciones = '';\n        _item.cantidad_seleccionada = 0;\n        // _item.cantidad_selected = 0;\n        _item.itemtiposconsumo = null;\n        // _item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {\n        //   tpc.cantidad_seleccionada = 0;\n        _item.is_visible_control_last_add = false;\n        // });\n      });\n    } catch (error) {\n      // console.log(error);\n    }\n\n    this.resetCantidadesTpcItemCarta();\n\n    // this.laCartaObjSource.next(this.objCarta);\n\n    this.listItemsPedido = [];\n  }\n\n  updatePedidoFromStrorage() {\n\n    // console.log('update local storage');\n    this.listenStatusService.setHayPedidoPendiente(false);\n\n    if (!this.storageService.isExistKey('sys::order')) { return; }\n\n    this.listenStatusService.setHayPedidoPendiente(true);\n    // if ( !this.storageService.isExistKey('sys::h') ) { return; }\n    this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));\n    this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));\n\n    this.setCountTotalImtesPedido();\n    this.miPedidoSource.next(this.miPedido);\n\n    // actualizar // buscar cada item en el obj carta\n    this.listItemsPedido.map((item: ItemModel) => {\n      // if (item.isalmacen === 0) { //\n        this.objCarta.carta.map((cat: CategoriaModel) => {\n          cat.secciones.map((sec: SeccionModel) => {\n            const itemUpdate = sec.items.filter((x: ItemModel) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];\n            if (itemUpdate) {\n              // itemUpdate.cantidad = item.cantidad;\n              itemUpdate.cantidad_seleccionada = item.cantidad_seleccionada;\n              itemUpdate.itemtiposconsumo = item.itemtiposconsumo;\n            }\n          });\n        });\n      // }\n    });\n\n    // this.laCartaObjSource.next(this.objCarta);\n  }\n\n  // actualiza la carta del pedido reseteado por tiempo limite\n  // solo local porque a los demas se le emite el socket\n  // el socket notifica a todos incluyendo al remitente lo que hace esta funcion obsoleta\n  updatePedidoFromClear() {\n    // actualizar // buscar cada item en el obj carta\n    if ( !this.listItemsPedido ) {return; }\n    this.listItemsPedido.map((item: ItemModel) => {\n      if (item.isalmacen === 0) {\n        this.objCarta.carta.map((cat: CategoriaModel) => {\n          cat.secciones.map((sec: SeccionModel) => {\n            const itemUpdate = <ItemModel>sec.items.filter((x: ItemModel) => x.isporcion !== 'ND' && x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];\n            if (itemUpdate) {\n              itemUpdate.cantidad = parseInt(itemUpdate.cantidad.toString(), 0) + item.cantidad_seleccionada;\n            }\n          });\n        });\n\n        // this.laCartaObjSource.next(this.objCarta);\n      }\n    });\n\n\n    // valor en blanco para nuevo pedido\n    this.prepareNewPedido();\n    // this.storageService.clear('sys::h');\n    // this.storageService.clear('sys::order');\n    // this.storageService.clear('sys::order::all');\n    // this.listItemsPedido = [];\n    // this.miPedido = new PedidoModel();\n    // this.miPedidoSource.next(this.miPedido);\n    // this.countItemsSource.next(0);\n  }\n\n  getEstadoStockItem(stock: number): string {\n    return stock > 10 ? 'verde' : stock > 5 ? 'amarillo' : 'rojo';\n  }\n\n  // isTimeLimit(): boolean {\n  //   const h2 = this.storageService.get('sys::h');\n  //   const hora1 = this.time.getTime().toString().split(':');\n  //   const hora2 = h2.split(':');\n  //   const t1 = new Date();\n  //   const t2 = new Date();\n\n  //   // tslint:disable-next-line: radix\n  //   t1.setHours(parseInt(hora2[0], 0), parseInt(hora2[1], 0), parseInt(hora2[2], 0));\n  //   t2.setHours(this.time.getHours(), this.time.getMinutes(), this.time.getSeconds());\n  //   const dif = t2.getTime() - t1.getTime(); // diferencia en milisegundos\n  //   const difSeg = Math.floor(dif / 1000);\n  //   const difMin = Math.floor(difSeg / 60);\n  //   let minutos = difMin % 60; // minutos\n  //   minutos = minutos < 0 ? minutos * -1 : minutos;\n  //   return minutos > this.max_minute_order ? true : false;\n\n  // }\n\n  // <------ storage ---- > ///\n\n\n  // <------ reglas de la carta ----> //\n\n  validarReglasCarta(rules: any[]): any {\n    // let diferencia = 0;\n    let xSecc_bus = 0;\n    let xSecc_detalle = 0;\n    let xCantidadBuscar = 0;\n    let xCantidadBuscarSecc_detalle = 0;\n    let diferencia = 0;\n\n    let xPrecio_item_bus = 0;\n    let xPrecio_mostrado = 0; // preciounitario * cantidad precio_total_cal\n\n    // reset precio_total_calc -> precio_total;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          z.items.map((n: ItemModel) => n.precio_total_calc = null);\n        });\n      });\n\n    rules.map((regla: any) => {\n      xSecc_bus = regla.idseccion;\n      xSecc_detalle = regla.idseccion_detalle;\n      xCantidadBuscar = this.countCantItemsFromSeccion(xSecc_bus);\n      xCantidadBuscarSecc_detalle = this.countCantItemsFromSeccion(xSecc_detalle);\n\n      diferencia = xCantidadBuscar - xCantidadBuscarSecc_detalle;\n      diferencia = diferencia < 0 ? xCantidadBuscar : diferencia; // no valores negativos\n      // console.log('diferencia reglas', diferencia);\n\n      this.miPedido.tipoconsumo\n        .map((tpc: TipoConsumoModel) => {\n          tpc.secciones\n            .filter((z: SeccionModel) => z.idseccion.toString() === xSecc_detalle.toString())\n            .map((z: SeccionModel) => {\n              z.items\n                .map((n: ItemModel, i) => {\n                  const precioUnitario_item = parseFloat(n.precio);\n                  const cant_item = n.cantidad_seleccionada;\n\n                  xPrecio_mostrado = n.precio_total_calc !== null ? n.precio_total_calc : n.precio_total;\n                  xPrecio_item_bus = xPrecio_mostrado;\n\n                  if ( xCantidadBuscar >= xCantidadBuscarSecc_detalle) {\n                    xPrecio_item_bus = 0;\n                  } else if (diferencia > 0) {\n                    xPrecio_item_bus = diferencia * precioUnitario_item;\n                    xPrecio_item_bus = xPrecio_mostrado - xPrecio_item_bus; // descuenta del precio que se muestra en pantalla( precio que ya fue procesado)\n                    xPrecio_item_bus = xPrecio_item_bus < 0 ? 0 : xPrecio_item_bus;\n\n                    diferencia = diferencia - cant_item < 0 ? 0 : diferencia - cant_item;\n                  }\n\n                  n.precio_total_calc = parseFloat(xPrecio_item_bus.toString()); //\n                  n.precio_print = parseFloat(xPrecio_item_bus.toString()); //\n                  n.cantidad_descontado = cant_item;\n                });\n            });\n        });\n\n    });\n  }\n\n  private countCantItemsFromSeccion(seccionSearch: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones.map((z: SeccionModel) => {\n        sum += z.items\n          .filter((x: ItemModel) => x.idseccion.toString() === seccionSearch.toString())\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n  // devuelve cantidad item filtrando tipoconsumo y seccion\n  private countCantItemsFromTpcSeccion(tipoconsumo: number, seccionSearch: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .filter((tpc: TipoConsumoModel) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones\n      .map((z: SeccionModel) => {\n        sum += z.items\n          .filter((x: ItemModel) => x.idseccion.toString() === seccionSearch.toString())\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n  // devuelve cantidad tipoconsumo en el pedido, es decir cuanto delivery o cuantos para llevar hay // se usa calculo total delivery app cliente\n  private countCantItemsFromTpc(tipoconsumo: number): number {\n    let sum = 0;\n    this.miPedido.tipoconsumo\n    .filter((tpc: TipoConsumoModel) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())\n    .map((tpc: TipoConsumoModel) => {\n      tpc.secciones\n      .map((z: SeccionModel) => {\n        sum += z.items\n          .map((x: ItemModel) => x.cantidad_seleccionada)\n          .reduce((a, b) => a + b, 0);\n      });\n    });\n\n    return sum;\n  }\n\n    // devuelve cantidad tipoconsumo en el pedido buscado por descripcion, es decir cuanto delivery o cuantos para llevar hay // se usa calculo total delivery app cliente\n    private countCantItemsFromTpcDes(tpc_descripcion: string): number {\n      let sum = 0;\n      this.miPedido.tipoconsumo\n      .filter((tpc: TipoConsumoModel) => tpc.descripcion.toLowerCase() === tpc_descripcion.toLowerCase())\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones\n        .map((z: SeccionModel) => {\n          sum += z.items\n            .map((x: ItemModel) => x.cantidad_seleccionada)\n            .reduce((a, b) => a + b, 0);\n        });\n      });\n\n      return sum;\n    }\n\n  // <------ reglas de la carta ---->//\n\n  // <------ sub totales ---->//\n\n  // isClienteDelivery = si es delivery el costo del servicio es segun calculo\n\n  getArrSubTotales(rulesSubTotales: any[]): any {\n\n    const subTotal = this.getSubTotalMiPedido();\n    let isCalcCostoServicioDelivery = this.establecimientoService.establecimiento.pwa_delivery_hablitar_calc_costo_servicio === 1;\n    const isCalcCostoServicioDeliverySoloApp = this.establecimientoService.establecimiento.pwa_delivery_habilitar_calc_costo_servicio_solo_app === 1;\n    const comisionFijaComercioNoAfiliado = this.establecimientoService.establecimiento.pwa_delivery_comision_fija_no_afiliado; // comision fija comercio no afiliado (plaza vea cualquier pedido la comision es 2 para la platafoma)\n    const is_comercio_paga_entrega = this.establecimientoService.establecimiento.pwa_delivery_comercio_paga_entrega === 1; // si el comercio paga el costo del delivery al repartidor\n    this.pwa_delivery_servicio_propio = this.establecimientoService.establecimiento.pwa_delivery_servicio_propio === 1;\n    let isClienteDelivery = this.infoTokenService.infoUsToken.idusuario ? false : true; // this.establecimientoService.get().idsede ? true : false;\n\n    // si es cliente delivery\n    // si el calculo de entrega es solo para pedidos de clientes desde la aplicacion o para todos\n    if ( isClienteDelivery ) {\n      isCalcCostoServicioDelivery = isCalcCostoServicioDelivery || isCalcCostoServicioDeliverySoloApp;\n    }\n\n    let sumaTotal = subTotal;\n\n    const arrSubtotales: any = [];\n    let _arrSubtotales: any = {};\n\n    _arrSubtotales.id = 0;\n    _arrSubtotales.descripcion = 'SUB TOTAL';\n    _arrSubtotales.esImpuesto = 0;\n    _arrSubtotales.visible = true;\n    _arrSubtotales.quitar = false;\n    _arrSubtotales.tachado = false;\n    _arrSubtotales.visible_cpe = true;\n    _arrSubtotales.importe = parseFloat(subTotal.toString()).toFixed(2);\n\n    arrSubtotales.push(_arrSubtotales);\n\n\n    // porcentajes / impuestos / otros servicios\n    const rptPorcentajes: any = [];\n    const arrPorcentajes = rulesSubTotales.filter(x => x.tipo === 'p');\n    arrPorcentajes.map(p => {\n      const porcentaje = p.monto / 100;\n      const isImpuesto = p.es_impuesto === 1 ? true : false;\n      const isActivo = p.activo === 0 ? true : false;\n      const importe = (subTotal * porcentaje).toFixed(2);\n      const rpt: any = {};\n\n      rpt.id = p.tipo + p.id;\n      rpt.descripcion = p.descripcion;\n      rpt.esImpuesto = p.es_impuesto;\n      rpt.visible = true;\n      rpt.quitar = false;\n      rpt.tachado = false;\n      rpt.visible_cpe = isImpuesto;\n      // rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;\n\n      // rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);\n      // sumaTotal += parseFloat(rpt.importe);\n\n      // implement igv 030220\n      if ( rpt.descripcion === 'I.G.V') {\n        rpt.importe = isActivo ? porcentaje : 0;\n        rptPorcentajes.push(rpt); // solo agrega importe 0 si es IGV\n      } else {\n        rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;\n        rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);\n        sumaTotal += parseFloat(rpt.importe);\n      }\n\n      // no muestra si tienen valor 0\n      if ( rpt.importe !== 0 ) {\n        rptPorcentajes.push(rpt);\n      }\n\n    });\n\n    // otros no porcentajes // taper // delivery\n    let importeOtros = 0;\n    const rptOtros: any = [];\n    const arrOtros = rulesSubTotales.filter(x => x.tipo === 'a');\n\n    // si es tiene idusuario es usuario autorizado no es cliente delivery  // si existe estableciiento en localstorage entonces es un clienteDelivery\n    // let isClienteDelivery = this.infoTokenService.infoUsToken.idusuario ? false : true; // this.establecimientoService.get().idsede ? true : false;\n    let isTieneDelivery =  false; // si tiene la opcion de delivery configurado\n    let isAddDelivery = true; // si agrega delivery // puede que tenga otros servicio que no sea delivery\n    let addServicioDeliveryExpress = false;\n\n    // verificar si el pedido tiene delivery\n    const _countItemDelivery = this.countCantItemsFromTpcDes('delivery') + this.countCantItemsFromTpcDes('entrega') + this.countCantItemsFromTpcDes('cantidad');\n    addServicioDeliveryExpress = _countItemDelivery > 0;\n    importeOtros = this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo;\n\n\n    arrOtros.map(p => {\n      const rpt: any = {};\n\n      // si es servicio delivery y si es clienteDelivery\n      if ( (p.descripcion.toUpperCase().indexOf('DELIVERY') > -1\n          || p.descripcion.toUpperCase().indexOf('ENTREGA') > -1)\n          && isClienteDelivery ) {\n        isAddDelivery = true;\n        isTieneDelivery = true;\n\n        // si tiene propio servicio\n        p.descripcion = 'Entrega';\n        if ( this.pwa_delivery_servicio_propio && !isCalcCostoServicioDelivery) { // si tiene servicio propio y no esta habilitado el calculo automatico\n          importeOtros = parseFloat(p.monto);\n        } else {\n          addServicioDeliveryExpress = true; // agrega delivery\n          isTieneDelivery = false; // para que calculo abajo\n          importeOtros = this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo;\n\n          // verifica si en elpedido hay delivery\n          const _cantidad = this.countCantItemsFromTpc(p.idtipo_consumo);\n          isClienteDelivery = _cantidad > 0;\n          isAddDelivery = _cantidad > 0;\n          return;\n        }\n      } else {\n        // isAddDelivery = false;\n        // addServicioDeliveryExpress = false;\n        importeOtros = parseFloat(p.monto); // aplica a todo el pedido\n      }\n\n      // verifica si este tipo existe en el pedido\n      const cantidadTipoConsumo = this.countCantItemsFromTpc(p.idtipo_consumo); // cantidad en todo el pedido\n      if ( cantidadTipoConsumo === 0 ) { return; } // si no encontro items con esos criterios\n\n      if (p.nivel === 0) { // aplica por item\n        const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion); // cantidad por seccion\n        if ( cantidad === 0 ) { return; } // si no encontro items con esos criterios\n        const _costoXCantItems = this.calcCostoCantItemsDelivery();\n        importeOtros = (cantidad * parseFloat(p.monto)) + _costoXCantItems;\n      }\n\n      rpt.id = p.tipo + p.id;\n      rpt.descripcion = p.descripcion;\n      rpt.esImpuesto = p.es_impuesto;\n      rpt.visible = true;\n      rpt.quitar = true;\n      rpt.tachado = false;\n      rpt.visible_cpe = false;\n      rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);\n\n      sumaTotal += parseFloat(rpt.importe);\n\n      // juntar si son del mismo tipo ej: taper - llevar, taper - delivery\n      const findItem = rptOtros.filter((x: any) => x.descripcion === rpt.descripcion)[0];\n      if (findItem) {\n        findItem.importe = parseFloat(findItem.importe) + parseFloat(rpt.importe);\n      } else {\n        rptOtros.push(rpt);\n      }\n\n\n    });\n\n    // si no tiene la opcion delivery y es un clienteDelivery lo agrega // o requiere el servicio de calcular distancia\n    // if ( isAddDelivery && !isTieneDelivery && isClienteDelivery && (!this.pwa_delivery_servicio_propio || isCalcCostoServicioDelivery )) {\n    if ( addServicioDeliveryExpress ) {\n\n      // const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion);\n      // if ( cantidad > 0 ) {\n        const _costoXCantItems = this.calcCostoCantItemsDelivery();\n        const costoServicio = _costoXCantItems + (this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo );\n        const rpt: any = {};\n\n        // costo del servicio mas comision fija comercio no afiliado\n        const _costoServicio = costoServicio + comisionFijaComercioNoAfiliado;\n\n        // si el comercio paga el servicio, guardamos este costo para no mostrarlo al cliente\n        this.establecimientoService.setCostoSercioDelivery(_costoServicio);\n\n        // si esta habilitado calcular el servicio de delviry y que el comercio no pague la entrega\n        // entonces este item vera si el cliente\n        if ( !is_comercio_paga_entrega && isCalcCostoServicioDelivery ) {\n\n          rpt.id = -2;\n          rpt.descripcion = 'Entrega';\n          rpt.isDeliveryApp = true;\n          rpt.esImpuesto = 0;\n          rpt.visible = true;\n          rpt.quitar = true;\n          rpt.tachado = false;\n          rpt.visible_cpe = false;\n          rpt.importe = parseFloat(_costoServicio.toString()).toFixed(2);\n          // rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);\n\n          sumaTotal += parseFloat(rpt.importe);\n\n          rptOtros.push(rpt);\n        }\n      // }\n    }\n\n    // juntamos\n    rptPorcentajes.map(y => arrSubtotales.push(y));\n    rptOtros.map(y => arrSubtotales.push(y));\n\n    // IGV filtramos los que no es impuesto IGV | 030220\n    const rowSubTotal =  arrSubtotales.filter(x => x.descripcion === 'SUB TOTAL')[0];\n    const rowImporteIGV = arrSubtotales.filter(x => x.descripcion === 'I.G.V')[0];\n    let _importeIGV = rowImporteIGV ? rowImporteIGV.importe : 0;\n    let _importeSubTotal = rowSubTotal ? rowSubTotal.importe : 0;\n\n    if ( _importeIGV > 0 ) {\n      _importeIGV = parseFloat((_importeSubTotal *  _importeIGV).toString()).toFixed(2);\n      _importeSubTotal = _importeSubTotal - _importeIGV;\n      rowImporteIGV.importe = _importeIGV;\n      rowSubTotal.importe = _importeSubTotal.toFixed(2);\n    }\n    /// IGV --->\n\n    _arrSubtotales = {};\n    _arrSubtotales.id = 0;\n    _arrSubtotales.esImpuesto = 0;\n    _arrSubtotales.descripcion = 'TOTAL';\n    _arrSubtotales.visible = true;\n    _arrSubtotales.quitar = false;\n    _arrSubtotales.tachado = false;\n    _arrSubtotales.visible_cpe = true;\n    _arrSubtotales.importe = parseFloat(sumaTotal.toString()).toFixed(2);\n\n    arrSubtotales.push(_arrSubtotales);\n\n    // console.log('totales', arrSubtotales);\n    return  arrSubtotales;\n\n  }\n\n  private calcCostoCantItemsDelivery(): number {\n    let rpt = 0;\n    const _cantItemScala = parseInt(this.deliveryArrConstantes.cantItemsScala.toString(), 0);\n    if ( _cantItemScala === 0 ) { return 0; }\n    if (this.deliveryCanItemsInOrder > _cantItemScala) {\n      const _div = this.deliveryCanItemsInOrder / _cantItemScala;\n      // _div = Math.floor(_div);\n      if ( _div > 1 ) {\n        rpt = Math.floor(_div) * this.deliveryArrConstantes.costoScala;\n      }\n    } else {\n      rpt = 0;\n    }\n    return rpt;\n  }\n\n  getSubTotalMiPedido(): number {\n    let sumSubTotal = 0;\n    let cantItemOrder = 0;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          sumSubTotal += z.items\n            .map((x: ItemModel) => {\n              cantItemOrder += x.cantidad_seleccionada;\n              return x.precio_print;\n            })\n            .reduce((a, b) => a + b, 0);\n        });\n      });\n\n    // cantidad total de items para calcular costo servicio delivery\n    this.deliveryCanItemsInOrder = cantItemOrder;\n\n    return sumSubTotal;\n  }\n\n  // devuelve el importe total del item de la lista mi pedido\n  getImporteTotalItemFromMiPedido(item: ItemModel): number {\n    // const _itemFind = this.findOnlyItemMiPedido(item);\n    // return _itemFind ? _itemFind.precio_total : 0;\n\n    let sumSubTotal = 0;\n    this.miPedido.tipoconsumo\n      .map((tpc: TipoConsumoModel) => {\n        tpc.secciones.map((z: SeccionModel) => {\n          sumSubTotal += z.items\n            .filter((x: ItemModel) => x.iditem === item.iditem)\n            .map((x: ItemModel) => x.precio_print)\n            .reduce((a, b) => a + b, 0);\n        });\n      });\n\n    return sumSubTotal;\n  }\n\n\n  // <------ sub totales ---->//\n\n  // <------- timer limit ----> //\n\n  private playTimerLimit(): void {\n    this.timerLimitService.playCountTimerLimit();\n  }\n\n  public stopTimerLimit(): void {\n    this.timerLimitService.resetCountTimerLimit();\n  }\n\n  public restoreTimerLimit(): void {\n    this.timerLimitService.resetCountTimerLimit();\n  }\n\n  // <------- timer limit ----> //\n\n\n  // <--------- listen change -------> //\n  // escuha todos los cambios echos en las cantidades, from carta y listItemPedido ----resumen pedido\n  listenChangeCantItem(): void {\n    this.socketService.onItemModificado().subscribe((res: any) => {\n\n      let _itemInCarta: ItemModel;\n      // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)\n      if ( res.listItemPorcion != null ) {\n        res.listItemPorcion.map((x: any) => {\n          _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);\n\n          const cantidadSet = parseInt(x.cantidad, 0);\n          _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.item.cantidad.toString(), 0);\n          this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);\n        });\n      } else {\n        if ( !res.item ) {return; }\n        res = res.item;\n        // console.log('listenChangeCantItem onItemModificado', res);\n        _itemInCarta = this.findItemCarta(res);\n        this.setCantidadItemModificadoPwa(res, _itemInCarta);\n      }\n\n\n      // actualiza subitems si son porciones o productos\n\n\n      // const _itemInList = this.findItemListPedido(res);\n\n      // _itemInCarta.subitems = res.subitems;\n      // actualizar cantidades subitems si existe\n      // if ( res.subitems ) {\n      //   // res.subitems.map((asub: SubItem) => {\n      //   //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;\n\n      //   // });\n      //   res.subitems.map((subitemOp: SubItemContent) => {\n      //     subitemOp.opciones.map((subitem: SubItem) => {\n      //       _itemInCarta.subitems.map((s: SubItemContent) => {\n      //         const itemFind = s.opciones.filter((_subItem: SubItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];\n      //         if ( itemFind ) {\n      //           itemFind.cantidad = subitem.cantidad;\n      //         }\n      //       });\n      //     });\n      //   });\n\n      //   // _itemInCarta.subitems = res.subitems;\n      // }\n\n      // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n\n\n      // this.itemStockChangeSource.next(_itemInCarta);\n      // console.log('socket list', this.listItemsPedido);\n    });\n\n    this.socketService.onItemResetCant().subscribe((res: any) => {\n\n      let _itemInCarta: ItemModel;\n      // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)\n      if ( res.listItemPorcion != null ) {\n        res.listItemPorcion.map((x: any) => {\n          _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);\n          _itemInCarta.cantidad = parseInt(x.cantidad, 0);\n          this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);\n          // _itemInCarta.subitems = res.subitems;\n          this.itemStockChangeSource.next(_itemInCarta);\n        });\n      } else {\n        res = res.item;\n        // console.log('listenChangeCantItem onItemResetCant', res);\n        _itemInCarta = this.findItemCarta(res);\n        _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n        _itemInCarta.subitems = res.subitems;\n        this.itemStockChangeSource.next(_itemInCarta);\n        // this.setCantidadItemModificadoPwa(res.item, _itemInCarta);\n      }\n      // const _itemInCarta = this.findItemCarta(res);\n      // const _itemInList = this.findItemListPedido(res);\n      // _itemInCarta.cantidad = Number.parseFloat(_itemInCarta.cantidad.toString()) +  Number.parseFloat(res.cantidad_reset.toString());\n\n      // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n      // _itemInCarta.subitems = res.subitems;\n      // console.log('cant reset ', _itemInCarta);\n      // this.itemStockChangeSource.next(_itemInCarta);\n      // _itemInList.cantidad += res.cantidad_reset;\n    });\n\n    // from monitoreo stock - add item in carta\n    this.socketService.onNuevoItemAddInCarta().subscribe((res: any) => {\n      // console.log('onNuevoItemAddInCarta', res);\n      this.addItemInCarta(res);\n    });\n\n    // tiempo limite\n\n    this.socketService.onGetDatosSede().subscribe((res: any) => {\n      this.objDatosSede = res[0];\n      this.objDatosSede.datossede[0].longitude = parseFloat(this.objDatosSede.datossede[0].longitude);\n      this.objDatosSede.datossede[0].latitude = parseFloat(this.objDatosSede.datossede[0].latitude);\n      this.listenStatusService.setHayDatosSede(true);\n      // nombre sede\n      localStorage.setItem('sys::s', this.objDatosSede.datossede[0].nombre + '|' + this.objDatosSede.datossede[0].ciudad);\n      // console.log('datos de la sede ps', this.objDatosSede);\n\n      this.establecimientoService.setImpresoras(this.objDatosSede.impresoras);\n\n      this.max_minute_order = res[0].datossede[0].pwa_time_limit;\n      // this.pwa_delivery_importe_min = res[0].datossede[0].pwa_delivery_importe_min;\n      this.pwa_delivery_servicio_propio = res[0].datossede[0].pwa_delivery_servicio_propio === 0 ? false : true;\n      this.timerLimitService.maxTime = this.max_minute_order * 100;\n    });\n\n    this.timerLimitService.countdown$.subscribe((countTime: number) => {\n      switch (countTime) {\n        case 1:\n          // if ( this._snackBar._openedSnackBarRef ) {return; }\n          // this._snackBar.open(`Recuerde, ${this.max_minute_order} minutos para enviar su pedido.`, '', {\n          //   duration: 3000,\n          // });\n          this.isPreAvisoVisible = false;\n          break;\n        case 80:\n          if (!this.isPreAvisoVisible) {\n            this.isPreAvisoVisible = true;\n            this._snackBar.open('Proximo a cumplir el tiempo de envio.', '', {\n              duration: 2000,\n            });\n          }\n          break;\n        case 100:\n          this._snackBar.open('Tiempo agotado, debe realizar un nuevo pedido.', '', {\n            duration: 3000,\n          });\n          break;\n      }\n    });\n\n    this.timerLimitService.isTimeLimitComplet$.subscribe((res: boolean) => {\n      // tiempo completado // reseteamos\n      if (res === true) {\n        this.resetAllNewPedido();\n        this.navigatorService.setPageActive('carta');\n      }\n    });\n  }\n\n  setCantidadItemModificadoPwa(res: ItemModel, _itemInCarta: ItemModel, cantidadSet: number = null, isSubItemPorcion: boolean = false) {\n    // actualizar cantidades subitems si existe\n    if ( res.subitems && res.idcarta_lista === _itemInCarta.idcarta_lista ) {\n\n      // if ( !isReset ) {\n      //   _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n      // }\n      // res.subitems.map((asub: SubItem) => {\n      //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;\n\n      // });\n      if ( !res.subitems ) { res.subitems = []; }\n\n      res.subitems.map((subitemOp: SubItemContent) => {\n        subitemOp.opciones.map((subitem: SubItem) => {\n          if (!_itemInCarta.subitems) { return; }\n          _itemInCarta?.subitems.map((s: SubItemContent) => {\n            const itemFind = s.opciones.filter((_subItem: SubItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];\n            if ( itemFind ) {\n              if ( itemFind.cantidad !== 'ND' ) {\n                itemFind.cantidad = subitem.cantidad;\n\n                // buscar los demas items que tengan este subitem porcion o producto\n                const idFind = itemFind.idproducto.toString() + itemFind.idporcion.toString();\n                const _otherListSubItem = this.findSubItemCartaById(idFind, res.iditem.toString());\n                _otherListSubItem.map( (x: SubItem ) => {\n                  x.cantidad = subitem.cantidad;\n                });\n\n              }\n            }\n          });\n        });\n      });\n\n      // _itemInCarta.subitems = res.subitems;\n    }\n\n    // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);\n    // _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n\n    if ( !isSubItemPorcion ) {\n        _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);\n    }\n\n    this.itemStockChangeSource.next(_itemInCarta);\n  }\n\n  // dar formato al pedido\n  darFormatoPedido(res: any): any {\n    const _miPedidoCuenta: PedidoModel = new PedidoModel();\n    const c_tiposConsumo: TipoConsumoModel[] = [];\n\n\n        res.data.map( (tp: any) => {\n          let hayTpc = c_tiposConsumo.filter(x => x.idtipo_consumo === tp.idtipo_consumo)[0];\n          if (!hayTpc) {\n            hayTpc = new TipoConsumoModel;\n            hayTpc.descripcion = tp.des_tp;\n            hayTpc.idtipo_consumo = parseInt(tp.idtipo_consumo, 0);\n            c_tiposConsumo.push(hayTpc);\n          }\n        });\n\n\n        c_tiposConsumo.map((tp: TipoConsumoModel) => {\n          res.data\n            .filter((_tp: any) => _tp.idtipo_consumo === tp.idtipo_consumo)\n            .map((_s: any, i: number) => {\n              // let haySeccion = !tp.secciones ? null : tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              let haySeccion = tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];\n              if (!haySeccion) {\n                haySeccion = new SeccionModel;\n                haySeccion.idseccion = _s.idseccion.toString();\n                haySeccion.des = _s.des_seccion;\n                haySeccion.sec_orden = _s.sec_orden;\n                haySeccion.ver_stock_cero = 0;\n                tp.count_items_seccion = i + 1;\n                tp.secciones.push(haySeccion);\n              }\n            });\n        });\n\n\n         // items\n    c_tiposConsumo.map((tp: TipoConsumoModel) => {\n      tp.secciones.map((s: SeccionModel) => {\n          res.data\n          .filter((_tp: any) => _tp.idtipo_consumo.toString() === tp.idtipo_consumo.toString() && _tp.idseccion.toString() === s.idseccion.toString())\n          .map((_i: any, i: number) => {\n            const hayItem = new ItemModel;\n            hayItem.des = _i.descripcion;\n            hayItem.detalles = '';\n            hayItem.iditem = _i.iditem;\n            hayItem.idcarta_lista = _i.idcarta_lista;\n            hayItem.idseccion = _i.idseccion;\n            hayItem.isalmacen = _i.isalmacen;\n            hayItem.cantidad_seleccionada = parseInt(_i.cantidad, 0);\n            hayItem.precio = _i.punitario;\n            hayItem.precio_print = parseFloat(_i.ptotal);\n            hayItem.precio_total = parseFloat(_i.ptotal);\n            hayItem.procede = _i.procede === '0' ? 1 : 0;\n            hayItem.seccion = _i.des_seccion;\n            hayItem.img = _i.img;\n            hayItem.subitems_view = _i.subitems === 'null' || _i.subitems === '' || !_i.subitems ? [] : JSON.parse(_i.subitems);\n            s.count_items = i + 1;\n\n            s.items = s.items ? s.items : [];\n            s.items.push(hayItem);\n          });\n        });\n      });\n\n      _miPedidoCuenta.tipoconsumo = c_tiposConsumo;\n      return _miPedidoCuenta;\n  }\n\n  printerPrecuenta(_data: any) {\n    // console.log('precuenta');\n    this.crudService.postFree(_data, 'pedido', 'printer-precuenta', true)\n    .subscribe(res => {\n      // console.log('send-printer-precuenta',  res.data[0].rpt);\n\n      // enviamos impresion al socket\n      const dataPrintSend = {\n        detalle_json: JSON.stringify(_data.dataPrint),\n        idprint_server_estructura: 1,\n        tipo: 'comanda',\n        descripcion_doc: 'comanda',\n        nom_documento: 'comanda',\n        idprint_server_detalle: res.data[0].rpt\n      };\n\n      this.socketService.emit('printerOnly', dataPrintSend);\n\n      this.socketService.emit('notificar-impresion-precuenta', null);\n    });\n  }\n\n\n  // cerrar session\n  cerrarSession(): void {\n    this.socketService.closeConnection();\n    this.navigatorService.cerrarSession();\n  }\n\n  // <--------- listen change -------> //\n\n\n\n}\n","// servicio adminsitra el navigator link -- carta y resumen\nimport { Injectable } from '@angular/core';\nimport { Event as NavigationEvent, Router, NavigationStart } from '@angular/router';\nimport { filter, bufferCount } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { InfoTockenService } from './info-token.service';\nimport { EstadoPedidoClienteService } from './estado-pedido-cliente.service';\nimport { ListenStatusService } from './listen-status.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigatorLinkService {\n\n  public disabledBack = false;\n  private resNavigatorSource = new BehaviorSubject<any[]>([]);\n  public resNavigatorSourceObserve$ = this.resNavigatorSource.asObservable();\n\n  private pageActive = 'carta';\n\n  private resNavigator: any = [];\n  private historyNavigator: any[] = [];\n  public lastUrlHistory = '';\n  public nowUrl = '';\n\n  closeListenNavigator = false;\n\n\n  constructor(\n    private router: Router,\n    private infoTokenService: InfoTockenService,\n    private listenService: ListenStatusService,\n    // private estadoPedidoClienteService: EstadoPedidoClienteService,\n    // private dialog: MatDialog,\n    // private miPedidoService: MipedidoService,\n  ) {\n\n\n    this.listenEventNavigator();\n  }\n\n  private listenEventNavigator() {\n    if ( this.closeListenNavigator ) {return; }\n    this.router.events.pipe(\n      filter(e => e instanceof NavigationStart)\n      , bufferCount(2, 1)).subscribe((e: any) => {\n        // return false;\n        if ( this.closeListenNavigator ) {return; }\n\n        if (e !== null && e !== undefined) {\n          this.nowUrl = e[0]['url'];\n          // if ( this.disabledBack ) {return false; }\n          if (e[1].navigationTrigger === 'popstate') {\n            // this.managerGoZonaEstablecimiento(e[0]['url'], e); // a la pagina que va\n            // desahabilitar boton back\n            if ( this.disabledBack ) {return false; }\n\n            const elUrl = e[0]['url'];\n\n            const _url = elUrl.indexOf(';') ? e[0]['url'].substr(1).split(';')[1].split('=')[1] : e[0]['url'];\n            // const _nextUrl = e[1]['url'].substr(1).split(';')[1].split('=')[1];\n            if ( _url.length > 0) {\n              this.lastUrlHistory = _url; // last url -- de donde viene\n              this.managerGoBack(_url, '');\n            }\n          }\n          // console.log(e[0]);\n        }\n      });\n  }\n\n\n  setPageActive(_pageActive): void {\n    // return;\n    this.pageActive = _pageActive;\n    this.lastUrlHistory = _pageActive !== 'carta' ? _pageActive : this.lastUrlHistory;\n\n    const itemHistory = this.findPageActiveInHistory(_pageActive);\n\n    if ( itemHistory ) { // si existe\n      this.addLink(itemHistory.url);\n    } else {\n      // this.saveHistoryPageActive(_pageActive, _pageActive);\n      this.addLink(_pageActive);\n    }\n    this.resNavigator.pageActive = _pageActive;\n    this.resNavigator.url = itemHistory ? itemHistory.url : _pageActive;\n    this.resNavigatorSource.next(this.resNavigator);\n  }\n\n  private saveHistoryPageActive(key: string, url: string): void {\n    // return;\n    this.historyNavigator[key] = [];\n    this.historyNavigator[key].key = key;\n    this.historyNavigator[key].url = url;\n  }\n\n  private findPageActiveInHistory(_key: string): any {\n    // return false;\n    return Object.values(this.historyNavigator).filter(x => x.key === _key)[0];\n  }\n\n  addLink(params: string): void {\n    // return;\n    this.router.navigate(['.', { state: params }]);\n\n    this.saveHistoryPageActive(this.pageActive, params);\n  }\n\n  cerrarSession(reload: boolean = false) {\n    if ( this.infoTokenService.isReserva() ) {\n      this.router.navigate(['../home']);\n      return;\n    }\n\n    if ( this.infoTokenService.isDelivery() ) {\n      this.router.navigate(['../zona-delivery']);\n      // this.router.navigate(['../home']);\n    } else {\n      this.router.navigate(['../'])\n      .then(() => {\n        if ( reload ) {\n          window.location.reload();\n        }\n      });\n    }\n  }\n\n  // maneja los back\n  // si es [mipedido-confirma] -> ['mipedido']\n  // si es [mipedido, estado] -> 'carta' - > historial\n  // si es [carta-i-secciones-items] -> [carta-i-secciones]\n  // si es [carta-i-secciones] -> [carta-i-]\n  // si es [carta-i-] -> 'carta'\n  // si es [carta] -> inicio\n  managerGoBack(previusUrl: string, nexturl: string) {\n    // return;\n    console.log('previusUrl', previusUrl);\n    if ( this.closeListenNavigator ) {return; }\n    // const _url = this.lastUrlHistory;\n    let _pageActive = '';\n    console.log('managerGoBack', previusUrl);\n    switch (previusUrl) {\n      case 'carta-i-secciones-items':\n        _pageActive = 'carta';\n        this.addLink('carta-i-secciones');\n        break;\n      case 'carta-i-secciones':\n        _pageActive = 'carta';\n        this.addLink('carta-i-');\n        break;\n      case 'carta-i-':\n        _pageActive = 'carta-o-';\n        this.addLink('carta-o-');\n        // console.log('=========================== listo para salir');\n        this.listoParaSalir();\n        break;\n      // case 'carta-o':\n      //   _pageActive = 'carta';\n      //   this.addLink('carta');\n      //   console.log('listo para salir');\n      //   break;\n      case 'mipedido-confirma':\n        _pageActive = 'mipedido';\n        this.addLink('mipedido');\n        break;\n      case 'mipedido':\n        _pageActive = 'carta';\n        this.addLink('carta');\n\n        this.listoParaSalir();\n        // console.log('=========================== listo para salir');\n        break;\n      case 'estado':\n        _pageActive = 'carta';\n        // this.findAndApplyHistory(_pageActive);\n        break;\n      case 'carta':\n        // _pageActive = '';\n        // this.router.navigate(['../']);\n        _pageActive = 'carta';\n        break;\n      case 'lanzar-encuesta':\n        _pageActive = 'lanzar-encuesta';\n        break;\n    }\n\n    if (_pageActive !== '' ) {\n      this.pageActive = _pageActive;\n      this.setPageActive(_pageActive);\n    }\n  }\n\n\n  // usar router de servicio\n  _router(link: string) {\n    this.router.navigate([link]);\n    return false;\n  }\n\n  __router(link: string) {\n    this.router.navigate([link]);\n    return false;\n  }\n\n  disableGoBack(): void {\n\n    this.disabledBack = true;\n    history.pushState(null, null, location.href);\n    window.onpopstate = function () {\n        history.go(1);\n    };\n  }\n\n  private listoParaSalir(): void {\n    if ( this.infoTokenService.isDelivery() ) {\n      // abrir cerrarr\n      // if ( this.estadoPedidoClienteService.estadoPedido.hayPedidoCliente ) {\n\n        this.listenService.setIsOutEstablecimientoDelivery(true);\n\n      // }\n    }\n  }\n\n  setOffListenNavigator(val: boolean) {\n    this.closeListenNavigator = val;\n  }\n\n  // private findAndApplyHistory(_pageActive): void {\n  //   const itemHistory = this.findPageActiveInHistory(_pageActive);\n  //   if (itemHistory) { // si existe\n  //     this.addLink(itemHistory.url);\n  //   }\n  // }\n\n  // goBack(): void {\n  //   window.history.back();\n  // }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { SubItemsView } from 'src/app/modelos/subitems.view.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CocinarDescuentosPromoService {\n\n  constructor() { }\n\n\n  aplicarDescuentoItem(i: ItemModel, _dsc: number) {\n    const _pItem = parseFloat(i.precio);\n    const precio_ahora = Math.round(_pItem - ( _pItem * ( _dsc / 100 )));\n    i.precio_antes = i.precio;\n    i.precio = precio_ahora.toString();\n    i.precio_default = precio_ahora;\n    i.precio_unitario = precio_ahora.toString();\n    i.ispromo_aplica = true;\n  }\n\n  // cuando es 2x1 3x2 ....\n  reviewPromoApplyItem(item: ItemModel, _precioTotal: number): number {\n    // console.log('aplica promo', item);\n    // this.resetPrecioDefaultItem(item);\n    // let _precioTotal = item.precio_total;\n    if ( !_precioTotal ) { return null; }\n    if (item.ispromo) {\n      const itemPromo = item.ispromo;\n      let subItemPrecioUnitario = 0;\n\n      // si el desct es al sub item\n      if (itemPromo.iditem_subitem) {\n        const itemSubItemSelected = item.subitems_selected.find(x => x.iditem_subitem === itemPromo.iditem_subitem);\n        if ( !itemSubItemSelected || !item.subitems_view) { return _precioTotal; }\n\n        subItemPrecioUnitario = parseFloat(itemSubItemSelected.precio.toString());\n        // _precioTotal += totalSubItems;\n      }\n\n      if ( itemPromo.is_nxn === 1 ) {\n        const numPor = parseInt(itemPromo.cantidad_x, 0);\n        const numCant = parseInt(itemPromo.cantidad, 0);\n        const difCant = numCant - numPor;\n        const cantSeleccionada = item.cantidad_seleccionada;\n        // cantSeleccionada += item.sumar ? 1 : 0;\n\n        if ( cantSeleccionada >= numCant ) {\n          // const isMultiplo = cantSeleccionada % numCant === 0;\n          // if ( isMultiplo ) {\n            const descPromo = parseFloat(itemPromo.porc_descuento);\n            const cantDescontar = parseInt((cantSeleccionada / numCant).toString(), 0);\n            const importeTotalDescuento = difCant * (cantDescontar * (parseFloat(item.precio_unitario) + subItemPrecioUnitario));\n            let importeDescontar = importeTotalDescuento;\n            importeDescontar = (importeDescontar * ( descPromo / 100 ));\n            importeDescontar = importeDescontar === 0 ? importeTotalDescuento : importeDescontar;\n            _precioTotal = _precioTotal - importeDescontar;\n          // }\n          item.ispromo_aplica = true;\n        } else {\n          item.ispromo_aplica = false;\n        }\n      } else {\n        item.ispromo_aplica = true;\n      }\n    }\n\n    // item.ispromo_aplica = true;\n\n    return _precioTotal;\n\n  }\n\n  resetPrecioDefaultItem(i: ItemModel) {\n    const _pItem = parseFloat(i.precio);\n    i.precio_antes = i.precio;\n    i.precio = i.precio_antes.toString();\n    i.precio_default = i.precio_antes;\n    i.precio_unitario = i.precio_antes.toString();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CategoriaModel } from 'src/app/modelos/categoria.model';\nimport { ItemModel } from 'src/app/modelos/item.model';\nimport { MipedidoService } from '../mipedido.service';\nimport { SocketService } from '../socket.service';\nimport { CocinarDescuentosPromoService } from './cocinar-descuentos-promo.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CocinarPromoShowService {\n\n  private carta: any;\n  private listPromos: any;\n\n  constructor(\n    private pedidoService: MipedidoService,\n    private socketService: SocketService,\n    private cocinarDescuentosPromoService: CocinarDescuentosPromoService\n  ) {\n  }\n\n  iniReloadOpenPromo(_listPromos: any) {\n\n    this.listPromos = _listPromos;\n    this.socketService.emit('date-now-info', null);\n    setInterval(() => {\n      this.socketService.emit('date-now-info', null);\n    }, 15000);\n\n\n    this.socketService.onGetInfoDateNow()\n    .subscribe((resDateNow: any) => {\n       const dateNow = new Date(resDateNow);\n       this.listPromos.map(p => {\n         this.consultarPromoAbierto(p, dateNow);\n       });\n    });\n\n  }\n\n  promoFilterShow(promo: any, categoria: CategoriaModel): ItemModel[] {\n    const _itemsShow = [];\n    this.carta = this.pedidoService.getObjCarta();\n    // console.log('this.carta', this.carta);\n\n    if (promo.items) {\n\n      promo.lista.map(item => {\n        if ( !item.iditem ) { return; }\n        const idItem = item.iditem.toString();\n        const porc_descuento =  parseFloat(item.porc_descuento);\n        const _item = categoria.secciones.map(s => s.items.find(i => i.iditem.toString() === idItem)).find(x => x);\n        // console.log('item promo', item);\n        // const _items = categoria.secciones.find(s => s.idseccion.toString() === idItem);\n        if ( _item ) {\n            const __item = {... _item};\n            __item.ispromo = item;\n            if ( !item.cantidad_x ) {\n              this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);\n            }\n            _itemsShow.push(__item);\n        }\n      });\n\n    }\n\n    if (promo.productos) {\n\n      promo.lista.map(item => {\n        if ( !item.idproducto_stock ) { return; }\n        const idItem = item.idproducto_stock.toString();\n        const porc_descuento =  parseFloat(item.porc_descuento);\n        const _item = this.carta.bodega.map(s => s.items.find(i => i.idcarta_lista.toString() === idItem)).find(x => x);\n        // const _items = categoria.secciones.find(s => s.idseccion.toString() === idItem);\n        if ( _item ) {\n            const __item = {... _item};\n            __item.ispromo = item;\n            if ( !item.cantidad_x ) {\n              this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);\n            }\n            _itemsShow.push(__item);\n        }\n      });\n\n    }\n\n    if (promo.secciones) {\n\n      promo.lista.map(sec => {\n        const idSeccion = sec.idseccion.toString();\n        const porc_descuento =  parseFloat(sec.porc_descuento);\n        const _items = categoria.secciones.find(s => s.idseccion.toString() === idSeccion);\n        if ( _items ) {\n          _items.items.map((i: ItemModel) => {\n            const __item = {... i};\n            __item.ispromo = sec;\n            this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);\n            _itemsShow.push(__item);\n          });\n        }\n      });\n\n    }\n\n\n    return _itemsShow;\n  }\n\n  getImportePedido(): number {\n    return this.pedidoService.getSubTotalMiPedido();\n  }\n\n\n\n  private consultarPromoAbierto(promo: any, dateNow: Date) {\n    // consulto hora y dia, si son correcto, pregunto a la bd\n      // d = new Date(resDate);\n      // console.log('dateNow.toLocaleTimeString()', dateNow.toLocaleTimeString());\n      const day = dateNow.getDay();\n      const isDayValid = promo.parametros.body.dias_semana.indexOf(day) > -1;\n\n      // verificar hora\n      let isHoursValid = false;\n      const dIni = new Date();\n      const dFin = new Date();\n      const horaIni = promo.parametros.body.h_inicio.split(':');\n      const horaFin = promo.parametros.body.h_fin.split(':');\n      dIni.setHours(parseFloat(horaIni[0]));\n      dIni.setMinutes(parseFloat(horaIni[1]));\n\n      dFin.setHours(parseFloat(horaFin[0]));\n      dFin.setMinutes(parseFloat(horaFin[1]));\n\n      // const h = d.getHours();\n      // const m = d.getMinutes();\n      // // const time = h + ':' + m;\n\n      // isHoursValid = h >= parseFloat(horaIni[0]) && m >= parseFloat(horaIni[1]) ? true : false;\n      // isHoursValid = h <= parseFloat(horaFin[0]) && m >= parseFloat(horaFin[1]) ? true : false;\n\n      // isHoursValid = dateNow.getTime() <= dFin.getTime();\n      isHoursValid = dateNow.getTime() >= dIni.getTime() && dateNow.getTime() <= dFin.getTime();\n      promo.abierto = isDayValid && isHoursValid ? 1 : 0;\n\n      // console.log('promo abierto', promo);\n      // return isDayValid && isHoursValid;\n\n  }\n\n  showDiasSemana(numdias: string): string {\n    const _listDD = numdias.split(',').filter(x => x !== '');\n    if ( _listDD.length === 7 ) { return 'Todos los dias'; }\n\n    let _dias = '';\n    _listDD.map(d => {\n      _dias += this.getDiasByNum(parseInt(d, 0)) + ', ';\n    });\n\n    _dias = _dias.slice(0, -2);\n\n    return _dias;\n  }\n\n  private getDiasByNum(num: number): string {\n    // if ( !num ) {return ''; }\n    const _days = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];\n    return _days[num];\n  }\n\n  // private aplicarDescuentoItem(i: ItemModel, _dsc: number) {\n  //   const _pItem = parseFloat(i.precio);\n  //   const precio_ahora = Math.round(_pItem - ( _pItem * ( _dsc / 100 )));\n  //   i.precio_antes = i.precio;\n  //   i.precio = precio_ahora.toString();\n  //   i.precio_default = precio_ahora;\n  //   i.precio_unitario = precio_ahora.toString();\n  // }\n\n  private addZero(i: any) {\n    if (i < 10) {i = `0${i}`; }\n    return i;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CrudHttpService } from './crud-http.service';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SedeDeliveryService {\n\n  constructor(\n    private crudService: CrudHttpService\n  ) { }\n\n  loadDatosPlazaByCiudad(_ciudad: string): Observable<any[]> {\n    const _dataSend = {\n      ciudad: _ciudad\n    };\n\n    // console.log('_dataSend', _dataSend);\n\n    return new Observable(observer => {\n      this.crudService.postFree(_dataSend, 'delivery', 'get-sede-servicio-express', false)\n      .subscribe((res: any) => {\n        // console.log(res);\n        observer.next(res.data[0]);\n      });\n    });\n\n  }\n\n  getComisionAtm(_importe: number): Observable<any[]> {\n    const _dataSend = {\n      importe: _importe\n    };\n    return new Observable(observer => {\n      this.crudService.postFree(_dataSend, 'delivery', 'get-comsion-atm', false)\n      .subscribe((res: any) => {\n        // console.log(res);\n        observer.next(res.data[0]);\n      });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { Observable } from 'rxjs/internal/Observable';\n\n\nimport { URL_SERVER_SOCKET } from '../config/config.const';\n// import { CartaModel } from 'src/app/modelos/carta.model';\n// import { SeccionModel } from 'src/app/modelos/seccion.model';\n// import { ItemModel } from 'src/app/modelos/item.model';\nimport { TipoConsumoModel } from 'src/app/modelos/tipoconsumo.model';\n\nimport { ItemTipoConsumoModel } from 'src/app/modelos/item.tipoconsumo.model';\nimport { InfoTockenService } from './info-token.service';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nimport { MipedidoService } from './mipedido.service';\nimport { Router } from '@angular/router';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  // private objLaCartaSocket: any;\n  private socket: SocketIOClient.Socket;\n  // private item: ItemModel;\n  private urlSocket = URL_SERVER_SOCKET;\n\n  isSocketOpen = false;\n  isSocketOpenReconect = false;\n\n  // listen is socket open\n  private isSocketOpenSource = new BehaviorSubject<boolean>(false);\n  public isSocketOpen$ = this.isSocketOpenSource.asObservable();\n\n  private msjConexSource = new BehaviorSubject<String>('Cargando datos ...');\n  public msjConex$ = this.msjConexSource.asObservable();\n\n  private resTipoConsumo: any = [];\n\n  private verificandoConexion = false;\n\n  constructor(\n    private infoTockenService: InfoTockenService,\n    private router: Router\n    ) {\n\n  }\n\n  // _isOutCarta si esta fuera de la carta // si esta en la plataforma de deliverys estableciemientos\n  // isCashAtm si esta desde cash atm\n  connect(infoUser: any = null, opFrom: number = 1, _isOutCarta = false, _isCashAtm = false) {\n    if ( this.isSocketOpen ) {\n      this.infoTockenService.setSocketId(this.socket.id);\n      return; } // para cuando se desconecta y conecta desde el celular\n\n    // produccion\n    // this.socket = io('/', {\n    //   secure: true,\n    //   rejectUnauthorized: false,\n    //   forceNew: false\n    // });\n\n    const infToken = this.infoTockenService.infoUsToken || infoUser;\n\n    const dataSocket = {\n      idorg: infToken.idorg || 0,\n      idsede: infToken.idsede || 0,\n      idusuario: infToken.idusuario,\n      idcliente: infToken.idcliente,\n      iscliente: infToken.isCliente || false,\n      isOutCarta: _isOutCarta,\n      isCashAtm: _isCashAtm,\n      isFromApp: opFrom,\n      firts_socketid: infToken.socketId\n    };\n\n    // console.log('dataSocket', dataSocket);\n\n    // desarrollo\n    this.socket = io(this.urlSocket, {\n      secure: true,\n      rejectUnauthorized: false,\n      // forceNew: true,\n      query: dataSocket\n      // forceNew: true\n    });\n\n    this.listenStatusSocket(); // escucha los estado del socket\n\n    // this.socket.on('finishLoadDataInitial', () => {\n    //   // setTimeout(() => {\n    //     // this.isSocketOpen = true;\n    //     // this.isSocketOpenSource.next(true);\n    //     this.statusConexSocket(true, '');\n    //     this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n    //   // }, 1000);\n    //   console.log('conected socket finishLoadDataInitial');\n    // });\n\n    // // this.socket.on('connect', (res: any) => {\n    // //   this.statusConexSocket(true, 'socket event connect');\n    // // });\n\n    // this.socket.on('connect_failed', (res: any) => {\n    //   console.log('itento fallido de conexion', res);\n    //   this.statusConexSocket(false, 'connect_failed');\n    // });\n\n    // this.socket.on('connect_error', (res: any) => {\n    //   console.log('error de conexion', res);\n    //   this.statusConexSocket(false, 'connect_error');\n    // });\n\n    // this.socket.on('disconnect', (res: any) => {\n    //   console.log('disconnect');\n    //   this.statusConexSocket(false, 'disconnect');\n    // });\n\n    // this.onListenSocketDisconnet();\n  }\n\n  getIdSocket(): string {\n    return this.socket.id;\n  }\n\n  onGetCarta() {\n    return new Observable(observer => {\n        this.socket.on('getLaCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  onGetDataSedeDescuentos() {\n    return new Observable(observer => {\n        this.socket.on('getDataSedeDescuentos', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  onGetTipoConsumo() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n      this.socket.on('getTipoConsumo', (res: TipoConsumoModel) => {\n        // this.resTipoConsumo = res;\n        observer.next(res);\n      });\n    });\n  }\n\n  // onGetTipoConsumo() {\n  //   return this.listen('getTipoConsumo');\n  // }\n\n  // verificar para eliminar\n  getDataTipoConsumo(): ItemTipoConsumoModel[] {\n    const resTPC: ItemTipoConsumoModel[] = [];\n    this.resTipoConsumo .map((t: TipoConsumoModel) => {\n      const _objTpcAdd = new ItemTipoConsumoModel();\n      _objTpcAdd.descripcion = t.descripcion;\n      _objTpcAdd.idtipo_consumo = t.idtipo_consumo;\n      _objTpcAdd.titulo = t.titulo;\n\n      resTPC.push(_objTpcAdd);\n    });\n\n    return resTPC;\n  }\n\n  onItemModificado() {\n    return new Observable(observer => {\n      this.socket.on('itemModificado-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemModificado() {\n  //   return this.listen('observer');\n  // }\n\n  onNuevoItemAddInCarta() {\n    return new Observable(observer => {\n      this.socket.on('nuevoItemAddInCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onNuevoItemAddInCarta() {\n  //   return this.listen('nuevoItemAddInCarta');\n  // }\n\n  // cuando se recupera el stock de pedido que caduco el tiempo\n  onItemResetCant() {\n    return new Observable(observer => {\n      this.socket.on('itemResetCant-pwa', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onItemResetCant() {\n  //   return this.listen('itemResetCant');\n  // }\n\n  // load reglas de la carta y subtotales\n  onReglasCarta() {\n    return new Observable(observer => {\n      this.socket.on('getReglasCarta', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // onReglasCarta() {\n  //   return this.listen('getReglasCarta');\n  // }\n\n  // datos de la sede, impresoras\n  // load reglas de la carta y subtotales\n  onGetDatosSede() {\n    return new Observable(observer => {\n      this.socket.on('getDataSede', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // respuesta de hacer un nuevo pedido\n  onGetNuevoPedido() {\n    return new Observable(observer => {\n      this.socket.on('nuevoPedido', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  // cuando el cliente paga el pedido\n  onPedidoPagado() {\n    return new Observable(observer => {\n      this.socket.on('pedido-pagado-cliente', (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n\n  onDeliveryPedidoChangeStatus() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-estado-pedido', (estado: any) => {\n        observer.next(estado);\n      });\n    });\n  }\n\n  onDeliveryUbicacionRepartidor() {\n    return new Observable(observer => {\n      this.socket.on('repartidor-notifica-ubicacion', (coordenadas: any) => {\n        observer.next(coordenadas);\n      });\n    });\n  }\n\n\n  onComercioOpenChangeFromMonitor() {\n    return new Observable(observer => {\n      this.socket.on('set-comercio-open-change-from-monitor', (comercioId: any) => {\n        observer.next(comercioId);\n      });\n    });\n  }\n\n  // repuesta del mensaje de verificacion\n  onMsjVerificacionResponse() {\n    return new Observable(observer => {\n      this.socket.on('mensaje-verificacion-telefono-rpt', (data: any) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  // fecha ahora\n  onGetInfoDateNow() {\n    // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }\n    return new Observable(observer => {\n      this.socket.on('date-now-info', (res: any) => {\n        // this.resTipoConsumo = res;\n        observer.next(res);\n      });\n    });\n  }\n\n  // onDeliveryGetLastIdPedido() {\n  //   return new Observable(observer => {\n  //     this.socket.on('get-lastid-pedido', (res: any) => {\n  //       observer.next(res);\n  //     });\n  //   });\n  // }\n\n\n  // zona delivery establecimiento\n\n\n  // onGetDatosSede() {\n  //   return this.listen('getDataSede');\n  // }\n\n  // onListenSocketDisconnet() {\n  //   return new Observable(observer => {\n  //     this.socket.on('disconnect', (res: any) => {\n  //       this.isSocketOpen = false;\n  //       this.isSocketOpenSource.next(false);\n  //     });\n  //   });\n  // }\n\n  emit(evento: string, data: any) {\n    // verificar estado del socket\n\n    this.socket.emit(evento, data);\n  }\n\n  emitRes(evento: string, data: any) {\n    return new Observable(observer => {\n      this.socket.emit(evento, data, (res) => {\n        // console.log('respuesta socket', res);\n        observer.next(res);\n      });\n    });\n  }\n\n  private listen( evento: string ) {\n    return new Observable(observer => {\n      this.socket.on( evento , (res: any) => {\n        observer.next(res);\n      });\n    });\n  }\n\n  closeConnection(): void {\n    try {\n      this.socket.disconnect();\n    } catch (error) {}\n    // this.isSocketOpen = false;\n    // this.isSocketOpenSource.next(false);\n    this.statusConexSocket(false, 'disconnect');\n  }\n\n  private listenStatusSocket(): void {\n\n    this.socket.on('finishLoadDataInitial', () => {\n      this.statusConexSocket(true, '');\n      this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta\n      // console.log('conected socket finishLoadDataInitial');\n    });\n\n    // estados del navigator\n\n    window.addEventListener('focus', (event) => {\n      this.verifyConexionSocket();\n    });\n\n    window.addEventListener('online', () => {\n      this.showStatusConexNavigator(true, 'navigator_online');\n    });\n    window.addEventListener('offline', () => {\n      console.log('out focus');\n      this.showStatusConexNavigator(false, 'navigator_offline');\n    });\n\n    window.addEventListener('blur', () => {\n      console.log('out focus');\n      // this.showStatusConexNavigator(false, 'navigator_offline');\n    });\n\n\n    // estado del socket\n    this.socket.on('connect', () => {\n      // console.log('socket connect');\n\n      this.infoTockenService.setSocketId(this.socket.id);\n\n      this.statusConexSocket(true, 'connect');\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n    });\n\n    this.socket.on('connect_failed', (res: any) => {\n      // console.log('itento fallido de conexion', res);\n      this.statusConexSocket(false, 'connect_failed');\n    });\n\n    this.socket.on('connect_error', (res: any) => {\n      // console.log('error de conexion', res);\n      this.statusConexSocket(false, 'connect_error');\n    });\n\n    this.socket.on('disconnect', (res: any) => {\n      // console.log('disconnect');\n      this.statusConexSocket(false, 'disconnect');\n    });\n\n    // escucha la verificacion de conexion\n    this.socket.on('verificar-conexion', (res: any) => {\n\n      // verifica el tiempo de session\n      if (!this.infoTockenService.verificarContunuarSession()) {\n        this.closeConnection();\n        this.cerrarSessionBeforeTimeSession();\n        return;\n      }\n\n      if ( res === true ) { console.log('VERIFY CONECTION => OK'); this.verificandoConexion = false; return; }\n\n      // no hay conexion -- en pruebas ver comportamiento\n      // console.log('VERIFY CONECTION => FALSE');\n      this.closeConnection();\n      this.statusConexSocket(false, 'disconnect');\n      this.cerrarSessionBeforeTimeSession();\n      this.connect();\n      this.verificandoConexion = false;\n    });\n\n  }\n\n  private statusConexSocket(isConncet: boolean, evento: string) {\n    this.isSocketOpen = isConncet;\n    this.isSocketOpenSource.next(isConncet);\n\n    let msj = 'Conectando datos ...';\n    switch (evento) {\n      case 'conected': // conectando\n        msj = 'Conectando datos ...';\n        break;\n      case 'connect_failed': // conectando\n        msj = 'Conectando datos ..';\n        this.verificandoConexion = false;\n        break;\n      case 'connect_error': // conectando\n        msj = 'Conectando datos .';\n        this.verificandoConexion = false;\n        break;\n      case 'disconnect': // conectando\n        msj = 'Restableciendo conexion ...';\n        this.verificandoConexion = false;\n        break;\n      case 'navigator_offline': // conectando\n        msj = 'Conexion cerrada -b ...';\n        this.verificandoConexion = false;\n        break;\n      case 'navigator_online': // conectando\n        msj = 'Conectando datos -b ...';\n        break;\n    }\n\n    this.msjConexSource.next(msj);\n  }\n\n  private showStatusConexNavigator(online: boolean, evento: string): void {\n\n    this.statusConexSocket(online, evento);\n    // this.isSocketOpen = online;\n    // this.isSocketOpenSource.next(online);\n\n    if (online) {\n      console.log('navegador conectado');\n    } else {\n      console.log('!!! navegador desconectado !!');\n      this.verificandoConexion = false;\n    }\n  }\n\n  // verifica el estado del socket, si esta cerrado intenta abrirlo\n  verifyConexionSocket(): void {\n    // console.log('verificando...');\n    if ( this.verificandoConexion ) {return; }\n    this.verificandoConexion = true;\n    this.emit('verificar-conexion', this.socket.id);\n  }\n\n  // cierra session despues de que se comprueba que el tiempo de incio se de session supero lo establecido\n  private cerrarSessionBeforeTimeSession(reload: boolean = false) {\n    this.router.navigate(['../']);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MozoDialogComponent } from 'src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component';\nimport { SendDataTTS } from 'src/app/modelos/send.data.tts';\nimport { CrudHttpService } from '../crud-http.service';\nimport { InfoTockenService } from '../info-token.service';\nimport { UtilitariosService } from '../utilitarios.service';\nimport { SpechTotextService } from './spech-totext.service';\nimport { SpechTTSService } from './spech-tts.service';\nimport { SpeechDataProviderService } from './speech-data-provider.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComandAnalizerService {\n\n  dataListComand: any;\n  isMicrophoneOn = false;\n  lastCommnad = null;\n  lastTextoRecibido = '';\n  lastComandOk = '';\n  isProcessTalking = false;\n  isTalking = false;\n  isActive = false;\n\n\n  private keySotrageCommand = 'sys::cmdv';\n\n  constructor(\n    private crudService: CrudHttpService,\n    private speechTTService: SpechTTSService,\n    private spechTotextService: SpechTotextService,\n    private speechDataProviderService: SpeechDataProviderService,\n    private infoTokenService: InfoTockenService,\n    private dialog: MatDialog,\n    private utilitariosService: UtilitariosService\n    // private spechProviderConnectService: SpechProviderConnectService,\n  ) {\n    // this.getComands();\n\n    // ecucha voz to text\n    this.spechTotextService.speechTexResponse$.subscribe((data: any) => {\n      if ( !data ) {return; }\n\n      // if (data[0].isFinal) {\n        // console.log('response', data[0].alternatives[0].transcript);\n        const _transcript = data[0].alternatives[0].transcript;\n        if ( this.lastComandOk !== '' ) {\n          const _compareSimlary = this.utilitariosService.compareSimilaryText(this.lastComandOk, _transcript);\n          if ( _compareSimlary >= 0.79 ) {\n            return; }\n        }\n\n        // console.log('data[0].alternatives[0].transcript', _transcript);\n        this.cocinarComand(_transcript);\n      // }\n    });\n\n\n    this.speechTTService.isTalking$.subscribe((isTalkin: boolean) => {\n      this.isTalking = isTalkin;\n      if ( this.isMicrophoneOn ) {\n        if ( isTalkin ) {\n          this.spechTotextService.stopRecording();\n        } else {\n          this.spechTotextService.startRecording();\n        }\n      }\n    });\n\n    this.speechDataProviderService.isPedidoEnviado$\n    .subscribe((res) => {\n      if (res) {\n        if ( !this.isMicrophoneOn ) { return; }\n        this.isTalking = false;\n        this.spechTotextService.stopRecording();\n      }\n    });\n\n  }\n\n  getIsActive(): boolean {\n    return this.isActive;\n  }\n\n  setIsActive(val: boolean) {\n    this.isActive = val;\n  }\n\n  getComands() {\n    if (!this.dataListComand) {\n      this.crudService.getAll('speech', 'comandos', false, false, false)\n      .subscribe((res: any) => {\n        // console.log('comandos', res);\n        this.dataListComand = res.data;\n      });\n    } else {\n      // console.log('comandos dataListComand', this.dataListComand);\n    }\n  }\n\n\n  // ============= VOZ TO TEXT ======= //\n  startRecording() {\n    this.isMicrophoneOn = true;\n    this.spechTotextService.startRecording();\n  }\n\n  stopRecording() {\n    if ( !this.isMicrophoneOn ) { return; }\n    this.isMicrophoneOn = false;\n    this.spechTotextService.stopRecording();\n  }\n\n\n  // ============= TTS ======= //\n  cocinarComand(comand: string) {\n    const _command = this.searchComandList(comand);\n    if ( _command ) {\n      this.lastCommnad = _command.seccion !== 'inicio' && _command.seccion !== 'finalizar_pedido' && _command.seccion !== 'carta_recomendacion' ? _command : null;\n      _command.texto_recibido = comand.replace(this.lastTextoRecibido, '');\n      this.analizeCommand(_command);\n    }\n  }\n\n  // seccion\n  searchComandList(comand: string): SendDataTTS {\n    let rpt = null;\n    comand = comand.toLowerCase();\n\n    if ( !this.dataListComand ) {return; }\n\n    this.dataListComand.map((c: SendDataTTS) => {\n      const list = c.comando.split(',');\n      const res = list.find(x => {\n        const patt = new RegExp(x);\n        return patt.test(comand);\n      });\n\n      if ( res ) {\n        rpt = c;\n        rpt.texto_recibido = comand;\n        rpt.comando_recibido = res;\n      }\n\n    });\n\n    if (!rpt) {\n      if ( this.lastCommnad ) {\n        this.lastCommnad.texto_recibido = comand;\n        rpt = this.lastCommnad;\n      }\n    }\n    return rpt;\n  }\n\n  // buscar en text comando, despues de palabra clave o comando principal\n  // searchIn array de strig separado por comas\n  searchCommandStr(text_command: any, searchIn: any): string {\n    let commandSelected = '';\n\n    // descomponer para hacer singular // quitamos las 's'\n    // const strSingular = text_command.split(' ').map(x => x.replace(/s$/, '')).join(' ');\n\n    searchIn.map((s: string) => {\n\n      const _similitudCompare = this.utilitariosService.compareSimilaryText(text_command.trim(), s.trim());\n      if (_similitudCompare > 0.78) {\n        commandSelected = s;\n      }\n      // console.log('_similitudCompare', _similitudCompare);\n      // const regexp = s + '?';\n      // let arrayChar = [...text_command.matchAll(regexp) || []];\n      // // console.log(regexp, array);\n      // if ( arrayChar.length > 0 ) {\n      //   commandSelected = s.length > commandSelected.length ? s : commandSelected;\n      // } else {\n      //   // busca en singular\n      //   arrayChar = [...strSingular.matchAll(regexp) || []];\n      //   if ( arrayChar.length > 0 ) {\n      //     commandSelected = s.length > commandSelected.length ? s : commandSelected;\n      //   }\n      // }\n    });\n\n    return commandSelected;\n  }\n\n\n  private async analizeCommand(comand: SendDataTTS) {\n    // let _strComandEqual = this.lastComandOk.toLowerCase().trim();\n    // _strComandEqual = _strComandEqual.replace(comand.texto_recibido.toLowerCase().trim(), '');\n    // if ( _strComandEqual.trim() === '' ) {return; }\n    if ( this.lastComandOk.toLowerCase().trim() === comand.texto_recibido.toLowerCase().trim() ) {return; }\n    // this.isProcessTalking = true;\n\n    // await this.utilitariosService.delay(1000);\n\n\n    // console.log('comand recibido', comand);\n    // console.log('this.lastComandOk', this.lastComandOk);\n\n    // si se esta ejecuntando un comando return;\n    if ( this.isTalking ) {return; }\n\n    switch (comand.seccion) {\n      case 'inicio':\n        this.commandIncio(comand);\n        break;\n      case 'carta':\n        this.commandCarta(comand);\n        break;\n      case 'carta_recomendacion':\n        this.commandCartaRecomendacion(comand);\n        break;\n      case 'navegacion':\n        this.commandNavegacion(comand);\n        break;\n      case 'carta_contenido':\n        this.commandCartaContenido(comand);\n        break;\n      case 'carta_item_suma':\n        this.commandCartaItemSuma(comand);\n        break;\n      case 'carta_item_resta':\n        this.commandCartaItemResta(comand);\n        break;\n      case 'carta_item_resetea':\n        this.commandCartaItemResetea(comand);\n        break;\n      case 'finalizar_pedido':\n        this.commandFinalizarPedido(comand);\n        break;\n      // case 'carta_item_indicaciones':\n      //   this.commandCartaItemIndicaciones(comand);\n      //   break;\n    }\n  }\n\n  //// INCIO\n  private commandIncio(command: SendDataTTS) {\n    switch (command.comando) {\n      case 'bienvenido':\n        const nomSede = this.speechDataProviderService.getNameSede();\n        // console.log('nomSede', nomSede);\n        const _isCommandStorage = this.getCommandStorage(command);\n        if ( _isCommandStorage ) {\n          if ( _isCommandStorage.isTimePlay ) {\n            command.text = command.texto_default.text2;\n            command.text = command.text.replace('?nomcliente', '');\n\n            // mostrar dialog info\n            // this.dialog.open(MozoDialogComponent);\n          } else {\n            return;\n          }\n        } else {\n          command.text = command.texto_default.text1;\n          command.text = command.text.replace('?nomsede', nomSede);\n        }\n\n        command.idsede = this.speechDataProviderService.getIdSede();\n        // console.log('mensaje de bienvenido', command);\n        this.speechVoice(command);\n\n        // mostrar dialog info\n        this.dialog.open(MozoDialogComponent);\n\n\n        break;\n    }\n  }\n\n\n  /// CARTA LEER\n  private commandCarta(command: SendDataTTS) {\n    // leeme, dime, lee, que hay de ...(buscamos en las secciones de la carta)\n    const _seccionSeleted = this.getSeccionCarta(command);\n    if ( _seccionSeleted.seccion ) {\n      const _itemsStr = this.speechDataProviderService.getItemsSeccionSelectedStr(_seccionSeleted.seccion);\n      // console.log('itemSeccion', _itemsStr);\n\n      // this.speechDataProviderService.setIsCommandAceptado(1);\n      this.isCommandOk(command.texto_recibido, 1);\n\n      const textSend = `De ${_seccionSeleted.nomSeccion}, tenemos: ${_itemsStr}`;\n      this.sendTxtToVoice(command, textSend);\n\n      this.speechDataProviderService.goNavegacionSeccionCarta(_seccionSeleted.seccion);\n    }\n\n    this.speechDataProviderService.getCarta();\n  }\n\n  private commandCartaRecomendacion(command: SendDataTTS) {\n    const _itemsStr =  this.speechDataProviderService.getItemsRecomendadosStr();\n    if (!_itemsStr ) { // si no existe recomendados\n      this.isCommandOk(command.texto_recibido, 1);\n      this.sendTxtToVoice(command, command.texto_default.text1);\n      return;\n    }\n\n    this.isCommandOk(command.texto_recibido, 1);\n\n    const textSend = `Le recomendamos: ${_itemsStr}`;\n    this.sendTxtToVoice(command, textSend);\n\n    this.speechDataProviderService.goNavegacionItemRecomendados();\n  }\n\n  // CARTA CONTENIDO // lee contenido o detalle de los platos\n  private commandCartaContenido(command: SendDataTTS) {\n    // console.log('comando carta contenido');\n    const _itemSeleted = this.getItemCarta(command);\n    if ( _itemSeleted.item ) {\n      // console.log('_itemSeleted', _itemSeleted);\n      // this.speechDataProviderService.setIsCommandAceptado(1);\n      this.isCommandOk(command.texto_recibido, 1);\n      const textSend = `${_itemSeleted.nomItem}:. ${_itemSeleted.item.detalles}`;\n      this.sendTxtToVoice(command, textSend);\n    }\n  }\n\n  // CARTA SUMA SUMA\n  private commandCartaItemSuma(command: SendDataTTS) {\n    // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');\n    // const sa1 = command.texto_recibido.toLowerCase();\n    // const sa2 = command.comando_recibido.toLowerCase();\n    let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);\n\n    const rptCant = this.convertTxtToNum(_command);\n    // const numCantidad = rptCant?.num || null;\n    // _command = _command.replace(rptCant.numStr || '', '').trim();\n    // console.log('numCantidad', numCantidad);\n    // identifica numero\n\n    if ( rptCant ) {\n      const numCantidad = rptCant?.num || null;\n      _command = _command.replace(rptCant.numStr || '', '').trim();\n\n      const _itemSeleted = <any>this.getItemCarta(command, _command);\n      this.sendItemToPedido(_itemSeleted, numCantidad, true, command);\n      // console.log('commandCartaItemSuma', _itemSeleted);\n      // this.speechDataProviderService.setIsCommandAceptado(2);\n      // for (let index = 0; index < numCantidad; index++) {\n      //   // agrega\n      //   this.sendItemToPedido(_itemSeleted, true);\n      //   // this.speechDataProviderService.addItemPedido(_itemSeleted.item);\n      // }\n\n    }\n  }\n\n  // CARTA RESTA\n  private commandCartaItemResta(command: SendDataTTS) {\n    // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');\n    // const sa1 = command.texto_recibido.toLowerCase();\n    // const sa2 = command.comando_recibido.toLowerCase();\n    let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);\n\n    const rptCant = this.convertTxtToNum(_command);\n\n    if ( !rptCant ) { return; }\n    let numCantidad = rptCant?.num || null;\n    _command = _command.replace(rptCant.numStr || '', '');\n    // let numCantidad = this.convertTxtToNum(_command);\n    // console.log('numCantidad', numCantidad);\n    // identifica numero\n    const _itemSeleted = <any>this.getItemCarta(command, _command);\n\n    if (!_itemSeleted.item) {return; }\n    // si no hay cantidad quita todo\n    numCantidad = numCantidad ? numCantidad : _itemSeleted.item.cantidad_seleccionada;\n    this.sendItemToPedido(_itemSeleted, numCantidad, false, command);\n    // console.log('commandCartaItemResta', _itemSeleted);\n\n    // this.speechDataProviderService.setIsCommandAceptado(1);\n\n  }\n\n  // CARTA RESETEA\n  private commandCartaItemResetea(command: SendDataTTS) {\n    // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');\n    // const sa1 = command.texto_recibido.toLowerCase();\n    // const sa2 = command.comando_recibido.toLowerCase();\n    let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);\n\n    const rptCant = this.convertTxtToNum(_command);\n    if ( !rptCant ) { return; }\n\n    const numCantidad = rptCant?.num || null;\n    _command = _command.replace(rptCant.numStr || '', '');\n    // const numCantidad = this.convertTxtToNum(_command);\n    // console.log('numCantidad', numCantidad);\n    // identifica numero\n    const _itemSeleted = <any>this.getItemCarta(command, _command);\n\n    if (!_itemSeleted.item || !numCantidad) {return; }\n\n    // quita todo\n    const _numCantidadItemActual = _itemSeleted.item.cantidad_seleccionada;\n    this.sendItemToPedido(_itemSeleted, _numCantidadItemActual, false, command);\n\n    // agrega la nueva cantidad\n    this.sendItemToPedido(_itemSeleted, numCantidad, true, command);\n    // console.log('commandCartaItemResetea', _itemSeleted);\n    // this.speechDataProviderService.setIsCommandAceptado(1);\n    this.isCommandOk(command.texto_recibido, 1);\n\n  }\n\n  // CARTA INDICACIONES\n  // commandCartaItemIndicaciones(command: SendDataTTS) {\n  //   let _command = command.texto_recibido.replace(command.comando_recibido, '');\n  //   const _itemSeleted = <any>this.getItemCarta(command);\n\n  //   if (!_itemSeleted.item) {return; }\n\n  //   _command = _command.replace(_itemSeleted.item.des, '');\n  //   console.log('_command', _command);\n  //   this.speechDataProviderService.setIndicaciones(_itemSeleted.item, _command);\n  //   this.isCommandOk(command.texto_recibido, 1);\n  // }\n\n\n  // envia el item al pedido (suma o resta)\n  private sendItemToPedido(_itemSeleted, numCantidad, isSuma: boolean, command: SendDataTTS) {\n    if (!_itemSeleted.item) {return; }\n    // this.speechDataProviderService.setIsCommandAceptado(2);\n    this.isCommandOk(command.texto_recibido, 2);\n    _itemSeleted.isSuma = isSuma;\n    for (let index = 0; index < numCantidad; index++) {\n      this.speechDataProviderService.addItemPedido(_itemSeleted);\n    }\n  }\n\n\n\n\n  // NAVEGACION\n  commandNavegacion(command: SendDataTTS) {\n    const _seccionSeleted = this.getSeccionCarta(command);\n    if ( _seccionSeleted.seccion ) {\n      this.speechDataProviderService.goNavegacionSeccionCarta(_seccionSeleted.seccion);\n      // this.speechDataProviderService.setIsCommandAceptado(1);\n      this.isCommandOk(command.texto_recibido, 1);\n    } else {\n      // puede ser ver el pedido, reresar\n\n      // mostrar pedido, mi pedido,\n      const isShowPedido = command.texto_recibido.indexOf('pedido') > -1;\n      if ( isShowPedido ) {\n        this.speechDataProviderService.goNavigacionShowMiPedido();\n        this.isCommandOk(command.texto_recibido, 1);\n      }\n      // this.speechDataProviderService.setIsCommandAceptado(1);\n      // console.log('navegacion', command);\n    }\n  }\n\n\n  // FINALIZAR PEDIDO\n  commandFinalizarPedido(command: SendDataTTS) {\n  // console.log('command', command);\n    if ( this.speechDataProviderService.getIsPedidoValido() ) {\n      this.isCommandOk(command.texto_recibido, 1);\n      this.speechDataProviderService.goNavigacionShowMiPedido();\n      this.speechDataProviderService.setFinalizarPedido(true);\n\n      // chequea que el cliente tenga nombres\n      if (this.infoTokenService.getInfoUs().nombres === '') {\n        command.text = command.texto_default.text1;\n        this.speechVoice(command);\n      } else {\n        command.text = command.texto_default.text2;\n        this.speechVoice(command);\n      }\n    }\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  private getSeccionCarta(command: SendDataTTS): any {\n    // const _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');\n    // const sa1 = command.texto_recibido.toLowerCase();\n    // const sa2 = command.comando_recibido.toLowerCase();\n    const _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);\n    // buscamos seccion en carta\n    const arrSecciones = this.speechDataProviderService.getSeccionesCarta().toLowerCase().split(',');\n    const _seccionCarta = this.searchCommandStr(_command, arrSecciones);\n\n    const seccion = _seccionCarta !== '' ? this.speechDataProviderService.getISeccionSelected(_seccionCarta) : null;\n    return {\n      nomSeccion : _seccionCarta,\n      seccion: seccion\n    };\n  }\n\n  private getItemCarta(command: SendDataTTS, _itemDes: string = null) {\n    // const _command = command.texto_recibido.replace(command.comando_recibido, '');\n    const _command = _itemDes ? _itemDes : this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);\n    const arrItems = this.speechDataProviderService.getItemsCarta().toLowerCase().split(',');\n    const _ItemCarta = this.searchCommandStr(_command, arrItems);\n    const item = _ItemCarta !== '' ? this.speechDataProviderService.getIItemsSelected(_ItemCarta) : null;\n    return {\n      nomItem : _ItemCarta,\n      item: item\n    };\n  }\n\n  private convertTxtToNum(command: string): any {\n    let num = null;\n    const _strNum = 'uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez,once,doce,trece,catorce,quince,dieciseis,diecisiete,diecisiete,dieciocho,diecinueve,veinte,veintiuno,veintidos,veintitres,veinticuatro,veinticinco';\n    const _strOtherOne = 'otro,un,una';\n    const _intNum = '1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30';\n    let numStr = '';\n\n    command = ' ' + command;\n\n    // 1) econtar entero en cadena\n    const numRpt = command.match(/\\d+/);\n    num = numRpt ? numRpt[0] : null;\n    if ( !num ) {\n\n      // 2) busca descripcion del numero en cadena\n      num = _strNum.split(',').findIndex(c => command.match(' ' + c + ' ')) + 1;\n      numStr = _strNum.split(',')[num - 1];\n\n      if ( num === 0 ) { // no encontro\n        // 3) buscamos en _strOtherOne\n        num = _strOtherOne.split(',').findIndex(c => command.match(' ' + c + ' '));\n        numStr = _strOtherOne.split(',')[num];\n        num = num ? 1 : null;\n      }\n\n      // console.log('num1', num);\n    }\n\n    return num ? {num: num, numStr: numStr} : null;\n\n    // return num ? num : null;\n\n\n    // const patt = new RegExp(_strNum);\n    // numRpt = patt.test(command);\n  }\n\n  private replaceTextRecibidoComand(texto_recibido: string, comando_recibido: string): string {\n    const sa1 = texto_recibido.toLowerCase();\n    const sa2 = comando_recibido.toLowerCase();\n    return sa1.replace(sa2, '').trim();\n  }\n\n  private sendTxtToVoice(commandSend: SendDataTTS, text: string) {\n\n\n    if ( this.isProcessTalking ) { return; }\n    this.isProcessTalking = true;\n\n    commandSend.idsede = 1;\n    commandSend.text = text;\n\n    // console.log('commandSend', commandSend);\n    this.speechTTService.convertTxtToVoice(commandSend);\n\n    setTimeout(() => { this.isProcessTalking = false; }, 1000);\n  }\n\n\n  private isCommandOk(command: string, numberBeep: number) {\n    this.lastComandOk = command;\n    this.speechDataProviderService.setIsCommandAceptado(numberBeep);\n\n    setTimeout(() => { this.lastComandOk = ''; }, 1000);\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  private speechVoice(command: SendDataTTS) {\n    this.speechTTService.convertTxtToVoice(command);\n  }\n\n  private getCommandStorage(command: SendDataTTS): any {\n    let commandResponse = null;\n    const cmdStorage = localStorage.getItem(this.keySotrageCommand);\n    const cmdStorageList = cmdStorage ? JSON.parse(cmdStorage) : null;\n    if ( cmdStorageList ) {\n      commandResponse = cmdStorageList.filter(x => x.idcomando_voz === command.idcomando_voz)[0] || null;\n      if ( !commandResponse ) {\n        this.saveCommandStorage(command);\n      } else {\n        // si existe en storage verifica el tiempparse\n        const minDiffCommand = this.diffMinTimeComandStorage(commandResponse);\n        commandResponse.isTimePlay = minDiffCommand > 15;\n\n        if ( commandResponse.isTimePlay ) {\n          commandResponse.time = new Date().toISOString();\n          localStorage.setItem(this.keySotrageCommand, JSON.stringify(cmdStorageList));\n        }\n      }\n    } else {\n      this.saveCommandStorage(command);\n    }\n\n    return commandResponse;\n  }\n\n  private saveCommandStorage(command: SendDataTTS) {\n    const cmdStorage = localStorage.getItem(this.keySotrageCommand);\n    const cmdStorageList = cmdStorage ? JSON.parse(cmdStorage) : [];\n    const _newRowStorage = {idcomando_voz: command.idcomando_voz, time: new Date().toISOString()};\n    cmdStorageList.push(_newRowStorage);\n\n    localStorage.setItem(this.keySotrageCommand, JSON.stringify(cmdStorageList));\n  }\n\n  private diffMinTimeComandStorage(commandStorage: any) {\n    const _dateCommand = new Date(commandStorage.time);\n    const _dateNow = new Date();\n    const diff = Math.abs(<any>_dateCommand - <any>_dateNow);\n    // const minutes = Math.floor((diff / 1000) / 60);\n    return Math.floor((diff / 1000) / 60);\n  }\n\n\n}\n","import { Injectable, EventEmitter, Output } from '@angular/core';\nimport { Socket } from 'ngx-socket-io';\nimport { URL_SERVER_SOCKET_SPEECH } from '../../config/config.const';\n\n@Injectable({\n  providedIn: 'root'\n})\n// export class SpechProviderConnectService extends Socket {\n  export class SpechProviderConnectService  {\n\n  @Output() speechDataEvent: EventEmitter<any> = new EventEmitter();\n  @Output() ttsDataEvent: EventEmitter<any> = new EventEmitter();\n  constructor() {}\n\n  emit(title: string, payload: any) { // temporal para anular\n    return false;\n  }\n//   constructor() {\n\n//     super({ url: URL_SERVER_SOCKET_SPEECH, options: {path: '/socket.io.speech'} });\n\n//     this.ioSocket.on('speechData', (data) => {\n//       this.speechDataEvent.emit(data);\n//     });\n\n//     this.ioSocket.on('speechDataTTS', (data) => {\n//       this.ttsDataEvent.emit(data);\n//     });\n\n//     this.ioSocket.on('messages', (data) => {\n//       console.log(data);\n//     });\n\n//     this.ioSocket.on('connect', () => {console.log('conectadoooo a speech'); });\n//   }\n\n//   emitEvent = (event = 'default', payload = {}) => {\n//     this.ioSocket.emit(event, payload);\n//   }\n\n//     // connectar() {\n//     //   this.ioSocket.on('connect', () => {console.log('conectadoooo a speech'); });\n//     // }\n\n//   // temporal\n//   // emit(a: string, payload: any) {\n\n//   // }\n}\n","import { EventEmitter, Injectable, Output } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { delay } from 'rxjs/internal/operators/delay';\nimport { SpechProviderConnectService } from './spech-provider-connect.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpechTotextService {\n\n  // @Output() speechTexResponse: EventEmitter<any> = new EventEmitter();\n  private speechTexResponseSource = new BehaviorSubject<any>(null);\n  public speechTexResponse$ = this.speechTexResponseSource.asObservable().pipe(delay(400));\n\n  // si esta recibiendo traducciones\n  private listenOnTraduceSource = new BehaviorSubject<boolean>(false);\n  public listenOnTraduce$ = this.listenOnTraduceSource.asObservable();\n\n  lastTranscript = '';\n\n\n  // ================= CONFIG =================\n  // Stream Audio\n  bufferSize = 2048;\n  AudioContext;\n  context;\n  processor;\n  input;\n  globalStream;\n\n  // variables\n  audioElement = document.querySelector('audio');\n  finalWord = false;\n  // resultText = document.getElementById('ResultText');\n  removeLastSentence = true;\n  streamStreaming = false;\n\n  // audioStream constraints\n  constraints = {\n    audio: true,\n    video: false,\n  };\n\n\n  constructor(\n    private speechProviverConnet: SpechProviderConnectService\n  ) {\n    this.speechProviverConnet.speechDataEvent.subscribe(data => {\n      this.speechData(data);\n      this.listenOnTraduceSource.next(true);\n    });\n  }\n\n  // connectar() {\n  //   this.speechProviverConnet.connectar();\n  // }\n\n  startRecording() {\n    this.initRecording();\n  }\n\n  private initRecording() {\n    this.speechProviverConnet.emit('startGoogleCloudStream', ''); // init socket Google Speech Connection\n    this.streamStreaming = true;\n\n    this.AudioContext = window.AudioContext;\n    this.context = new AudioContext({\n      // if Non-interactive, use 'playback' or 'balanced' // https://developer.mozilla.org/en-US/docs/Web/API/AudioContextLatencyCategory\n      // latencyHint: 'interactive',\n    });\n    this.processor = this.context.createScriptProcessor(this.bufferSize, 1, 1);\n    this.processor.connect(this.context.destination);\n    this.context.resume();\n\n    const handleSuccess = (stream)  => {\n      this.globalStream = stream;\n      this.input = this.context.createMediaStreamSource(stream);\n      this.input.connect(this.processor);\n\n      this.processor.onaudioprocess = (e) => {\n        // this.microphoneProcess(e);\n\n        const left = e.inputBuffer.getChannelData(0);\n        // var left16 = convertFloat32ToInt16(left); // old 32 to 16 function\n        const left16 = this.downsampleBuffer(left, 44100, 16000);\n        // console.log('emit audio');\n        this.speechProviverConnet.emit('binaryData', left16);\n      };\n    };\n\n    navigator.mediaDevices.getUserMedia(this.constraints).then(handleSuccess);\n  }\n\n  microphoneProcess(e) {\n    const left = e.inputBuffer.getChannelData(0);\n    // var left16 = convertFloat32ToInt16(left); // old 32 to 16 function\n    const left16 = this.downsampleBuffer(left, 44100, 16000);\n    this.speechProviverConnet.emit('binaryData', left16);\n  }\n\n  private downsampleBuffer = function (buffer, sampleRate, outSampleRate) {\n    if (outSampleRate === sampleRate) {\n      return buffer;\n    }\n    if (outSampleRate > sampleRate) {\n      throw new Error('downsampling rate show be smaller than original sample rate');\n    }\n    const sampleRateRatio = sampleRate / outSampleRate;\n    const newLength = Math.round(buffer.length / sampleRateRatio);\n    const result = new Int16Array(newLength);\n    let offsetResult = 0;\n    let offsetBuffer = 0;\n    while (offsetResult < result.length) {\n      const nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n      let accum = 0,\n        count = 0;\n      for (let i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n        accum += buffer[i];\n        count++;\n      }\n\n      result[offsetResult] = Math.min(1, accum / count) * 0x7fff;\n      offsetResult++;\n      offsetBuffer = nextOffsetBuffer;\n    }\n    return result.buffer;\n  };\n\n\n  stopRecording() {\n    // waited for FinalWord\n    this.streamStreaming = false;\n    this.speechProviverConnet.emit('endGoogleCloudStream', '');\n    this.listenOnTraduceSource.next(false);\n\n    const track = this.globalStream.getTracks()[0];\n    track.stop();\n\n    this.input.disconnect(this.processor);\n    this.processor.disconnect(this.context.destination);\n    this.context.close().then(() => {\n      this.input = null;\n      this.processor = null;\n      this.context = null;\n      this.AudioContext = null;\n      // this.startButton.disabled = false;\n    });\n  }\n\n  private speechData(data) {\n    // const dataFinal = undefined || data.results[0].isFinal;\n    // console.log('api speech response from speech to text', data.results);\n    // console.log(data.results);\n    // this.speechTexResponse.emit(data.results);\n    // if ( !dataFinal ) { return; }\n    if ( data.results.length === 0 ) { return; }\n    if ( this.lastTranscript ===  data.results[0].alternatives[0].transcript.toLowerCase()) { return; }\n    // data.results[0].alternatives[0].transcript = data.results[0].alternatives[0].transcript.replace(this.lastTranscript, '').trim();\n    this.speechTexResponseSource.next(data.results);\n    this.lastTranscript = data.results[0].alternatives[0].transcript.toLowerCase();\n\n    // if (dataFinal === false) {}\n    // console.log('Google Speech sent final Sentence.');\n    this.finalWord = true;\n  }\n\n  private capitalize(s) {\n    if (s.length < 1) {\n      return s;\n    }\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { SpechProviderConnectService } from './spech-provider-connect.service';\nimport { SendDataTTS } from 'src/app/modelos/send.data.tts';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { URL_SERVER_FILE_AUDIO_SPEECH } from '../../config/config.const';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpechTTSService {\n\n  private isTalkingSource = new BehaviorSubject<boolean>(false);\n  public isTalking$ = this.isTalkingSource.asObservable();\n\n  sendDataTTS = new SendDataTTS();\n\n  constructor(\n    private speechProviverConnet: SpechProviderConnectService\n  ) {\n\n\n    this.speechProviverConnet.ttsDataEvent.subscribe(async (data) => {\n      // console.log('respuesta audio', data);\n\n      // const context = new AudioContext();\n      // const buffer = await context.decodeAudioData(data);\n      // const source = context.createBufferSource();\n      // source.buffer = buffer;\n      // source.connect(context.destination);\n      // source.start();\n\n      const _urlAudio = `${URL_SERVER_FILE_AUDIO_SPEECH}${data}`;\n      const audio = new Audio(_urlAudio);\n      audio.play();\n      this.isTalkingSource.next(true);\n\n      audio.addEventListener('ended', () => {\n        // console.log('finalizo hablar');\n        this.isTalkingSource.next(false);\n      });\n    });\n\n  }\n\n  // enviar txt to tts\n  convertTxtToVoice(data: SendDataTTS) {\n    this.speechProviverConnet.emit('tts', data);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { SeccionModel } from 'src/app/modelos/seccion.model';\nimport { EstablecimientoService } from '../establecimiento.service';\nimport { MipedidoService } from '../mipedido.service';\nimport { NavigatorLinkService } from '../navigator-link.service';\nimport { UtilitariosService } from '../utilitarios.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpeechDataProviderService {\n\n  // escucha comando navegacion seccion\n  private commandNavegacionSeccionSource = new BehaviorSubject<SeccionModel>(null);\n  public commandNavegacionSeccion$ = this.commandNavegacionSeccionSource.asObservable();\n\n  private commandNavegacionRecomendadoSource = new BehaviorSubject<any>([]);\n  public commandNavegacionRecomendado$ = this.commandNavegacionRecomendadoSource.asObservable();\n\n  private commandAddItemSource = new BehaviorSubject<any>(null);\n  public commandAddItem$ = this.commandAddItemSource.asObservable();\n\n  // 1 = check 2 doble cheeck o beep\n  private commandAceptadoSource = new BehaviorSubject<number>(0);\n  public commandAceptado$ = this.commandAceptadoSource.asObservable();\n\n  private commandFinalizarPedidoSource = new BehaviorSubject<boolean>(false);\n  public commandFinalizarPedido$ = this.commandFinalizarPedidoSource.asObservable();\n\n  private commandIsShowPedidoSource = new BehaviorSubject<boolean>(false);\n  public commandIsShowPedido$ = this.commandIsShowPedidoSource.asObservable();\n\n\n  // pedido confirmado enviado\n  private isPedidoEnviadoSource = new BehaviorSubject<boolean>(false);\n  public isPedidoEnviado$ = this.isPedidoEnviadoSource.asObservable();\n\n\n  laCarta: any;\n  arrStringSecciones: string;\n  arrStringItems: string;\n\n  constructor(\n    private establecimientoService: EstablecimientoService,\n    private miPedidoService: MipedidoService,\n    private navigatorLinkService: NavigatorLinkService,\n    private uttilService: UtilitariosService\n  ) { }\n\n\n  // ===== provee datos de seccion INCIO ======= //\n  getNameSede() {\n    return this.establecimientoService.get().nombre;\n  }\n\n  getIdSede() {\n    return this.establecimientoService.get().idsede;\n  }\n\n  // ===== provee datos de seccion CARTA ======= //\n  getSeccionesCarta(): string {\n    let arrSeccines = '';\n\n    if ( this.arrStringSecciones ) {  return this.arrStringSecciones; }\n    // if ( !this.laCarta ) {this.getCarta(); }\n    this.getCarta();\n\n    arrSeccines += this.laCarta?.bodega ? this.laCarta.bodega.map(s => s.des).join(',') || '' + ',' : '';\n    arrSeccines = this.laCarta.carta.map(c => c.secciones.map(s => s.des)).join(',');\n\n    this.arrStringSecciones = arrSeccines;\n    return arrSeccines;\n  }\n\n  getItemsCarta(): string {\n    let arrItems = '';\n\n    if ( this.arrStringItems ) {  return this.arrStringItems; }\n    // if ( !this.laCarta ) {this.getCarta(); }\n    this.getCarta();\n\n    arrItems += this.laCarta?.bodega ? this.laCarta?.bodega.map(s => s.items.map(i => i.des)).join(',') || '' + ',' : '';\n    arrItems = this.laCarta.carta.map(c => c.secciones.map(s => s.items.map(i => i.des))).join(',');\n\n    this.arrStringItems = arrItems;\n    return arrItems;\n  }\n\n  getItemsSeccionSelected(nameSeccion: string): string {\n    let isSeccionBodega = true;\n    nameSeccion = nameSeccion.toLowerCase();\n    let _seccion = this.laCarta?.bodega.find(x => x.des.toLowerCase() === nameSeccion) || null;\n    if ( !_seccion ) {\n      isSeccionBodega = false;\n      _seccion = this.laCarta.carta.map(c => c.secciones.find(s => s.des.toLowerCase() === nameSeccion));\n    }\n\n    // console.log('_seccion seleted', _seccion);\n    return _seccion ? isSeccionBodega ?  _seccion.items.map(s => s.des).join(',') : _seccion.map(s => s.items.map(i => i.des)).join(',') || '' : '';\n\n  }\n\n  getItemsSeccionSelectedStr(seccion: any): string {\n    return seccion.items.filter(x => x.cantidad !== '0').map(s => s.des).join(',');\n  }\n\n  getItemsRecomendadosStr(): string {\n    if ( !this.laCarta ) {this.getCarta(); }\n    return  this.laCarta.recomendados ? this.laCarta.recomendados.map(i => i.des).join(',') : null;\n  }\n\n  getISeccionSelected(nameSeccion: string): any {\n    // let isSeccionBodega = true;\n    nameSeccion = nameSeccion.toLowerCase();\n    let _seccion = this.laCarta?.bodega ? this.laCarta?.bodega.find(x => x.des.toLowerCase() === nameSeccion) : null;\n    if ( !_seccion ) {\n      // isSeccionBodega = false;\n      _seccion = this.laCarta.carta.map(c => c.secciones.find(s => s.des.toLowerCase() === nameSeccion))[0];\n    }\n\n    // console.log('_seccion seleted', _seccion);\n    return _seccion;\n\n  }\n\n  getIItemsSelected(nameItem: string): any {\n    // let isSeccionBodega = true;\n    nameItem = nameItem.toLowerCase();\n    let _item = this.laCarta?.bodega ? this.laCarta?.bodega.map(x => x.items.find(i => i.des.toLowerCase() === nameItem)).find(x => x) : null;\n    if ( !_item ) {\n      // isSeccionBodega = false;\n      _item = this.laCarta.carta.map(c => c.secciones.map(s => s.items.find(i => i.des.toLowerCase() === nameItem)))[0].find(x => x);\n    }\n\n    // console.log('_item seleted', _item);\n    return _item;\n\n  }\n\n  getCarta() {\n    this.laCarta = this.miPedidoService.getObjCarta();\n    // console.log('this.laCarta', this.laCarta);\n  }\n\n  getIsPedidoValido() {\n    const _miPedido = this.miPedidoService.getMiPedido();\n\n    return _miPedido ? true : false;\n  }\n\n\n  // =========== COMANDOS NAVEGACION EN LA CARTA ==== //////////////////////////////////\n  goNavegacionSeccionCarta(seccion: any) {\n    this.commandNavegacionSeccionSource.next(seccion);\n    this.goNavigacionShowCarta();\n  }\n\n  goNavegacionItemRecomendados() {\n    const _recomendados = this.laCarta.recomendados;\n    this.commandNavegacionRecomendadoSource.next(_recomendados);\n    this.goNavigacionShowCarta();\n  }\n\n  goNavigacionShowMiPedido() {\n    this.navigatorLinkService.setPageActive('mipedido');\n    this.commandIsShowPedidoSource.next(true);\n  }\n\n  goNavigacionShowCarta() {\n    this.navigatorLinkService.setPageActive('carta');\n  }\n\n  // goNavigacionShowPedidoConfirma() {\n  //   this.navigatorLinkService.setPageActive('mipedido-confirma');\n  // }\n\n\n  // ============ para agregar item === //\n  addItemPedido(item: any) {\n    this.commandAddItemSource.next(item);\n  }\n\n  setIsCommandAceptado(val: number) {\n    this.commandAceptadoSource.next(val);\n  }\n\n  setFinalizarPedido(val: boolean) {\n    this.commandFinalizarPedidoSource.next(val);\n  }\n\n  setIsPedidoConfirmado() {\n    this.isPedidoEnviadoSource.next(true);\n  }\n\n  // = indiciaciones\n  setIndicaciones(item: any, val: string): void {\n    item.indicaciones = this.uttilService.addslashes(val);\n    // this.item.indicaciones = val;\n\n    // let isItemSubISelected = false;\n    // if ( this.isObjSubItems ) {\n    //   isItemSubISelected = this.item.subitems_selected?.length > 0;\n    // }\n\n    // agrega las indicaciones si existe en mipedido y si no tienen subitems\n    const _itemFromPedido = this.miPedidoService.findOnlyItemMiPedido(item);\n    if (_itemFromPedido) {\n      _itemFromPedido.indicaciones = val;\n    }\n\n    // if ( _itemFromPedido && !isItemSubISelected ) {\n    //   _itemFromPedido.indicaciones = val;\n    // }\n\n    this.miPedidoService.setLocalStoragePedido();\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  constructor() { }\n\n  set(key: string, data: string) {\n    localStorage.setItem(key, data);\n  }\n\n  get(key: string) {\n    return localStorage.getItem(key);\n  }\n\n  isExistKey(key: string): boolean {\n    return localStorage.getItem(key) ? true : false;\n  }\n\n  clear(key: string) {\n    localStorage.removeItem(key);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { InfoTockenService } from './info-token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimerLimitService {\n\n  private countdownTimerRef = null;\n  private init = 0;\n  public maxTime: number; // 3min defult\n  private valPorcentaje = 0;\n  private isPlayTimer = false;\n  private dateNow = new Date();\n\n\n  private countdownSource = new BehaviorSubject<number>(0);\n  public countdown$ = this.countdownSource.asObservable();\n\n  private isTimeLimitSource = new BehaviorSubject<boolean>(false);\n  public isTimeLimitComplet$ = this.isTimeLimitSource.asObservable();\n\n  private isPorgressVisibleSource = new BehaviorSubject<boolean>(false);\n  public isPorgressVisible$ = this.isPorgressVisibleSource.asObservable();\n\n  constructor(\n    private infoToken: InfoTockenService,\n  ) {\n   }\n\n  destroy(): void {\n    this.clearTimeout();\n  }\n\n  playCountTimerLimit(): void {\n    if ( this.infoToken.isDelivery() || this.infoToken.isReserva() ) { return; } // cuando es delivery no cuenta tiempo\n    if (this.isPlayTimer) {return; }\n    this.isPlayTimer = true;\n    this.initCount();\n  }\n\n  resetCountTimerLimit(): void {\n    if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    if (localStorage.getItem('sys::tcount') ) {\n      this.isPlayTimer = true;\n      this.initCount();\n    } else {\n      this.stopCountTimerLimit();\n    }\n  }\n\n  private initCount(): void {\n    if ( this.infoToken.isDelivery() ) { return; } // cuando es delivery no cuenta tiempo\n    this.valPorcentaje = 0;\n    this.init = localStorage.getItem('sys::tcount') ? parseInt(localStorage.getItem('sys::tcount'), 0) : 0;\n    this.isTimeLimitSource.next(false);\n    this.isPorgressVisibleSource.next(true);\n    this.progressCount();\n  }\n\n  private progressCount(): void {\n    let lastValPorcentaje = 0;\n    if ( !this.isPlayTimer ) {return; }\n    this.countdownTimerRef = setTimeout(() => {\n      this.init = this.setTimeDate();\n      this.valPorcentaje = Math.round((this.init / this.maxTime) * 100);\n      // guardamos en el\n      localStorage.setItem('sys::tcount', this.init.toString());\n\n      if ( this.init > this.maxTime ) {\n        this.init = this.maxTime;\n        this.valPorcentaje = 100;\n        this.countdownSource.next(this.valPorcentaje);\n        this.isTimeLimitSource.next(true);\n        this.stopCountTimerLimit();\n      } else {\n        // console.log('timer limit', this.valPorcentaje);\n        // para que no salga la alerta de incio solo una vez\n        if ( lastValPorcentaje !==  this.valPorcentaje) {\n          this.countdownSource.next(this.valPorcentaje);\n        }\n        this.progressCount();\n      }\n\n      lastValPorcentaje = this.valPorcentaje;\n\n    }, 1000);\n  }\n\n  private setTimeDate(): number {\n    const ms_new = new Date().getTime();\n    const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;\n    const ms = ms_new - timeAfter;\n    const sec = Math.floor((ms / 1000));\n\n    localStorage.setItem('sys::tnum', timeAfter.toString());\n    return sec;\n\n  }\n\n  private stopCountTimerLimit(): void {\n    this.isPlayTimer = false;\n    this.init = 0;\n    this.valPorcentaje = 0;\n    localStorage.removeItem('sys::tcount');\n    localStorage.removeItem('sys::tnum');\n    this.clearTimeout();\n    this.isPorgressVisibleSource.next(false);\n    this.isTimeLimitSource.next(false);\n  }\n\n  private clearTimeout(): void {\n    if (this.countdownTimerRef) {\n      clearTimeout(this.countdownTimerRef);\n      this.countdownTimerRef = null;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {ClipboardModule, Clipboard} from '@angular/cdk/clipboard';\nimport { compareTwoStrings } from 'string-similarity';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UtilitariosService {\n\n  constructor(\n    private clipboard: Clipboard\n  ) { }\n\n  primeraConMayusculas(field: string): string {\n    field = field.toLowerCase();\n    return field.charAt(0).toUpperCase() + field.slice(1);\n  }\n\n  reformatDate(dateStr: string): string {\n    const dArr = dateStr.split('-');  // ex input \"2010-01-18\"\n    return dArr[2] + '/' + dArr[1] + '/' + dArr[0]; // ex out: \"18/01/10\"\n  }\n\n  // optione el sistema operativo del cliente\n  getOS() {\n    const userAgent = window.navigator.userAgent;\n    const platform = window.navigator.platform;\n    const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n    const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n    const iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n    let os = null;\n\n    if (macosPlatforms.indexOf(platform) !== -1) {\n      os = 'Mac OS';\n    } else if (iosPlatforms.indexOf(platform) !== -1) {\n      os = 'iOS';\n    } else if (windowsPlatforms.indexOf(platform) !== -1) {\n      os = 'Windows';\n    } else if (/Android/.test(userAgent)) {\n      os = 'Android';\n    } else if (!os && /Linux/.test(platform)) {\n      os = 'Linux';\n    }\n\n    return os;\n  }\n\n  // remplazar caracteres especiales por ''\n  addslashes(_string: string): string {\n    if ( !_string ) {return; }\n    return _string.replace(/\\\\/g, '').\n        replace(/\\u0008/g, '\\\\b').\n        replace(/\\t/g, '').\n        replace(/\\n/g, '').\n        replace(/\\f/g, '').\n        replace(/\\r/g, '').\n        replace(/'/g, '').\n        replace(/\"/g, '');\n  }\n\n  // compartir data titulo y url\n  sharedNative(urlCartaVirtual: string , nomSede: string): any {\n    // verificar si es telfono\n    const _oSUs = this.getOS();\n    if ( _oSUs === 'Windows' ||  _oSUs === 'Mac OS') {\n      this.clipboard.copy(urlCartaVirtual);\n      return;\n    }\n\n    if (navigator.share) {\n      navigator.share({\n        title: 'Carta Virutal ' + nomSede,\n        url: urlCartaVirtual\n      }).then(() => {\n        console.log('Thanks for sharing!');\n        return {mensaje: 'Copiado'};\n      })\n      .catch(console.error);\n    } else {\n      // fallback\n    }\n  }\n\n  // reproduce sonido bepp\n  beep() {\n    // tslint:disable-next-line:max-line-length\n    const snd = new  Audio('data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=');\n    snd.play();\n  }\n\n  delay(ms: number) {\n    return new Promise( resolve => setTimeout(resolve, ms) );\n  }\n\n  compareSimilaryText(s1: string, s2: string) {\n    return compareTwoStrings(s1, s2);\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { Auth0Service } from './auth0.service';\nimport { CrudHttpService } from './crud-http.service';\n// import { Subject } from 'rxjs/internal/Subject';\n// import { Observable } from 'rxjs/internal/Observable';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\nimport { Subject } from 'rxjs/internal/Subject';\nimport { Observable, throwError } from 'rxjs';\nimport { SocketClientModel } from 'src/app/modelos/socket.client.model';\nimport { DeliveryDireccionCliente } from 'src/app/modelos/delivery.direccion.cliente.model';\nimport { UtilitariosService } from './utilitarios.service';\n// import { Router } from '@angular/router';\n// import { AuthService } from './auth.service';\nimport { InfoTockenService } from './info-token.service';\nimport { shareReplay } from 'rxjs/internal/operators/shareReplay';\nimport { catchError } from 'rxjs/internal/operators/catchError';\nimport { share } from 'rxjs/internal/operators/share';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VerifyAuthClientService {\n\n  public clientSocket: SocketClientModel;\n  private subjectClient = new Subject<any>();\n  public isClientValid = false;\n  // private subjectClientSource = new BehaviorSubject<any>(null);\n  // public subjectClient$ = this.subjectClientSource.asObservable();\n\n  constructor(\n    private auth: Auth0Service,\n    private crudService: CrudHttpService,\n    private utilService: UtilitariosService,\n    private infoToken: InfoTockenService\n    // private router: Router\n  ) { }\n\n  isLogin(): boolean {\n    return this.auth.loggedIn;\n  }\n\n// en el caso de que es trunco\n  setLoginOn(val: boolean) {\n    this.auth.loggedIn = val;\n  }\n\n  setIdOrg(val: number): void {\n    this.clientSocket.idorg = val;\n    this.setDataClient();\n  }\n\n  setIdSede(val: number): void {\n    this.clientSocket.idsede = val;\n    this.setDataClient();\n  }\n\n  setMesa(val: number): void {\n    this.clientSocket.numMesaLector = val;\n    this.setDataClient();\n  }\n\n  setIsSoloLLevar(val: boolean): void {\n    this.clientSocket.isSoloLLevar = val;\n    this.setDataClient();\n  }\n\n  setQrSuccess(val: boolean): void {\n    this.clientSocket.isQrSuccess = val;\n    this.setDataClient();\n  }\n\n  setIsDelivery(val: boolean): void {\n    this.clientSocket.isDelivery = val;\n    this.setDataClient();\n  }\n\n  setIsReserva(val: boolean): void {\n    this.clientSocket.isReserva = val;\n    this.setDataClient();\n  }\n\n  setIsRetiroCash(val: boolean): void {\n    this.clientSocket.isRetiroCash = val;\n    this.setDataClient();\n  }\n\n  setDireccionDeliverySelected(val: DeliveryDireccionCliente): void {\n    this.clientSocket.direccionEnvioSelected = val;\n    this.setDataClient();\n  }\n\n  setIsLoginByDNI(val: boolean): void {\n    this.clientSocket.isLoginByDNI = val;\n    this.setDataClient();\n  }\n\n  setIsLoginByInvitado(val: boolean): void {\n    this.clientSocket.isLoginByInvitado = val;\n    this.setDataClient();\n  }\n\n  setIsLoginByTelefono(val: boolean): void {\n    this.clientSocket.isLoginByTelefono = val;\n    this.setDataClient();\n  }\n\n  setTelefono(val: string) {\n    this.clientSocket.telefono = val;\n    this.setDataClient();\n  }\n\n  getIsLoginByDNI(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isLoginByDNI || false;\n  }\n\n  getIsQrSuccess(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isQrSuccess || false;\n  }\n\n\n  getIsDelivery(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isDelivery || false;\n  }\n\n  getIsReserva(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isReserva || false;\n  }\n\n  getIsRetiroCash(): boolean {\n    // this.getDataClient();\n    if (!this.clientSocket) {\n      this.getDataClient();\n    }\n\n    return this.clientSocket.isRetiroCash || false;\n  }\n\n  verifyClient(): Observable<any> {\n    return new Observable<any>(observerVerify => {\n      // console.log('this.clientSocket verifyClient', this.clientSocket);\n      const _infoTokenIsUsuarioAutorizado = this.infoToken.isUsuarioAutorizado();\n      this.getDataClient();\n\n      if ( _infoTokenIsUsuarioAutorizado ) {\n        observerVerify.next(this.clientSocket);\n        return;\n      }\n\n      this.registerCliente();\n      // observerVerify.next(this.clientSocket);\n      setTimeout(() => {\n        observerVerify.next(this.clientSocket);\n      }, 300);\n    }).pipe(shareReplay(1));\n  }\n\n\n  // solo al loguear\n  verifyClientLogin(): Observable<any> {\n    return new Observable<any>(observer => {\n\n    let _dataClientReurn = null;\n    const _infoTokenIsUsuarioAutorizado = this.infoToken.isUsuarioAutorizado();\n    // console.log('_infoTokenIsUsuarioAutorizado', _infoTokenIsUsuarioAutorizado);\n\n    // let resObservable = null;\n    this.getDataClient();\n\n    if ( _infoTokenIsUsuarioAutorizado ) {\n      observer.next(this.clientSocket);\n      return;\n    }\n\n    // resObservable = this.clientSocket;\n    // verrifica si esta logueado\n    if ( this.clientSocket?.isLoginByDNI || this.clientSocket?.isLoginByTelefono ) {\n      // verifica y registra el cliente en la bd\n\n      this.registerCliente();\n      _dataClientReurn = this.clientSocket;\n\n      setTimeout(() => {\n        observer.next(_dataClientReurn);\n      }, 200);\n      return;\n    }\n\n    // setTimeout(() => {\n      // this.auth.getUser$();\n      this.auth.userProfile$.subscribe(resp => {\n        if ( !resp ) {\n\n\n          if (!this.clientSocket.datalogin) {\n            _dataClientReurn = null;\n            observer.next(_dataClientReurn);\n\n          } else {\n              this.clientSocket.isCliente = true;\n            this.setDataClient();\n\n            // verifica y registra el cliente en la bd\n            this.registerCliente();\n\n            _dataClientReurn = this.clientSocket;\n\n            // console.log('aaaaa');\n            setTimeout(() => {\n              // console.log('responde');\n              observer.next(_dataClientReurn);\n            }, 500);\n          }\n\n        } else {\n\n          this.clientSocket.datalogin = resp;\n          // if ( this.clientSocket.idcliente ) {\n            this.clientSocket.isCliente = true;\n          // }\n          this.setDataClient();\n\n          // verifica y registra el cliente en la bd\n          this.registerCliente();\n\n          _dataClientReurn = this.clientSocket;\n\n          setTimeout(() => {\n            observer.next(_dataClientReurn);\n          }, 500);\n        }\n\n\n        // guarda vista demostracion para no cargar nuevamente\n\n        //\n      }, (error) => {\n        console.log(error);\n      }, () => { console.log('complete'); });\n\n\n    }).pipe(\n      // shareReplay(1),\n      share(),\n      catchError(err => throwError(err))\n    );\n  }\n\n  registerInvitado() {\n    this.registerCliente();\n  }\n\n  // private returnClientNull() {\n  //   this.subjectClient.next(null);\n  // }\n\n  private registerCliente(): void {\n    let idClient = 0;\n    this.clientSocket.systemOS = this.utilService.getOS();\n    this.crudService.postFree(this.clientSocket, 'ini', 'register-cliente-login', false).subscribe((rpt: any) => {\n\n      if ( !rpt.success ) {return; }\n\n      // login en backend\n      idClient = rpt.data[0].idcliente;\n      const nombres = rpt.data[0].nombres;\n      localStorage.setItem('sys::idinv', idClient.toString()); // guarda el idivitado}\n\n      this.clientSocket.idcliente = idClient;\n\n      if ( this.clientSocket.isLoginByInvitado ) {\n        this.clientSocket.datalogin.name = nombres;\n        this.clientSocket.datalogin.given_name = nombres.split(' ')[0];\n      }\n      this.clientSocket.nombres = this.clientSocket.datalogin.name;\n      this.clientSocket.usuario = this.clientSocket.datalogin.given_name;\n\n      this.clientSocket.isCliente = true;\n      this.clientSocket.telefono = rpt.data[0].telefono;\n\n      // console.log('this.clientSocke', this.clientSocket);\n\n      // guarda en el usuario temporal\n\n      this.setDataClient();\n      // window.localStorage.setItem('sys::tpm', JSON.stringify(this.clientSocket));\n\n      this.subjectClient.next(this.clientSocket);\n    });\n  }\n\n  setDataClient(): void {\n    const dataClie = JSON.stringify(this.clientSocket);\n    localStorage.setItem('sys::tpm', btoa(dataClie));\n  }\n\n  setLinkRedirecLogin(_link: string) {\n    localStorage.setItem('sys::lrl', _link);\n  }\n\n  // link de redireccionamiento despues del login\n  getLinkRedirecLogin() {\n    let _link = localStorage.getItem('sys::lrl');\n    _link = _link ? _link : '';\n    return _link;\n  }\n\n  getDataClient(): SocketClientModel {\n    const dataClie = localStorage.getItem('sys::tpm');\n    if ( !dataClie ) { this.clientSocket = new SocketClientModel(); } else {\n      try {\n        this.clientSocket = JSON.parse(atob(dataClie));\n      } catch (error) {\n        if ( this.clientSocket ) {\n          if ( !this.clientSocket.datalogin ) {\n            this.clientSocket = new SocketClientModel();\n          }\n        } else {\n          this.clientSocket = new SocketClientModel();\n        }\n      }\n    }\n    return this.clientSocket;\n  }\n\n  autoRegisterLoginByInvitado() {\n    this.clientSocket.datalogin = {\n      name: 'Invitado',\n      given_name: 'Invitado'\n    };\n\n    const _idInvitadoStorage = localStorage.getItem('sys::idinv'); // guarda el idivitado}\n    this.clientSocket.idcliente = _idInvitadoStorage ? parseInt(_idInvitadoStorage, 0) : 0;\n\n    this.setIsLoginByDNI(false);\n    this.setIsLoginByTelefono(false);\n    this.setIsLoginByInvitado(true);\n    this.registerInvitado();\n\n  }\n\n\n  loginOut(): void {\n    if ( !this.clientSocket.isLoginByInvitado ) {\n      this.auth.logout();\n    }\n    localStorage.removeItem('sys::tpm');\n  }\n\n  unsubscribeClient(): void {\n    this.subjectClient.unsubscribe();\n  }\n\n  // exitNotLoguerValido() {\n  //   this.loginOut();\n  //   localStorage.clear();\n  //   this.router.navigate(['../']);\n  // }\n\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true,\n  view_mozo: false // true = app solo mozo\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"]}