(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{aVxZ:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),i=u("pMnS"),o=u("bujt"),a=u("UodH"),c=u("lLAP"),s=u("wFw1"),b=u("Ip0R"),r=function(){function l(){this.NextPregunta=new t.m}return l.prototype.ngOnInit=function(){},l.prototype.xNextPregunta=function(l){var n=this;setTimeout(function(){n.NextPregunta.emit(l)},300)},l}(),d=t.sb({encapsulation:0,styles:[[".btnIco[_ngcontent-%COMP%]{opacity:.7;padding:10px;cursor:pointer;transition:transform .2s}.btnIco[_ngcontent-%COMP%]:hover{transform:scale(1.2);opacity:1}.divBtn[_ngcontent-%COMP%]{display:grid}.divBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#757575}.op[_ngcontent-%COMP%]{text-align:center;line-height:1}.op[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65px}"]],data:{}});function p(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,4,"div",[["class","divBtn text-center"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.xNextPregunta(l.context.$implicit)&&t),t},null,null)),(l()(),t.ub(2,0,null,null,3,"div",[["class","op"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,0,"img",[["alt","btnOption"],["class","btnIco"]],[[8,"src",4]],null,null,null,null)),(l()(),t.ub(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Ob(5,null,["",""]))],null,function(l,n){l(n,3,0,t.yb(1,"assets/images/encuesta-img/",n.context.$implicit.img,"")),l(n,5,0,n.context.$implicit.descripcion)})}function f(l){return t.Qb(0,[(l()(),t.jb(16777216,null,null,1,null,p)),t.tb(1,278528,null,0,b.l,[t.Q,t.N,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,1,0,n.component.ListOption)},null)}var g=u("Rlre"),m=u("La40"),h=u("zOUh"),v=u("+lji"),E=u("/sn2"),O=function(){function l(l,n,u){this.infoTokenService=l,this.crudService=n,this.navigatorService=u,this.nomSede=[],this.countFin=4,this.selectedTabEncuesta=0,this.intervalConteo=null,this.ListRespuestas=[],this.xIdEncuesta=0,this.countOption=1}return l.prototype.ngOnInit=function(){this.infoToken=this.infoTokenService.getInfoUs(),console.log(this.infoToken),this.nomSede=localStorage.getItem("sys::s").split("|"),this.dataPost={idsede:this.infoToken.idsede},this.loadOpciones(),this.loadEncuesta(),this.navigatorService.disabledBack=!0,history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)}},l.prototype.loadEncuesta=function(){var l=this;this.crudService.postFree(this.dataPost,"encuesta","la-encuesta",!1).subscribe(function(n){if(n.success){var u=n.data[0].preguntas;l.xIdEncuesta=u.idencuesta,l.titulo_inicio=u.inicio,l.titulo_fin=u.fin,l.listPreguntas=u.preguntas,l.countOption+=l.listPreguntas.length}})},l.prototype.loadOpciones=function(){var l=this;this.crudService.postFree(this.dataPost,"encuesta","las-opciones",!1).subscribe(function(n){console.log("las opciones",n),n.success&&(l.listOption=n.data)})},l.prototype.pasarTab=function(l,n,u){if(void 0===l&&(l=null),void 0===n&&(n=null),void 0===u&&(u=null),l){var t="1"===n.obligatorio;this.ListRespuestas.push({idencuesta_pregunta:n.idencuesta_pregunta,idencuesta_respuesta:l.idencuesta_respuesta||0,iscomentario:t,comentario:u||""}),this.selectedTabEncuesta++,t&&this.guardarEncuesta(),console.log("countOption",this.countOption),console.log("selectedTabEncuesta",this.selectedTabEncuesta),this.countOption===this.selectedTabEncuesta&&(console.log("terminar encuesta"),this.cuentaRegresiva())}else this.selectedTabEncuesta++},l.prototype.guardarEncuesta=function(){this.crudService.postFree({item:this.ListRespuestas,i:this.xIdEncuesta},"encuesta","guardar",!1).subscribe(function(l){console.log("guardado",l)})},l.prototype.cuentaRegresiva=function(){this.countFin<=0?(this.intervalConteo=null,this.cerrarSession()):this.conteoFinEncuesta()},l.prototype.conteoFinEncuesta=function(){var l=this;this.intervalConteo=setTimeout(function(){l.countFin--,l.cuentaRegresiva()},1e3)},l.prototype.cerrarSession=function(){this.navigatorService.cerrarSession(),this.infoTokenService.cerrarSession()},l}(),x=t.sb({encapsulation:0,styles:[[".encabezado-encuesta[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background:#3f51b5;color:#f5f5f5}.contain-size[_ngcontent-%COMP%]{contain:size}.mat-tab-header-pagination-controls-enabled[_ngcontent-%COMP%]   .mat-tab-header-pagination[_ngcontent-%COMP%], .mat-tab-header-pagination.mat-tab-header-pagination-disabled[_ngcontent-%COMP%]{display:none!important}  .mat-tab-header-pagination{display:none!important}.hv-50[_ngcontent-%COMP%]{height:45vh}"]],data:{}});function _(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.ub(1,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.ub(2,0,[["txt_comentario",1]],null,0,"textarea",[["cols","100"],["id","txt_comentario"],["rows","3"],["style","width: 70%;"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,2,"button",[["color","primary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(l,n,u){var e=!0,i=l.component;return"click"===n&&(e=!1!==i.pasarTab(i.listOption,l.parent.context.$implicit,t.Gb(l,2).value)&&e),e},o.b,o.a)),t.tb(6,180224,null,0,a.b,[t.k,c.d,[2,s.a]],{color:[0,"color"]},null),(l()(),t.Ob(-1,0,["Listo, Enviar"]))],function(l,n){l(n,6,0,"primary")},function(l,n){l(n,5,0,t.Gb(n,6).disabled||null,"NoopAnimations"===t.Gb(n,6)._animationMode)})}function y(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"app-encuesta-opcion",[["class","d-flex"]],null,[[null,"NextPregunta"]],function(l,n,u){var t=!0;return"NextPregunta"===n&&(t=!1!==l.component.pasarTab(u,l.parent.context.$implicit)&&t),t},f,d)),t.tb(1,114688,null,0,r,[],{ListOption:[0,"ListOption"]},{NextPregunta:"NextPregunta"})],function(l,n){l(n,1,0,n.component.listOption)},null)}function P(l){return t.Qb(0,[(l()(),t.ub(0,16777216,null,null,12,"mat-tab",[["disabled",""]],null,null,null,g.d,g.a)),t.tb(1,770048,[[1,4]],2,m.c,[t.Q],{disabled:[0,"disabled"]},null),t.Mb(603979776,4,{templateLabel:0}),t.Mb(335544320,5,{_explicitContent:0}),(l()(),t.ub(4,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(5,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(6,0,null,0,6,"div",[["class","overflow-hidden"]],null,null,null,null,null)),(l()(),t.ub(7,0,[["opitem",1]],null,5,"div",[],null,null,null,null,null)),(l()(),t.ub(8,0,null,null,1,"p",[["class","fs-17 fw-600"]],null,null,null,null,null)),(l()(),t.Ob(9,null,["",""])),(l()(),t.jb(16777216,null,null,1,null,_)),t.tb(11,16384,null,0,b.m,[t.Q,t.N],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.jb(0,[["elseTemplate",2]],null,0,null,y)),(l()(),t.jb(0,null,null,0))],function(l,n){l(n,1,0,""),l(n,11,0,"1"===n.context.$implicit.obligatorio,t.Gb(n,12))},function(l,n){l(n,9,0,n.context.$implicit.pregunta)})}function w(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,3,"footer",[["class","xfooter text-center bg-white p-3"]],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,2,"button",[["color","accent"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cerrarSession()&&t),t},o.b,o.a)),t.tb(2,180224,null,0,a.b,[t.k,c.d,[2,s.a]],{color:[0,"color"]},null),(l()(),t.Ob(-1,0,["En otro momento, gracias."]))],function(l,n){l(n,2,0,"accent")},function(l,n){l(n,1,0,t.Gb(n,2).disabled||null,"NoopAnimations"===t.Gb(n,2)._animationMode)})}function M(l){return t.Qb(0,[t.Ib(0,b.e,[t.v]),(l()(),t.ub(1,0,null,null,42,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,4,"div",[["class","text-center p-3 encabezado-encuesta"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,1,"p",[["class","fs-17 fw-600 m-0"]],null,null,null,null,null)),(l()(),t.Ob(4,null,["",""])),(l()(),t.ub(5,0,null,null,1,"span",[["class","fs-14 fw-100 p-0"]],null,null,null,null,null)),(l()(),t.Ob(6,null,["",""])),(l()(),t.ub(7,0,null,null,34,"div",[["class","text-center xcontainer-centrado p-3 hv-50"]],null,null,null,null,null)),(l()(),t.ub(8,0,null,null,33,"mat-tab-group",[["class","contain-size mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,g.c,g.b)),t.tb(9,3325952,null,1,m.f,[t.k,t.h,[2,m.a],[2,s.a]],{disableRipple:[0,"disableRipple"],dynamicHeight:[1,"dynamicHeight"],selectedIndex:[2,"selectedIndex"]},null),t.Mb(603979776,1,{_tabs:1}),(l()(),t.ub(11,16777216,null,null,15,"mat-tab",[["class","overflow-hidden"],["disabled",""]],null,null,null,g.d,g.a)),t.tb(12,770048,[[1,4]],2,m.c,[t.Q],{disabled:[0,"disabled"]},null),t.Mb(603979776,2,{templateLabel:0}),t.Mb(335544320,3,{_explicitContent:0}),(l()(),t.ub(15,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(16,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(17,0,null,0,9,"div",[["class","overflow-hidden"]],null,null,null,null,null)),(l()(),t.ub(18,0,null,null,1,"p",[["class","fs-17 fw-600"]],null,null,null,null,null)),(l()(),t.Ob(19,null,["",""])),(l()(),t.ub(20,0,null,null,0,"img",[["alt","."],["src","assets/images/reactions_1.gif"],["width","100%"]],null,null,null,null,null)),(l()(),t.ub(21,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(22,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(23,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(24,0,null,null,2,"button",[["color","primary"],["mat-flat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.pasarTab()&&t),t},o.b,o.a)),t.tb(25,180224,null,0,a.b,[t.k,c.d,[2,s.a]],{color:[0,"color"]},null),(l()(),t.Ob(-1,0,["Listo, Comenzar"])),(l()(),t.jb(16777216,null,null,1,null,P)),t.tb(28,278528,null,0,b.l,[t.Q,t.N,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ub(29,16777216,null,null,12,"mat-tab",[["disabled",""]],null,null,null,g.d,g.a)),t.tb(30,770048,[[1,4]],2,m.c,[t.Q],{disabled:[0,"disabled"]},null),t.Mb(603979776,6,{templateLabel:0}),t.Mb(335544320,7,{_explicitContent:0}),(l()(),t.ub(33,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(34,0,null,0,0,"br",[],null,null,null,null,null)),(l()(),t.ub(35,0,null,0,6,"div",[["class","overflow-hidden"]],null,null,null,null,null)),(l()(),t.ub(36,0,null,null,1,"p",[["class","fs-17 fw-600"]],null,null,null,null,null)),(l()(),t.Ob(37,null,["",""])),(l()(),t.ub(38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.ub(39,0,null,null,2,"p",[["class","text-secondary fs-50 fw-100"]],null,null,null,null,null)),(l()(),t.Ob(40,null,["",""])),t.Kb(41,2),(l()(),t.jb(16777216,null,null,1,null,w)),t.tb(43,16384,null,0,b.m,[t.Q,t.N],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,9,0,!0,!1,u.selectedTabEncuesta),l(n,12,0,""),l(n,25,0,"primary"),l(n,28,0,u.listPreguntas),l(n,30,0,""),l(n,43,0,0===u.selectedTabEncuesta)},function(l,n){var u=n.component;l(n,4,0,u.nomSede[0]),l(n,6,0,u.nomSede[1]),l(n,8,0,t.Gb(n,9).dynamicHeight,"below"===t.Gb(n,9).headerPosition),l(n,19,0,u.titulo_inicio),l(n,24,0,t.Gb(n,25).disabled||null,"NoopAnimations"===t.Gb(n,25)._animationMode),l(n,37,0,u.titulo_fin);var e=t.Pb(n,40,0,l(n,41,0,t.Gb(n,0),u.countFin,"2."));l(n,40,0,e)})}function k(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"app-encuesta",[],null,null,null,M,x)),t.tb(1,114688,null,0,O,[h.a,v.a,E.a],null,null)],function(l,n){l(n,1,0)},null)}var S=t.qb("app-encuesta",O,k,{},{},[]),C=u("t68o"),I=u("xYTU"),T=u("M2Lx"),F=u("Wf4p"),L=u("eDkP"),N=u("Fzqc"),Q=u("o3x0"),j=u("wmQ5"),G=u("gIcY"),R=u("ZYCi"),z={titulo:"Inicio"},A=function(){return function(){}}(),$=u("ZYjt"),Y=u("dWZg"),Z=u("SMsm"),B=u("/VYK"),H=u("seP3"),U=u("b716"),q=u("4c35"),D=u("Z+uX"),K=u("8mMr"),J=u("qAlS"),V=u("de3e"),W=u("vARd"),X=u("Lwpp"),ll=u("rsRi"),nl=u("lSLK");u.d(n,"EncuestaModuleNgFactory",function(){return ul});var ul=t.rb(e,[],function(l){return t.Db([t.Eb(512,t.j,t.cb,[[8,[i.a,S,C.a,I.a,I.b]],[3,t.j],t.y]),t.Eb(4608,b.o,b.n,[t.v,[2,b.D]]),t.Eb(4608,T.c,T.c,[]),t.Eb(4608,F.a,F.a,[]),t.Eb(4608,L.a,L.a,[L.g,L.c,t.j,L.f,L.d,t.r,t.A,b.d,N.b,[2,b.h]]),t.Eb(5120,L.h,L.i,[L.a]),t.Eb(5120,Q.c,Q.d,[L.a]),t.Eb(135680,Q.e,Q.e,[L.a,t.r,[2,b.h],[2,Q.b],Q.c,[3,Q.e],L.c]),t.Eb(5120,j.b,j.a,[[3,j.b]]),t.Eb(4608,G.e,G.e,[]),t.Eb(4608,G.v,G.v,[]),t.Eb(1073742336,b.c,b.c,[]),t.Eb(1073742336,R.n,R.n,[[2,R.s],[2,R.l]]),t.Eb(1073742336,A,A,[]),t.Eb(1073742336,N.a,N.a,[]),t.Eb(1073742336,F.e,F.e,[[2,F.b],[2,$.f]]),t.Eb(1073742336,Y.b,Y.b,[]),t.Eb(1073742336,F.g,F.g,[]),t.Eb(1073742336,a.c,a.c,[]),t.Eb(1073742336,Z.a,Z.a,[]),t.Eb(1073742336,B.c,B.c,[]),t.Eb(1073742336,T.d,T.d,[]),t.Eb(1073742336,H.d,H.d,[]),t.Eb(1073742336,U.b,U.b,[]),t.Eb(1073742336,q.g,q.g,[]),t.Eb(1073742336,c.a,c.a,[]),t.Eb(1073742336,m.k,m.k,[]),t.Eb(1073742336,D.c,D.c,[]),t.Eb(1073742336,K.b,K.b,[]),t.Eb(1073742336,J.b,J.b,[]),t.Eb(1073742336,L.e,L.e,[]),t.Eb(1073742336,Q.j,Q.j,[]),t.Eb(1073742336,V.d,V.d,[]),t.Eb(1073742336,V.c,V.c,[]),t.Eb(1073742336,W.e,W.e,[]),t.Eb(1073742336,X.e,X.e,[]),t.Eb(1073742336,j.c,j.c,[]),t.Eb(1073742336,ll.a,ll.a,[]),t.Eb(1073742336,G.u,G.u,[]),t.Eb(1073742336,G.r,G.r,[]),t.Eb(1073742336,G.i,G.i,[]),t.Eb(1073742336,nl.a,nl.a,[]),t.Eb(1073742336,e,e,[]),t.Eb(1024,R.j,function(){return[[{path:"",component:O,data:z,children:[{path:"",redirectTo:"inicio"}]}]]},[])])})}}]);