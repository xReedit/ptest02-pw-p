(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/sn2":function(e,t,i){"use strict";var s=i("iInd"),a=i("pLZG"),o=i("7o/Q");class r{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:n}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class n extends o.a{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class c extends o.a{constructor(e,t,i){super(e),this.bufferSize=t,this.startBufferEvery=i,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:i,buffers:s,count:a}=this;this.count++,a%i==0&&s.push([]);for(let o=s.length;o--;){const i=s[o];i.push(e),i.length===t&&(s.splice(o,1),this.destination.next(i))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let i=e.shift();i.length>0&&t.next(i)}super._complete()}}var d=i("7RJT"),l=i("zOUh"),m=i("eI2u"),u=i("8Y7J");i.d(t,"a",function(){return h});let h=(()=>{class e{constructor(e,t,i){this.router=e,this.infoTokenService=t,this.listenService=i,this.disabledBack=!1,this.resNavigatorSource=new d.BehaviorSubject([]),this.resNavigatorSourceObserve$=this.resNavigatorSource.asObservable(),this.pageActive="carta",this.resNavigator=[],this.historyNavigator=[],this.lastUrlHistory="",this.listenEventNavigator()}listenEventNavigator(){this.router.events.pipe(Object(a.a)(e=>e instanceof s.d),function(e,t=null){return function(e){return e.lift(new r(2,t))}}(0,1)).subscribe(e=>{if(null!=e&&"popstate"===e[1].navigationTrigger){if(this.disabledBack)return!1;const t=e[0].url.indexOf(";")?e[0].url.substr(1).split(";")[1].split("=")[1]:e[0].url;t.length>0&&(this.lastUrlHistory=t,this.managerGoBack(t,""))}})}setPageActive(e){this.pageActive=e,this.lastUrlHistory="carta"!==e?e:this.lastUrlHistory;const t=this.findPageActiveInHistory(e);this.addLink(t?t.url:e),this.resNavigator.pageActive=e,this.resNavigator.url=t?t.url:e,this.resNavigatorSource.next(this.resNavigator)}saveHistoryPageActive(e,t){this.historyNavigator[e]=[],this.historyNavigator[e].key=e,this.historyNavigator[e].url=t}findPageActiveInHistory(e){return Object.values(this.historyNavigator).filter(t=>t.key===e)[0]}addLink(e){this.router.navigate([".",{state:e}]),this.saveHistoryPageActive(this.pageActive,e)}cerrarSession(e=!1){this.infoTokenService.isDelivery()?this.router.navigate(["../zona-delivery"]):this.router.navigate(["../"]).then(()=>{e&&window.location.reload()})}managerGoBack(e,t){let i="";switch(console.log("managerGoBack",e),e){case"carta-i-secciones-items":i="carta",this.addLink("carta-i-secciones");break;case"carta-i-secciones":i="carta",this.addLink("carta-i-");break;case"carta-i-":i="carta-o-",this.addLink("carta-o-"),console.log("=========================== listo para salir"),this.listoParaSalir();break;case"mipedido-confirma":i="mipedido",this.addLink("mipedido");break;case"mipedido":i="carta",this.addLink("carta"),this.listoParaSalir();break;case"estado":case"carta":i="carta";break;case"lanzar-encuesta":i="lanzar-encuesta"}""!==i&&(this.pageActive=i,this.setPageActive(i))}_router(e){this.router.navigate([e])}disableGoBack(){this.disabledBack=!0,history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)}}listoParaSalir(){this.infoTokenService.isDelivery()&&this.listenService.setIsOutEstablecimientoDelivery(!0)}}return e.ngInjectableDef=u.Sb({factory:function(){return new e(u.Tb(s.l),u.Tb(l.a),u.Tb(m.a))},token:e,providedIn:"root"}),e})()},"6NNB":function(e,t,i){"use strict";i.d(t,"a",function(){return s});class s{constructor(){this.tipoconsumo=[]}}},Ie24:function(e,t,i){"use strict";i.d(t,"a",function(){return s});class s{constructor(){this.items=[]}}},JOr0:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i("qTE5"),a=i("8Y7J");let o=(()=>{class e{constructor(){this.keyStorage="sys::ed"}set(e){localStorage.setItem(this.keyStorage,btoa(JSON.stringify(e)))}get(){let e=new s.a;const t=localStorage.getItem(this.keyStorage);return t?JSON.parse(atob(t)):e}}return e.ngInjectableDef=a.Sb({factory:function(){return new e},token:e,providedIn:"root"}),e})()},MBfO:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r});var s=i("8Y7J"),a=(i("8P0U"),i("SVse")),o=(i("IP0z"),i("Xd0L"),i("cUpR"),i("omvX"),s.qb({encapsulation:2,styles:[".mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-background{display:none}}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}"],data:{}}));function r(e){return s.Ob(2,[s.Kb(671088640,1,{_primaryValueBar:0}),(e()(),s.sb(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(e()(),s.sb(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(e()(),s.sb(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(e()(),s.sb(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(e()(),s.sb(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(e()(),s.sb(6,0,null,null,2,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),s.Jb(512,null,a.B,a.C,[s.k,s.s,s.D]),s.rb(8,278528,null,0,a.q,[a.B],{ngStyle:[0,"ngStyle"]},null),(e()(),s.sb(9,0,[[1,0],["primaryValueBar",1]],null,2,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),s.Jb(512,null,a.B,a.C,[s.k,s.s,s.D]),s.rb(11,278528,null,0,a.q,[a.B],{ngStyle:[0,"ngStyle"]},null),(e()(),s.sb(12,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],function(e,t){var i=t.component;e(t,8,0,i._bufferTransform()),e(t,11,0,i._primaryTransform())},function(e,t){var i=t.component;e(t,3,0,i.progressbarId),e(t,5,0,i._rectangleFillValue)})}},OzqD:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var s=i("A8zI"),a=i("eI2u"),o=i("+lji"),r=i("zOUh"),n=i("7RJT"),c=i("8Y7J");let d=(()=>{class e{constructor(e,t,i){this.listenStatusService=e,this.crudService=t,this.infoTokenService=i,this.estadoPedido=new s.a,this.keyStorage="sys::status",this.timeInterval=null,this.timeNow=new Date,this.hayPedidoPendiente=!1,this.timeRestanteAproxSource=new n.BehaviorSubject(0),this.timeRestanteAprox$=this.timeRestanteAproxSource.asObservable(),this.hayCuentaClienteSource=new n.BehaviorSubject(null),this.hayCuentaCliente$=this.hayCuentaClienteSource.asObservable(),this.deserializar(),this.dataPost={idsede:this.infoTokenService.getInfoUs().idsede,idcliente:this.infoTokenService.getInfoUs().idcliente}}deserializar(){let e=localStorage.getItem(this.keyStorage);this.estadoPedido=(e="{}"===e?null:e)?JSON.parse(e):new s.a}get(){this.deserializar(),this.getCuentaTotales()}getCuentaTotales(){let e=0;return this.crudService.postFree(this.dataPost,"pedido","lacuenta-cliente-totales",!1).subscribe(t=>{0!==t.data.length?(this.setImporte(e=t.data[0].importe||0),this.estadoPedido.hayPedidoCliente=!0,this.calcTimeAprox(),console.log("cuenta cliente totales",t),this.notifyChange()):this.estadoPedido.hayPedidoCliente=!1}),e}getCuenta(){this.crudService.postFree(this.dataPost,"pedido","lacuenta-cliente",!1).subscribe(e=>{if(0!==e.data.length)return this.estadoPedido.hayPedidoCliente=!0,this.calcTimeAprox(),console.log("cuenta cliente",e),this.hayCuentaClienteSource.next(e),this.notifyChange(),e;this.estadoPedido.hayPedidoCliente=!1})}getImporteCuenta(){return new Promise(e=>{this.crudService.postFree(this.dataPost,"pedido","lacuenta-cliente-totales",!1).subscribe(t=>{e(t.success?t.data[0].importe:0)})})}getObj(){return this.estadoPedido||this.deserializar(),this.estadoPedido}setEstado(e){this.deserializar(),this.estadoPedido.estado=e,this.notifyChange()}setImporte(e){this.deserializar(),this.estadoPedido.importe=e,this.notifyChange()}setHoraInitPedido(e){this.deserializar(),this.estadoPedido.horaInt=e,this.notifyChange()}setTimeAprox(e){this.deserializar(),this.estadoPedido.isTiempoAproxCumplido=e,this.notifyChange()}setHayPedidoPendiente(e){this.deserializar(),this.estadoPedido.hayPedidoClientePendiente=e,this.notifyChange()}setisPagada(e){this.deserializar(),this.estadoPedido.isPagada=e,this.notifyChange()}setisRegisterPago(e){this.deserializar(),this.estadoPedido.isRegisterOnePago=e,this.notifyChange()}calcTimeAprox(){this.crudService.postFree(this.dataPost,"pedido","calc-time-despacho",!1).subscribe(e=>{this.estadoPedido.estado=0,this.estadoPedido.numMinAprox=e.data[0].rpt,this.estadoPedido.isTiempoAproxCumplido=!1,this.notifyChange(),console.log("this.estadoPedido",this.estadoPedido),this.getTimeAprox()})}getTimeAprox(){return 0===this.estadoPedido.estado?this.timeInterval=setTimeout(()=>{let e=this.calTimeMin();e<=0?(this.estadoPedido.estado=1,this.notifyChange(),this.clearTimeout(),clearTimeout(this.timeInterval),e=0):this.getTimeAprox(),this.timeRestanteAproxSource.next(e)},2e3):this.clearTimeout(),0}calTimeMin(){let e=(new Date).getTime()-this.estadoPedido.horaInt;return e=Math.round(e%864e5%36e5/6e4),e=this.estadoPedido.numMinAprox-e,isNaN(e)?0:e}clearTimeout(){clearTimeout(this.timeInterval),this.timeInterval=null}notifyChange(){this.listenStatusService.setEstadoPedido(this.estadoPedido),localStorage.setItem(this.keyStorage,JSON.stringify(this.estadoPedido))}}return e.ngInjectableDef=c.Sb({factory:function(){return new e(c.Tb(a.a),c.Tb(o.a),c.Tb(r.a))},token:e,providedIn:"root"}),e})()},Te6q:function(e,t,i){"use strict";i.d(t,"a",function(){return s});class s{constructor(){this.precio_total=0,this.cantidad_seleccionada_x_tpc=0,this.cantidad_descontado=0,this.itemtiposconsumo=[],this.subitems_selected=[],this.subitems_view=[]}}},WF5t:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i("7RJT"),a=i("zOUh"),o=i("8Y7J");let r=(()=>{class e{constructor(e){this.infoToken=e,this.countdownTimerRef=null,this.init=0,this.valPorcentaje=0,this.isPlayTimer=!1,this.dateNow=new Date,this.countdownSource=new s.BehaviorSubject(0),this.countdown$=this.countdownSource.asObservable(),this.isTimeLimitSource=new s.BehaviorSubject(!1),this.isTimeLimitComplet$=this.isTimeLimitSource.asObservable(),this.isPorgressVisibleSource=new s.BehaviorSubject(!1),this.isPorgressVisible$=this.isPorgressVisibleSource.asObservable()}destroy(){this.clearTimeout()}playCountTimerLimit(){this.infoToken.isDelivery()||this.isPlayTimer||(this.isPlayTimer=!0,this.initCount())}resetCountTimerLimit(){this.infoToken.isDelivery()||(localStorage.getItem("sys::tcount")?(this.isPlayTimer=!0,this.initCount()):this.stopCountTimerLimit())}initCount(){this.infoToken.isDelivery()||(this.valPorcentaje=0,this.init=localStorage.getItem("sys::tcount")?parseInt(localStorage.getItem("sys::tcount"),0):0,this.isTimeLimitSource.next(!1),this.isPorgressVisibleSource.next(!0),this.progressCount())}progressCount(){let e=0;this.isPlayTimer&&(this.countdownTimerRef=setTimeout(()=>{this.init=this.setTimeDate(),this.valPorcentaje=Math.round(this.init/this.maxTime*100),localStorage.setItem("sys::tcount",this.init.toString()),this.init>this.maxTime?(this.init=this.maxTime,this.valPorcentaje=100,this.countdownSource.next(this.valPorcentaje),this.isTimeLimitSource.next(!0),this.stopCountTimerLimit()):(e!==this.valPorcentaje&&this.countdownSource.next(this.valPorcentaje),this.progressCount()),e=this.valPorcentaje},1e3))}setTimeDate(){const e=(new Date).getTime(),t=localStorage.getItem("sys::tnum")?parseInt(localStorage.getItem("sys::tnum"),0):e,i=Math.floor((e-t)/1e3);return localStorage.setItem("sys::tnum",t.toString()),i}stopCountTimerLimit(){this.isPlayTimer=!1,this.init=0,this.valPorcentaje=0,localStorage.removeItem("sys::tcount"),localStorage.removeItem("sys::tnum"),this.clearTimeout(),this.isPorgressVisibleSource.next(!1),this.isTimeLimitSource.next(!1)}clearTimeout(){this.countdownTimerRef&&(clearTimeout(this.countdownTimerRef),this.countdownTimerRef=null)}}return e.ngInjectableDef=o.Sb({factory:function(){return new e(o.Tb(a.a))},token:e,providedIn:"root"}),e})()},fbMX:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i("8Y7J");let a=(()=>{class e{constructor(){}set(e,t){localStorage.setItem(e,t)}get(e){return localStorage.getItem(e)}isExistKey(e){return!!localStorage.getItem(e)}clear(e){localStorage.removeItem(e)}}return e.ngInjectableDef=s.Sb({factory:function(){return new e},token:e,providedIn:"root"}),e})()},"nYx/":function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i("zOUh"),a=i("+lji"),o=i("yFR0"),r=i("8Y7J");let n=(()=>{class e{constructor(e,t,i){this.infoTokenService=e,this.crudService=t,this.socketService=i,this.infoToken=this.infoTokenService.getInfoUs()}getSubtotales(){this.objTotales=JSON.parse(atob(localStorage.getItem("sys::st")))}registrarPago(e,t,i){this.getSubtotales();const s={idcliente:this.infoToken.idcliente,idorg:this.infoToken.idorg,idsede:this.infoToken.idsede,mesa:this.infoToken.numMesaLector,importe:e},a={idcliente:s.idcliente,idorg:s.idorg,idsede:s.idsede,mesa:s.mesa,importe:s.importe,objSubTotal:this.objTotales,objTransaction:t,objCliente:i,objOperacion:s};this.crudService.postFree(a,"transaction","registrar-pago",!1).subscribe(e=>{this.setIdRegistroPagoTransaction(e.data[0].idregistro_pago),this.socketService.emit("notificar-pago-pwa",a)})}getIpClient(){let e="";return this.crudService.getFree("https://api.ipify.org?format=jsonp&callback=?").subscribe(t=>{e=t.ip}),e}getDataTrasaction(){return this.loadDataTransaction(),this.responseTransaction.isSuccess=!(this.responseTransaction&&!this.responseTransaction.error),this.responseTransaction}setIdRegistroPagoTransaction(e){this.loadDataTransaction(),this.responseTransaction.idregistro_pago=e,this.upDataTransaction()}loadDataTransaction(){this.responseTransaction=JSON.parse(localStorage.getItem("sys::transaction-response"))}upDataTransaction(){localStorage.setItem("sys::transaction-response",JSON.stringify(this.responseTransaction))}removeLocalDataTransaction(){localStorage.removeItem("sys::transaction-response"),this.responseTransaction=null}}return e.ngInjectableDef=r.Sb({factory:function(){return new e(r.Tb(s.a),r.Tb(a.a),r.Tb(o.a))},token:e,providedIn:"root"}),e})()},nx09:function(e,t,i){"use strict";var s=i("7RJT"),a=i("Te6q"),o=i("6NNB"),r=i("Ie24"),n=i("fbMX"),c=i("yFR0"),d=i("WF5t"),l=i("/sn2"),m=i("wne+"),u=i("eI2u");class h{constructor(){this.isTpcLocal=!1,this.isTpcSoloLLevar=!1,this.isTpcSoloDelivery=!1,this.isTpcSoloOther=!1,this.isRequiereMesa=!1}}class p{}var b=i("JOr0"),g=i("8Y7J"),f=i("dFDH");i.d(t,"a",function(){return S});let S=(()=>{class e{constructor(e,t,i,n,c,d,l,m){this.storageService=e,this.socketService=t,this.timerLimitService=i,this.navigatorService=n,this._snackBar=c,this.utilesService=d,this.listenStatusService=l,this.establecimientoService=m,this.miPedidoSource=new s.BehaviorSubject(new o.a),this.miPedidoObserver$=this.miPedidoSource.asObservable(),this.countItemsSource=new s.BehaviorSubject(0),this.countItemsObserve$=this.countItemsSource.asObservable(),this.itemStockChangeSource=new s.BehaviorSubject(new a.a),this.itemStockChangeObserve$=this.itemStockChangeSource.asObservable(),this.isPreAvisoVisible=!1,this.listItemsPedido=[],this.miPedido=new o.a,this.mpObjSeccionSelected=new r.a,this.time=new Date}getObjCarta(){return this.objCarta}getObjCartaLibery(){return JSON.parse(JSON.stringify(this.objCarta))}setObjMiPedido(e){this.miPedido=e,this.miPedidoSource.next(this.miPedido)}resetObjMiPedido(){this.miPedido=new o.a,this.miPedidoSource.next(this.miPedido)}setObjCarta(e){this.objCarta={},this.objCarta={carta:null,bodega:null},this.objCarta.carta=e[0].carta,this.objCarta.bodega=e[0].bodega;const t=this.objCarta.bodega;t&&this.objCarta.carta.map(e=>{t.map(t=>{e.secciones.push(t)})}),console.log("objCartaCarta",this.objCarta)}getMiPedido(){return 0===this.miPedido.tipoconsumo.length&&this.storageService.isExistKey("sys::order::all")&&(this.miPedido=JSON.parse(atob(this.storageService.get("sys::order::all")))),this.miPedido}setobjItemTipoConsumoSelected(e){this.mpObjItemTipoConsumoSelected=e}setObjSeccionSeleced(e){this.mpObjSeccionSelected=new r.a,this.mpObjSeccionSelected.des=e.des,this.mpObjSeccionSelected.idimpresora=e.idimpresora,this.mpObjSeccionSelected.idseccion=e.idseccion,this.mpObjSeccionSelected.sec_orden=e.sec_orden,this.mpObjSeccionSelected.ver_stock_cero=e.ver_stock_cero}addItem2(e,t,i=0,s=null){let a=parseInt(t.cantidad.toString(),0);const o=0===i;if(a<=0&&o)return;let r=e.cantidad_seleccionada||0;if((r+=o?1:-1)<0)return;"ND"!==t.isporcion&&(r=r<0?0:r,a=(a+=o?-1:1)<0||r<0?0:a),e.cantidad_seleccionada=r=r<0?0:r;const n=JSON.parse(JSON.stringify(e)),c=this.findItemMiPedido(n,this.mpObjSeccionSelected,t,o);c.cantidad=a,t=s?this.findItemCarta(t):t,(t=this.findItemCarta(t)).sumar=o,t.subitems_selected=c.subitems_selected,t.subitems_view=c.subitems_view;const d=this.findItemListPedido(t);let l=1;d?(d.itemtiposconsumo||(d.itemtiposconsumo=this.mpObjItemTipoConsumoSelected),l=this.totalItemTpcSelected(d.itemtiposconsumo)||0,d.cantidad_seleccionada=l,d.subitems_selected=c.subitems_selected,d.subitems_view=c.subitems_view):this.listItemsPedido.push(t),t.cantidad_seleccionada=l,this.itemStockChangeSource.next(t),this.setLocalStorageHora(),this.setLocalStoragePedido(),this.socketService.emit("itemModificado",t),console.log("listItemsPedido",this.listItemsPedido),console.log("itemModificado en add",t),console.log("itemModificado en add",JSON.stringify(t)),this.listenStatusService.setHayPedidoPendiente(!0),this.playTimerLimit()}totalItemTpcSelected(e){return e.map(e=>e.cantidad_seleccionada||0).reduce((e,t)=>e+t,0)}addCantItemMiPedido(e,t){const i=t,s=i*parseFloat(e.precio_unitario);e.subitems_selected&&e.subitems_selected.map(e=>e.precio*e.cantidad_seleccionada).reduce((e,t)=>e+t,0),e.cantidad_seleccionada=i,e.precio_total=s,e.precio_print=s}addPrecioItemMiPedido(e){const t=e.subitems_view?e.subitems_view.map(e=>e.precio).reduce((e,t)=>e+t,0):0;let i=e.cantidad_seleccionada*parseFloat(e.precio_unitario);e.precio_total=i+=t,e.precio_print=i}addItemSubItemMiPedido(e,t,i){if(e.subitems){if(0===e.subitems.length)return;const t=new p;if(t.id="",t.des="",t.listDes=[],t.cantidad_seleccionada=0,t.precio=0,t.indicaciones="",t.subitems=[],e.subitems_selected&&e.subitems_selected.length>0){e.subitems_selected.map(e=>{t.id+=e.iditem_subitem.toString(),t.listDes.push(this.utilesService.primeraConMayusculas(e.des.toLowerCase())),t.cantidad_seleccionada=1,t.precio+=parseFloat(e.precio.toString()),t.subitems.push(e)}),t.des=t.listDes.join(", "),t.des+=void 0===e.indicaciones||""===e.indicaciones?"":", ("+e.indicaciones+")",e.indicaciones="",e.subitems_view=e.subitems_view?e.subitems_view:[];const s=e.subitems_view.filter(e=>e.id===t.id)[0];s?i?(s.indicaciones+=t.indicaciones,s.cantidad_seleccionada+=1,s.precio+=t.precio):this.restarCantSubItemView(e,s):i?e.subitems_view.push(t):this.restarCantSubItemView(e,null),this.addPrecioItemMiPedido(e)}}}restarCantSubItemView(e,t=null){if(t){const i=t.precio/t.cantidad_seleccionada;t.cantidad_seleccionada-=1,t.precio-=i,t.precio=t.precio<0?0:t.precio,t.cantidad_seleccionada<=0&&(e.subitems_view=e.subitems_view.filter(e=>e.cantidad_seleccionada>0))}else{const t=e.subitems_view[e.subitems_view.length-1],i=t.precio/t.cantidad_seleccionada;t.cantidad_seleccionada--,t.precio-=i,t.cantidad_seleccionada<=0&&(e.subitems_view=e.subitems_view.filter(e=>e.cantidad_seleccionada>0)),e.subitems_selected=t.subitems}}addItemInCarta(e){const t=this.findItemCarta(e);t?(console.log("update"),t.cantidad=t.cantidad):(console.log("add in carta"),this.objCarta.carta.map(t=>{t.secciones.filter(t=>t.idseccion===e.idseccion).map(t=>{t.items.push(e)})})),console.log("item new add in carta",this.objCarta.carta)}findItemFromArr(e,t){return e.filter(e=>e.iditem===t.iditem)[0]}findItemListPedido(e){return this.listItemsPedido.filter(t=>t.iditem===e.iditem)[0]}findItemCartaAndClearIndicaciones(){this.objCarta.carta.map(e=>{e.secciones.map(e=>{e.items.filter(e=>e.indicaciones).map(e=>e.indicaciones=""),e.items.filter(e=>e.subitems_selected).map(e=>e.subitems_selected=null),e.items.filter(e=>e.subitems_view).map(e=>e.subitems_view=null)})})}findItemCarta(e){let t;return this.objCarta.carta.map(i=>{i.secciones.map(i=>{const s=i.items.filter(t=>t.idcarta_lista===e.idcarta_lista)[0];if(s)return t=s})}),t}findItemCartaByIdCartaLista(e){let t;return this.objCarta.carta.map(i=>{i.secciones.map(i=>{const s=i.items.filter(t=>t.idcarta_lista.toString()===e.toString())[0];if(s)return t=s})}),t}findSubItemCartaById(e,t){const i=[];return this.objCarta.carta.map(s=>{s.secciones.map(s=>{s.items.filter(e=>e.iditem.toString()!==t).filter(e=>e.subitems).map(t=>{t.subitems.map(t=>{const s=t.opciones.filter(t=>t.idproducto.toString()+t.idporcion.toString()===e)[0];s&&i.push(s)})})})}),i}resetCantidadesTpcItemCarta(){this.objCarta&&this.objCarta.carta.map(e=>{e.secciones.map(e=>{e.items.map(e=>{e.indicaciones="",e.cantidad_seleccionada=0,e.itemtiposconsumo=null})})})}findItemSeccionCarta(e){let t;return this.objCarta.carta.map(i=>{const s=i.secciones.filter(t=>t.idseccion===e)[0];s&&(t=s)}),t}findOnlyItemMiPedido(e){let t;return this.miPedido.tipoconsumo.map(i=>{i.secciones.map(i=>{t=i.items.filter(t=>t.idcarta_lista===e.idcarta_lista)[0]})}),t}findItemMiPedido(e,t,i,s){let a,o=JSON.parse(JSON.stringify(i));const r=e.cantidad_seleccionada;o.itemtiposconsumo=[],this.addCantItemMiPedido(o,r);const n=this.miPedido.tipoconsumo.filter(t=>t.idtipo_consumo===e.idtipo_consumo)[0];if(n){const e=n.secciones.filter(e=>e.idseccion===t.idseccion)[0];if(e){const t=e.items.filter(e=>e.idcarta_lista===i.idcarta_lista)[0];t?(t.indicaciones=o.indicaciones,this.addCantItemMiPedido(t,r),a=o=t):(e.items.push(o),a=o),o.subitems=i.subitems,o.subitems_selected=i.subitems_selected,this.addItemSubItemMiPedido(o,i,s),this.setCountCantItemTpcAndSeccion(n,e)}else{a=o;const e=JSON.parse(JSON.stringify(t));e.items=[],e.items.push(o),n.secciones=n.secciones?n.secciones:[],n.secciones.push(e),this.addItemSubItemMiPedido(o,i,s),this.setCountCantItemTpcAndSeccion(n,e)}}else{o.subitems=i.subitems,o.subitems_selected=i.subitems_selected,this.addItemSubItemMiPedido(o,i,s);const r=JSON.parse(JSON.stringify(t));r.items=[],r.items.push(o),e.secciones=e.secciones?e.secciones:[],e.secciones.push(r),this.miPedido.tipoconsumo.push(e),this.setCountCantItemTpcAndSeccion(e,r),a=o}return this.clearObjMiPedido(),a}quitarTpcMiPedido(e){1===e.count_items_seccion&&(this.miPedido.tipoconsumo=this.miPedido.tipoconsumo.filter(t=>!e))}quitarSeccionMiPedido(e){1===e.count_items&&this.miPedido.tipoconsumo.map(t=>{t.secciones.filter(t=>!e)})}findMiPedidoIsTPCLocal(){let e=!1;return this.miPedido.tipoconsumo.filter(e=>"LOCAL"===e.titulo).map(t=>{e=!!t.secciones.filter(e=>e.count_items>0)[0]}),e}findMiPedidoIsTPCDelivery(){let e=!1;return this.miPedido.tipoconsumo.filter(e=>"DELIVERY"===e.descripcion.toUpperCase()).map(t=>{e=!!t.secciones.filter(e=>e.count_items>0)[0]}),e}findMiPedidoIsTPCLLevar(){let e=!1;return this.miPedido.tipoconsumo.filter(e=>e.descripcion.toUpperCase().indexOf("LLEVAR")).map(t=>{e=!!t.secciones.filter(e=>e.count_items>0)[0]}),e}findEvaluateTPCMiPedido(){const e=new h;let t=0;return this.miPedido.tipoconsumo.filter(e=>e.count_items_seccion>0).map(i=>{"LOCAL"===i.titulo&&(e.isTpcLocal=!0,t++),i.descripcion.toUpperCase().indexOf("LLEVAR")>-1&&(e.isTpcSoloLLevar=!0,t++),i.descripcion.toUpperCase().indexOf("DELIVERY")>-1&&(e.isTpcSoloDelivery=!0),e.isRequiereMesa=!!e.isTpcLocal,e.isTpcSoloLLevar=!(1!==t||!e.isTpcSoloLLevar)}),e}findSeccionInMipedidoByPrint(e){let t;return this.miPedido.tipoconsumo.map(i=>{t=i.secciones.filter(t=>t.idimpresora===e)}),t}findIsHayItems(){return this.setCountTotalImtesPedido()>0}clearObjMiPedido(){if(this.miPedido.tipoconsumo=this.miPedido.tipoconsumo.filter(e=>e.count_items_seccion>0),0===this.miPedido.tipoconsumo.length)return this.miPedido=new o.a,console.log("mi pedido clear",this.miPedido),void this.miPedidoSource.next(this.miPedido);this.miPedido.tipoconsumo=this.miPedido.tipoconsumo.map(e=>(e.secciones=e.secciones.filter(e=>e.count_items>0),e)),this.miPedido.tipoconsumo=this.miPedido.tipoconsumo.map(e=>(e.secciones=e.secciones.map(e=>(e.items=e.items.filter(e=>e.cantidad_seleccionada>0),e)),e)),console.log("mi pedido clear",this.miPedido),this.miPedidoSource.next(this.miPedido)}setCountCantItemTpcAndSeccion(e,t){const i=t.items.map(e=>e.cantidad_seleccionada).reduce((e,t)=>e+t,0);t.count_items=i;const s=e.secciones.map(e=>e.count_items).reduce((e,t)=>e+t,0);e.count_items_seccion=s,this.setCountTotalImtesPedido()}setCountTotalImtesPedido(){const e=this.miPedido.tipoconsumo.map(e=>e.count_items_seccion).reduce((e,t)=>e+t,0);return this.countItemsSource.next(e),e}setLocalStorageHora(){if(this.storageService.isExistKey("sys::h"))return;const e=`${this.time.getHours()}:${this.time.getMinutes()}:${this.time.getSeconds()}`;this.storageService.set("sys::h",e.toString())}setLocalStoragePedido(){this.storageService.set("sys::order",btoa(JSON.stringify(this.listItemsPedido))),this.storageService.set("sys::order::all",btoa(JSON.stringify(this.miPedido)))}clearPedidoIsLimitTime(){this.storageService.isExistKey("sys::order")&&(this.listItemsPedido=JSON.parse(atob(this.storageService.get("sys::order"))),this.miPedido=JSON.parse(atob(this.storageService.get("sys::order::all"))))}resetAllNewPedido(){this.socketService.emit("resetPedido",this.listItemsPedido),this.prepareNewPedido()}prepareNewPedido(){this.resetTpcCarta(),this.storageService.clear("sys::h"),this.storageService.clear("sys::order"),this.storageService.clear("sys::order::all"),this.storageService.clear("sys::tcount"),this.storageService.clear("sys::tnum"),this.miPedido=null,this.miPedido=new o.a,this.miPedidoSource.next(this.miPedido),this.countItemsSource.next(0),this.listenStatusService.setHayPedidoPendiente(!1),this.stopTimerLimit()}getOnlyCarta(){this.socketService.emit("getOnlyCarta",null)}resetTpcCarta(){try{this.listItemsPedido.map(e=>{if(e.indicaciones="",!e.itemtiposconsumo)return;e.itemtiposconsumo=null;const t=this.findItemCarta(e);t.indicaciones="",t.cantidad_seleccionada=0,t.itemtiposconsumo=null})}catch(e){console.log(e)}this.resetCantidadesTpcItemCarta(),this.listItemsPedido=[]}updatePedidoFromStrorage(){this.listenStatusService.setHayPedidoPendiente(!1),this.storageService.isExistKey("sys::order")&&(this.listenStatusService.setHayPedidoPendiente(!0),this.listItemsPedido=JSON.parse(atob(this.storageService.get("sys::order"))),this.miPedido=JSON.parse(atob(this.storageService.get("sys::order::all"))),this.setCountTotalImtesPedido(),this.miPedidoSource.next(this.miPedido),this.listItemsPedido.map(e=>{0===e.isalmacen&&this.objCarta.carta.map(t=>{t.secciones.map(t=>{const i=t.items.filter(t=>t.idcarta_lista===e.idcarta_lista)[0];i&&(i.cantidad_seleccionada=e.cantidad_seleccionada,i.itemtiposconsumo=e.itemtiposconsumo)})})}))}updatePedidoFromClear(){this.listItemsPedido&&(this.listItemsPedido.map(e=>{0===e.isalmacen&&this.objCarta.carta.map(t=>{t.secciones.map(t=>{const i=t.items.filter(t=>"ND"!==t.isporcion&&t.idcarta_lista===e.idcarta_lista)[0];i&&(i.cantidad=parseInt(i.cantidad.toString(),0)+e.cantidad_seleccionada)})})}),this.prepareNewPedido())}getEstadoStockItem(e){return e>10?"verde":e>5?"amarillo":"rojo"}validarReglasCarta(e){let t=0,i=0,s=0,a=0,o=0,r=0,n=0;this.miPedido.tipoconsumo.map(e=>{e.secciones.map(e=>{e.items.map(e=>e.precio_total_calc=null)})}),e.map(e=>{i=e.idseccion_detalle,s=this.countCantItemsFromSeccion(t=e.idseccion),a=this.countCantItemsFromSeccion(i),o=(o=s-a)<0?s:o,this.miPedido.tipoconsumo.map(e=>{e.secciones.filter(e=>e.idseccion.toString()===i.toString()).map(e=>{e.items.map((e,t)=>{const i=parseFloat(e.precio),c=e.cantidad_seleccionada;r=n=null!==e.precio_total_calc?e.precio_total_calc:e.precio_total,s>=a?r=0:o>0&&(r=(r=n-(r=o*i))<0?0:r,o=o-c<0?0:o-c),e.precio_total_calc=parseFloat(r.toString()),e.precio_print=parseFloat(r.toString()),e.cantidad_descontado=c})})})})}countCantItemsFromSeccion(e){let t=0;return this.miPedido.tipoconsumo.map(i=>{i.secciones.map(i=>{t+=i.items.filter(t=>t.idseccion.toString()===e.toString()).map(e=>e.cantidad_seleccionada).reduce((e,t)=>e+t,0)})}),t}countCantItemsFromTpcSeccion(e,t){let i=0;return this.miPedido.tipoconsumo.filter(t=>t.idtipo_consumo.toString()===e.toString()).map(e=>{e.secciones.map(e=>{i+=e.items.filter(e=>e.idseccion.toString()===t.toString()).map(e=>e.cantidad_seleccionada).reduce((e,t)=>e+t,0)})}),i}getArrSubTotales(e){const t=this.getSubTotalMiPedido();let i=t;const s=[];let a={id:0,descripcion:"SUB TOTAL",esImpuesto:0,visible:!0,quitar:!1,tachado:!1,visible_cpe:!0};a.importe=parseFloat(t.toString()).toFixed(2),s.push(a);const o=[];e.filter(e=>"p"===e.tipo).map(e=>{const s=e.monto/100,a=1===e.es_impuesto,r=0===e.activo,n=(t*s).toFixed(2),c={};c.id=e.tipo+e.id,c.descripcion=e.descripcion,c.esImpuesto=e.es_impuesto,c.visible=!0,c.quitar=!1,c.tachado=!1,c.visible_cpe=a,"I.G.V"===c.descripcion?c.importe=r?s:0:(c.importe=a?r?n:0:n,c.importe=parseFloat(c.importe.toString()).toFixed(2),i+=parseFloat(c.importe)),0!==c.importe&&o.push(c)});let r=0;const n=[],c=e.filter(e=>"a"===e.tipo),d=!!this.establecimientoService.get().idsede;let l=!1;if(c.map(e=>{const t={};if(e.descripcion.toUpperCase().indexOf("DELIVERY")>-1&&d?(l=!0,e.descripcion="Entrega",r=this.establecimientoService.get().c_servicio):r=parseFloat(e.monto),0===e.nivel){const t=this.countCantItemsFromTpcSeccion(e.idtipo_consumo,e.idseccion);if(0===t)return;r=t*parseFloat(e.monto)}t.id=e.tipo+e.id,t.descripcion=e.descripcion,t.esImpuesto=e.es_impuesto,t.visible=!0,t.quitar=!0,t.tachado=!1,t.visible_cpe=!1,t.importe=parseFloat(r.toString()).toFixed(2),i+=parseFloat(t.importe);const s=n.filter(e=>e.descripcion===t.descripcion)[0];s?s.importe+=parseFloat(t.importe):n.push(t)}),!l&&d){const e={id:-2,descripcion:"Entrega",esImpuesto:0,visible:!0,quitar:!1,tachado:!1,visible_cpe:!1};e.importe=parseFloat(this.establecimientoService.get().c_servicio.toString()).toFixed(2),i+=parseFloat(e.importe),n.push(e)}o.map(e=>s.push(e)),n.map(e=>s.push(e));const m=s.filter(e=>"SUB TOTAL"===e.descripcion)[0],u=s.filter(e=>"I.G.V"===e.descripcion)[0];let h=u?u.importe:0,p=m?m.importe:0;return h>0&&(p-=h=parseFloat((p*h).toString()).toFixed(2),u.importe=h,m.importe=p.toFixed(2)),(a={}).id=0,a.esImpuesto=0,a.descripcion="TOTAL",a.visible=!0,a.quitar=!1,a.tachado=!1,a.visible_cpe=!0,a.importe=parseFloat(i.toString()).toFixed(2),s.push(a),console.log("totales",s),s}getSubTotalMiPedido(){let e=0;return this.miPedido.tipoconsumo.map(t=>{t.secciones.map(t=>{e+=t.items.map(e=>e.precio_print).reduce((e,t)=>e+t,0)})}),e}getImporteTotalItemFromMiPedido(e){let t=0;return this.miPedido.tipoconsumo.map(i=>{i.secciones.map(i=>{t+=i.items.filter(t=>t.iditem===e.iditem).map(e=>e.precio_print).reduce((e,t)=>e+t,0)})}),t}playTimerLimit(){this.timerLimitService.playCountTimerLimit()}stopTimerLimit(){this.timerLimitService.resetCountTimerLimit()}restoreTimerLimit(){this.timerLimitService.resetCountTimerLimit()}listenChangeCantItem(){this.socketService.onItemModificado().subscribe(e=>{let t;null!=e.listItemPorcion?e.listItemPorcion.map(i=>{t=this.findItemCartaByIdCartaLista(i.idcarta_lista);const s=parseInt(i.cantidad,0);t.cantidad=s||parseInt(e.item.cantidad.toString(),0),this.setCantidadItemModificadoPwa(e.item,t,parseInt(i.cantidad,0),!0)}):(t=this.findItemCarta(e=e.item),this.setCantidadItemModificadoPwa(e,t)),console.log("socket list",this.listItemsPedido)}),this.socketService.onItemResetCant().subscribe(e=>{let t;null!=e.listItemPorcion?e.listItemPorcion.map(i=>{(t=this.findItemCartaByIdCartaLista(i.idcarta_lista)).cantidad=parseInt(i.cantidad,0),this.setCantidadItemModificadoPwa(e.item,t,parseInt(i.cantidad,0),!0),this.itemStockChangeSource.next(t)}):((t=this.findItemCarta(e=e.item)).cantidad=parseInt(e.cantidad.toString(),0),t.subitems=e.subitems,this.itemStockChangeSource.next(t))}),this.socketService.onNuevoItemAddInCarta().subscribe(e=>{console.log("onNuevoItemAddInCarta",e),this.addItemInCarta(e)}),this.socketService.onGetDatosSede().subscribe(e=>{this.objDatosSede=e[0],this.listenStatusService.setHayDatosSede(!0),localStorage.setItem("sys::s",this.objDatosSede.datossede[0].nombre+"|"+this.objDatosSede.datossede[0].ciudad),console.log("datos de la sede ps",this.objDatosSede),this.max_minute_order=e[0].datossede[0].pwa_time_limit,this.timerLimitService.maxTime=100*this.max_minute_order}),this.timerLimitService.countdown$.subscribe(e=>{switch(e){case 1:this.isPreAvisoVisible=!1;break;case 80:this.isPreAvisoVisible||(this.isPreAvisoVisible=!0,this._snackBar.open("Proximo a cumplir el tiempo de envio.","",{duration:2e3}));break;case 100:this._snackBar.open("Tiempo agotado, debe realizar un nuevo pedido.","",{duration:3e3})}}),this.timerLimitService.isTimeLimitComplet$.subscribe(e=>{!0===e&&(this.resetAllNewPedido(),this.navigatorService.setPageActive("carta"))})}setCantidadItemModificadoPwa(e,t,i=null,s=!1){e.subitems&&e.idcarta_lista===t.idcarta_lista&&e.subitems.map(i=>{i.opciones.map(i=>{t.subitems.map(t=>{const s=t.opciones.filter(e=>e.iditem_subitem===parseInt(i.iditem_subitem.toString(),0))[0];if(s&&"ND"!==s.cantidad){s.cantidad=i.cantidad;const t=s.idproducto.toString()+s.idporcion.toString();this.findSubItemCartaById(t,e.iditem.toString()).map(e=>{e.cantidad=i.cantidad})}})})}),s||(t.cantidad=i||parseInt(e.cantidad.toString(),0)),this.itemStockChangeSource.next(t)}cerrarSession(){this.socketService.closeConnection(),this.navigatorService.cerrarSession()}}return e.ngInjectableDef=g.Sb({factory:function(){return new e(g.Tb(n.a),g.Tb(c.a),g.Tb(d.a),g.Tb(l.a),g.Tb(f.b),g.Tb(m.a),g.Tb(u.a),g.Tb(b.a))},token:e,providedIn:"root"}),e})()},qTE5:function(e,t,i){"use strict";i.d(t,"a",function(){return s});class s{}},"wne+":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i("8Y7J");let a=(()=>{class e{constructor(){}primeraConMayusculas(e){return(e=e.toLowerCase()).charAt(0).toUpperCase()+e.slice(1)}reformatDate(e){const t=e.split("-");return t[2]+"/"+t[1]+"/"+t[0]}}return e.ngInjectableDef=s.Sb({factory:function(){return new e},token:e,providedIn:"root"}),e})()}}]);