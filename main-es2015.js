(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
/*!**************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<router-outlet></router-outlet>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/agregar-direccion/agregar-direccion.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/agregar-direccion/agregar-direccion.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- <div class=\"form-group\">\n    <label>Enter address</label>\n    <input type=\"text\" class=\"form-control\">\n</div> -->\n\n<!-- <h5>Address: {{address}}</h5> -->\n<!-- <div>Latitude: {{latitude}}</div>\n<div>Longitude: {{longitude}}</div>  -->\n<div class=\"bg-warning pt-3 pr-3 pl-3 p-1\">\n    <p class=\"fs-13\">Indique la direccion exacta de entrega. <strong>Se tomara como referencia el punto que especifica en el mapa.</strong></p>\n</div>\n<div>\n    <form [formGroup]=\"registerForm\">\n        <div class=\"w-100\">\n            <div class=\"p-3\">                                \n                <span class=\"text-secondary fw-100 fs-11\">Escriba el nombre de la calle numero y ciudad. No es necesario escribir: Jiron, jr, pasaje, av, etc.</span>\n                <div>\n                    <mat-checkbox class=\"fs-11 mt-2 text-info\" (change)=\"dirInCoordenadas = !dirInCoordenadas\">Ingresar direccion en coordenadas: Lat, Lng.</mat-checkbox>\n                </div>\n                <ng-container *ngIf=\"!dirInCoordenadas; else elseTemplateCoordenadas\">\n                    <mat-form-field class=\"w-100\">\n                        <input matInput class=\"input-headline\" placeholder=\"Direccion\" formControlName=\"direccion\" [(ngModel)]=\"dataCliente.direccion\" (keydown.enter)=\"$event.preventDefault()\" (keyup)=\"checkDireccion(search.value)\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"off\" type=\"text\" #search id=\"search\">\n                    </mat-form-field>                                                                    \n                </ng-container>\n                <ng-template #elseTemplateCoordenadas>\n                    <div class=\"w-100 d-flex justify-content-between\">\n                        <mat-form-field class=\"w-100\">\n                            <input matInput class=\"input-headline\" placeholder=\"Coordenadas\" #text_coordenadas>\n                        </mat-form-field>                            \n                        <button class=\"btn-in-input btn btn-sm btn-info\"                        \n                        (click)=\"getDirCoordenadas(text_coordenadas.value)\"\n                        > \n                        <span class=\"fa fa-search\"></span>\n                        </button>\n                    </div>\n                </ng-template>\n                                \n                <div class=\"w-100 d-flex justify-content-between\">\n                    <mat-form-field class=\"w-100\">\n                        <input matInput class=\"input-headline\" maxlength=\"150\" placeholder=\"Referencia / piso / oficina\" formControlName=\"referencia\" [(ngModel)]=\"dataCliente.referencia\">\n                    </mat-form-field>\n                    <button class=\"btn-in-input btn btn-sm btn-info\"\n                        [disabled]=\"!registerForm.valid || loader > 0 || !isDireccionValid\"\n                        (click)=\"saveDireccion()\"\n                        >Listo</button>\n                </div>\n\n                <div hidden=\"true\">\n                    <mat-form-field class=\"w-100\">\n                        <input matInput class=\"input-headline\" placeholder=\"Referencia / piso / oficina\" formControlName=\"longitude\" [(ngModel)]=\"longitude\">\n                    </mat-form-field>\n                    <mat-form-field class=\"w-100\">\n                        <input matInput class=\"input-headline\" placeholder=\"Referencia / piso / oficina\" formControlName=\"latitude\" [(ngModel)]=\"latitude\">\n                    </mat-form-field>\n                </div>\n            \n\n            <!-- mapa -->\n                <div class=\"border\" id=\"map_canvas\">\n                    <agm-map \n                        [latitude]=\"latitude\" \n                        [longitude]=\"longitude\"\n                        [zoom]=\"zoom\"                        \n                        (centerChange)=\"centerChange($event)\"\n                        (mapClick)=\"clickmap()\"\n                        (idle)=\"idleMap()\"\n                        >\n                        <!-- <agm-marker                             \n                            [latitude]=\"latitude\" \n                            [longitude]=\"longitude\"                            \n                            [markerDraggable]=\"true\"\n                            (dragEnd)=\"markerDragEnd($event)\"\n                            >\n                        </agm-marker> -->\n                        <!-- [markerDraggable]=\"true\"\n                            (dragEnd)=\"markerDragEnd($event)\" -->\n                    </agm-map>           \n                    <div class=\"centerMarker\"></div>     \n                    <div class=\"btn-confirmar-dir\" *ngIf=\"countMoveMap > 1\">\n                        <button class=\"btn btn-success\" (click)=\"confirmarDireccion()\">Confirmar</button>\n                    </div>\n                </div>\n\n            </div>\n\n            <!-- mapa -->\n            </div>            \n        </form>\n        \n        <div class=\"p-3\">\n            <p class=\"fw-600 fs-13\">Esta es la dirección de mi:</p>\n            <!-- <mat-radio-group aria-label=\"Select an option\" class=\"fs-13\" [(ngModel)]=\"dataCliente.titulo\"> -->\n            <mat-radio-group class=\"fs-13\" [(ngModel)]=\"dataCliente.titulo\"  #radioGroup=\"matRadioGroup\">                \n                <mat-radio-button class=\"pr-3\" [checked]=\"checkekFirstOption\" value=\"Casa\">Casa</mat-radio-button>\n                <mat-radio-button class=\"pr-3\" value=\"Trabajo\">Trabajo</mat-radio-button>\n                <mat-radio-button class=\"pr-3\" value=\"Novi@\">Novi@</mat-radio-button>\n                <mat-radio-button class=\"pr-3\" value=\"Otro\">Otro</mat-radio-button>\n            </mat-radio-group>            \n        </div>\n        \n\n\n        <div class=\"text-center pb-3\">\n\n            <button mat-flat-button mat-dialog-close class=\"mr-3\">\n                <i class=\"fa fa-arrow-left\"></i>\n                Atras\n            </button>\n\n\n\n            <button mat-flat-button \n                color=\"primary\" \n                [disabled]=\"!registerForm.valid || loader > 0 || !isDireccionValid\"\n                (click)=\"saveDireccion()\"\n                >        \n                <ng-container *ngIf=\"loader === 0; then thenTemplate; else elseTemplate\"></ng-container>\n                <ng-template #thenTemplate>            \n                    Listo Guardar\n                </ng-template>\n                <ng-template #elseTemplate>\n                    <ng-container *ngIf=\"loader === 1; else elseTemplateHecho\">\n                        <i class=\"fa fa-spinner fa-spin fa-fw\"></i>\n                        Guardando ...\n                    </ng-container>\n                    <ng-template #elseTemplateHecho>\n                        <i class=\"fa fa-check\"></i>\n                        Hecho\n                    </ng-template>                    \n                </ng-template>\n                \n            </button> \n\n            <!-- recargar -->\n            <button class=\"mt-2\"mat-flat-button color=\"primary\" *ngIf=\"!registerForm.valid\" (click)=\"recargarPage()\">\n                <span class=\"fa fa-refresh mr-1\"></span>                \n                Recargar\n            </button>\n            \n            \n            \n        </div>  \n        \n        <p *ngIf=\"!registerForm.valid\" class=\"fw-600 text-danger fs-14\">Indique direccion y una referencia.</p>                \n        <p *ngIf=\"!isDireccionValid\" class=\"fw-600 text-danger fs-16\">El servicio no esta disponible en esta ubicación.</p>                \n    \n\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-caja-texto/comp-caja-texto.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-caja-texto/comp-caja-texto.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n    <!-- <p>{{ label_txt }}</p> -->\n    <!-- <mat-form-field class=\"w-100 bg-white\"> -->\n        <textarea class=\"text-area-nota\" rows=\"5\" matInput placeholder=\"{{placeholder_txt}}\" (keyup)=\"changeText(txtComent.value)\" #txtComent></textarea>\n    <!-- </mat-form-field> -->\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-calificacion/comp-calificacion.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-calificacion/comp-calificacion.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- aquien califica -->\n\n<ng-container *ngIf=\"countFin > 0; else msjAgradece\">\n    <div class=\"text-center\">\n        <div *ngIf=\"dataCalificado.showTitulo\">\n            <span class=\"fw-600 fs-13 text-secondary\"> {{ dataCalificado.titulo }} </span>\n        </div>\n        \n        <div *ngIf=\"dataCalificado.showNombre\">\n            <span class=\"fs-15\">{{ dataCalificado.nombre }}</span>\n            <br><br>\n        </div>    \n    </div>\n    \n    <star-rating\n        [starType]=\"'svg'\" \n        size=\"large\" \n        speed=\"slow\"\n        (ratingChange)=\"onRatingChange($event)\"\n        ></star-rating>\n    \n    <div *ngIf=\"dataCalificado.showTxtComentario\" class=\"text-center pt-2\">\n        \n        <mat-form-field class=\"text-center\">        \n            <textarea matInput placeholder=\"Escribe un comentario\" maxlength=\"200\" [(ngModel)]=\"comentario\"></textarea>\n        </mat-form-field>\n\n        <br>\n\n        <button mat-flat-button color=\"primary\" (click)=\"goAgradecimiento()\" [disabled]=\"countFin < 3 || dataCalificado.calificacion == 0\">\n            <i *ngIf=\"countFin < 3\" class=\"fa fa-spinner fa-spin fa-fw\"></i>\n            Listo\n        </button>\n    </div>\n</ng-container>\n\n<ng-template #msjAgradece>\n    <div class=\"text-center fs-18 fw-100\">\n        <span> Muchas gracias, su calificación se tomara en cuenta.</span>\n        <hr>\n        <button mat-flat-button color=\"primary\" mat-dialog-close>Ok</button>\n    </div>    \n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-check/comp-check.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-check/comp-check.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>comp-check works!</p>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- inicio -->\n<div>\n    <div [hidden]=\"showDetalle\" class=\"animated fadeIn\">\n        <div class=\"btn-circle-add btn-postion animated\" [ngClass]=\"{'headShake': showAnimateStop, 'cantidad': cantidad > 0 }\" (click)=\"showCantDetalle()\" >\n            <ng-container *ngIf=\"cantidad === 0; else elseTemplateCant\">\n                <span class=\"fa fa-plus fw-600\"></span>\n            </ng-container>\n            <ng-template #elseTemplateCant>\n                <span class=\"fw-600\"> {{ cantidad}}  </span>\n            </ng-template>        \n        </div>\n    </div>\n    \n    <!-- con catnidad -->\n    <div class=\"btn-detalle btn-postion animated\" [ngClass]=\"{'fadeInUp': !quitarFadeUp}\"  [style.zoom]=\"zoom\"  [hidden]=\"!showDetalle\" >\n        <!-- {{ cantidad_show }} -->\n        <div>\n            <ng-container *ngIf=\"cantidad_show === 1; else elseTemplate\">\n                <span class=\"fa fa-trash\" (click)=\"menos()\"></span>\n            </ng-container>\n            <ng-template #elseTemplate>            \n                <span class=\"fa fa-minus\" (click)=\"menos()\"></span>\n            </ng-template>\n            \n        </div>\n        <div class=\"fw-600\">{{ cantidad_show }}</div>\n        <div>\n            <span class=\"fa fa-plus animated\" [ngClass]=\"{'headShake': showAnimateStop}\" (click)=\"add()\"></span>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n    <h5>Datos de la Reserva</h5>\n    <hr>\n    <div class=\"w-100\">\n        <mat-form-field class=\"w-100 text-center\">\n            <input readonly matInput placeholder=\"Reserva a nombre de:\" [(ngModel)]=\"frmConfirma.nombre_reserva\"\n            name=\"nombre_reserva\">\n        </mat-form-field>\n    </div>\n\n    <div class=\"w-100\">\n        <mat-form-field class=\"w-100 text-center\">\n            <input matInput placeholder=\"(Opcional) Empresa o Institucion:\" [(ngModel)]=\"frmConfirma.empresa\"\n            name=\"empresa\" (keyup)=\"emitData()\">\n        </mat-form-field>\n    </div>    \n\n    <div class=\"w-100\">\n        <mat-form-field class=\"w-100 text-center\">\n            <input type=\"number\" matInput placeholder=\"Numero de personas:\" \n            [(ngModel)]=\"frmConfirma.num_personas\"\n            name=\"num_personas\"\n            (keyup)=\"emitData()\">\n        </mat-form-field>\n    </div>\n\n\n    <div class=\"w-100 d-flex justify-content-center\">\n        <app-comp-get-hora [parametros]=\"compHoraParams\" (changeHora)=\"setHora($event)\"></app-comp-get-hora>\n    </div>\n    <hr>\n\n    <app-comp-get-datos-cliente \n        class=\"fs-12\" \n        [opciones] = \"opcionesFrmCliente\" \n        (frmResponse)=\"frmClienteResponse($event)\"></app-comp-get-datos-cliente>\n\n    <hr>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"div-2 animated fadeIn\">\n      \n    <div *ngIf=\"opciones.showDirreccionA\">\n        <p class=\"fs-16 pb-2\">{{ titleDirA }}</p>\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion(0)\">\n                <p class=\"fs-13\"><strong [ngClass]=\"{'text-danger': direccionA.direccion === ''}\">{{direccionA.titulo}}</strong><br> {{direccionA.direccion}}</p>\n                <p class=\"fs-12 text-secondary fw-600\"> {{direccionA.referencia}} </p>\n                <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n            </div>\n            <div>\n                <button class=\"btn btn-sm btn-secondary\" (click)=\"openDialogDireccion(0)\">\n                    <span class=\"fw-100 fs-10\">Cambiar</span>\n                </button>\n            </div>\n        </div>  \n        <hr>\n    </div>\n    \n    <!-- direccion de entrega -->        \n    <div *ngIf=\"opciones.showDirreccionB\">\n        <p class=\"fs-16 pb-2\">{{ titleDirB }}</p>\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion(1)\">\n                <p class=\"fs-13\"><strong [ngClass]=\"{'text-danger': direccionB.direccion === ''}\">{{direccionB.titulo}}</strong><br> {{direccionB.direccion}}</p>\n                <p class=\"fs-12 text-secondary fw-600\"> {{direccionB.referencia}} </p>\n                <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n            </div>\n            <div>\n                <button class=\"btn btn-sm btn-secondary\" (click)=\"openDialogDireccion(1)\">\n                    <span class=\"fw-100 fs-10\">Cambiar</span>\n                </button>\n            </div>\n        </div>\n        <hr>\n    </div>\n\n    <!-- tiempo de entrega -->\n    <div *ngIf=\"opciones.tiempoEntrega\">\n        <div class=\"d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTiempoEntrega()\">\n            <div>\n                <p class=\"fs-16 pb-2\">Cuando lo entregamos?</p>\n                <p class=\"m-0\"><span class=\"fs-14\" [ngClass]=\"{'text-danger': !isTiempoEntregaValid}\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\n            </div>\n\n            <div>\n                <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n            </div>\n        </div>\n        <hr>\n    </div>\n    <!-- tiempo de entrega -->\n\n    <!-- metodo de pago -->\n    <div *ngIf=\"opciones.metodoPago\">                \n        <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogMetodoPago()\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n                <p class=\"m-0 fs-16\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\n                <button class=\"btn btn-sm btn-secondary\">\n                    <span class=\"fw-100 fs-10\">Cambiar</span>\n                </button>\n                <!-- <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>                 -->\n            </div>\n            <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.metodoPagoSelected.idtipo_pago\">Especifique un metodo de pago.</span>\n        </div>\n        <hr>\n    </div>\n\n    <!-- telefono -->\n    <div *ngIf=\"opciones.telefono\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogsendSMS()\">                \n                <span class=\"text-danger fs-12 fw-100\" [hidden]=\"this.infoToken.telefono.length >= 5\">Es necesario el numero de su telefono</span>        \n                <p class=\"m-0 fs-16\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.infoToken.telefono.length >= 5\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \n            </div>\n            <div>\n                <button class=\"btn btn-sm btn-secondary\" (click)=\"openDialogsendSMS(1)\">\n                    <span class=\"fw-100 fs-10\">Cambiar</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    \n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-hora/comp-get-hora.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-hora/comp-get-hora.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div matRipple>\n    <p class=\"text-secondary\" [ngClass]=\"{'text-danger': !isHourValid}\">{{ parametros.titulo }}</p>\n    <!-- <input matInput [placeholder]=\"parametros.tituloHora\" aria-label=\"Hora\" \n        [ngxTimepicker]=\"default\" \n        [min]=\"hora_min\"\n        [max]=\"hora_max\"\n        [value]=\"hora_show\"\n        readonly> -->\n    \n    <!-- <ngx-material-timepicker #default \n        [enableKeyboardInput]=\"true\"\n        [defaultTime]=\"hora_show\" (timeSet) = \"responseHora($event)\"\n        (timeChanged)=\"changeAm($event)\"\n        >\n    </ngx-material-timepicker> -->\n\n    <!-- <ngx-timepicker-field \n    [defaultTime]=\"hora_show\"\n    [min]=\"hora_min\"\n    [max]=\"hora_max\"\n    (timeChanged) = \"responseHora($event)\"\n    ></ngx-timepicker-field> -->\n\n    <div class=\"d-flex\">\n        <mat-form-field class=\"text-center DivHora\">\n            <input type=\"number\" matInput placeholder=\"Hora\" max=\"12\" maxlength=\"2\" [(ngModel)]=\"setHoraControl.h\" name=\"h\" (keyup)=\"responseHora()\">\n        </mat-form-field>\n        <mat-form-field class=\"text-center DivHora\">\n            <input type=\"number\" matInput placeholder=\"Min\" max=\"60\" maxlength=\"2\" [(ngModel)]=\"setHoraControl.m\" name=\"m\" (keyup)=\"responseHora()\">\n        </mat-form-field> \n\n        <mat-form-field class=\"DivHora text-center\">\n            <mat-select [(ngModel)]=\"setHoraControl.ap\" name=\"ap\" (selectionChange)=\"responseHora()\">\n              <mat-option value=\"AM\">AM</mat-option>\n              <mat-option value=\"PM\">PM</mat-option>              \n            </mat-select>\n          </mat-form-field>\n    </div>\n\n    <span *ngIf=\"parametros.showHoraMinMax && !isHourValid\" class=\"text-info fs-12 fw-100\">\n        Máximo hasta las {{ parametros.hora_max }}\n    </span>\n    <br>\n    \n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.html":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.html ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-3 div-content-list\">    \n    <div class=\"d-flex justify-content-between mb-2\">\n        <div>\n            <span class=\"fw-600 fs-17\">Mi Pedido</span>\n        </div>\n        <i class=\"fa fa-arrow-left mr-2\" (click)=\"goBackCarta()\"></i>\n        <!-- <p class=\"fw-600 text-info fs-17\">BORRAR</p> -->\n    </div>\n    <div *ngFor=\"let tpc of miPedido.tipoconsumo\">\n        <div class=\"div-tp-consumo\">\n            <!-- titulo -->\n            <div class=\"div-plr titulo-tpc\" *ngIf=\"!isDeliveryCliente\">\n                <span [hidden]=\"isDeliveryCliente\">{{tpc.descripcion}}</span>            \n                <span [hidden]=\"!isDeliveryCliente\">{{tpc.descripcion}}</span>            \n            </div>\n            \n            <!-- seccion -->\n            <div *ngFor=\"let seccion of tpc.secciones\" let=\"i=index\" class=\"secciones\">\n                <ng-container *ngIf=\"seccion.count_items > 0\">\n                    <div class=\"div-plr titulo-seccion\">\n                        <span class=\"fs-13\">{{seccion.des | titlecase}}</span>                    \n                    </div>\n\n                    <!-- items -->\n                    <div class=\"div-seccion\" *ngFor=\"let item of seccion.items\" matRipple>\n                        <div class=\"item\">\n                            <div class=\"seccion-item\" (click)=\"openDlgItemToResumen(seccion, item)\">\n                                <p class=\"fs-14\"> {{item.des | titlecase}} <span [hidden]=\"!item.indicaciones\">( {{item.indicaciones}} )</span></p>\n                                \n                                <!-- subitems -->\n                                <ng-container *ngIf=\"item.subitems_view\">                                                \n                                    <div>\n                                        <ul class=\"w-100 m-0 ml-2\">                                                        \n                                            <!-- <div *ngFor=\"let subitem of item.subitems_view\">                   -->\n                                                    <!-- (click)=\"openDlgSubItem(tpc, seccion, item, subitem)\"                                       -->\n                                                <li class=\"d-flex div-plr li-item fw-100 fs-13 text-secondary subitem-content-resumen\" *ngFor=\"let subitem of item.subitems_view\" matRipple [matRippleColor]=\"rippleColorSubItem\">\n                                                    <!-- <div class=\"w-100 d-flex\"> -->\n                                                        <div class=\"d-flex w-100 sub-item\" [ngClass]=\"{'pl-4': isHayCuentaBusqueda}\">\n                                                            <!-- <div class=\"btnCount btnMenos\" *ngIf=\"!isHayCuentaBusqueda\" (click)=\"addItemToResumen(tpc, seccion, item, subitem, 1)\">-</div>  -->\n                                                                <span class=\"fw-600 mr-1\">{{subitem.cantidad_seleccionada | number: '2.'}}</span> {{subitem.des}}\n                                                            <!-- <div class=\"btnCount btnMas\" *ngIf=\"!isHayCuentaBusqueda\" (click)=\"addItemToResumen(tpc, seccion, item, subitem, 0)\">+</div>  -->\n                                                        </div>\n\n                                                        <!-- <div class=\"fs-11 text-right\" style=\"width: 45px;\" [hidden]=\"subitem.precio === 0\">\n                                                            + {{subitem.precio | number:'0.2' }}\n                                                        </div>                                                                     -->\n                                                    <!-- </div> -->\n                                                </li>\n                                            <!-- </div> -->\n                                        </ul>\n                                    </div>\n                                </ng-container>\n\n\n\n                                <p class=\"fw-600 fs-14\">{{simbolo_moneda}} {{ item.precio_print | number:'0.2' }}</p>\n                            </div>\n                            <div>\n                                <app-comp-ctrl-add-fast class=\"div-control-add-fast\"\n                                  (objResponse)=\"resultCantItemMercado($event, tpc, seccion)\" \n                                  [objItem]=\"item\"\n                                  [cantidad_show] = \"item.cantidad_seleccionada\"\n                                  [comprimir] = \"false\"\n                                  [limitAdd]=\"item.cantidad\">\n                                </app-comp-ctrl-add-fast>\n                            </div>\n                        </div>\n\n                        \n                    </div>\n                </ng-container>\n            </div>\n        </div>\n    </div>    \n\n    <!-- subtotales -->\n    <div class=\"div-tp-consumo mt-3 mb-5\">        \n        <ul class=\"w-100 ul-total\">\n            <li class=\"d-flex div-plr li-item\" *ngFor=\"let item of arrSubtotales\">\n                <div class=\"w-100\">\n                \n                    {{item.descripcion | titlecase}}\n\n                    <!-- si lluvia -->\n                    <ng-container *ngIf=\"item.isDeliveryApp\" class=\"d-flex\">\n                        <div *ngFor=\"let itemIcon of listIconsEntrega\" class=\"d-inline\">\n                            <img *ngIf=\"itemIcon.visible\" class=\"img-ico-entrega pl-2 text-secondary\" src=\"../assets/images/{{itemIcon.icon}}\" alt=\"itemIcon.motivo\" matTooltip=\"{{ itemIcon.motivo }}\">\n                        </div>                                    \n                        <!-- <i *ngIf=\"isCalculandoDistanciaA\" class=\"fa fa-spinner fa-spin fa-fw ml-3\"></i> -->\n                    </ng-container>   \n                </div>\n\n                <div>{{item.importe | number:'0.2' }}</div>\n            </li>\n        </ul>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"content-op\">    \n    <div matRipple *ngFor=\"let item of listOpciones\" \n        class=\"item-propina\" [ngClass]=\"{'propina-selected': item.selected}\"\n        (click)=\"selectedItem(item)\">\n\n        <p class=\"fw-600\">{{ item.descripcion }} </p>\n        <p class=\"fs-14\"> {{ item.showImporte }} </p>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"loader-pago\" *ngIf=\"isLoaderTransaction\">\n    <div>\n      <span>Verificando, un momento por favor...</span>\n      <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n    </div>\n  </div>\n\n  <div class=\"animated fadeIn content-pago\">    \n\n    <!-- header -->\n    <!-- <div class=\"header-pago p-3\">    \n      <i *ngIf=\"!isTrasctionSuccess\" class=\"fa fa-arrow-left\" (click)=\"goBack()\" [routerLink]=\"['../']\"></i>    \n      <span class=\"pl-2\">Pagar con Tarjeta</span>\n    </div> -->\n  \n  \n    <!-- pago -->\n  \n    <div *ngIf=\"!dataResTransaction\">    \n      <!-- body -->\n      <div class=\"p-3\" style=\"max-width: 500px; margin: 0 auto;\">\n  \n        <mat-card class=\"mt-2 mb-2\">\n          <div class=\"text-center\">\n              <p>Importe a pagar:</p>\n              <div>              \n                <p class=\"fs-30 fw-600\"><span class=\"fs-15\">S/.</span>  <span id=\"importe\">{{importeTransaccion | number: '0.2'}}</span> </p>\n              </div>            \n              <hr>\n  \n              <!-- correo -->\n              <div *ngIf=\"isRequiredEmail\" class=\"w-100\">              \n                <p class=\"fs-13 fw-100\" ng [ngClass]=\"{'text-danger animated flash': isViewAlertEmail}\">Se requiere un coreo para notificarle.</p>\n                <mat-form-field class=\"w-100 text-center\">\n                  <input matInput         \n                    type=\"email\" \n                    name=\"email\"\n                    class=\"text-center\"\n                    pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"\n                    placeholder=\"Correo electronico\" \n                    (keyup) = \"verificarCorreo(txtCorreo)\"\n                    #txtCorreo>\n                  </mat-form-field>\n                  <span class=\"fs-13 fw-100 text-danger m-0 p-0\" [hidden]=\"isEmailValid\">Correo no valido</span>\n                  <hr>\n              </div>\n  \n              <!-- check terminos -->\n              <div class=\"text-center\" *ngIf=\"isDisabledCheck && isEmailValid\">\n                <mat-checkbox  (click)=\"goPagar()\">Acepto los <a href=\"http://papaya.com.pe/terminos-condiciones.html\" target=\"_blank\">Terminos y condiciones</a></mat-checkbox>\n                <p *ngIf=\"isViewAlertTerminos\" class=\"fw-100 fs-14 text-danger animated flash\">Acepte los terminos.</p>\n                <hr>\n              </div>\n  \n              <!-- <div class=\"w-70\">\n                <mat-checkbox  (click)=\"goPagar()\">Acepto los <a href=\"http://papaya.com.pe/terminos-condiciones.html\" target=\"_blank\">Terminos y condiciones</a></mat-checkbox>\n                <p *ngIf=\"isViewAlertTerminos\" class=\"fw-100 fs-14 text-danger animated flash\">Acepte los terminos.</p>\n                <hr>\n              </div> -->\n              \n              <div class=\"div-btn\">\n                <div id=\"btn_pago\">\n    \n                </div>\n    \n                <div id=\"btn-disabled\" class=\"btn-pago-disabled\" (click)=\"verificarCheckTerminos()\">\n                  <span [hidden]=\"!isLoadBtnPago\" class=\"fa fa-spinner fa-spin\"></span> \n                  <span [hidden]=\"isLoadBtnPago\">Pagar Aqui</span>\n                </div>\n              </div>\n          </div>\n        </mat-card>      \n  \n          <!-- <mat-accordion>\n              <mat-expansion-panel>\n                <mat-expansion-panel-header>\n                  <mat-panel-title>\n                    Datos de Facturación\n                  </mat-panel-title>                \n                </mat-expansion-panel-header>\n            \n                <span class=\"fw-100 text-secondary\">Muy pronto podrás obtener tu comprobante de consumo por este medio. Por el momento lo puede solicitar en caja.</span>\n              </mat-expansion-panel>            \n          </mat-accordion>               -->\n      \n      </div>\n    </div>\n  \n  \n    <!-- respuesta -->\n    <div *ngIf=\"dataResTransaction\" class=\"animated fadeIn\">\n  \n      <ng-container *ngIf=\"dataResTransaction.error; else elseTemplate\">\n        <div class=\"text-center fs-20 fw-100 banner-res-error p-3\">\n          <i class=\"fa fa-times-circle-o fa-2x\" aria-hidden=\"true\"></i>\n          <p>Ups! hubo un problema.</p>\n        </div>      \n  \n        <div class=\"p-3 bg-white\">\n          <div class=\"text-center\">\n            <span class=\"fw-100\">\n              {{dataResTransaction.errorMessage}} <br>\n              {{dataResTransaction.data.ACTION_DESCRIPTION}} <br>\n              {{dataResTransaction.data.CARD}} <br>\n            </span>\n          </div>\n        </div>\n  \n  \n        <div class=\"p-3 bg-white\">\n          <div class=\"text-center\">\n            <button mat-flat-button color=\"accent\" (click)=\"btnFinListo(false)\">Regresar</button>\n          </div>\n        </div>\n  \n      </ng-container>\n  \n      <ng-template #elseTemplate>\n       \n        <!-- transaccion exitosa -->\n  \n        <div>\n          <div class=\"p-3 bg-white\">\n            <div class=\"text-center\">\n              <p class=\"fs-20\">Pedido Confirmado</p>\n              <hr>\n              <p>Su orden llegara pronto.</p>\n              <hr>\n              <img src=\"./assets/images/food_delivery.gif\" alt=\"delivery\" width=\"160px\">\n              <hr>\n              <p>Puede ver el estado de este en <br><strong>Mis Pedidos</strong>.</p>\n              <!-- <span class=\"fw-100 fs-25\">{{ countFin | number: '2.' }}</span>\n              <p>Notificando pago a control de caja ...</p> -->\n            </div>\n          </div>\n          \n          <div class=\"p-3 bg-white text-center\">          \n            <button mat-flat-button color=\"primary\" (click)=\"btnFinListo(true)\"> Listo. </button>\n            <br>\n          </div>\n        </div>\n  \n      </ng-template>              \n    </div>\n  </div>\n  \n  ");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"_miPedido\" class=\"w-100 div-resumen-pedido\">\n    <div *ngFor=\"let tpc of _miPedido.tipoconsumo\" class=\"xCursor\">\n        <ng-container *ngIf=\"tpc.count_items_seccion > 0\">\n            <div class=\"div-plr titulo-tpc\">                        \n                <span>Detalle del pedido</span>\n                <div class=\"countItem countTpc\">{{tpc.count_items_seccion}}</div>\n            </div>\n            <div *ngFor=\"let seccion of tpc.secciones\">\n                <ng-container *ngIf=\"seccion.count_items > 0\">\n                    <div class=\"div-plr titulo-seccion\">\n                        <span>{{seccion.des | titlecase}}</span>\n                        <div class=\"countItem countSeccion\">{{seccion.count_items}}</div>\n                    </div>                            \n                    <ul class=\"w-100\">\n                        <div *ngFor=\"let item of seccion.items\">\n                            <ng-container *ngIf=\"item.cantidad_seleccionada > 0\">\n                                <!-- <div class=\"d-flex\"> -->\n                                <!-- <div>\n                                    <img class=\"img-thumbnail img-carta\" src=\"{{url_img}}{{item.img}}\" width=\"65px\" alt=\"{{item.img}}\">\n                                </div> -->\n                                <!-- <div class=\"w-100\"> -->\n                                <li class=\"d-flex div-plr li-item\" matRipple [matRippleColor]=\"rippleColor\">\n                                    <div class=\"pr-2 fw-100\">{{item.cantidad_seleccionada | number: '2.'}}</div>\n                                    <div class=\"w-100 fw-100\">{{item.des | lowercase}}  <span [hidden]=\"!item.indicaciones\">( {{item.indicaciones}} )</span></div>\n                                    <div class=\"fw-100\">{{item.precio_print | number:'0.2' }}</div>\n                                </li>\n                                    <!-- subitems -->\n                                    <ng-container *ngIf=\"item.subitems_view\">                                                \n                                        <div>\n                                            <ul class=\"w-100\">                                                        \n                                                <!-- <div *ngFor=\"let subitem of item.subitems_view\">                   -->\n                                                        <!-- (click)=\"openDlgSubItem(tpc, seccion, item, subitem)\"                                       -->\n                                                    <li class=\"d-flex div-plr li-item fw-100 fs-12 text-secondary subitem-content-resumen\" *ngFor=\"let subitem of item.subitems_view\" matRipple [matRippleColor]=\"rippleColorSubItem\">\n                                                        <!-- <div class=\"w-100 d-flex\"> -->\n                                                            <div class=\"d-flex w-100 pl-4\">                                                                        \n                                                                    {{subitem.cantidad_seleccionada | number: '2.'}} {{subitem.des}}                                                                            \n                                                            </div>\n\n                                                            <div class=\"fs-11 text-right\" style=\"width: 45px;\" [hidden]=\"subitem.precio === 0\">\n                                                                + {{subitem.precio | number:'0.2' }}\n                                                            </div>                                                                    \n                                                        <!-- </div> -->\n                                                    </li>\n                                                <!-- </div> -->\n                                            </ul>\n                                        </div>\n                                    </ng-container>\n                                <!-- </div> -->\n                                <!-- </div>                                        -->\n                            </ng-container>                            \n                        </div>\n                    </ul>            \n                </ng-container>\n            </div>\n        </ng-container>\n    </div>    \n\n    <!-- subtotales -->    \n    <div class=\"div-total\">\n        <ul class=\"w-100 ul-total\">\n            <li class=\"d-flex div-plr li-item\" *ngFor=\"let item of _arrSubtotales\" matRipple\n            [matRippleColor]=\"rippleColor\">\n            <div class=\"w-100\">{{item.descripcion | titlecase}}</div>\n            <div>{{item.importe | number:'0.2' }}</div>\n            </li>\n        </ul>\n    </div>                    \n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-express/comp-pide-express.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-express/comp-pide-express.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"!isEnviado; else pedidoEnviado\">\n        \n    <div class=\"p-4 div-content\">\n        <div class=\"animated fadeInUp\" [hidden]=\"isShowFinalize\">\n            <p class=\"fs-18\">Envios Express.</p>\n            <p class=\"fw-100 fs-14\">Llevaremos cualquier artículo o paquete de un lugar a otro de la ciudad.\n                <span class=\"text-secondary fs-12\">Si deseas que compremos algo por ti, utiliza la opcion \"Lo que quieras\" ó en los comercios afiliados.</span>\n            </p>\n            <hr>\n            <div>\n                <p class=\"fs-16\">Tipo de movilidad que requiere.</p>\n                <app-tipo-vehiculo (optionSelected)=\"vehiculoSelected($event)\"></app-tipo-vehiculo>        \n            </div>\n            <hr>\n            <div id=\"div-1\">\n                <p class=\"fs-16 pb-2\">Articulo o paquete.</p>\n                <app-comp-caja-texto \n                    placeholder_txt=\"Que articulo o paquete te gustaria enviar?\"\n                    (textChanged)=\"textChanged($event)\"\n                    ></app-comp-caja-texto>\n                <hr>\n                      \n                <div class=\"text-center w-100\">\n                    <button class=\"w-50\" mat-raised-button color=\"primary\" [disabled]=\"!isFormValid\" (click)=\"goNext()\">Listo, continuar</button>\n                </div>\n            </div>\n        </div>\n\n    \n    \n    \n        <div id=\"div-2 animated fadeIn\" [hidden]=\"!isShowFinalize\">\n            <p><i class=\"fa fa-arrow-left pr-2\" (click)=\"goNext()\"></i> Envios Express</p>\n            <hr>\n            <p class=\"fs-16 pb-2\">De dónde lo recogemos?</p>\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion(0)\">\n                <p class=\"fs-13\"><strong [ngClass]=\"{'text-danger': direccionA.direccion === ''}\">{{direccionA.titulo}}</strong><br> {{direccionA.direccion}}</p>\n                <p class=\"fs-12 text-secondary fw-600\"> {{direccionA.referencia}} </p>\n                <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n            </div>\n            <hr>\n            \n            <!-- direccion de entrega -->        \n            <p class=\"fs-16 pb-2\">A dónde lo llevamos?</p>\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion(1)\">\n                <p class=\"fs-13\"><strong [ngClass]=\"{'text-danger': direccionB.direccion === ''}\">{{direccionB.titulo}}</strong><br> {{direccionB.direccion}}</p>\n                <p class=\"fs-12 text-secondary fw-600\"> {{direccionB.referencia}} </p>\n                <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n            </div>\n            <hr>\n\n            <!-- tiempo de entrega -->\n            <div class=\"d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTiempoEntrega()\">\n                <!-- <span class=\"fw-100 fs-12 text-secondary\">Hora de entrega:</span> -->            \n                <div>\n                    <p class=\"fs-16 pb-2\">Cuando lo entregamos?</p>\n                    <p class=\"m-0\"><span class=\"fs-14\" [ngClass]=\"{'text-danger': !isTiempoEntregaValid}\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\n                </div>\n\n                <div>\n                    <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n                </div>\n\n            </div>\n            <!-- tiempo de entrega -->\n    \n            <!-- metodo de pago -->\n            <hr>        \n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogMetodoPago()\">\n                <div class=\"d-flex justify-content-between align-items-center\">\n                    <p class=\"m-0 fs-16\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\n                    <button class=\"btn btn-sm btn-secondary\">\n                        <span class=\"fw-100 fs-10\">Cambiar</span>\n                    </button>\n                    <!-- <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>                 -->\n                </div>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.metodoPagoSelected.idtipo_pago\">Especifique un metodo de pago.</span>\n            </div>\n    \n            <!-- telefono -->\n            <hr>\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogsendSMS()\">                \n                <span class=\"text-danger fs-12 fw-100\" [hidden]=\"this.infoToken.telefono.length >= 5\">Es necesario el numero de su telefono</span>        \n                <p class=\"m-0 fs-16\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.infoToken.telefono.length >= 5\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \n            </div>\n    \n            <hr>\n            <br>\n            <div class=\"d-flex justify-content-between\">\n                <div class=\"fs-17 fw-600\">Costo de entrega</div>\n                <div class=\"fs-18 fw-600 text-right\"> <i *ngIf=\"isCalculandoDistancia\" class=\"fa fa-spinner fa-spin fa-fw\"></i> S/. {{ importe_pagar | number: '.2'}}</div>            \n            </div>\n            <p class=\"fs-12 fw-100 text-secondary\">Entrega sin contacto: cuando sea posible, seleccione pagar con Yape.</p>\n            <br>\n            <hr>\n            <div class=\"text-center w-100\">\n                <button class=\"w-50\" mat-raised-button color=\"primary\" [disabled]=\"!isFormValidDos || isLoading\" (click)=\"enviarPedidoExpress()\">\n                    <i *ngIf=\"isLoading\" class=\"fa fa-spinner fa-spin fa-fw mr-2\"></i>\n                    Listo, Enviar.\n                </button>\n            </div>\n            <br><br>\n        </div>\n    </div>\n\n\n</ng-container>\n<ng-template #pedidoEnviado>\n    <div class=\"p-3 m-0 d-flex align-items-center div-enviado\">\n        <div class=\"div-listo\">\n            <i class=\"fa fa-check fa-3x text-success\"></i>\n            <br>\n            <p class=\"fs-18\">\n                Pedido enviado.\n            </p>\n            <p class=\"fs-12 text-secondary\">Atenderemos su pedido lo mas pronto posible. Un repartidor se comunicara con usted para cumplir con su pedido.</p>\n            <hr>\n            <button mat-stroked-button color=\"primary\" (click)=\"goZona()\">Listo</button>\n        </div>\n    </div>\n</ng-template>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"!isEnviado; else pedidoEnviado\">\n    \n    <div class=\"p-4 div-content\" id=\"divcontent\">\n        <div class=\"animated fadeInUp\" [hidden]=\"isShowFinalize\">\n            <p class=\"fs-18\">Pide lo que quieras.</p>\n            <p class=\"fw-100 fs-14\">Buscaremos en su ciudad para llevarte lo que necesitas.\n                <!-- <span class=\"text-secondary fs-12\">Compras del mercado, medicinas, ferreteria, algún antojo, etc.</span> -->\n            </p>\n            <hr>\n            <div>\n                <p class=\"fs-16\">Tipo de movilidad que requiere.</p>\n                <app-tipo-vehiculo (optionSelected)=\"vehiculoSelected($event)\"></app-tipo-vehiculo>        \n            </div>\n            <hr>\n            <div id=\"div-1\">\n                <p class=\"fs-16 pb-2\">Que compraremos?.</p>\n                <app-comp-caja-texto \n                    placeholder_txt=\"Lista del mercado, medicinas, ferreteria, algún antojo, etc...\"\n                    (textChanged)=\"textChanged($event)\"\n                    ></app-comp-caja-texto>\n                <hr>\n                <p class=\"fs-16 pb-2\">Costo estimado de la compra.</p>        \n                <app-comp-op-costo-estimado (optionSelected)=\"costoSelected($event)\"></app-comp-op-costo-estimado>        \n                <hr>        \n                <div class=\"text-center w-100\">\n                    <button class=\"w-50\" mat-raised-button color=\"primary\" [disabled]=\"!isFormValid\" (click)=\"goNext()\">Listo, continuar</button>\n                </div>\n            </div>\n\n        </div>\n    \n    \n    \n        <div id=\"div-2 animated fadeIn\" [hidden]=\"!isShowFinalize\" [ngClass]=\"{'fadeInRight': isShowFinalize}\">\n            <p><i class=\"fa fa-arrow-left pr-2\" (click)=\"goNext()\"></i> Pide lo que quieras</p>\n            <hr>\n            <div>                \n                <p class=\"fs-16 pb-2\">De dónde lo compramos? <span class=\"fw-600 fs-12\">(Opcional)</span></p>\n                <!-- <p class=\"fs-18\">De donde? <span class=\"fw-600 fs-12\">(Opcional)</span></p> -->\n                <mat-form-field class=\"w-100\">                \n                    <input matInput placeholder=\"Bodega, supermercado, farmacia... \" [(ngModel)]=\"datosFormUno.donde_compramos\">\n                </mat-form-field>\n            </div>\n            \n            <!-- direccion de entrega -->        \n            <p class=\"fs-16 pb-2\">A dónde lo llevamos?</p>\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion()\">\n                <p class=\"fs-13\"><strong [ngClass]=\"{'text-danger': direccionCliente.direccion === ''}\">{{direccionCliente.titulo}}</strong><br> {{direccionCliente.direccion}}</p>\n                <p class=\"fs-12 text-secondary fw-600\"> {{direccionCliente.referencia}} </p>\n                <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n            </div>\n            \n            <hr>\n             <!-- tiempo de entrega -->\n             <div class=\"d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTiempoEntrega()\">\n                <!-- <span class=\"fw-100 fs-12 text-secondary\">Hora de entrega:</span> -->            \n                <div>\n                    <p class=\"fs-16 pb-2\">Cuando lo entregamos?</p>\n                    <p class=\"m-0\"><span class=\"fs-14\" [ngClass]=\"{'text-danger': !isTiempoEntregaValid}\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\n                </div>\n\n                <div>\n                    <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n                </div>\n\n            </div>\n            <!-- tiempo de entrega -->\n    \n            <!-- metodo de pago -->\n            <hr>        \n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogMetodoPago()\">\n                <div class=\"d-flex justify-content-between align-items-center\">\n                    <p class=\"m-0 fs-16\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\n                    <button class=\"btn btn-sm btn-secondary\">\n                        <span class=\"fw-100 fs-10\">Cambiar</span>\n                    </button>\n                    <!-- <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>                 -->\n                </div>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.metodoPagoSelected.idtipo_pago\">Especifique un metodo de pago.</span>\n            </div>\n    \n            <!-- telefono -->\n            <hr>\n            <div class=\"m-0\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogsendSMS()\">                \n                <span class=\"text-danger fs-12 fw-100\" [hidden]=\"this.infoToken.telefono.length >= 5\">Es necesario el numero de su telefono</span>        \n                <p class=\"m-0 fs-16\">Telefono contacto: <strong>{{ infoToken.telefono }}</strong></p>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.infoToken.telefono.length >= 5\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \n            </div>\n    \n            <hr>\n            <br>\n            <div class=\"d-flex justify-content-between\">\n                <div class=\"fs-17 fw-600\">Costo de entrega</div>\n                <div class=\"fs-18 fw-600 text-right\">\n                    <i *ngIf=\"isCalculandoDistanciaA\" class=\"fa fa-spinner fa-spin fa-fw\"></i>\n                    S/. {{ importe_pagar | number: '.2'}}</div>   \n            </div>\n            <p class=\"fs-12 fw-100 text-secondary\">Entrega sin contacto: cuando sea posible, seleccione pagar con Yape.</p>\n            <br>\n            <hr>\n            <div class=\"text-center w-100\">\n                <button class=\"w-50\" mat-raised-button color=\"primary\" [disabled]=\"!isFormValidDos || isLoading\" (click)=\"enviarPedidoLoQ()\">\n                    <i *ngIf=\"isLoading\" class=\"fa fa-spinner fa-spin fa-fw mr-2\"></i>\n                    Listo, Enviar.\n                </button>\n            </div>\n            <br><br>\n        </div>\n    </div>\n\n\n</ng-container>\n<ng-template #pedidoEnviado>\n    <div class=\"p-3 m-0 d-flex align-items-center div-enviado\">\n        <div class=\"div-listo\">\n            <i class=\"fa fa-check fa-3x text-success\"></i>\n            <br>\n            <p class=\"fs-18\">\n                Pedido enviado.\n            </p>\n            <p class=\"fs-12 text-secondary\">Atenderemos su pedido lo mas pronto posible. En breve un repartidor se comunicara con usted para cumplir con su pedido.</p>\n            <hr>\n            <button mat-stroked-button color=\"primary\" (click)=\"goZona()\">Listo</button>\n        </div>\n    </div>\n</ng-template>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"d-flex content-propina\" >\n    <div matRipple class=\"item-propina\" \n        [ngClass]=\"{'propina-selected': item.checked}\" \n        (click)=\"itemCheck(item)\"\n        *ngFor=\"let item of listPropina\">{{ item.descripcion }}</div>    \n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-view-promo/comp-view-promo.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-view-promo/comp-view-promo.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- <div class=\"div-content-promo\">\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n    <div class=\"div-promo\" matRipple>\n        <img src=\"{{ imgdemo }}\" alt=\"aa\">\n    </div>\n</div> -->\n\n\n<div class=\"div-content-promo\">\n    \n    <div class=\"div-promo\" matRipple *ngFor=\"let item of _listPromo\" (click)=\"_itemSelected(item)\">\n        <img src=\"{{ imgdemo }}/{{item.img}}\" alt=\"aa\">\n        <div *ngIf=\"item.cerrado === 1\" class=\"div-cerrado-comercio fw-600\">\n            Cerrado\n        </div>\n    </div>\n    \n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/confirmar-delivery/confirmar-delivery.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/confirmar-delivery/confirmar-delivery.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"text-left h-100\">\n\n    <!-- info comercio con repartidores propios -->    \n    <ng-container *ngIf=\"isComercioRepartidoresPropios && !isComercioPapayaSoloPedidosApp\">\n        <div class=\"border-bottom m-0 p-3\">\n            <div class=\"div-info\">\n                <i class=\"fa fa-motorcycle pr-1\" aria-hidden=\"true\"></i>        \n                <span class=\"fs-11\">Comercio cuenta con su propio reparto.</span>\n            </div>\n        </div>\n    </ng-container>\n\n    <div *ngIf=\"isRestaurante\" class=\"border-bottom m-0 p-3\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <div>\n                <span class=\"fw-600 fs-14\">Cubiertos  <i class=\"fa fa-cutlery\"></i></span>\n                <ng-container *ngIf=\"isCubierto; else elseTemplateCubierto\">\n                    <p class=\"fw-100 fs-12 text-secondary\">El comercio incluirá cubierto en tu pedido.</p>\n                </ng-container>\n                <ng-template #elseTemplateCubierto>\n                    <p class=\"fw-100 fs-12 text-secondary\">Ayúdanos a reducir el desperdicio de plástico. Solicita cubiertos solo cuando lo necesites.</p>                                            \n                </ng-template>\n                \n            </div>\n            <mat-slide-toggle [(ngModel)]=\"isCubierto\" name=\"isCubierto\"></mat-slide-toggle>\n        </div>\n    </div>\n\n     <!-- recojo en el local -->\n     <div [hidden]=\"!isAceptaRecojoLocal\" matRipple class=\"border-bottom m-0 p-3\" [matRippleColor]=\"rippleColor\">\n        <mat-checkbox labelPosition=\"before\" [(ngModel)]=\"isRecojoLocalCheked\" (change)=\"recalcularTotales()\">\n            <i class=\"fa fa-home pr-2\" aria-hidden=\"true\"></i> \n            <span class=\"mr-1\" [ngClass]=\"{'fw-600': isRecojoLocalCheked}\">Paso a recoger en el Local</span>            \n        </mat-checkbox>\n    </div>\n\n    <div *ngIf=\"isShowNombreClienteLoginInvitado\" class=\"border-bottom m-0 p-3\" matRipple [matRippleColor]=\"rippleColor\">\n        <app-text-nom-cliente (isNombreValid)=\"nombreClienteValido = $event; verificarFormValid()\" [sizeTextBg]=\"false\"></app-text-nom-cliente>\n    </div>\n\n                                \n\n    <div *ngIf=\"!isRecojoLocalCheked\" class=\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion()\">\n        <div>\n            <span class=\"fw-100 fs-12 text-secondary\">Direccion de entrega:</span>\n            <p class=\"m-0 fs-14\">\n                <!-- <strong>{{direccionCliente.titulo}}</strong> <br> {{direccionCliente.direccion}} -->\n                <strong [ngClass]=\"{'text-danger': direccionCliente.direccion === ''}\">{{direccionCliente.titulo}}</strong> <span *ngIf=\"direccionCliente.direccion != ''\" class=\"fw-100 text-info pl-2\"> {{  dirEstablecimiento.distancia_km }} km </span><br> {{direccionCliente.direccion}}            \n            </p>   \n            <p *ngIf=\"msjErrorDir.length > 0\" class=\"text-danger fs-12 fw-100 m-0\">  {{ msjErrorDir }} </p>\n        </div>\n        <div>\n            <button class=\"btn btn-sm btn-secondary\">\n                <span class=\"fw-100 fs-10\">Cambiar</span>\n            </button>\n        </div>\n    </div>\n\n   \n\n    <!-- tiempo de entrega -->\n    <div class=\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTiempoEntrega()\">\n        <!-- <span class=\"fw-100 fs-12 text-secondary\">Hora de entrega:</span> -->            \n        <div>\n            <span class=\"fw-100 fs-12 text-secondary\"> Entgrega:</span>\n            <i class=\"fa fa-clock-o pl-2\"></i>\n            <p class=\"m-0\"><span class=\"fs-14\" [ngClass]=\"{'text-danger': !isTiempoEntregaValid}\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\n        </div>\n\n        <div>\n            <button class=\"btn btn-sm btn-secondary\">\n                <span class=\"fw-100 fs-10\">Cambiar</span>\n            </button>\n        </div>\n\n    </div>\n    <!-- tiempo de entrega -->\n\n    <!-- telefono -->\n    <div class=\"border-bottom m-0 p-3\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogsendSMS()\">                \n        <div class=\"d-flex justify-content-between align-items-center\">\n            <div>\n                <span class=\"text-danger fs-12 fw-100\" [hidden]=\"this.infoToken.telefono.length >= 5\">Es necesario el numero de su telefono</span>        \n                <p class=\"m-0 fs-14\">Telefono: <strong>{{ infoToken.telefono }}</strong></p>\n                <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.infoToken.telefono.length >= 5\">Añade un número de teléfono para que podamos contactarte e informarte de tu pedido.</span>        \n            </div>\n            <button class=\"btn btn-sm btn-secondary\">\n                <span class=\"fw-100 fs-10\">Cambiar</span>\n            </button>\n        </div>\n    </div>\n    <!-- telefono -->\n\n    <!-- facturacion -->\n    <div class=\"border-bottom m-0 p-3 d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTipoComprobnate()\">\n        <p class=\"m-0 fs-14\">Comprobante: <strong>{{tipoComprobanteSelected.descripcion}}</strong></p>\n        <!-- <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i> -->\n        <button class=\"btn btn-sm btn-secondary\">\n            <span class=\"fw-100 fs-10\">Cambiar</span>\n        </button>\n    </div>\n    <!-- facturacion -->\n\n    <!-- metodo de pago -->\n    <div class=\"border-bottom m-0 p-3 div-metodo-pago\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogMetodoPago()\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <p class=\"m-0 fs-14\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\n            <button class=\"btn btn-sm btn-secondary\">\n                <span class=\"fw-100 fs-10\">Cambiar</span>\n            </button>\n            <!-- <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>                 -->\n        </div>\n        <span class=\"fw-100 fs-12 text-danger\" [hidden]=\"this.metodoPagoSelected.idtipo_pago\">Especifique un metodo de pago.</span>        \n    </div>\n    <!-- metodo de pago -->\n\n    <!-- propina -->\n    <div *ngIf=\"!isRecojoLocalCheked\" class=\"m-0 p-3 d-flex justify-content-between\">\n        <span class=\"m-0 fs-14\">Propina: <i class=\"fa fa-question-circle\" matTooltip=\"El 100% va para el repartidor\" #tooltip=\"matTooltip\" (click)=\"tooltip.toggle()\" matTooltipPosition=\"above\" aria-label=\"Button that shows a tooltip\"></i> </span> \n        <app-comp-propina-delivery [listSubtotales]=\"_listSubtotales\" (selectedPropina)=\"selectedPropinaRepartidor($event)\"></app-comp-propina-delivery>\n        <!-- <i class=\"fa fa-question-circle\" aria-hidden=\"true\"></i> -->\n    </div>\n    <!-- propina -->\n\n    <!-- dato importante o nombre de contacto si es solidaridad -->\n    <div class=\"p-3\" *ngIf=\"isComercioSolidaridad\">\n        <span class=\"text-info\">Importante: especifique persona o datos de contacto.</span>\n        <mat-form-field class=\"w-100\">\n            <input matInput [placeholder]=\"titleInputDatoAdicional\" [required]=\"isComercioSolidaridad\" [(ngModel)]=\"valInputDatoAdicianal\">\n        </mat-form-field>\n    </div>\n    <br>\n    <!-- dato importante o nombre de contacto si es solidaridad -->\n\n    \n        \n    <div class=\"m-0 p-3\">        \n        <!-- <div class=\"row\"> -->\n            <!-- subtotales -->    \n            <div class=\"div-total w-100\">\n                <ul class=\"w-100 ul-total\">\n                    <li class=\"d-flex div-plr li-item\" *ngFor=\"let item of _listSubtotales\" matRipple\n                    [matRippleColor]=\"rippleColor\">\n                    <div class=\"w-100\">\n                        {{item.descripcion | titlecase}}\n\n                        <!-- si lluvia -->\n                        <ng-container *ngIf=\"item.isDeliveryApp\" class=\"d-flex\">\n                            <div *ngFor=\"let itemIcon of listIconsEntrega\" class=\"d-inline\">\n                                <img *ngIf=\"itemIcon.visible\" class=\"img-ico-entrega pl-2 text-secondary\" src=\"../assets/images/{{itemIcon.icon}}\" alt=\"itemIcon.motivo\" matTooltip=\"{{ itemIcon.motivo }}\">\n                            </div>\n                            <!-- <img *ngIf=\"isRain\" class=\"img-ico-entrega pl-2 text-secondary\" src=\"../assets/images/x_is_rain.png\" alt=\"is_rain\" matTooltip=\"Lluvia\">\n                            <img *ngIf=\"isRain\" class=\"img-ico-entrega pl-3 text-secondary\" src=\"../assets/images/x_is_nigth.png\" alt=\"is_all_demand\" matTooltip=\"Alta demanda\">\n                            <img *ngIf=\"isRain\" class=\"img-ico-entrega pl-3 text-secondary\" src=\"../assets/images/x_is_all_demand.png\" alt=\"is_all_demand\" matTooltip=\"Alta demanda\"> -->\n                            <!-- <i  class=\"fa fa-cloud pl-2 text-secondary\"></i>                         -->\n                            <i *ngIf=\"isCalculandoDistanciaA\" class=\"fa fa-spinner fa-spin fa-fw ml-3\"></i>\n                        </ng-container>                        \n                        \n                    </div>\n                    <div>\n                        {{item.importe | number:'0.2' }}</div>\n                    </li>\n                </ul>\n            </div>        \n            <div class=\"pb-2 text-right\">\n                <span class=\"text-danger fs-12 fw-100\" [hidden]=\"isValidForm\">   \n                    <span *ngIf=\"resData.importeTotal < montoMinimoPedido\">\n                        Importe minimo S/. {{montoMinimoPedido | number:'.2'}}\n                    </span>                 \n                </span>\n\n                <p class=\"fs-11 text-info fw-100\" *ngIf=\"!isComercioRepartidoresPropios || isComercioPapayaSoloPedidosApp\">Costo de entrega y propina es 100% para el repartidor.</p>\n            </div>\n            <br>\n        <!-- </div> -->\n    </div>    \n    <br><br>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/datos-delivery/datos-delivery.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/datos-delivery/datos-delivery.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n  <div class=\"text-center\">\n    <p class=\"fw-100 fs-20\">Datos del Delivery</p>    \n  </div>\n\n  <div class=\"border-bottom m-0\">\n    <div class=\"d-flex justify-content-between p-2\" style=\"background: beige;\">\n        <div class=\"text-left\">\n            <span class=\"fw-600 fs-14\">Cubiertos  <i class=\"fa fa-cutlery\"></i></span>\n            <p class=\"fw-100 fs-12 text-secondary p-0 m-0\">Incluir cubiertos.</p>                        \n          </div>\n          <mat-slide-toggle [(ngModel)]=\"isCubierto\" name=\"isCubierto\"></mat-slide-toggle>\n    </div>\n  </div>\n  <br>\n      <!-- recojo en el local -->\n      <div [hidden]=\"!isAceptaRecojoLocal\" matRipple class=\"border-bottom m-0 text-left\">\n        <mat-checkbox labelPosition=\"before\" [(ngModel)]=\"isRecojoLocalCheked\" (change)=\"recalcularTotales()\">\n            <i class=\"fa fa-home pr-2\" aria-hidden=\"true\"></i> \n            <span class=\"mr-1\" [ngClass]=\"{'fw-600': isRecojoLocalCheked}\">Cliente pasa a recoger en el Local</span>      \n        </mat-checkbox>\n    </div>\n\n\n  <form [formGroup]=\"myForm\">\n    <div class=\"w-100 pt-2\">      \n\n      <!-- <i title=\"Cerrar Sesion\" class=\"fa fa-search\" aria-hidden=\"true\"></i> -->\n      <!-- dni para la facturacion -->    \n      <div class=\"text-left\">\n        <span class=\"text-info fs-11\">(Opcional) Ingrese DNI del cliente para llevar un registro. Ó busque por el nombre.</span>\n      </div>\n      <mat-form-field class=\"w-100\">\n        <input matInput placeholder=\"DNI\" type=\"text\" formControlName=\"dni\" (keyup.enter)=\"buscarDNI()\">\n        <button mat-icon-button matSuffix (click)=\"buscarDNI()\">\n            <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n        </button>\n      </mat-form-field>\n      <div class=\"text-left span-input-alert\" *ngIf=\"!loadConsulta && errorDni\">\n        <span class=\"fw-100 text-danger fs-11\">\n          Documento no encontrado\n        </span>\n      </div>\n\n      <div class=\"w-100\">\n        <mat-progress-bar style=\"bottom: 20px;\" [hidden]=\"!loadConsulta\" mode=\"indeterminate\"></mat-progress-bar>\n      </div>\n\n      <mat-form-field class=\"w-100\" *ngIf=\"isDataFromDNI\">\n        <input matInput placeholder=\"Nombre y apellidos\" formControlName=\"nombre\" readonly>\n      </mat-form-field>\n\n\n\n      <mat-form-field class=\"w-100\" *ngIf=\"!isDataFromDNI\">\n        <!-- <mat-form-field class=\"example-full-width\"> -->\n          <input type=\"text\"\n                 placeholder=\"Nombre y apellidos del cliente\"\n                 aria-label=\"Cliene\"\n                 matInput\n                 [formControl]=\"myControl\"\n                 [matAutocomplete]=\"auto\" (keyup)=\"setNombreControl(valNom.value)\" #valNom>\n          <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected) = \"changeCliente($event)\" [displayWith]=\"displayFn\">\n            <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\n              <span class=\"fs-12\"> {{ option.nombres }} </span>\n            </mat-option>\n          </mat-autocomplete>\n        <!-- </mat-form-field> -->\n\n    </mat-form-field>\n\n\n    <!-- telefono -->\n    <mat-form-field class=\"w-100\" *ngIf=\"!isRecojoLocalCheked\" >\n      <input matInput placeholder=\"Telefono\" formControlName=\"telefono\" [required]=\"!isRecojoLocalCheked\">\n    </mat-form-field>\n    <!-- telefono -->\n   \n\n      <!-- <span class=\"text-info fs-13 fw-600\">Es necesario seleccionar una opcion de la lista</span>\n\n      <button (click)=\"openDialogDireccion()\">seleccionar direccion</button>\n      <mat-form-field class=\"w-100\">\n        <input matInput placeholder=\"Direccion\" formControlName=\"direccion\"         \n        required>\n      </mat-form-field> -->\n\n\n      <!-- direccion -->\n      <ng-container *ngIf=\"isShowAddDireccionMapa; else elseTemplateNoMapa\">\n        <div *ngIf=\"!isRecojoLocalCheked\" class=\"border-bottom m-0 pl-0 pr-2 pt-3 pb-3 text-left d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogDireccion()\">\n          <div>\n            <span class=\"fw-100 fs-12 text-secondary\">Direccion de entrega:</span>\n            <p class=\"m-0 fs-14\">\n                <strong [ngClass]=\"{'text-danger': direccionCliente.direccion === ''}\">{{direccionCliente.titulo}}</strong> <span *ngIf=\"direccionCliente.direccion != ''\" class=\"fw-100 text-info pl-2\"> {{  dirEstablecimiento.distancia_km }} km </span><br> \n                {{direccionCliente.direccion}}              \n            </p>   \n          </div>\n\n          <div>\n            <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n          </div>\n        </div>\n      </ng-container>\n      <ng-template #elseTemplateNoMapa>\n        <mat-form-field class=\"w-100\">\n          <input matInput placeholder=\"Direccion\" (keyup)=\"setTextDirClienteNoMapa(text_dir_solo.value)\"  [required]=\"!isShowAddDireccionMapa\" #text_dir_solo>\n        </mat-form-field>\n        <!-- <span class=\"direccionCliente.direccion === ''\" class=\"fs-14 text-danger\">Ingrese direccion</span> -->\n        <span></span>\n      </ng-template>                \n\n       <!-- tiempo de entrega -->\n    <div class=\"border-bottom m-0 pl-0 pr-2 pt-3 pb-3 d-flex justify-content-between align-items-center\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogTiempoEntrega()\">\n        <!-- <span class=\"fw-100 fs-12 text-secondary\">Hora de entrega:</span> -->            \n        <div>            \n            <p class=\"m-0\"><span class=\"fs-14\"> {{ tiempoEntregaSelected.descripcion }}: <strong>{{tiempoEntregaSelected.value | titlecase}} </strong> </span></p>\n        </div>\n\n        <div>\n            <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n        </div>\n\n    </div>\n    <!-- tiempo de entrega -->\n\n\n\n      <!-- metodo de pago -->\n      <div *ngIf=\"!isRecojoLocalCheked\" class=\"border-bottom m-0 pl-0 pr-2 pt-3 pb-4 d-flex justify-content-between\" matRipple [matRippleColor]=\"rippleColor\" (click)=\"openDialogMetodoPago()\">\n        <p class=\"m-0 fs-14\">Metodo de pago: <strong>{{metodoPagoSelected.descripcion}}</strong></p>\n        <i class=\"fa fa-caret-down\" aria-hidden=\"true\"></i>\n      </div>\n    <!-- metodo de pago -->      \n\n      <!-- <mat-form-field class=\"w-100\">\n        <input type=\"number\" matInput placeholder=\"Paga con\" formControlName=\"paga_con\" required>\n      </mat-form-field> -->\n\n      <!-- <mat-form-field class=\"w-100\">\n        <input matInput placeholder=\"Dato Adicional\" formControlName=\"dato_adicional\">\n      </mat-form-field> -->\n    </div>\n  </form>\n\n\n  <div class=\"m-0\">        \n    <!-- <div class=\"row\"> -->\n        <!-- subtotales -->    \n        <div class=\"div-total border-0 w-100\">\n            <ul class=\"w-100 ul-total\">\n                <li class=\"d-flex div-plr li-item\" *ngFor=\"let item of _listSubtotales\" matRipple\n                [matRippleColor]=\"rippleColor\">\n                <div class=\"w-100 text-left\">{{item.descripcion | titlecase}}</div>\n                <div class=\"text-right\">{{item.importe | number:'0.2' }}</div>\n                </li>\n            </ul>\n        </div>        \n        <!-- <div class=\"pb-2 text-right\">\n            <span class=\"text-danger fs-12 fw-100\" [hidden]=\"isValidForm\">Importe minimo S/. {{montoMinimoPedido | number:'.2'}}</span>\n        </div> -->\n        <!-- <br> -->\n    <!-- </div> -->\n  </div> \n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.html":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.html ***!
  \************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"div-content-opiniones\">\n\n    <div class=\"d-flex justify-content-between align-items-center\">\n        <p>Comentarios</p>\n        <button class=\"btn btn-sm btn-secondary\" mat-dialog-close> <i class=\"fa fa-close\"></i> </button>\n    </div>\n    <hr>\n    <div class=\"p-2\">    \n        <div>\n            <span class=\"badge badge-secondary mr-2 fs-13\"> <i class=\"fa fa-star\"></i> {{ dataComentarios.calificacion | number: '.1' }}</span>\n            <span class=\"fs-13\">Puntuacion basada en {{ dataComentarios.cantidad | number: '2.' }} opiniones de usuarios.</span>\n        </div>\n        <hr>\n        <div>\n            <div *ngFor=\"let item of listComentarios\" class=\"border-bottom pb-2 pt-2 mb-1 fs-12\">\n                <div class=\"d-flex justify-content-between\">\n                    <p class=\"fw-600 text-secondary mr-2 fs-11\">{{ item.nomcliente }} </p>\n                    <div class=\"d-flex\">\n                        <span class=\"badge badge-secondary mr-2\">{{ item.numpedidos | number: '2.' }}</span>\n                        <p class=\"badge badge-success\" [ngClass]=\"{'badge-danger': item.calificacion < 3, 'badge-warning': item.calificacion < 4}\" > <i class=\"fa fa-star\"></i> {{ item.calificacion | number: '.1' }}</p>\n                    </div>\n                </div>            \n                <p *ngIf=\"item.comentario !=''\" class=\"fw-100 text-secondary\">{{ item.comentario }}</p>            \n            </div>\n        </div>\n    </div>\n\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion/dialog-calificacion.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion/dialog-calificacion.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-3\">\n    <app-comp-calificacion [dataCalificado] = \"_dataCalificado\"></app-comp-calificacion>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-config-punto/dialog-config-punto.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-config-punto/dialog-config-punto.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div >\n    <p class=\"fs-18\">Configuraciones</p>\n    <hr>\n    <mat-checkbox [(ngModel)]=\"isTomaPedidoRapido\">\n        <span class=\"fw-600\">Tomar pedido rápido</span>\n    </mat-checkbox>    \n    <p class=\"fs-12\">Se adjuntara los items al clic, solo mostrará el detalle en los items que tienen opciones por seleccionar. <strong>Elija un canal de consumo predertiminado.</strong></p>\n\n    <mat-form-field>\n        <mat-label>Canal consumo prederminado</mat-label>\n        <mat-select placeholder=\"Canal de consumo\" [(ngModel)]=\"selectedValueCanConsumo\" name=\"selectedValueImpresora\" [(value)] = \"selectedValueCanConsumo\" [compareWith]=\"compareByIdCanal\">\n            <mat-option *ngFor=\"let item of listCanalConsumo\" [value]=\"item\">\n                {{item.descripcion}}\n            </mat-option>\n        </mat-select>\n    </mat-form-field>\n\n    <hr>\n\n    <mat-checkbox [(ngModel)]=\"isPuntoAutoPedidoCheck\">\n        <span class=\"fw-600\">Punto de Autopedido</span>\n    </mat-checkbox>    \n\n    <p class=\"fs-12\">Configurar este equipo como Punto de Autopedido, donde el cliente podra realizar por su cuenta su pedido. \n        Vincule una impresora donde el cliente obtendrá una copia de su pedido.\n        <strong>El canal de consumo será: Para Llevar</strong>\n    </p>\n    <br>\n    \n    <mat-form-field>\n        <mat-label>Impresora Vinculada</mat-label>\n        <mat-select placeholder=\"Impresora\" [(ngModel)]=\"selectedValueImpresora\" name=\"selectedValueImpresora\" [(value)] = \"selectedValueImpresora\" [compareWith]=\"compareById\">\n            <mat-option *ngFor=\"let item of listImpresoras\" [value]=\"item\">\n                {{item.descripcion}}\n            </mat-option>\n        </mat-select>\n    </mat-form-field>\n\n    <hr>\n    <div class=\"d-flex\">\n        <button mat-raised-button color=\"primary\" class=\"mr-2\" (click)=\"setConifg()\" >Listo Aplicar</button>    \n        <button mat-raised-button color=\"accent\" mat-dialog-close>Cerrar</button>    \n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.html":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.html ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"div-dir-content\">\n<!-- seleccionar/buscar direccion  -->\n<div class=\"p-2\" class=\"animated fadeIn\" *ngIf=\"showSelectedDireccion\">\n    \n        <div *ngIf=\"!showBusqueda\" class=\"animated fadeInDown\">\n            <p class=\"fs-18 fw-600\">\n                <i class=\"fa fa-arrow-left pr-2\" (click)=\"cerrarDlg()\"></i> \n                Agrega o escoge una dirección </p>\n        </div>\n        <div class=\"div-txt-dir d-flex align-items-center\">\n            <!-- btn atras busqueda -->\n            <div *ngIf=\"showBusqueda\" class=\"animated fadeInLeft\">\n                <i class=\"fa fa-arrow-left pr-2\" (click)=\"showBusqueda = false; direccionBuscar = ''\"></i> \n            </div>\n    \n            <i class=\"fa fa-map-marker mr-2 text-secondary\" aria-hidden=\"true\"></i>\n            <input type=\"text\" placeholder=\"Ingrese una direccion de entrega\"\n            [(ngModel)]=\"direccionBuscar\" name=\"direccionBuscar\" id=\"direccionBuscar\"            \n            (ngModelChange)=\"this.direccionBuscarUpdate.next($event)\"            \n            autocomplete=\"off\"\n            autofocus=\"off\"\n            >\n        </div>\n        <br>\n    \n        <!-- lista de direcciones anteriormente guardadas -->\n        <div *ngIf=\"!showBusqueda\">            \n            <div *ngFor=\"let item of listDirecciones\" class=\"item-direccion-prediction d-flex\" matRipple (click)=\"goDireccionGuardada(item)\">                        \n                <div class=\"mr-2 p-1\">\n                    <ng-container *ngIf=\"item.selected; else elseDirNoSolected\">\n                        <i class=\"fa fa-check text-success\" aria-hidden=\"true\"></i>\n                    </ng-container>\n                    <ng-template #elseDirNoSolected>                        \n                        <i class=\"fa fa-map-pin\" aria-hidden=\"true\"></i>\n                    </ng-template>\n                    \n                </div>\n                <div [ngClass]=\"{'text-success': item.selected}\">\n                    <p class=\"fw-600\">{{ item.direccion }}</p>\n                    <p class=\"text-secondary fs-12\" [ngClass]=\"{'text-success': item.selected}\">{{ item.titulo }}, {{ item.ciudad }}, {{ item.pais }}</p>\n                    <p *ngIf=\"item.referencia !== ''\" class=\"text-secondary fs-12\" [ngClass]=\"{'text-success': item.selected}\">{{ item.referencia }}</p>\n                </div>\n            </div>\n        </div>\n    \n    \n        <!-- lista de predicciones -->\n        <div *ngIf=\"showBusqueda\">\n            <div *ngFor=\"let item of listPredicciones\" class=\"item-direccion-prediction\" matRipple (click)=\"goDireccion(item)\">        \n                <p class=\"fw-600\">{{ item.structured_formatting.main_text }}</p>\n                <p class=\"text-secondary fs-12\">{{ item.structured_formatting.secondary_text }}</p>\n            </div>\n        </div>\n    \n        <!-- boton de direccion actual -->    \n        <div class=\"item-direccion fs-16\" matRipple (click)=\"goUbicacionActual()\"l>\n            <i class=\"fa fa-location-arrow text-success mr-2\" aria-hidden=\"true\"></i>\n            <span class=\"fw-600\">Ubicación actual</span>\n        </div>    \n\n</div>\n\n<!-- confirmar direccion / mapa -->\n<div *ngIf=\"!showSelectedDireccion\" class=\"animated fadeInRight\">\n\n    <div  class=\"animated fadeInDown\">\n        <i class=\"fa fa-arrow-left pr-2\" (click)=\"goBackEscogerDireccion()\"></i> \n        <p class=\"fs-18 fw-600\">\n            Confirmar tu dirección </p>\n    </div>\n\n    <!-- mapa -->\n    <div class=\"border\" id=\"map_canvas\">\n        <agm-map \n            [latitude]=\"latitude\" \n            [longitude]=\"longitude\"\n            [zoom]=\"zoom\"          \n            [zoomControl]=\"false\" [streetViewControl]=\"false\" [disableDefaultUI]=\"true\"              \n            [showDefaultInfoWindow] = \"false\"\n            (centerChange)=\"centerChange($event)\"\n            (mapClick)=\"clickmap()\"\n            (idle)=\"idleMap()\"\n            >                \n        </agm-map>           \n        <div class=\"centerMarker\"></div>     \n        <div class=\"centerMarker-fondo\"></div>\n        <div class=\"btn-confirmar-dir\" *ngIf=\"countMoveMap > 1\">\n            <button class=\"btn btn-success\" (click)=\"confirmarDireccion()\">Confirmar</button>\n        </div>\n    </div>\n\n    <div class=\"p-2\">\n        <mat-form-field class=\"w-100\">\n            <input class=\"input-dir\" matInput placeholder=\"Direccion\" (keyup)=\"goBackEscogerDireccion()\" [(ngModel)]=\"dataCliente.direccion\" name=\"direccion\" id=\"direccion\" >\n            <button *ngIf=\"dataCliente.direccion\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"goBackEscogerDireccion()\">\n                <mat-icon matSuffix>\n                    <i class=\"fa fa-close\"></i>\n                </mat-icon>\n              </button>\n        </mat-form-field> \n        <mat-form-field class=\"w-100\">\n            <input class=\"input-dir\" matInput placeholder=\"Ciudad\" readonly [(ngModel)]=\"dataCliente.ciudad\" name=\"ciudad\" id=\"ciudad\">\n        </mat-form-field> \n\n        <mat-form-field class=\"w-100\">\n            <input class=\"input-dir\" matInput placeholder=\"Referencia\" [(ngModel)]=\"dataCliente.referencia\" name=\"referencia\" id=\"referencia\">\n        </mat-form-field> \n\n\n        <div class=\"text-center pb-3\">\n            <button mat-flat-button color=\"primary\"  \n                [disabled]=\"loader > 0\"             \n                (click)=\"saveDireccion()\"\n                >        \n                <ng-container *ngIf=\"loader === 0; then thenTemplate; else elseTemplate\"></ng-container>\n                <ng-template #thenTemplate>            \n                    Listo Guardar Dirección\n                </ng-template>\n                <ng-template #elseTemplate>\n                    <ng-container *ngIf=\"loader === 1; else elseTemplateHecho\">\n                        <i class=\"fa fa-spinner fa-spin fa-fw\"></i>\n                        Guardando ...\n                    </ng-container>\n                    <ng-template #elseTemplateHecho>\n                        <i class=\"fa fa-check\"></i>\n                        Hecho\n                    </ng-template>                    \n                </ng-template>\n                \n            </button>\n        </div>\n    </div>\n</div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-item-edit/dialog-item-edit.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-item-edit/dialog-item-edit.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"item-content\">\n    <div class=\"i-header\">\n        <div class=\"d-flex\">\n            <div class=\"fs-13 fw-600\">\n                <div class=\"d-flex align-items-start\">\n                    <span class=\"fs-12 i-stock estado-color-{{getEstadoStockItem(item.cantidad)}}\"> {{item.cantidad | number : '2.'}}</span>\n                    <span>{{item.des}}</span>\n                </div>\n            </div>\n            <div class=\"i-btn-exit\" style=\"width: 30px\" matRipple (click)=\"cerrarDlg()\">\n                <!-- <i class=\"fa fa-times\" aria-hidden=\"true\"></i> -->\n                <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n            </div>\n        </div>\n    </div>    \n\n    <!-- [ngClass]=\"{'he2': !isOneTipoConsumo}\" -->\n    <div class=\"i-body fw-100 fs-13\" [ngClass]=\"{'he2': !isOneTipoConsumo}\">\n        <!-- imagen -->\n        <ng-container *ngIf=\"item.img.length > 0\">\n            <div class=\"text-center border-bottom\">\n                <img class=\"img-carta\" src=\"{{url_img}}{{item.img}}\" alt=\"{{item.img}}\">\n            </div>\n        </ng-container>\n        \n        <div class=\"p-3\">\n        \n            <!-- detalles -->\n            <p class=\"fs-18 text-secondary fw-600\"> {{item.des}} </p>\n            <ng-container *ngIf=\"item.detalles.length > 0\">\n                <p class=\"titlo-detalle\" >{{ item.detalles }}</p>\n                <hr>\n            </ng-container>\n            <!-- detalles -->\n\n            <!-- subitems -->\n            <ng-container *ngIf=\"item.subitems\">\n                <div *ngFor=\"let contentSub of item.subitems; let i = index\">\n                    <div class=\"pb-3 pt-2 mb-3\">\n                        <div>\n                            <span class=\"txt-obligatorio\" [hidden]=\"!contentSub.isObligatorio\">Obligatorio</span>\n                            <div class=\"sub-i-titulo mb-2\">\n                                <p class=\"mb-1 fw-600 fs-14\">{{ primerMayuscula(contentSub.des) }}</p>\n                                <!-- <span class=\"fs-12 text-secondary\">{{contentSub.des_cant_select}} {{contentSub.subitem_cant_select}}</span> -->\n                                <span class=\"fs-12 text-secondary\">{{contentSub.des_cant_select}}</span>\n                            </div>\n                        </div>                            \n\n                        <!-- subitems - opciones -->\n                        <div>\n                            <div class=\"xoption w-100\" matRipple *ngFor=\"let subitem of contentSub.opciones; let i = index\">\n\n                                \n\n                                <ng-container *ngIf=\"contentSub?.show_cant_item === 0; else elseTemplate\">\n\n                                    <mat-checkbox \n                                        class=\"w-100\"\n                                        (change)=\"addSubItem(contentSub, subitem)\" \n                                        [(ngModel)]=\"subitem.selected\" \n                                        [ngClass]=\"{'li-tachado': subitem.cantidad < 1}\"\n                                        [disabled]=\"subitem.cantidad < 1\"\n                                    >\n                                        <div class=\"w-100 d-flex justify-content-between fs-13\">                                        \n                                            <div>\n                                                <span>{{subitem.des }} </span>\n                                                <span class=\"xprecio pl-1\" [hidden]=\"!subitem.cantidad_visible\"> | {{subitem.cantidad}}</span>                                                \n                                            </div>\n                                            <div class=\"xprecio aling-derecha\">                                                \n                                                    <div *ngIf=\"subitem.precio != 0\" class=\"fw-600 fs-12\"> \n                                                        + {{subitem.precio | number:'0.2'}}\n                                                    </div>\n                                            </div>                                                                                            \n                                        </div>\n                                    </mat-checkbox>\n\n                                </ng-container>\n\n                                <ng-template #elseTemplate>\n                                    <div class=\"w-100 d-flex justify-content-between fs-13 pt-2 pb-2\" [ngClass]=\"{'li-tachado': subitem.cantidad < 1}\" >  \n                                        <div>                                            \n                                            <span>{{subitem.des }} </span>\n                                            <span class=\"xprecio pl-1\" [hidden]=\"!subitem.cantidad_visible\"> | {{subitem.cantidad}}</span>\n                                            <span *ngIf=\"subitem.precio != 0\" class=\"ml-2 fs-11 fw-600\"> \n                                                + {{simbolo_moneda}} {{subitem.precio | number:'0.2'}}\n                                            </span>\n                                        </div>\n                                        <div class=\"xprecio aling-derecha\">\n                                            <app-comp-ctrl-add-fast \n                                                [objItem]=\"subitem\" \n                                                [stopAdd]=\"subitem.stop_add\"\n                                                [zoom]=\"1.2\"\n                                                (objResponse)=\"addSubItemCtrlCantidad(contentSub, $event)\"></app-comp-ctrl-add-fast>                                                                            \n                                        </div>                                                                                            \n                                    </div>\n                                </ng-template>\n                                \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </ng-container>\n\n            <!-- especificaciones -->\n            <div class=\"mb-3\" [ngClass]=\"{'div-tpc-one-option-buttom': isOneTipoConsumo}\">\n                <!-- <span class=\"text-bold\">Instrucciones adicionales</span> -->\n                <mat-form-field class=\"w-100\">\n                    <!-- [(ngModel)]=\"item.indicaciones\" -->\n                    <input matInput placeholder=\"Agregue una indicacion\" [(ngModel)]=\"item.indicaciones\"  (keyup)=\"setIndicaciones(txtIdicaciones.value)\" name=\"indicaciones\" #txtIdicaciones>\n                    <button mat-button *ngIf=\"item.indicaciones\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"txtIdicaciones.value=''; setIndicaciones('')\">\n                        <i class=\"fa fa-close\"></i>\n                    </button>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- <div> -->\n\n            <!-- tipos de consumo -->\n            <!-- <div *ngIf=\"!isOneTipoConsumo\">             -->\n            <div class=\"p-3 w-100\" [ngClass]=\"{'div-tpc': isOneTipoConsumo, 'div-tpc-one-option': isOneTipoConsumo}\">   \n                <span class=\"fs-12 text-danger\" [hidden]=\"isOptionRequeridosComplet\">Hay opciones obligatorias por marcar</span>\n                <div class=\"mb-2\" id=\"tpc_content\" [attr.disabled]=\"!isOptionRequeridosComplet ? true : null\">\n                    <table width=\"100%\" class=\"tb-tpc\">\n                        <tr *ngFor=\"let tp of objItemTipoConsumoSelected\" [ngClass]=\"{'border-bottom': !isOneTipoConsumo}\">\n                        <td> {{tp.descripcion}}  </td>\n                        <td>\n                            <div class=\"d-flex float-right\">\n                                <div [hidden]=\"tp.cantidad_seleccionada === 0\" [ngClass]=\"{'bounceIn': tp.animar_cantidad}\" class=\"fs-19 pr-2 animated\">{{tp.cantidad_seleccionada}}</div>\n                                <div appDebounceClick (debounceClick)=\"addItemToDialogItem(tp, 1)\" (debounceWait)=\"isWaitBtnMenos\" class=\"btn-tbl bg-danger xCursor\" matRipple><i class=\"fa fa-arrow-right\" *ngIf=\"isWaitBtnMenos\"></i>  -</div>\n                                <div appDebounceClick (debounceClick)=\"addItemToDialogItem(tp, 0)\" class=\"btn-tbl bg-success xCursor\" matRipple>+</div>\n                            </div>\n                        </td>\n                        </tr>\n                    </table>            \n                </div>    \n            </div>\n\n        <!-- </div> -->\n\n    </div>\n\n    <div class=\"i-footer d-flex justify-content-between\">\n        <!-- <ng-container *ngIf=\"isOneTipoConsumo; else elseTemplate\">\n            <div>\n                <span class=\"fs-12 text-danger\" [hidden]=\"isOptionRequeridosComplet\">Hay opciones obligatorias por marcar</span>\n                <div id=\"tpc_content\" [attr.disabled]=\"!isOptionRequeridosComplet ? true : null\">\n                    <table width=\"100%\" class=\"tb-tpc-one\">\n                        <tr *ngFor=\"let tp of objItemTipoConsumoSelected\">                    \n                        <td>\n                            <div class=\"d-flex\">\n                                <div appDebounceClick (debounceClick)=\"addItemToDialogItem(tp, 1)\" (debounceWait)=\"isWaitBtnMenos\" class=\"btn-tbl bg-danger xCursor\" matRipple><i class=\"fa fa-arrow-right\" *ngIf=\"isWaitBtnMenos\"></i>  -</div>\n                                <div appDebounceClick (debounceClick)=\"addItemToDialogItem(tp, 0)\" class=\"btn-tbl bg-success xCursor\" matRipple>+</div>\n                                <div [ngClass]=\"{'bounceIn': tp.animar_cantidad}\" class=\"fs-23 pl-2 animated\">\n                                    <ng-container *ngIf=\"tp.cantidad_seleccionada === 0; else elseCantidad\">\n                                        <span class=\"fs-12 fw-100\">Cantidad</span>\n                                    </ng-container>\n                                    <ng-template #elseCantidad>                                        \n                                        {{tp.cantidad_seleccionada}}\n                                    </ng-template>                                    \n                                </div>                       \n                            </div>\n                        </td>\n                        </tr>\n                    </table>            \n                </div>\n            </div>\n        </ng-container> -->\n        <div>                    \n            <button mat-flat-button color=\"primary\" (click)=\"cerrarDlg()\">Listo, continuar</button>\n        </div>\n        \n        <div class=\"i-precio\">{{simbolo_moneda}} {{precioProducto | number:'0.2'}}</div>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-2\">\n    <p class=\"fs-18 fw- m-0\">Metodo de pago</p>\n    <p class=\"fs-11 text-info\">Por favor, en cuanto sea posible seleccione un metodo de pago sin contacto (Tarjeta o Yape).</p>\n    <hr>\n    <!-- <div class=\"xoption w-100\" matRipple *ngFor=\"let subitem of listMetodoPago\">\n        <mat-checkbox \n            class=\"w-100\"\n            (change)=\"chageItem(subitem)\" \n            [(ngModel)]=\"subitem.checked\"             \n        >\n            <div class=\"w-100 d-flex\">\n                <span>{{subitem.descripcion}} </span>                \n            </div>\n        </mat-checkbox>                               \n    </div>     -->\n\n    <div class=\"div-list-icon\">\n        <div *ngFor=\"let item of listMetodoPago\" \n        matRipple class=\"item-option-pago\"        \n        [ngClass]=\"{'item-option-pago-selected': item.checked}\"\n        (click)=\"selectedItemOptionPago(item)\">\n                <img src=\"../assets/images/icon-app/{{item.img}}\" alt=\"{{item.img}}\">\n                <p>{{ item.descripcion }}</p>            \n        </div>\n        \n    </div>\n    <div *ngIf=\"itemSelected.info != ''\" class=\"animated flash\">\n        <hr>\n        <p class=\"fs-12 fw-600\">\n            <i class=\"fa fa-info pr-1 text-warning\"></i>\n            {{ itemSelected.info }}</p>\n    </div>\n    <ng-container *ngIf=\"isMontoVisible\">\n        <hr>\n        <span class=\"text-danger fs-12 fw-100\">indique con cuanto pagara:</span>        \n        <mat-form-field class=\"w-100\">\n            <input type=\"number\" matInput \n            placeholder=\"Paga con\" \n            [(ngModel)]=\"importeIndicado\"\n            (keyup) = \"verificarImporte(importe.value)\" \n            #importe required>\n        </mat-form-field>\n    </ng-container>\n    <hr>\n    \n    <ng-container *ngIf=\"!isHabilitadoTarjeta\">\n        <span class=\"text-info fs-11\">El Comercio no acepta pagos con Tarjeta</span>\n        <i class=\"fa fa-credit-card-alt pl-1\" aria-hidden=\"true\"></i>\n        <hr>\n    </ng-container>\n    \n\n\n    <div class=\"text-center\">\n        <button \n            mat-flat-button color=\"primary\"\n            [disabled]=\"!formValid\"\n            (click)=\"cerrarDlg()\">Listo</button>\n    </div>\n    \n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-4\">\n    <div>\n        <p class=\"fs-18 fw-600\"> <i class=\"fa fa-user mr-2\"></i> Ingrese su nombre</p>\n    </div>\n\n    <mat-form-field class=\"w-100\">\n        <input type=\"text\" matInput\n        placeholder=\"Nombre\"\n        (keyup) = \"verificarNombre(nombre.value)\"          \n        #nombre required>\n    </mat-form-field>\n    <!-- <p *ngIf=\"isNumberSuccess === 2 \" class=\"text-danger\">Número no valido.</p> -->\n    <br>\n    <button \n        mat-flat-button color=\"primary\"\n        [disabled]=\"!isValidForm\"\n        (click)=\"cerrarDlg()\"        \n    >   \n        Listo\n        \n        <!-- Verificar telefono -->\n    </button>    \n    \n</div>\n<!-- <hr> -->");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div [hidden]=\"isShowAddDireccion\">\n    <p class=\"fs-14 fw-600 pl-3 pt-3\">Direccion de entrega:</p>\n    <hr>\n    <app-seleccionar-direccion (direccionSelected)=\"setDireccion($event)\" [idClienteBuscar]=\"_idClienteBuscar\"></app-seleccionar-direccion>\n    <br>\n    <div class=\"text-center\">\n        <button mat-flat-button mat-dialog-close class=\"mr-3\">\n            <i class=\"fa fa-arrow-left\"></i>\n            Atras\n        </button>\n\n        <button mat-flat-button \n        color=\"primary\" \n        (click)=\"showAddDireccion()\"\n        > \n            <i class=\"fa fa-plus\"></i>\n            Agregar Direccion\n        </button>\n    </div>\n    <br>\n</div>\n\n<div [hidden]=\"!isShowAddDireccion\">\n    <app-agregar-direccion *ngIf=\"isShowAddDireccion\" (saveDireccionOk)=\"setDireccion($event)\" [isGuardarDireccion]=\"isGuardarDireccion\" [idClienteBuscar]=\"_idClienteBuscar\"></app-agregar-direccion>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-4 h-100\">\n    <div>\n        <div>\n            <p class=\"fs-14 fw-600\"><i class=\"fa fa-arrow-left pr-2\" (click)=\"cerrarDlg()\"></i> Programar entrega:</p>\n        </div>\n    </div>\n    <div class=\"div-content-dialog\">\n        <ng-container *ngIf=\"isPersonalAutorizado; else elseTemplate\">\n            <div class=\"p-4\">\n                <p class=\"fw-100\">En formato 24 horas</p>\n                <mat-form-field class=\"w-50 text-center\">\n                    <mat-label>Hora</mat-label>\n                    <input matInput type=\"number\" step=\"1\" max=\"23\" min=\"0\" placeholder=\"Hora\" [(ngModel)]=\"hourNow\" name=\"hourNow\" (change)=\"timePersonalAutorizado()\">\n                  </mat-form-field>\n\n                  <mat-form-field class=\"w-50 text-center\">\n                    <mat-label>Minutos</mat-label>\n                    <input matInput type=\"number\" step=\"10\" max=\"50\" min=\"0\" placeholder=\"minutos\" [(ngModel)]=\"minNow\" name=\"minNow\" (change)=\"timePersonalAutorizado()\">\n                  </mat-form-field>\n            </div>\n        </ng-container>\n        <ng-template #elseTemplate>\n            <ng-container *ngIf=\"isComercioAceptaPedidoProgramado; else elseTemplate\">\n                <div class=\"w-100 text-center p-2\">\n                    <app-tiempo-programado (tiempoProgramado)=\"selectedTime($event)\"></app-tiempo-programado>\n                </div>            \n            </ng-container>\n            <ng-template #elseTemplate>            \n                <div class=\"d-flex align-items-center h-100\">\n                    <div class=\"text-center\">\n                        <img src=\"./assets/images/solicitar-atencion.png\" alt=\"icon-programado\">\n                        <p>El comercio no permite pedidos programados.</p>\n                    </div>    \n                </div>\n            </ng-template>\n            \n        </ng-template>\n        \n        \n    \n    \n        \n    \n    </div>\n    <hr>\n    <div class=\"xfooter-dialog text-center w-100\">\n        <button mat-flat-button color=\"primary\" [disabled]=\"!isHoraValid\" (click)=\"cerrarDlg()\">Listo.</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-4\">\n    <p class=\"fs-18 fw-600\">Tipo de Comprobante</p>\n    <hr>\n    <div class=\"xoption w-100\" matRipple *ngFor=\"let subitem of listTipoComprobante\">\n        <mat-checkbox \n            class=\"w-100\"\n            (change)=\"chageItem(subitem)\" \n            [(ngModel)]=\"subitem.checked\"             \n        >\n            <div class=\"w-100 d-flex\">\n                <span>{{subitem.descripcion}} </span>                \n            </div>\n        </mat-checkbox>                        \n    </div>    \n    <ng-container> \n        <mat-form-field class=\"w-100\">\n            <input type=\"number\" matInput \n            placeholder=\"DNI / RUC\" \n            [(ngModel)]=\"datosComprobante.dni\"            \n            >\n        </mat-form-field>\n\n        <mat-form-field class=\"w-100\">\n            <input type=\"text\" matInput \n            placeholder=\"Indicacion adicional\" \n            [(ngModel)]=\"datosComprobante.otro\"\n            >\n        </mat-form-field>\n    </ng-container>    \n\n    <div class=\"text-center\">\n        <span class=\"fs-12 fw-100 text-info\">Verifique que los datos sean correctos.</span>        \n        <br>\n        <button \n            mat-flat-button color=\"primary\"\n            (click)=\"cerrarDlg()\">Listo</button>\n    </div>\n    \n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.html":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.html ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-4\">\n    <div>\n        <p class=\"fs-18 fw-600\"><i class=\"fa fa-arrow-left pr-2\" (click)=\"cerrarDlg()\"></i> Número de celular <i class=\"fa fa-phone ml-2\"></i></p>\n    </div>\n\n    <mat-form-field class=\"w-100\">\n        <input type=\"number\" matInput\n        placeholder=\"Telefono\" \n        (keyup) = \"verificarNum(telefono.value)\" \n        [value] = \"data.numberphone\"\n        #telefono required>\n    </mat-form-field>\n    <p *ngIf=\"isNumberSuccess ===2 \" class=\"text-danger\">Número no valido.</p>\n    <br>\n    <button \n        mat-flat-button color=\"primary\"\n        [disabled]=\"!isValidForm || isContandoShow\"\n        (click)=\"enviarCodigoSMS()\"        \n    >   \n        <ng-container *ngIf=\"isContandoShow; else elseTemplateMsjVerificacion\">\n            <span class=\"mr-2\" >{{ numSegundosActivarBtn | number: '2.'}}</span>\n            Enviando Mensaje...\n        </ng-container>\n        <ng-template #elseTemplateMsjVerificacion>\n            <ng-container *ngIf=\"intentoVerificacion === 0; else elseTemplateMsjNuevamente\">\n                Enviar código de verificación\n            </ng-container>\n            <ng-template #elseTemplateMsjNuevamente>\n                Enviar código nuevamente\n            </ng-template>\n        </ng-template>\n        \n        <!-- Verificar telefono -->\n    </button>\n    <p class=\"fs-13 text-secondary mt-1\">Recibira el código de verificación por WhatsApp, sino tiene entonces recibira el código por SMS</p>\n    \n</div>\n<hr>\n<div class=\"p-4\" *ngIf=\"isSendSMS\">\n    <p class=\"text-success fs-600\">En breve recibiras un mensaje. Escribelo el codigo aqui:</p>\n    <mat-form-field class=\"w-100\">\n        <input type=\"number\" matInput \n        placeholder=\"Codigo\" #txtCodigo>\n    </mat-form-field>\n    <br>\n    <button \n        mat-flat-button color=\"primary\"        \n        (click)=\"verificarCodigoSMS(txtCodigo.value)\"   \n        [disabled]=\"loader !== 0 && loader !== 3\"\n    >\n        <ng-container *ngIf=\"loader === 0 || loader === 3; else elseTemplate\">\n            Verificar Codigo\n        </ng-container>\n        <ng-template #elseTemplate>\n            <ng-container *ngIf=\"loader === 1; else elseTemplateHecho\">\n                <i class=\"fa fa-spinner fa-spin fa-fw\"></i>\n                Verificando ...\n            </ng-container>\n            <ng-template #elseTemplateHecho>\n                <i class=\"fa fa-check\"></i>\n                Hecho\n            </ng-template> \n        </ng-template>            \n    </button>    \n    <p *ngIf=\"loader > 0 && !isVerificacionOk\" class=\"text-danger fw-600 pt-2\">Codigo ingresado incorrecto.</p>\n</div>\n<!-- <hr> -->");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/encuesta-opcion/encuesta-opcion.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/encuesta-opcion/encuesta-opcion.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngFor=\"let option of ListOption\">    \n    <div class=\"divBtn text-center\" (click)=\"xNextPregunta(option)\">        \n        <div class=\"op\">\n            <img src=\"assets/images/encuesta-img/{{option.img}}\" class=\"btnIco\" alt=\"btnOption\">            \n            <span>{{option.descripcion}}</span>            \n        </div>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-comercio/item-comercio.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-comercio/item-comercio.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"animated fadeIn content-comercio pb-2 text-left\" matRipple (click)=\"_itemSelected()\">\n    <mat-card>\n    <div class=\"content-img-comercio\">        \n        <img class=\"img-comercio\" src=\"{{imgComercio}}\" alt=\"\">\n        <div class=\"div-cerrado\" *ngIf=\"isCerrado && !isComercioAceptaPedidoProgramado && !isComercioReservacionesActiva\">\n            <p>Cerrado Ahora</p>                    \n        </div>\n    </div>\n    <div >\n        <div class=\"div-info-comercio\">\n            <p class=\"fw-600 fs-18\">\n                {{itemEstablecimiento.nombre | titlecase}}                \n            </p>\n            <p class=\"fs-13\" *ngIf=\"itemEstablecimiento.eslogan.length > 0\">{{itemEstablecimiento.eslogan | titlecase}}</p>\n            <p class=\"fw-100 fs-12\">{{itemEstablecimiento.sub_categoria}}</p>\n\n            <!-- si acepta tarjeta -->\n            <div>\n                <span *ngIf=\"itemEstablecimiento.pwa_delivery_acepta_tarjeta === 1\"\n                    class=\"div-acepta-tarjeta\"> \n                    <i class=\"fa fa-credit-card mr-1\"></i> Acepta Tarjeta</span>\n            </div>\n        </div>\n        <hr>\n        <div class=\"d-flex div-sub-info-comercio\">            \n            <ng-container *ngIf=\"!isCerrado; else elseTemplateComercioCerrado\">\n                            \n                <div *ngIf=\"!reserva\" class=\"d-flex\">\n                    <div>\n                        <i class=\"fa fa-clock-o\"></i>\n                        {{ itemEstablecimiento.tiempo_aprox_entrega | lowercase }}\n                    </div>\n                    <div *ngIf=\"itemEstablecimiento.c_servicio\">\n                        <i class=\"fa fa-bicycle\"></i>\n                        S/.{{ itemEstablecimiento.c_servicio | number: '0.2'}}\n                    </div>\n                    <div *ngIf=\"itemEstablecimiento.calificacion > 3\">\n                        <i class=\"fa fa-star text-warning\"></i>\n                        {{ itemEstablecimiento.calificacion | number:'.0' }}\n                    </div>\n                </div>\n\n                <div *ngIf=\"reserva\" class=\"d-flex\">\n                    <div>\n                        <i class=\"fa fa-clock-o\"></i>\n                        Atencion hasta las <strong>{{ itemEstablecimiento.hora_fin }}</strong>\n                    </div>\n                    <div *ngIf=\"itemEstablecimiento.calificacion > 3\" class=\"ml-2\">\n                        <i class=\"fa fa-star text-warning\"></i>\n                        {{ itemEstablecimiento.calificacion | number:'.0' }}\n                    </div>\n                </div>\n\n\n            </ng-container>\n            <ng-template #elseTemplateComercioCerrado>                            \n                <div *ngIf=\"isComercioAceptaPedidoProgramado\">\n                    <span class=\"\">\n                        <i class=\"fa fa-calendar\"></i>\n                        Pídelo para {{ descripcionDiaProgramado }} desde <strong>las {{ itemEstablecimiento.hora_ini }} </strong>\n                    </span>\n                </div>\n\n                <!-- si es reserva  muestra la hora que acepta reservas -->\n                <div  *ngIf=\"reserva\">\n                    <span>\n                        <i class=\"fa fa-clock-o\"></i>\n                        Reservas desde {{ horaAceptaReservas }}\n                    </span>\n                </div>\n            </ng-template>\n            \n            \n        </div>\n    </div>\n    </mat-card>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-promocion/item-promocion.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-promocion/item-promocion.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"w-100\" (click)=\"clickPromo()\" [ngClass]=\"{'bg-confetti-animated': promo.abierto === 1}\">\n    <!-- <div class=\"label-promo\">.</div> -->\n    <div class=\"div-promo w-100\">        \n        <div class=\"d-flex align-items-center\">\n            <div class=\"img-promo\">\n                <img src=\"{{iconGifPromo}}\" alt=\"ico_promo\">\n            </div>\n            <div class=\"info-promo animated fadeIn\" *ngIf=\"!showInfoPromo\">\n                <p class=\"fw-600 fs-15\">{{ ItemPromoheader.titulo }}</p>\n                <p class=\"fw-600 fs-12 text-secondary\">{{ ItemPromoheader.descripcion }}</p>\n                <p class=\"fw-100 fs-12 text-secondary\">Abierto de: {{ ItemPromoBody.h_inicio }} a {{ ItemPromoBody.h_fin }}</p>        \n                <p class=\"fw-100 fs-12 text-secondary\">{{ diasActivo }}</p>\n            </div>\n            <div class=\"info-promo animated\" *ngIf=\"showInfoPromo\" [ngClass]=\"{'fadeInDown': showInfoPromo, 'fadeOutDown': !showInfoPromo}\">\n                <p class=\"fw-600 fs-13 text-danger\">Acceda con un consumo mínimo de S/{{ItemPromoBody.importe_consumo_min}} en otros productos.</p>\n            </div>\n        </div>\n\n        <ng-container *ngIf=\"promo.abierto === 0; else elseTemplateGo\">\n            <img src=\"assets/images/002-lock.png\" alt=\"bloqueado\" class=\"animated\" [ngClass]=\"{'wobble': animateBloqueo}\">\n        </ng-container>\n        <ng-template #elseTemplateGo>\n            <div *ngIf=\"ItemPromoBody.importe_consumo_min\" class=\"content-importe-minimo animated\" [ngClass]=\"{'wobble': animateBloqueo}\">                \n                <div class=\"importe-minimo\">\n                    <span class=\"fs-10\">{{simbolo_moneda}}</span>\n                    <p class=\"fs-18 fw-600\">\n                        {{ ItemPromoBody.importe_consumo_min }}\n                    </p>\n                </div>\n                <div class=\"text-center\">\n                    <p class=\"fs-9 text-secondary\">Consumo mínimo</p>\n                </div>                \n            </div>\n        </ng-template>        \n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mapa-solo/mapa-solo.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mapa-solo/mapa-solo.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"border\">\n    <!-- <agm-map appDirectionsMapDirective [showDirection]=\"displayDirections\"\n            [origin]=\"origin\"\n            [destination]=\"destination\"\n\n            [zoom]=\"zoom\"\n            [disableDefaultUI]=\"false\"\n            [zoomControl]=\"false\"> -->\n    <agm-map  [zoom]=\"zoom\" [latitude]=\"destination.latitude\" [longitude]=\"destination.longitude\">\n\n        <agm-marker\n                [latitude]=\"destination.latitude\"\n                [longitude]=\"destination.longitude\"\n                [iconUrl]='{\"url\": \"./assets/images/placeholder.png\", \"scaledSize\": {\"height\": 30, \"width\": 30}}'\n                >\n        </agm-marker>\n\n        <agm-marker\n                [latitude]=\"origin.latitude\"\n                [longitude]=\"origin.longitude\"\n                [iconUrl]='{\"url\": \"./assets/images/delivery-man.png\", \"scaledSize\": {\"height\": 25, \"width\": 25}}'\n                >\n        </agm-marker>\n    </agm-map>\n</div>\n\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n    <div class=\"m-header\">\n        Marcelo\n    </div>\n    <div>\n        <ul>\n            <li>Informacion Personal</li>\n            <li>Mis Pedidos</li>\n        </ul>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"text-center\">\n    <img src=\"./assets/images/icon-app/robot_piter.gif\" alt=\"\">\n    <p class=\"fw-600 fs-13 pt-1\">Hola!, soy Piter, su mozo virtual por voz.</p>    \n    <div>\n        <p class=\"fw-100 fs-13\">Si desea que lo atienda active el microfono que esta en la parte superior.</p>\n        <div class = \"content-btn\">\n            <i class=\"fa fa-microphone\"></i>\n        </div>\n    </div>\n    <hr>\n    <button mat-raised-button color=\"primary\" mat-dialog-close>Ok, Entendido.</button>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.html":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.html ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"bg-voz footer-btn-go-lista animated fadeIn\"\n    [ngClass]=\"{'fadeInUp': 'isShowTxtTraduce', 'fadeOutDown': !isShowTxtTraduce}\">\n    <div class=\"text-center\">\n        <span class=\"mr-2\" [ngClass]=\"{'text-success': isShowCheck, 'fw-600': isShowCheck}\">{{ textTranscript }}</span>\n        <span *ngIf=\"isShowCheck\"><i class=\"fa fa-check text-success\"></i></span>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.html":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.html ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"content-btn\" [ngClass]=\"{'on': isGrabando}\" (click)=\"goClickBtn()\">\n    <ng-container *ngIf=\"isGrabando; else elseTemplateNoGraba\">\n        <i class=\"fa fa-microphone text-danger animated infinite bounceIn\" aria-hidden=\"true\"></i>\n    </ng-container>\n    <ng-template #elseTemplateNoGraba>\n        <i class=\"fa fa-microphone-slash\" aria-hidden=\"true\"></i>    \n    </ng-template>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- <ng-container *ngIf=\"listDirecciones.length === 0; else elseTemplate\">\n    <p class=\"fw-100 \"></p>\n</ng-container> -->\n<!-- <ng-template #elseTemplate> -->\n    <ul>\n        <li class=\"li-item\" *ngFor=\"let item of listDirecciones\" matRipple (click)=\"selected(item)\">\n            <div class=\"p-3\">\n                <p class=\"fw-600 fs-14\">{{item.titulo}}</p>\n                <p class=\"fw-100 fs-13\">{{item.direccion}}</p>\n                <p class=\"fw-600 fs-12 text-secondary\">{{item.referencia}}</p>\n            </div>\n        </li>\n    </ul>\n<!-- </ng-template> -->\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-2\">\n    <div *ngFor=\"let item of listCiudadesServicio\" class=\"pb-2 border-bottom\">\n        <div class=\"d-flex justify-content-between p-2 align-items-center\" matRipple (click)=\"selectedCiudad(item)\">\n            <span> {{ item.ciudad }}</span>\n            <span> <i class=\"fa fa-arrow-right\"></i></span>\n        </div>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/text-nom-cliente/text-nom-cliente.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/text-nom-cliente/text-nom-cliente.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"div-text-nombre\">\n    <p *ngIf=\"!isValidNombre\" class=\"text-danger fw-600\">Indique su Nombre.</p>\n    <mat-form-field class=\"w-100\">\n        <input [ngClass]=\"{'text-nom-cliente': sizeTextBg}\" \n            autocomplete=\"off\" \n            matInput \n            placeholder=\"Nombre\" \n            [(ngModel)]=\"nombreCliente\"\n            name=\"nombreCliente\"\n            #nomCliente (keyup)=\"saveNomCliente(nomCliente.value)\">\n    </mat-form-field>    \n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tiempo-programado/tiempo-programado.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tiempo-programado/tiempo-programado.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"w-100\">\n    <mat-form-field class=\"w-100\">\n        <mat-label>Día:</mat-label>\n        <mat-select  (selectionChange)=\"selectedDay($event)\" [(value)]=\"selectedIni\">\n          <mat-option *ngFor=\"let day of listDia\" [value]=\"day\">\n              <span class=\"text-center w-100\">\n                  {{day.descripcion}}\n              </span>\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n</div>\n<div class=\"w-100 h-100\">\n    <mat-selection-list>\n        <mat-list-option *ngFor=\"let item of listHora\" class=\"list-option-time\"\n            [value]=\"item\"\n            (click)=\"selectHour(item)\" [selected]=\"item.selected\">\n            <span class=\"text-center w-100 tfs-11\">\n                {{item.descripcion}}\n            </span>\n        </mat-list-option>\n      </mat-selection-list>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"content-op\" *ngIf=\"listVehiculo\">\n    <div matRipple *ngFor=\"let item of listVehiculo\"\n        class=\"item-propina\" [ngClass]=\"{'propina-selected': item.selected}\"\n        (click)=\"selectedItem(item)\"\n        >\n        <img src=\"./assets/images/icon-app/{{item.img}}\" alt=\"\">\n        <p>{{item.descripcion}}</p>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/layout-main/layout-main.component.html":
/*!***************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/core/layout-main/layout-main.component.html ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<router-outlet></router-outlet>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/progress-time-limit/progress-time-limit.component.html":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/core/progress-time-limit/progress-time-limit.component.html ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"timerLimitService.isPorgressVisible$ | async\">\n    <mat-progress-bar \n        class=\"animated fadeInDown\"\n        mode=\"determinate\" \n        color=\"accent\" \n        [value]=\"timerLimitService.countdown$ | async\"    \n    ></mat-progress-bar>\n</ng-container>\n\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/tool-bar/tool-bar.component.html":
/*!*********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/core/tool-bar/tool-bar.component.html ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<mat-toolbar color=\"primary\">   \n <mat-toolbar-row [ngClass]=\"{'toolbar-busqueda': isBusqueda}\">\n   <ng-container *ngIf=\"!isBusqueda\"> \n        \n     <!-- <i *ngIf=\"isClienteDelivery\" class=\"fa fa-arrow-left pr-2\" (click)=\"goBackOutEstablecimiento()\"></i>   -->\n    <span class=\"nom-comercio\">{{ nomSede | titlecase }}</span>\n    <span class=\"example-spacer\"></span>\n\n    <!-- microfono mozo virtual -->\n    <!-- <div class=\"example-ripple-container fs-15\" *ngIf=\"isSpeechVoiceAcivado && isCliente && !isClienteDelivery\">          -->\n     <div class=\"example-ripple-container fs-15\" *ngIf=\"isActiveMozoVoz\"> \n         <app-mozo-virtual-on-speech></app-mozo-virtual-on-speech>\n    </div>\n\n    <!-- boton configuracion punto de autopedido -->\n    <div *ngIf=\"!isCliente\" class=\"example-ripple-container fs-15\" matRipple matRippleCentered=\"true\" [matRippleColor]=\"rippleColor\"\n     (click)=\"configPunto()\">\n          <i title=\"Configuracion\" class=\"fa fa-wrench\" aria-hidden=\"true\"></i>     \n    </div>\n    \n    <div class=\"example-ripple-container fs-15\" matRipple matRippleCentered=\"true\" [matRippleColor]=\"rippleColor\"\n     (click)=\"sharedCarta()\"\n     matTooltip=\"Enlace Copiado\"\n     >\n     <i title=\"Compartir Carta\" class=\"fa fa-share-alt\" aria-hidden=\"true\"></i>\n     \n    </div>\n    <div style=\"display: contents;\">       \n       <div class=\"example-ripple-container fs-15\" matRipple \n         [matRippleColor]=\"rippleColorBusqueda\"\n         matRippleCentered=\"true\"\n         matRippleUnbounded=\"true\"\n         matRippleRadius=\"290\"\n         (click)=\"activaBusqueda()\"\n         title=\"Buscar\">\n            <i title=\"Buscar\" class=\"fa fa-search\" aria-hidden=\"true\"></i>\n       </div>\n       <div class=\"example-ripple-container fs-15\" matRipple matRippleCentered=\"true\" [matRippleColor]=\"rippleColor\" title=\"Cerrar Sesion\" (click)=\"cerrarSession()\">\n            <i title=\"Cerrar Sesion\" class=\"fa fa-close\" aria-hidden=\"true\"></i>\n       </div>\n       <!-- <button class=\"noSelect\" mat-icon-button title=\"Cerrar Sesion\"  (click)=\"cerrarSession()\">\n            <i title=\"Cerrar Sesion\" class=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n       </button>       -->\n    </div>\n   </ng-container>\n\n   <ng-container *ngIf=\"isBusqueda\">\n      <div class=\"d-flex w-100\">\n       <div class=\"example-ripple-container text-success fs-15\" style=\"margin-left: -15px;\" matRipple matRippleCentered=\"true\" [matRippleColor]=\"rippleColorPlomo\" title=\"Atras\" (click)=\"activaBusqueda()\">\n            <i title=\"Cerrar Sesion\" class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n       </div>\n       <input type=\"text\" class=\"text-busqueda w-100\" placeholder=\"Buscar...\" #txtBuscar (keyup)=\"buscarCharAhora(txtBuscar.value)\" autofocus>\n       <div [hidden]=\"txtBuscar.value === ''\" class=\"example-ripple-container text-dark fs-15\" matRipple matRippleCentered=\"true\" [matRippleColor]=\"rippleColorPlomo\"  (click)=\"clearTextBuqueda()\">\n            <i title=\"Atras\" class=\"fa fa-times\" aria-hidden=\"true\"></i>\n       </div>\n      </div>\n   </ng-container>\n   \n    <!-- <button (click)=\"cerrarSession()\">aa</button> -->\n </mat-toolbar-row>\n</mat-toolbar>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"p-3\">\n    <span class=\"fw-100 fs-15\">{{msj}}</span>\n    <hr>\n    <div class=\"d-flex\">\n        <button class=\"mr-2\" mat-stroked-button mat-dialog-close>Cancelar</button>\n        <button mat-flat-button color=\"warn\" [mat-dialog-close]=\"true\">Si, confirmo.</button>\n    </div>\n    <br>\n</div>\n\n");

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var _shared_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shared/guards/auth.guard */ "./src/app/shared/guards/auth.guard.ts");
/* harmony import */ var _shared_guards_cliente_profile_guards__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/guards/cliente-profile-guards */ "./src/app/shared/guards/cliente-profile-guards.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");



// import { LayoutMainComponent } from './core/layout-main/layout-main.component';



const routes = [
    // { path: '', redirectTo: '', pathMatch: 'full' },
    // {
    // path: '',
    // component: LayoutMainComponent,
    // children: [
    // {
    //   path: 'aa',
    //   loadChildren: () => import('./pages/cliente-profile/cliente-profile.module').then(m => m.ClienteProfileModule),
    //   // canActivate: [ClienteProfileGuard],
    //   data: { 'tituloModulo': 'Cliente Profile' }
    // },
    // {
    //   path: 'carta/:nomsede',
    //   loadChildren: () => import('./pages/inicio/inicio.module').then(m => m.InicioModule),
    //   data: { 'tituloModulo': 'Inicio' }
    // },
    {
        path: '',
        loadChildren: () => Promise.all(/*! import() | pages-inicio-inicio-module */[__webpack_require__.e("default~pages-inicio-inicio-module~pages-zona-establecimientos-zona-establecimientos-module"), __webpack_require__.e("pages-inicio-inicio-module")]).then(__webpack_require__.bind(null, /*! ./pages/inicio/inicio.module */ "./src/app/pages/inicio/inicio.module.ts")).then(m => m.InicioModule),
        data: { 'tituloModulo': 'Inicio' }
    },
    {
        path: '#',
        loadChildren: () => Promise.all(/*! import() | pages-inicio-inicio-module */[__webpack_require__.e("default~pages-inicio-inicio-module~pages-zona-establecimientos-zona-establecimientos-module"), __webpack_require__.e("pages-inicio-inicio-module")]).then(__webpack_require__.bind(null, /*! ./pages/inicio/inicio.module */ "./src/app/pages/inicio/inicio.module.ts")).then(m => m.InicioModule),
        data: { 'tituloModulo': 'Inicio' }
    },
    {
        path: 'home',
        loadChildren: () => Promise.all(/*! import() | pages-inicio-inicio-module */[__webpack_require__.e("default~pages-inicio-inicio-module~pages-zona-establecimientos-zona-establecimientos-module"), __webpack_require__.e("pages-inicio-inicio-module")]).then(__webpack_require__.bind(null, /*! ./pages/inicio/inicio.module */ "./src/app/pages/inicio/inicio.module.ts")).then(m => m.InicioModule),
        data: { 'tituloModulo': 'Inicio' }
    },
    {
        path: 'pedido',
        loadChildren: () => Promise.all(/*! import() | pages-pedido-pedido-module */[__webpack_require__.e("default~pages-pagar-cuenta-pagar-cuenta-module~pages-pedido-pedido-module"), __webpack_require__.e("pages-pedido-pedido-module")]).then(__webpack_require__.bind(null, /*! ./pages/pedido/pedido.module */ "./src/app/pages/pedido/pedido.module.ts")).then(m => m.PedidoModule),
        canActivate: [_shared_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"]],
        data: { 'tituloModulo': 'Pedido' }
    },
    {
        path: 'lanzar-encuesta',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-encuesta-encuesta-module */ "pages-encuesta-encuesta-module").then(__webpack_require__.bind(null, /*! ./pages/encuesta/encuesta.module */ "./src/app/pages/encuesta/encuesta.module.ts")).then(m => m.EncuestaModule),
        canActivate: [_shared_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"]],
        data: { 'tituloModulo': 'Encuesta' }
    },
    {
        path: 'pagar-cuenta',
        loadChildren: () => Promise.all(/*! import() | pages-pagar-cuenta-pagar-cuenta-module */[__webpack_require__.e("default~pages-pagar-cuenta-pagar-cuenta-module~pages-pedido-pedido-module"), __webpack_require__.e("common"), __webpack_require__.e("pages-pagar-cuenta-pagar-cuenta-module")]).then(__webpack_require__.bind(null, /*! ./pages/pagar-cuenta/pagar-cuenta.module */ "./src/app/pages/pagar-cuenta/pagar-cuenta.module.ts")).then(m => m.PagarCuentaModule),
        canActivate: [_shared_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"]],
        data: { 'tituloModulo': 'Cuenta' }
    },
    {
        path: 'pedido-confirmado',
        loadChildren: () => Promise.all(/*! import() | pages-pedido-confirmado-pedido-confirmado-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-pedido-confirmado-pedido-confirmado-module")]).then(__webpack_require__.bind(null, /*! ./pages/pedido-confirmado/pedido-confirmado.module */ "./src/app/pages/pedido-confirmado/pedido-confirmado.module.ts")).then(m => m.PedidoConfirmadoModule),
        canActivate: [_shared_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"]],
        data: { 'tituloModulo': 'pedido-confirmado' }
    },
    {
        path: 'cliente-profile',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-cliente-profile-cliente-profile-module */ "pages-cliente-profile-cliente-profile-module").then(__webpack_require__.bind(null, /*! ./pages/cliente-profile/cliente-profile.module */ "./src/app/pages/cliente-profile/cliente-profile.module.ts")).then(m => m.ClienteProfileModule),
        canActivate: [_shared_guards_cliente_profile_guards__WEBPACK_IMPORTED_MODULE_4__["ClienteProfileGuard"]],
        data: { 'tituloModulo': 'Cliente Profile' }
    },
    {
        path: 'zona-delivery',
        loadChildren: () => Promise.all(/*! import() | pages-zona-establecimientos-zona-establecimientos-module */[__webpack_require__.e("default~pages-inicio-inicio-module~pages-zona-establecimientos-zona-establecimientos-module"), __webpack_require__.e("pages-zona-establecimientos-zona-establecimientos-module")]).then(__webpack_require__.bind(null, /*! ./pages/zona-establecimientos/zona-establecimientos.module */ "./src/app/pages/zona-establecimientos/zona-establecimientos.module.ts")).then(m => m.ZonaEstablecimientosModule),
        // canActivate: [ClienteProfileGuard],
        data: { 'tituloModulo': 'Cliente Zona Delivery' }
    },
    {
        path: 'cash-atm',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-cash-cash-module */ "pages-cash-cash-module").then(__webpack_require__.bind(null, /*! ./pages/cash/cash.module */ "./src/app/pages/cash/cash.module.ts")).then(m => m.CashModule),
        data: { 'tituloModulo': 'Atm' }
    },
    {
        path: 'reservar-mesa',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-reservar-mesa-reservar-mesa-module */ "pages-reservar-mesa-reservar-mesa-module").then(__webpack_require__.bind(null, /*! ./pages/reservar-mesa/reservar-mesa.module */ "./src/app/pages/reservar-mesa/reservar-mesa.module.ts")).then(m => m.ReservarMesaModule),
        data: { 'tituloModulo': 'Reserva' }
    },
];
let AppRoutingModule = class AppRoutingModule {
    constructor(router) {
        this.router = router;
        this.router.errorHandler = (error) => {
            this.router.navigate(['inicio']); // or redirect to default route
        };
    }
};
AppRoutingModule.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
AppRoutingModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, {
                useHash: false,
                scrollPositionRestoration: 'top',
                // anchorScrolling: 'enabled',
                paramsInheritanceStrategy: 'always'
            })],
        providers: [
            // 22012022 eliminar el #
            { provide: _angular_common__WEBPACK_IMPORTED_MODULE_5__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_5__["PathLocationStrategy"] }
        ],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


// import { ActivatedRoute } from '@angular/router';
// import { App } from '@capacitor/app';
// import { Auth0Service } from './shared/services/auth0.service';
let AppComponent = class AppComponent {
    constructor() {
        // const nomsede = this.activatedRoute.snapshot.params.nomsede;
        // console.log('parametro url', nomsede); // OUTPUT 1534
        // this.suscribe = this.plataform.
        // App.addListener('backButton', () => {
        //   // App.exitApp();
        //   console.log('boton atras app');
        // });
    }
};
AppComponent.ctorParameters = () => [];
AppComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/__ivy_ngcc__/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/__ivy_ngcc__/fesm2015/animations.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core/core.module */ "./src/app/core/core.module.ts");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/__ivy_ngcc__/fesm2015/service-worker.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var ngx_socket_io__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-socket-io */ "./node_modules/ngx-socket-io/__ivy_ngcc__/fesm2015/ngx-socket-io.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");












// import { DirectionsMapDirectiveDirective } from './shared/directivas/directions-map-directive.directive';
let AppModule = class AppModule {
};
AppModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
        declarations: [
            _app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"],
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__["BrowserAnimationsModule"],
            // SharedModule,
            // ReactiveFormsModule,
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _app_routing_module__WEBPACK_IMPORTED_MODULE_5__["AppRoutingModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_7__["CoreModule"],
            ngx_socket_io__WEBPACK_IMPORTED_MODULE_10__["SocketIoModule"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_8__["ServiceWorkerModule"].register('ngsw-worker.js', { enabled: _environments_environment__WEBPACK_IMPORTED_MODULE_9__["environment"].production }),
        ],
        providers: [
            // {provide: ErrorHandler, useClass: GlobalErrorHandler},
            Location, { provide: _angular_common__WEBPACK_IMPORTED_MODULE_11__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_11__["PathLocationStrategy"] } // 22012022 eliminar el #
        ],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/componentes/agregar-direccion/agregar-direccion.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/componentes/agregar-direccion/agregar-direccion.component.css ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("agm-map {\r\n    height: 300px;\r\n}\r\n\r\n.btn-in-input {\r\n    top: 17px;\r\n    position: relative;\r\n    width: 50px;\r\n    height: 30px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.input-headline {\r\n    font-size: 13px;\r\n    line-height: 13px;\r\n    /* font-weight: 400; */\r\n}\r\n\r\n#map_canvas {\r\n    position: relative;\r\n}\r\n\r\n#map_canvas .centerMarker {\r\n    position: absolute;\r\n    /*url of the marker*/\r\n    background: url(//maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;\r\n    /*center the marker*/\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 1;\r\n    /*fix offset when needed*/\r\n    margin-left: -10px;\r\n    margin-top: -34px;\r\n    /*size of the image*/\r\n    height: 34px;\r\n    width: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n.btn-confirmar-dir {\r\n    width: 100%;\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 10px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvYWdyZWdhci1kaXJlY2Npb24vYWdyZWdhci1kaXJlY2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsb0JBQW9CO0lBQ3BCLDBFQUEwRTtJQUMxRSxvQkFBb0I7SUFDcEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxVQUFVO0lBQ1YseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLFlBQVk7SUFDWixXQUFXO0lBQ1gsZUFBZTtFQUNqQjs7QUFFRjtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9hZ3JlZ2FyLWRpcmVjY2lvbi9hZ3JlZ2FyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWdtLW1hcCB7XHJcbiAgICBoZWlnaHQ6IDMwMHB4O1xyXG59XHJcblxyXG4uYnRuLWluLWlucHV0IHtcclxuICAgIHRvcDogMTdweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5pbnB1dC1oZWFkbGluZSB7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTNweDtcclxuICAgIC8qIGZvbnQtd2VpZ2h0OiA0MDA7ICovXHJcbn1cclxuXHJcbiNtYXBfY2FudmFzIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuI21hcF9jYW52YXMgLmNlbnRlck1hcmtlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAvKnVybCBvZiB0aGUgbWFya2VyKi9cclxuICAgIGJhY2tncm91bmQ6IHVybCgvL21hcHMuZ3N0YXRpYy5jb20vbWFwZmlsZXMvbWFya2VyczIvbWFya2VyLnBuZykgbm8tcmVwZWF0O1xyXG4gICAgLypjZW50ZXIgdGhlIG1hcmtlciovXHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICAvKmZpeCBvZmZzZXQgd2hlbiBuZWVkZWQqL1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTM0cHg7XHJcbiAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgIGhlaWdodDogMzRweDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbi5idG4tY29uZmlybWFyLWRpciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogMTBweDtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/agregar-direccion/agregar-direccion.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/componentes/agregar-direccion/agregar-direccion.component.ts ***!
  \******************************************************************************/
/*! exports provided: AgregarDireccionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgregarDireccionComponent", function() { return AgregarDireccionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/__ivy_ngcc__/fesm2015/agm-core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
/* harmony import */ var src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");











let AgregarDireccionComponent = class AgregarDireccionComponent {
    constructor(formBuilder, mapsAPILoader, ngZone, verifyClientService, crudService, miPedidoService, inforTokenService, utilService, establecimientoService) {
        this.formBuilder = formBuilder;
        this.mapsAPILoader = mapsAPILoader;
        this.ngZone = ngZone;
        this.verifyClientService = verifyClientService;
        this.crudService = crudService;
        this.miPedidoService = miPedidoService;
        this.inforTokenService = inforTokenService;
        this.utilService = utilService;
        this.establecimientoService = establecimientoService;
        this.loader = 0;
        this.dirInCoordenadas = false;
        this.isUsCliente = true; // si el usuario es cliente o usuario autorizado
        this.countMoveMap = 0;
        this.isChangeDireccion = true;
        this.checkekFirstOption = true;
        this.isGuardarDireccion = true;
        this.dataMaps = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.saveDireccionOk = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.isDireccionValid = true; // si esta dentro de la zona de atencion
        this.mapCenter = {};
        this._componentRestrictions = { country: 'pe' };
        this.markerClicked = (markerObj) => {
            if (this.map) {
                this.map.setCenter({ lat: markerObj.latitude, lng: markerObj.longitude });
            }
        };
    }
    ngOnInit() {
        this.dataCliente = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_6__["DeliveryDireccionCliente"]();
        this.inforTokenService.getInfoUs();
        this.isUsCliente = this.inforTokenService.getInfoUs().isCliente;
        // if ( !this.isUsCliente ) {
        //   this._componentRestrictions.postalCode = this.establecimientoService.get().codigo_postal;
        // }
        this.loadForm();
    }
    ngAfterViewInit() {
        this.loadInitComponent();
    }
    loadInitComponent() {
        // this.setCurrentLocation();
        // console.log('this._componentRestrictions', this._componentRestrictions);
        // load Places Autocomplete
        this.mapsAPILoader.load().then(() => {
            this.setCurrentLocation();
            this.geoCoder = new google.maps.Geocoder;
            const autocomplete = new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, {
                // types: ['address'],
                componentRestrictions: this._componentRestrictions
            });
            autocomplete.addListener('place_changed', () => {
                this.ngZone.run(() => {
                    // get the place result
                    const place = autocomplete.getPlace();
                    this.countMoveMap = 0;
                    this.dataMapa = place; // para extract data
                    this.address = place.formatted_address;
                    // verify result
                    if (place.geometry === undefined || place.geometry === null) {
                        return;
                    }
                    // set latitude, longitude and zoom
                    this.latitude = place.geometry.location.lat();
                    this.longitude = place.geometry.location.lng();
                    this.zoom = 17;
                    this.isChangeDireccion = false;
                    // 090121 genera error cambiar lat > lng
                    // actualiza marcador pantalla
                    // console.log('liena error');
                    // this.mapCenter.lng = this.latitude;
                    // this.mapCenter.lat = this.longitude;
                    this.mapCenter.lat = this.latitude;
                    this.mapCenter.lng = this.longitude;
                    setTimeout(() => {
                        this.isChangeDireccion = true;
                    }, 500);
                    // this.getAddress(this.latitude , this.longitude);
                });
            });
        });
    }
    setCurrentLocation() {
        // se pide la direccion desde el comercio // registrar pedido
        if (this.isUsCliente === false) {
            this.dataInfoSede = this.miPedidoService.objDatosSede.datossede[0];
            this.latitude = this.dataInfoSede.latitude;
            this.longitude = this.dataInfoSede.longitude;
            this.zoom = 17;
            return;
        }
        if ('geolocation' in navigator) {
            navigator.geolocation.getCurrentPosition((position) => {
                this.latitude = position.coords.latitude;
                this.longitude = position.coords.longitude;
                this.zoom = 17;
                this.getAddress(this.latitude, this.longitude);
            });
        }
    }
    markerDragEnd($event) {
        this.latitude = $event.coords.lat;
        this.longitude = $event.coords.lng;
    }
    getDirCoordenadas(coodenadas) {
        const _coordenadas = coodenadas.split(',');
        const _lat = parseFloat(_coordenadas[0]);
        const _lon = parseFloat(_coordenadas[1]);
        this.latitude = _lat;
        this.longitude = _lon;
        this.isChangeDireccion = true;
        this.getAddress(_lat, _lon);
    }
    getAddress(latitude, longitude) {
        // this.isDireccionValid = true;
        // const palce_id = placeId ? {'placeId': placeId} : { 'location': { lat: latitude, lng: longitude } };
        this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {
            // this.geoCoder.geocode(palce_id, (results, status) => {
            if (status === 'OK') {
                if (results[0]) {
                    this.zoom = 17;
                    this.address = results[0].formatted_address;
                    this.dataMapa = results[0];
                    if (this.isChangeDireccion) {
                        this.dataCliente.direccion = this.address;
                    }
                    if (this.dirInCoordenadas) {
                        this.registerForm.controls['direccion'].patchValue(this.dataCliente.direccion);
                        // this.guardarDireccion(); // para el form valid
                    }
                    // si es usuario comercio valida la direccion del cliente
                    if (!this.isUsCliente) {
                        const codigo_postal = this.searchTypeMap('locality');
                        if (codigo_postal.toLowerCase().trim() !== this.dataInfoSede.ciudad.toLowerCase().trim()) {
                            this.isDireccionValid = false;
                            // window.alert('El servicio no esta disponible en esta ubicacion');
                        }
                        else {
                            this.isDireccionValid = true;
                        }
                    }
                }
                else {
                    // window.alert('No results found');
                }
            }
            else {
                // window.alert('Geocoder failed due to: ' + status);
            }
        });
    }
    loadForm() {
        this.registerForm = this.formBuilder.group({
            direccion: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            referencia: [this.dataCliente.referencia, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            longitude: [this.longitude, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            latitude: [this.latitude, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            titulo: this.dataCliente.titulo || 'Casa'
        });
        this.registerForm.statusChanges.subscribe(res => {
            if (res === 'VALID') {
                this.guardarDireccion();
            }
        });
    }
    checkDireccion(value) {
        if (value.trim() === '') {
            this.longitude = null;
            this.latitude = null;
        }
    }
    guardarDireccion() {
        if (!this.isDireccionValid) {
            // window.alert('El servicio no esta disponible en esta ubicacion');
            return;
        }
        // this.latitude = this.mapCenter.lat;
        // this.longitude = this.mapCenter.lng;
        // this.loader = 1;
        this.dataCliente.direccion = this.address;
        this.dataCliente.idcliente = this.isUsCliente ? this.verifyClientService.getDataClient().idcliente : this.idClienteBuscar;
        this.dataCliente.longitude = this.mapCenter.lng;
        this.dataCliente.latitude = this.mapCenter.lat;
        this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);
        this.dataCliente.ciudad = this.searchTypeMap('locality');
        this.dataCliente.provincia = this.searchTypeMap('administrative_area_level_2');
        this.dataCliente.departamento = this.searchTypeMap('administrative_area_level_1');
        this.dataCliente.pais = this.searchTypeMap('country');
        this.dataCliente.codigo = this.searchTypeMap('postal_code');
    }
    saveDireccion() {
        this.loader = 1;
        this.dataCliente.titulo = this.dataCliente.titulo || 'Casa';
        if (!this.isGuardarDireccion) { // si no guarda retorna solo la direccion //
            this.loader = 2;
            this.dataCliente.idcliente_pwa_direccion = null;
            this.saveDireccionOk.emit(this.dataCliente);
            return;
        }
        // this.mapCenter.lat, this.mapCenter.lng
        if (this.isUsCliente && this.countMoveMap > 1) {
            this.getAddress(this.mapCenter.lat, this.mapCenter.lng);
            setTimeout(() => {
                this.guardarDireccion();
                this.setBdDireccion();
            }, 1500);
        }
        else {
            this.setBdDireccion();
        }
        // actualiza las coordenadas segun position del marcador
        // this.dataCliente.latitude = this.mapCenter.lat;
        // this.dataCliente.longitude = this.mapCenter.lng;
    }
    setBdDireccion() {
        this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);
        this.crudService.postFree(this.dataCliente, 'cliente', 'new-direccion', false)
            .subscribe((res) => {
            setTimeout(() => {
                this.loader = 2;
                setTimeout(() => {
                    this.dataCliente.idcliente_pwa_direccion = res.data[0].idcliente_pwa_direccion;
                    this.saveDireccionOk.emit(this.dataCliente);
                    this.countMoveMap = 1;
                }, 500);
            }, 1000);
        });
    }
    searchTypeMap(search) {
        let rpt = '';
        this.dataMapa.address_components.map((x) => {
            x.types.map((t) => {
                if (t === search) {
                    rpt = x.long_name;
                    return rpt;
                }
            });
        });
        return rpt;
    }
    mapReady(map) {
        this.map = map;
    }
    idleMap() {
        this.countMoveMap++;
    }
    centerChange(event) {
        if (event) {
            this.mapCenter.lat = event.lat;
            this.mapCenter.lng = event.lng;
        }
    }
    clickmap() {
        this.isChangeDireccion = true;
    }
    confirmarDireccion() {
        this.countMoveMap = 1;
        this.getAddress(this.mapCenter.lat, this.mapCenter.lng);
    }
    recargarPage() {
        window.location.reload();
    }
};
AgregarDireccionComponent.ctorParameters = () => [
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] },
    { type: _agm_core__WEBPACK_IMPORTED_MODULE_2__["MapsAPILoader"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"] },
    { type: src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_4__["VerifyAuthClientService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_5__["CrudHttpService"] },
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__["MipedidoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_9__["InfoTockenService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_10__["UtilitariosService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_7__["EstablecimientoService"] }
];
AgregarDireccionComponent.propDecorators = {
    idClienteBuscar: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    searchElementRef: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"], args: ['search',] }],
    myForm: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"], args: ['registerForm',] }],
    isGuardarDireccion: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    dataMaps: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    saveDireccionOk: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    agmMap: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"], args: ['search',] }]
};
AgregarDireccionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-agregar-direccion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./agregar-direccion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/agregar-direccion/agregar-direccion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./agregar-direccion.component.css */ "./src/app/componentes/agregar-direccion/agregar-direccion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
        _agm_core__WEBPACK_IMPORTED_MODULE_2__["MapsAPILoader"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgZone"],
        src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_4__["VerifyAuthClientService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_5__["CrudHttpService"],
        src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__["MipedidoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_9__["InfoTockenService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_10__["UtilitariosService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_7__["EstablecimientoService"]])
], AgregarDireccionComponent);



/***/ }),

/***/ "./src/app/componentes/comp-caja-texto/comp-caja-texto.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/componentes/comp-caja-texto/comp-caja-texto.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".text-area-nota {\r\n    width: 100%;\r\n    border-radius: 8px;\r\n    border: 1px solid lightgrey;\r\n    padding: 5px;\r\n    font-size: 14px;\r\n    background: white;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jYWphLXRleHRvL2NvbXAtY2FqYS10ZXh0by5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQiwyQkFBMkI7SUFDM0IsWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLWNhamEtdGV4dG8vY29tcC1jYWphLXRleHRvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1hcmVhLW5vdGEge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyZXk7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/comp-caja-texto/comp-caja-texto.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/componentes/comp-caja-texto/comp-caja-texto.component.ts ***!
  \**************************************************************************/
/*! exports provided: CompCajaTextoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompCajaTextoComponent", function() { return CompCajaTextoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let CompCajaTextoComponent = class CompCajaTextoComponent {
    // placeholder_txt = 'Si cabe en la mochila se lo llevamos';
    constructor() {
        this.textChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.label_txt = 'Buscamos en la ciudad para llevarselo lo que necesecita';
    }
    ngOnInit() {
    }
    changeText(val) {
        this.textChanged.emit(val);
    }
};
CompCajaTextoComponent.ctorParameters = () => [];
CompCajaTextoComponent.propDecorators = {
    textChanged: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    placeholder_txt: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompCajaTextoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-caja-texto',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-caja-texto.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-caja-texto/comp-caja-texto.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-caja-texto.component.css */ "./src/app/componentes/comp-caja-texto/comp-caja-texto.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompCajaTextoComponent);



/***/ }),

/***/ "./src/app/componentes/comp-calificacion/comp-calificacion.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/componentes/comp-calificacion/comp-calificacion.component.css ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".rating {\r\n    outline: none;\r\n  }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jYWxpZmljYWNpb24vY29tcC1jYWxpZmljYWNpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7RUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtY2FsaWZpY2FjaW9uL2NvbXAtY2FsaWZpY2FjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmF0aW5nIHtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgfSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/comp-calificacion/comp-calificacion.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/componentes/comp-calificacion/comp-calificacion.component.ts ***!
  \******************************************************************************/
/*! exports provided: CompCalificacionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompCalificacionComponent", function() { return CompCalificacionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_datos_calificado_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/datos.calificado.model */ "./src/app/modelos/datos.calificado.model.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");




let CompCalificacionComponent = class CompCalificacionComponent {
    constructor(crudService) {
        this.crudService = crudService;
        this.countFin = 3;
        this.intervalConteo = null;
        this.comentario = '';
    }
    ngOnInit() {
        this.dataCalificado.calificacion = 0;
    }
    onRatingChange($event) {
        this.dataCalificado.calificacion = $event.rating;
        if (this.dataCalificado.showTxtComentario) {
            return;
        }
        this.goAgradecimiento();
    }
    goAgradecimiento() {
        if (this.dataCalificado.showMsjTankyou) {
            this.countFin = 2;
            this.cuentaRegresivaCalificacion();
        }
    }
    // despues que califica cuenta 2 segundo para guardar
    cuentaRegresivaCalificacion() {
        if (this.countFin <= 0) {
            this.intervalConteo = null;
            this.guardarCalificacion();
        }
        else {
            this.conteoFinEncuesta();
        }
    }
    conteoFinEncuesta() {
        this.intervalConteo = setTimeout(() => {
            this.countFin--;
            this.cuentaRegresivaCalificacion();
        }, 1000);
    }
    guardarCalificacion() {
        this.dataCalificado.comentario = this.comentario;
        const _data = {
            dataCalificacion: this.dataCalificado
        };
        this.crudService.postFree(_data, 'delivery', 'calificar-servicio', false)
            .subscribe(res => console.log(res));
    }
};
CompCalificacionComponent.ctorParameters = () => [
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] }
];
CompCalificacionComponent.propDecorators = {
    dataCalificado: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompCalificacionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-calificacion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-calificacion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-calificacion/comp-calificacion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-calificacion.component.css */ "./src/app/componentes/comp-calificacion/comp-calificacion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"]])
], CompCalificacionComponent);



/***/ }),

/***/ "./src/app/componentes/comp-check/comp-check.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/componentes/comp-check/comp-check.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtY2hlY2svY29tcC1jaGVjay5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/componentes/comp-check/comp-check.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/componentes/comp-check/comp-check.component.ts ***!
  \****************************************************************/
/*! exports provided: CompCheckComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompCheckComponent", function() { return CompCheckComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let CompCheckComponent = class CompCheckComponent {
    constructor() { }
    ngOnInit() {
    }
};
CompCheckComponent.ctorParameters = () => [];
CompCheckComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-check',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-check.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-check/comp-check.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-check.component.css */ "./src/app/componentes/comp-check/comp-check.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompCheckComponent);



/***/ }),

/***/ "./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".btn-postion {\r\n    position: relative;\r\n    float: right;\r\n}\r\n\r\n.btn-circle-add {    \r\n    padding: 5px;\r\n    border: 1px solid;\r\n    border-radius: 50%;\r\n    font-size: 10px;\r\n    width: 26px;\r\n    text-align: center;    \r\n    color: #3f51b5;\r\n}\r\n\r\n.btn-circle-add.cantidad {\r\n    background: #3f51b5;\r\n    color: white;\r\n    font-weight: 600;\r\n}\r\n\r\n.btn-detalle {\r\n    display: grid;\r\n    width: 89px;\r\n    background: #3f51b5;\r\n    color: white;\r\n    grid-template-columns: auto 23px auto;\r\n    text-align: center;\r\n    padding: 2px 5px;\r\n    border-radius: 5px;\r\n    float: right;\r\n    /* font-weight: 600; */\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1jdHJsLWFkZC1mYXN0L2NvbXAtY3RybC1hZGQtZmFzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1oscUNBQXFDO0lBQ3JDLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixzQkFBc0I7QUFDMUIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLWN0cmwtYWRkLWZhc3QvY29tcC1jdHJsLWFkZC1mYXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuLXBvc3Rpb24ge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG4uYnRuLWNpcmNsZS1hZGQgeyAgICBcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgd2lkdGg6IDI2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICAgIFxyXG4gICAgY29sb3I6ICMzZjUxYjU7XHJcbn1cclxuXHJcbi5idG4tY2lyY2xlLWFkZC5jYW50aWRhZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjM2Y1MWI1O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmJ0bi1kZXRhbGxlIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICB3aWR0aDogODlweDtcclxuICAgIGJhY2tncm91bmQ6ICMzZjUxYjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gMjNweCBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMnB4IDVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIC8qIGZvbnQtd2VpZ2h0OiA2MDA7ICovXHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.ts ***!
  \********************************************************************************/
/*! exports provided: CompCtrlAddFastComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompCtrlAddFastComponent", function() { return CompCtrlAddFastComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let CompCtrlAddFastComponent = class CompCtrlAddFastComponent {
    constructor() {
        this.cantidad = 0;
        this.showDetalle = false;
        this.showAnimateStop = false;
        this.isShowVisible = true;
        this.timerViewAfter = 0; // para volver la vista orginal
        this.countSegundos = 10;
        this.isSuma = true;
        this.objResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    set objItem(val) {
        // console.log('val objItem =============00', val);
        this._objItem = val;
        this.cantidad = this._objItem.cantidad_selected ? this._objItem.cantidad_selected : 0;
        // this.cantidad = this.cantidad === 0 ? this._objItem.cantidad_seleccionada ? this._objItem.cantidad_seleccionada : 0 : this.cantidad;
        this.cantidad = this._objItem.cantidad_seleccionada ? this._objItem.cantidad_seleccionada : this.cantidad;
        // console.log('this._objItem A', this._objItem);
        this.cantidad_show = this.cantidad;
    }
    ngOnInit() {
        this.zoom = this.zoom ? this.zoom : 1;
        this.showViewComprimir();
    }
    // ngDoCheck(){
    //   console.log(‘count component CD runs’);
    // }
    showCantDetalle() {
        this.isSuma = true;
        if (this.stopAdd && !this.showDetalle && this.cantidad !== 0) {
            this.showDetalle = true;
            this.timerViewAfter = this.countSegundos;
            this.timerShowView();
            return;
        }
        if (this.stopAdd) {
            this.showAnimateStop = true;
            setTimeout(() => {
                this.showAnimateStop = false;
            }, 200);
            return;
        }
        this.add();
        this.showDetalle = true;
        this.timerViewAfter = this.countSegundos;
        this.timerShowView();
    }
    timerShowView() {
        this.intervalShowaAfter = setInterval(() => {
            // console.log('this.timerViewAfter', this.timerViewAfter);
            this.timerViewAfter--;
            if (this.timerViewAfter <= 0) {
                this.timerViewAfter = 0;
                this.showDetalle = this.comprimir === false ? true : false; // si manda no comprimir
                clearInterval(this.intervalShowaAfter);
            }
        }, 1000);
    }
    add() {
        // console.log('this.limitAdd', this.limitAdd);
        this.limitAdd = this.limitAdd ? this.limitAdd : NaN;
        this.cantidad = this.cantidad_show !== this.cantidad ? this.cantidad_show : this.cantidad;
        this.timerViewAfter = this.countSegundos;
        this.isSuma = true;
        if (!isNaN(this.limitAdd)) {
            this.stopAdd = this.limitAdd <= 0;
        }
        if (this.stopAdd) {
            this.showAnimateStop = true;
            setTimeout(() => {
                this.showAnimateStop = false;
            }, 200);
            return;
        }
        this.cantidad++;
        this.emitResponse();
    }
    menos() {
        console.log('menosss');
        this.cantidad = this.cantidad_show !== this.cantidad ? this.cantidad_show : this.cantidad;
        this.timerViewAfter = this.countSegundos;
        this.cantidad--;
        this.isSuma = false;
        if (this.cantidad < 0) {
            this.showAnimateStop = true;
            return;
        }
        this.showAnimateStop = false;
        if (this.cantidad === 0) {
            // this.showDetalle = false;
            this.showViewComprimir();
        }
        this.emitResponse();
    }
    showViewComprimir() {
        this.showDetalle = this.comprimir === false ? true : false;
    }
    emitResponse() {
        if (!this._objItem) {
            this._objItem = {};
        }
        this._objItem.cantidad_selected = this.cantidad;
        this._objItem.cantidad_seleccionada = this.cantidad; // add por list item pedido
        this.cantidad_show = this.cantidad;
        this._objItem.isSuma_selected = this.isSuma;
        this.objResponse.emit(this._objItem);
    }
};
CompCtrlAddFastComponent.ctorParameters = () => [];
CompCtrlAddFastComponent.propDecorators = {
    stopAdd: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    limitAdd: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    zoom: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    comprimir: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    quitarFadeUp: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    objResponse: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    cantidad_show: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    objItem: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompCtrlAddFastComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-ctrl-add-fast',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-ctrl-add-fast.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.html")).default,
        changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectionStrategy"].OnPush,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-ctrl-add-fast.component.css */ "./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompCtrlAddFastComponent);



/***/ }),

/***/ "./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtZGF0b3MtcmVzZXJ2YS9jb21wLWRhdG9zLXJlc2VydmEuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.ts ***!
  \********************************************************************************/
/*! exports provided: CompDatosReservaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompDatosReservaComponent", function() { return CompDatosReservaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_GetFormDatosCliente__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/GetFormDatosCliente */ "./src/app/modelos/GetFormDatosCliente.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_modelos_parametrosCompHora__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/parametrosCompHora */ "./src/app/modelos/parametrosCompHora.ts");







let CompDatosReservaComponent = class CompDatosReservaComponent {
    constructor(infoToken, miPedidoService, establecimientoService) {
        this.infoToken = infoToken;
        this.miPedidoService = miPedidoService;
        this.establecimientoService = establecimientoService;
        this.dataReserva = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.isReady = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.frmConfirma = {};
        this.opcionesFrmCliente = new src_app_modelos_GetFormDatosCliente__WEBPACK_IMPORTED_MODULE_2__["GetFormDatosCliente"];
        this.compHoraParams = new src_app_modelos_parametrosCompHora__WEBPACK_IMPORTED_MODULE_6__["ParametrosCompHora"];
        this.isFormValid = false;
        this.countTotalItemsPedido = 0;
    }
    ngOnInit() {
        this.infoEstablecimineto = this.establecimientoService.get();
        this.opcionesFrmCliente.showDirreccionA = false; // en realidad
        this.opcionesFrmCliente.telefono = true;
        this.opcionesFrmCliente.calDistanciaCentro = false;
        this.opcionesFrmCliente.tituloDirA = '';
        // componente hora
        this.compHoraParams.titulo = 'Hora de llegada';
        this.compHoraParams.tituloHora = 'Indique aqui la hora';
        this.compHoraParams.addMin = 30;
        this.compHoraParams.hora_min = this.infoEstablecimineto.hora_ini;
        this.compHoraParams.hora_max = this.infoEstablecimineto.hora_fin;
        this.compHoraParams.showHoraMinMax = true;
        this.isFormValid = !!this.infoToken.infoUsToken.telefono;
        this.frmConfirma = {
            nombre_reserva: this.infoToken.infoUsToken.nombres,
            empresa: '',
            referencia: '',
            telefono: this.infoToken.infoUsToken.telefono,
            hora_reserva: '',
            num_personas: 0,
            reserva: true,
            solo_llevar: false,
            delivery: false
        };
        this.miPedidoService.countItemsObserve$.subscribe((res) => {
            this.countTotalItemsPedido = res;
            this.frmConfirma.num_personas = this.countTotalItemsPedido;
            this.emitData();
        });
    }
    frmClienteResponse(e) {
        this.frmConfirma.telefono = e.telefono;
        this.isFormValid = !!e.telefono;
        this.emitData();
    }
    setHora(hourSelected) {
        this.isFormValid = hourSelected !== '';
        this.frmConfirma.hora_reserva = hourSelected;
        this.emitData();
    }
    emitData() {
        const dataEmit = {
            formIsValid: this.isFormValid,
            formData: this.frmConfirma,
            fromReserva: true
        };
        this.dataReserva.emit(dataEmit);
        this.isReady.emit(this.isFormValid);
    }
};
CompDatosReservaComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] },
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_4__["MipedidoService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_5__["EstablecimientoService"] }
];
CompDatosReservaComponent.propDecorators = {
    dataReserva: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    isReady: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompDatosReservaComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-datos-reserva',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-datos-reserva.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-datos-reserva.component.css */ "./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"],
        src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_4__["MipedidoService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_5__["EstablecimientoService"]])
], CompDatosReservaComponent);



/***/ }),

/***/ "./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.css ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin: 0;\r\n}\r\n\r\n.div-content {\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.div-enviado {\r\n    text-align: center;\r\n    height: 80vh;\r\n    width: 100%;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n\r\n}\r\n\r\n.div-listo {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtZGF0b3MtY2xpZW50ZS9jb21wLWdldC1kYXRvcy1jbGllbnRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1Qjs7QUFFM0I7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtZ2V0LWRhdG9zLWNsaWVudGUvY29tcC1nZXQtZGF0b3MtY2xpZW50ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbi5kaXYtY29udGVudCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLmRpdi1lbnZpYWRvIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGhlaWdodDogODB2aDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcblxyXG59XHJcblxyXG4uZGl2LWxpc3RvIHtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.ts ***!
  \****************************************************************************************/
/*! exports provided: CompGetDatosClienteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompGetDatosClienteComponent", function() { return CompGetDatosClienteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_GetFormDatosCliente__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/GetFormDatosCliente */ "./src/app/modelos/GetFormDatosCliente.ts");
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dialog-verificar-telefono/dialog-verificar-telefono.component */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts");
/* harmony import */ var src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/services/calc-distancia.service */ "./src/app/shared/services/calc-distancia.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/shared/services/sede-delivery.service */ "./src/app/shared/services/sede-delivery.service.ts");















let CompGetDatosClienteComponent = class CompGetDatosClienteComponent {
    constructor(infoTokenService, dialogDireccion, dialogTelefono, dialogTiempoEntrega, dialog, utilService, calcDistanceService, crudService, plazaDelivery) {
        this.infoTokenService = infoTokenService;
        this.dialogDireccion = dialogDireccion;
        this.dialogTelefono = dialogTelefono;
        this.dialogTiempoEntrega = dialogTiempoEntrega;
        this.dialog = dialog;
        this.utilService = utilService;
        this.calcDistanceService = calcDistanceService;
        this.crudService = crudService;
        this.plazaDelivery = plazaDelivery;
        this.frmResponse = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.lasCiudad = '';
        this.isTiempoEntregaValid = true;
        this.msjErrorDir = '';
        this.systemOS = '';
        this.isFormValid = false;
        this.isFormValidDos = false;
        this.isCalculandoDistancia = false;
        this.titleDirA = 'De dónde lo recogemos?';
        this.titleDirB = 'A dónde lo llevamos?';
    }
    ngOnInit() {
        this.systemOS = this.utilService.getOS();
        this.msjErrorDir = '';
        this.infoToken = this.infoTokenService.getInfoUs();
        this.direccionClienteIni = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_3__["DeliveryDireccionCliente"]();
        this.direccionClienteIni.titulo = 'Seleccione una direccion *';
        this.direccionClienteIni.direccion = '';
        this.direccionClienteIni.referencia = '';
        this.datosFormUno = {};
        this.datosFormUno.descripcion_paquete = '';
        this.datosFormUno.telefono = this.infoToken.telefono;
        this.direccionA = this.direccionClienteIni;
        this.direccionB = this.direccionClienteIni;
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_4__["TiempoEntregaModel"]();
        this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';
        this.tiempoEntregaSelected.value = '';
        this.tiempoEntregaSelected.modificado = false;
        this.tiempoEntregaSelected.valid = false;
        this.isTiempoEntregaValid = false;
        this.titleDirA = this.opciones.tituloDirA;
        this.titleDirB = this.opciones.tituloDirB;
        if (this.opciones.metodoPago) {
            this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(this.opciones.metodoPagoAceptaTarjeta);
        }
    }
    openDialogDireccion(op) {
        const _DdialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogConfig"]();
        _DdialogConfig.disableClose = true;
        _DdialogConfig.hasBackdrop = true;
        _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],
            _DdialogConfig.data = {
                isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false,
                isFromComercio: true,
            };
        // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';
        const dialogRef = this.dialogDireccion.open(_dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_8__["DialogSelectDireccionComponent"], _DdialogConfig);
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
            this.msjErrorDir = '';
            if (op === 0) { // dedonde
                this.direccionA = data;
            }
            else { // adonde
                this.direccionB = data;
            }
            // this.getDatosSede();
            this.getDatosCiudadSeleted();
            this.validFormDos();
        });
    }
    openDialogTiempoEntrega() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogConfig"]();
        // _dialogConfig.width = '480px';
        // _dialogConfig.disableClose = false;
        // _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        const dialogTpC = this.dialogTiempoEntrega.open(_dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_9__["DialogTiempoEntregaComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            if (result) {
                this.infoTokenService.setTiempoEntrega(result);
                this.tiempoEntregaSelected = result;
                this.isTiempoEntregaValid = true;
                // this.verificarMontoMinimo();
            }
        });
    }
    openDialogMetodoPago() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            importeTotalPagar: 3
        };
        const dialogLoading = this.dialog.open(_dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_10__["DialogMetodoPagoComponent"], _dialogConfig);
        dialogLoading.afterClosed().subscribe((result) => {
            this.metodoPagoSelected = result;
            this.validFormDos();
        });
    }
    openDialogsendSMS() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogConfig"]();
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = 'my-full-screen-dialog';
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            idcliente: this.infoTokenService.infoUsToken.idcliente,
            numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'
        };
        const dialogRefTelefono = this.dialogTelefono.open(_dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_11__["DialogVerificarTelefonoComponent"], _dialogConfig);
        dialogRefTelefono.afterClosed().subscribe((result) => {
            if (result.verificado) {
                this.infoToken.telefono = result.numberphone;
                this.infoTokenService.setTelefono(result.numberphone);
                this.datosFormUno.telefono = this.infoToken.telefono;
                this.validFormDos();
                // this.verifyClientService.setTelefono(result.numberphone);
            }
        });
    }
    validFormDos() {
        this.isFormValidDos = this.isFormValid;
        this.isFormValidDos = this.opciones.showDirreccionA ? !this.direccionA.ciudad ? false : true : this.isFormValidDos;
        this.isFormValidDos = this.opciones.showDirreccionB ? !this.direccionB.ciudad ? false : this.isFormValidDos : true;
        this.isFormValidDos = this.opciones.metodoPago ? !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos : true;
        this.isFormValidDos = this.opciones.telefono ? this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false : true;
        const res = {
            success: this.isFormValidDos,
            direccionA: this.direccionA,
            direccionB: this.direccionB,
            metodoPago: this.metodoPagoSelected,
            telefono: this.datosFormUno.telefono,
            ladingCostoServicio: this.isCalculandoDistancia,
            costosPlaza: this.laPlazaDelivery,
            cliente: this.infoToken,
            systemOS: this.systemOS
        };
        this.frmResponse.emit(res);
    }
    getDatosCiudadSeleted() {
        this.isCalculandoDistancia = true;
        this.isFormValid = false;
        if (this.lasCiudad !== '' && this.lasCiudad === this.direccionA.ciudad) {
            this.calcularDistanciaEntregaComp();
            return;
        }
        this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionA.ciudad)
            .subscribe((res) => {
            this.laPlazaDelivery = res;
            this.lasCiudad = this.laPlazaDelivery.ciudad;
            this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;
            this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;
            this.calcularDistanciaEntregaComp();
        });
    }
    calcularDistanciaEntregaComp() {
        let paseCalcular = false;
        paseCalcular = this.opciones.calDistanciaAB ? true : false;
        paseCalcular = this.opciones.calDistanciaCentro ? true : paseCalcular;
        paseCalcular = this.opciones.calDistanciaFrom ? true : paseCalcular;
        if (!paseCalcular) {
            this.isCalculandoDistancia = false;
            this.isFormValid = true;
            this.validFormDos();
            return;
        }
        const ciudadA = this.direccionA.ciudad;
        let ciudadB = this.direccionB.ciudad;
        if (this.opciones.calDistanciaCentro) {
            this.direccionB.latitude = this.laPlazaDelivery.latitude;
            this.direccionB.longitude = this.laPlazaDelivery.longitude;
            ciudadB = this.laPlazaDelivery.ciudad;
        }
        if (!ciudadA || !ciudadB) {
            this.isCalculandoDistancia = false;
            this.isFormValid = false;
            this.validFormDos();
            return;
        }
        if (ciudadA.toLocaleLowerCase() !== ciudadB.toLocaleLowerCase()) {
            // el servicio no esta disponible en esta ubicacion
            this.direccionA.codigo = null;
            this.msjErrorDir = 'Servicio no disponible en esta dirección.';
            this.isCalculandoDistancia = false;
            this.isFormValid = false;
            this.validFormDos();
            return;
        }
        const _dirB = this.laPlazaDelivery;
        // pasamos las coordenadas de la direccion b
        _dirB.latitude = this.direccionB.latitude;
        _dirB.longitude = this.direccionB.longitude;
        this.isCalculandoDistancia = true;
        this.calcDistanceService.calculateRoute(this.direccionA, _dirB, false);
        // .subscribe((res: any) => {
        setTimeout(() => {
            this.laPlazaDelivery = _dirB;
            this.isCalculandoDistancia = false;
            // this.calcCostoServicio();
            // console.log('this.laPlazaDelivery', this.laPlazaDelivery);
            this.isCalculandoDistancia = false;
            this.isFormValid = true;
            this.validFormDos();
        }, 1600);
        // });
    }
};
CompGetDatosClienteComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"] },
    { type: src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_12__["CalcDistanciaService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_13__["CrudHttpService"] },
    { type: src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_14__["SedeDeliveryService"] }
];
CompGetDatosClienteComponent.propDecorators = {
    opciones: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    frmResponse: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompGetDatosClienteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-get-datos-cliente',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-get-datos-cliente.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-get-datos-cliente.component.css */ "./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"],
        src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_12__["CalcDistanciaService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_13__["CrudHttpService"],
        src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_14__["SedeDeliveryService"]])
], CompGetDatosClienteComponent);



/***/ }),

/***/ "./src/app/componentes/comp-get-hora/comp-get-hora.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/componentes/comp-get-hora/comp-get-hora.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin: 0;\r\n}\r\n\r\n.DivHora {\r\n    max-width: 60px;\r\n}\r\n\r\n.top-1 {\r\n    top: -1px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtaG9yYS9jb21wLWdldC1ob3JhLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksU0FBUztBQUNiIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1nZXQtaG9yYS9jb21wLWdldC1ob3JhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLkRpdkhvcmEge1xyXG4gICAgbWF4LXdpZHRoOiA2MHB4O1xyXG59XHJcblxyXG4udG9wLTEge1xyXG4gICAgdG9wOiAtMXB4O1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/componentes/comp-get-hora/comp-get-hora.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/componentes/comp-get-hora/comp-get-hora.component.ts ***!
  \**********************************************************************/
/*! exports provided: CompGetHoraComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompGetHoraComponent", function() { return CompGetHoraComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_parametrosCompHora__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/parametrosCompHora */ "./src/app/modelos/parametrosCompHora.ts");



let CompGetHoraComponent = class CompGetHoraComponent {
    constructor() {
        this.changeHora = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.isHourValid = false;
        this.setHoraControl = {
            h: 0,
            m: 0,
            ap: 'AM'
        };
        this.hora = new Date();
        this.hora_show = '';
        this.hora_min = '00:00 am';
        this.hora_max = '23:59 pm';
        this.selectedAP = 'AM';
    }
    ngOnInit() {
        // console.log('this.parametros', this.parametros);
        this.hora_min = this.getHoraShow(0);
        this.hora_show = this.getHoraShow(this.parametros.addMin);
        if (this.parametros.showHoraMinMax) {
            this.hora_min = this.parametros.hora_min;
            // this.hora_max = this.getAmPm(this.parametros.hora_max);
        }
        // this.hora_show = this.parametros.showHoraIni ? this.hora_show : '';
        this.setearHoraControl(this.hora_show);
        this.responseHora();
        // console.log('this.hora_min', this.hora_min);
        // console.log('this.hora_max', this.hora_max);
        // console.log('this.hora_show', this.hora_show);
    }
    getHoraShow(addHours) {
        this.hora.setMinutes(this.hora.getHours() + addHours);
        const _horaNow = this.hora.getHours();
        const _pmAm = _horaNow >= 12 ? 'PM' : 'AM';
        return `${this.hora.getHours()}:${this.hora.getMinutes()} ${_pmAm}`;
    }
    setearHoraControl(_hora) {
        const _arrHora = _hora.split(':');
        const ap = _arrHora[1].split(' ');
        this.setHoraControl.h = _arrHora[0];
        this.setHoraControl.m = ap[0];
        this.setHoraControl.ap = ap[1];
    }
    getAmPm(_hora) {
        const hora = parseInt(_hora.split(':')[0], 0);
        const _pmAm = hora >= 12 ? 'PM' : 'AM';
        return `${_hora} ${_pmAm}`;
    }
    responseHora() {
        console.log('aa');
        let _horaGet = this.setHoraControl.h;
        if (this.setHoraControl.ap.toLocaleLowerCase() === 'pm') {
            _horaGet = _horaGet < 12 ? 12 + _horaGet : _horaGet;
            // this.setHoraControl.h = _horaGet;
        }
        let horaSelected = `${this.setHoraControl.h}:${this.setHoraControl.m} ${this.setHoraControl.ap}`;
        const horaSelectedValid = `${_horaGet}:${this.setHoraControl.m} ${this.setHoraControl.ap}`;
        this.isHourValid = this.getHourSelectedIsValid(horaSelectedValid);
        horaSelected = this.isHourValid ? horaSelected : '';
        this.changeHora.emit(horaSelected);
    }
    changeAm(e) {
        // console.log('change envet hora', e);
        // this.getHoraPmFormat12(e);
    }
    // si la hora del control el mayot que 11 se pone pm
    getHoraPmFormat12(_hora) {
        const hora = _hora.split(':')[0];
        this.hora_show = `${hora}:00 PM`;
    }
    getHourSelectedIsValid(hSelected) {
        if (hSelected === '') {
            return false;
        }
        const h1 = parseInt(this.parametros.hora_max.split(':')[0], 0);
        const h2 = parseInt(hSelected.split(':')[0], 0);
        return h1 > h2;
    }
};
CompGetHoraComponent.ctorParameters = () => [];
CompGetHoraComponent.propDecorators = {
    parametros: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    changeHora: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompGetHoraComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-get-hora',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-get-hora.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-get-hora/comp-get-hora.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-get-hora.component.css */ "./src/app/componentes/comp-get-hora/comp-get-hora.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompGetHoraComponent);



/***/ }),

/***/ "./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.css":
/*!*******************************************************************************************************!*\
  !*** ./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.css ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-content-list {\r\n    background: #eeeeee;\r\n}\r\n\r\n.div-tp-consumo {\r\n    /* padding: 5px; */\r\n    border-radius: 5px;\r\n    background: white;\r\n    box-shadow: 0px 0px 5px 0px rgb(193 193 193);\r\n}\r\n\r\n.titulo-tpc {\r\n    background: #bdbdbd;\r\n    padding: 5px;    \r\n    border-radius: 5px 5px 0px 0px;\r\n}\r\n\r\n.titulo-seccion {\r\n    background: #d1d1d1;\r\n    padding: 5px;\r\n}\r\n\r\n.div-border-titulo {\r\n    border-radius: 5px 5px 0px 0px;\r\n}\r\n\r\n.div-seccion {    \r\n    padding: 5px;\r\n    border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.div-seccion .item {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n}\r\n\r\n.sub-item {\r\n    padding: 5px;\r\n    background: antiquewhite;\r\n    border-radius: 5px;\r\n}\r\n\r\n/* .seccion-item {\r\n    padding: 5px;\r\n} */\r\n\r\n.seccion-item p {\r\n    margin: 0;\r\n}\r\n\r\n.ul-total {\r\n    padding: 5px;\r\n    font-size: 14px;\r\n}\r\n\r\n.ul-total li {\r\n    border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.ul-total li:last-child{\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n    border-bottom: 0px;\r\n}\r\n\r\n.img-ico-entrega {\r\n    height: 22px;\r\n}\r\n\r\n/* .div-control-add-fast {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 5px;\r\n} */\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1saXN0LWl0ZW0tcGVkaWRvLWNsaWVudGUvY29tcC1saXN0LWl0ZW0tcGVkaWRvLWNsaWVudGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLDRDQUE0QztBQUNoRDs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYix5QkFBOEI7SUFBOUIsc0NBQThCO1lBQTlCLDhCQUE4QjtJQUM5Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWix3QkFBd0I7SUFDeEIsa0JBQWtCO0FBQ3RCOztBQUVBOztHQUVHOztBQUVIO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7Ozs7R0FJRyIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2NvbXAtbGlzdC1pdGVtLXBlZGlkby1jbGllbnRlL2NvbXAtbGlzdC1pdGVtLXBlZGlkby1jbGllbnRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGl2LWNvbnRlbnQtbGlzdCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWVlZWVlO1xyXG59XHJcblxyXG4uZGl2LXRwLWNvbnN1bW8ge1xyXG4gICAgLyogcGFkZGluZzogNXB4OyAqL1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAwcHggcmdiKDE5MyAxOTMgMTkzKTtcclxufVxyXG5cclxuLnRpdHVsby10cGMge1xyXG4gICAgYmFja2dyb3VuZDogI2JkYmRiZDtcclxuICAgIHBhZGRpbmc6IDVweDsgICAgXHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHggNXB4IDBweCAwcHg7XHJcbn1cclxuXHJcbi50aXR1bG8tc2VjY2lvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZDFkMWQxO1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4uZGl2LWJvcmRlci10aXR1bG8ge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwcHggMHB4O1xyXG59XHJcblxyXG4uZGl2LXNlY2Npb24geyAgICBcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uZGl2LXNlY2Npb24gLml0ZW0ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zdWItaXRlbSB7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBhbnRpcXVld2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi8qIC5zZWNjaW9uLWl0ZW0ge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG59ICovXHJcblxyXG4uc2VjY2lvbi1pdGVtIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4udWwtdG90YWwge1xyXG4gICAgcGFkZGluZzogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4udWwtdG90YWwgbGkge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxuICAgIGJvcmRlci1ib3R0b206IDBweDtcclxufVxyXG5cclxuLmltZy1pY28tZW50cmVnYSB7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbn1cclxuXHJcbi8qIC5kaXYtY29udHJvbC1hZGQtZmFzdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIHRvcDogNXB4O1xyXG59ICovIl19 */");

/***/ }),

/***/ "./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.ts":
/*!******************************************************************************************************!*\
  !*** ./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.ts ***!
  \******************************************************************************************************/
/*! exports provided: CompListItemPedidoClienteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompListItemPedidoClienteComponent", function() { return CompListItemPedidoClienteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modelos/pedido.model */ "./src/app/modelos/pedido.model.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/navigator-link.service */ "./src/app/shared/services/navigator-link.service.ts");
/* harmony import */ var _dialog_item_edit_dialog_item_edit_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dialog-item-edit/dialog-item-edit.component */ "./src/app/componentes/dialog-item-edit/dialog-item-edit.component.ts");











let CompListItemPedidoClienteComponent = class CompListItemPedidoClienteComponent {
    constructor(miPedidoService, infoToken, dialog, navigatorService, establecimientoService) {
        this.miPedidoService = miPedidoService;
        this.infoToken = infoToken;
        this.dialog = dialog;
        this.navigatorService = navigatorService;
        this.establecimientoService = establecimientoService;
        this.miPedido = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_5__["PedidoModel"]();
        this.objNewItemTiposConsumo = [];
        this.destroy$ = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this.listIconsEntrega = [];
    }
    ngOnInit() {
        this.isDeliveryCliente = this.infoToken.isDelivery();
        this.miPedido = this.miPedidoService.getMiPedido();
        this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();
        // console.log('miPedido', this.miPedido);
        const _datosEstablecieminto = this.establecimientoService.get();
        // console.log('_datosEstablecieminto', _datosEstablecieminto);
        // console.log('arrSubtotales', this.arrSubtotales);
        try {
            this.listIconsEntrega = JSON.parse(JSON.stringify(_datosEstablecieminto.icons_entrega));
        }
        catch (error) {
            this.listIconsEntrega = [];
        }
        this.miPedidoService.miPedidoObserver$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["takeUntil"])(this.destroy$))
            .subscribe((res) => {
            // this.miPedidoService.clearObjMiPedido(); // quita las cantidades 0
            // this._miPedido = this.miPedidoService.getMiPedido();
            this.miPedido = res;
            // this.pintarSubTotales();
            // console.log('miPedido', this.miPedido);
        });
    }
    ngAfterViewInit() {
        setTimeout(() => {
            // const res = this.reglasCartaService.getObjReglasCarta();
            // console.log('this.arrSubtotales', this.arrSubtotales);
            // this.rulesCarta = res[0] ? res[0].reglas ? res[0].reglas : [] : res.reglas ? res.reglas : [];
            // this.rulesSubtoTales = res.subtotales || res[0].subtotales;
        }, 500);
    }
    resultCantItemMercado(_selectedItem, tpc, _seccion) {
        // solo para delivery
        this.objNewItemTiposConsumo = [];
        // console.log('tpc', tpc);
        // console.log('_selectedItem', _selectedItem);
        // const _tpc = <ItemTipoConsumoModel>{
        //   cantidad_seleccionada: tpc.cantidad_seleccionada,
        //   descripcion: tpc.descripcion,
        //   idtipo_consumo: tpc.idtipo_consumo,
        //   titulo: tpc.titulo
        // };
        // this.objNewItemTiposConsumo.push(_tpc);
        // const _itemFromCarta = this.miPedidoService.findItemCarta(_selectedItem);
        // this.objItemTipoConsumoSelected = _itemFromCarta.itemtiposconsumo;
        // _selectedItem.cantidad = this.getCantidadItemCarta(_selectedItem); // trae el stock del item carta
        // this.objItemTipoConsumoSelected = <ItemTipoConsumoModel[]>this.objItemTipoConsumoSelected;
        // // this.objNewItemTiposConsumo = _itemFromCarta.itemtiposconsumo;
        // // const tpcSelect = this.objNewItemTiposConsumo[0];
        // const tpcSelect = tpc;
        // this.miPedidoService.setObjSeccionSeleced(_seccion);
        // this.miPedidoService.setobjItemTipoConsumoSelected(this.objNewItemTiposConsumo);
        // const _isSuma = _selectedItem.isSuma_selected ? 0 : 1;
        // // console.log('_selectedItem carta', this.itemSelected);
        // _selectedItem.cantidad = _selectedItem.cantidad ? _selectedItem.cantidad : NaN;
        // _selectedItem.cantidad_seleccionada = _selectedItem.cantidad_selected;
        // this.miPedidoService.addItem2(tpcSelect, <ItemModel>_selectedItem, _isSuma);
        // 2
        const _itemFromCarta = this.miPedidoService.findItemCarta(_selectedItem);
        this.objItemTipoConsumoSelected = _itemFromCarta.itemtiposconsumo;
        this.miPedidoService.setObjSeccionSeleced(_seccion);
        this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);
        _selectedItem.itemtiposconsumo = this.objItemTipoConsumoSelected;
        const tpcSelect = this.objItemTipoConsumoSelected.filter(x => x.idtipo_consumo === tpc.idtipo_consumo)[0];
        const _isSuma = _selectedItem.isSuma_selected ? 0 : 1;
        _selectedItem.cantidad = _selectedItem.cantidad ? _selectedItem.cantidad : NaN;
        _itemFromCarta.cantidad = this.getCantidadItemCarta(_selectedItem);
        // tpcSelect = al de la carta = tpc seleccionado por
        // item = _itemFromCarta de la carta
        this.miPedidoService.addItem2(tpcSelect, _itemFromCarta, _isSuma);
    }
    openDlgItemToResumen(_seccion, _item) {
        const dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogConfig"]();
        const _itemFromCarta = this.miPedidoService.findItemCarta(_item);
        // dialogConfig.panelClass = 'dialog-item-edit';
        dialogConfig.autoFocus = false;
        dialogConfig.data = {
            idTpcItemResumenSelect: null,
            seccion: _seccion,
            item: _itemFromCarta,
            objItemTipoConsumoSelected: _itemFromCarta.itemtiposconsumo
        };
        dialogConfig.panelClass = ['my-dialog-orden-detalle', 'margen-0', 'margen-0'];
        const dialogRef = this.dialog.open(_dialog_item_edit_dialog_item_edit_component__WEBPACK_IMPORTED_MODULE_10__["DialogItemEditComponent"], dialogConfig);
        // subscribe al cierre y obtiene los datos
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
        });
    }
    getCantidadItemCarta(item) {
        return parseInt(this.miPedidoService.findItemCarta(item).cantidad.toString(), 0);
    }
    goBackCarta() {
        this.navigatorService.setPageActive('carta');
    }
};
CompListItemPedidoClienteComponent.ctorParameters = () => [
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__["MipedidoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_7__["InfoTockenService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"] },
    { type: src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_9__["NavigatorLinkService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_6__["EstablecimientoService"] }
];
CompListItemPedidoClienteComponent.propDecorators = {
    arrSubtotales: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompListItemPedidoClienteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-list-item-pedido-cliente',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-list-item-pedido-cliente.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-list-item-pedido-cliente.component.css */ "./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_8__["MipedidoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_7__["InfoTockenService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
        src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_9__["NavigatorLinkService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_6__["EstablecimientoService"]])
], CompListItemPedidoClienteComponent);



/***/ }),

/***/ "./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.css ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p { margin: 0; }\r\n\r\n.content-op {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    width: 100%;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n    margin-top: 15px;\r\n}\r\n\r\n.item-propina {\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #9e9e9e;\r\n    border-radius: 5px;\r\n    font-size: 12px;\r\n    background-color: white;\r\n    margin-left: 5px;\r\n    -webkit-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.propina-selected {\r\n    /* background-color: black;\r\n    color: white; */\r\n    background-color: slategrey;\r\n    /* border: 1px solid gold; */\r\n    color: white;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1vcC1jb3N0by1lc3RpbWFkby9jb21wLW9wLWNvc3RvLWVzdGltYWRvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxTQUFTLEVBQUU7O0FBRWY7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsNEJBQW9CO0lBQXBCLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJO21CQUNlO0lBQ2YsMkJBQTJCO0lBQzNCLDRCQUE0QjtJQUM1QixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1vcC1jb3N0by1lc3RpbWFkby9jb21wLW9wLWNvc3RvLWVzdGltYWRvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHsgbWFyZ2luOiAwOyB9XHJcblxyXG4uY29udGVudC1vcCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbn1cclxuXHJcblxyXG4uaXRlbS1wcm9waW5hIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjOWU5ZTllO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbn1cclxuXHJcbi5wcm9waW5hLXNlbGVjdGVkIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2xhdGVncmV5O1xyXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgZ29sZDsgKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.ts ***!
  \****************************************************************************************/
/*! exports provided: CompOpCostoEstimadoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompOpCostoEstimadoComponent", function() { return CompOpCostoEstimadoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let CompOpCostoEstimadoComponent = class CompOpCostoEstimadoComponent {
    constructor() {
        this.optionSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        this.loadOpaciones();
    }
    loadOpaciones() {
        this.listOpciones = [];
        this.listOpciones.push({ id: 0, value: 20, showImporte: 'S/. 25.00', descripcion: 'Menos que', selected: false });
        this.listOpciones.push({ id: 1, value: 50, showImporte: 'S/. 50.00', descripcion: 'Menos o igual que', selected: false });
        this.listOpciones.push({ id: 2, value: 100, showImporte: 'S/. 70.00', descripcion: 'Más que', selected: false });
    }
    selectedItem(item) {
        this.listOpciones.map(x => x.selected = false);
        item.selected = true;
        this.itemSelected = item;
        this.optionSelected.emit(this.itemSelected);
    }
};
CompOpCostoEstimadoComponent.ctorParameters = () => [];
CompOpCostoEstimadoComponent.propDecorators = {
    optionSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompOpCostoEstimadoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-op-costo-estimado',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-op-costo-estimado.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-op-costo-estimado.component.css */ "./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompOpCostoEstimadoComponent);



/***/ }),

/***/ "./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".content-pago {\r\n    height: 100vh;\r\n    /* background: #E5EFF7; */\r\n}\r\n\r\n.header-pago {\r\n    background: #3F51B5;\r\n    color: white;\r\n    width: 100%;\r\n}\r\n\r\n.loader-pago {\r\n    position: absolute;\r\n    z-index: 1;\r\n    height: 100vh;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    background: #212121;\r\n    width: 100%;\r\n    opacity: 0.9;\r\n    color: white;\r\n}\r\n\r\n.loader-pago div {\r\n    top: 50%;\r\n    position: relative;\r\n    width: 50%;    \r\n    margin: 0 auto;\r\n}\r\n\r\n.btn-pago-disabled {\r\n    -webkit-transition: all ease-in-out 1s;\r\n    transition: all ease-in-out 1s;\r\n    background: grey;\r\n    border-radius: 5px;\r\n    padding: 8px;\r\n    width: 50%;\r\n    color: white;\r\n    position: relative;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n}\r\n\r\n.btn-hidden {\r\n    display: none;\r\n}\r\n\r\n.div-btn {\r\n    height: 48px;\r\n}\r\n\r\n.banner-res-ok {\r\n    color: white;\r\n    background: #436BE1;\r\n}\r\n\r\n.banner-res-error {\r\n    color: white;\r\n    background: #ef5350;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wYXNhcmVsYS1wYWdvL2NvbXAtcGFzYXJlbGEtcGFnby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksUUFBUTtJQUNSLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsY0FBYztBQUNsQjs7QUFHQTtJQUNJLHNDQUE4QjtJQUE5Qiw4QkFBOEI7SUFDOUIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVTtJQUNWLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wYXNhcmVsYS1wYWdvL2NvbXAtcGFzYXJlbGEtcGFnby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtcGFnbyB7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgLyogYmFja2dyb3VuZDogI0U1RUZGNzsgKi9cclxufVxyXG5cclxuLmhlYWRlci1wYWdvIHtcclxuICAgIGJhY2tncm91bmQ6ICMzRjUxQjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmxvYWRlci1wYWdvIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIGJhY2tncm91bmQ6ICMyMTIxMjE7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvYWRlci1wYWdvIGRpdiB7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA1MCU7ICAgIFxyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcblxyXG4uYnRuLXBhZ28tZGlzYWJsZWQge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIGVhc2UtaW4tb3V0IDFzO1xyXG4gICAgYmFja2dyb3VuZDogZ3JleTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLmJ0bi1oaWRkZW4ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmRpdi1idG4ge1xyXG4gICAgaGVpZ2h0OiA0OHB4O1xyXG59XHJcblxyXG4uYmFubmVyLXJlcy1vayB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDM2QkUxO1xyXG59XHJcblxyXG4uYmFubmVyLXJlcy1lcnJvciB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWY1MzUwO1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.ts ***!
  \********************************************************************************/
/*! exports provided: CompPasarelaPagoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompPasarelaPagoComponent", function() { return CompPasarelaPagoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_modelos_cliente_pago_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modelos/cliente.pago.model */ "./src/app/modelos/cliente.pago.model.ts");
/* harmony import */ var src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/listen-status.service */ "./src/app/shared/services/listen-status.service.ts");
/* harmony import */ var src_app_modelos_DataTransaccion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/modelos/DataTransaccion */ "./src/app/modelos/DataTransaccion.ts");








let CompPasarelaPagoComponent = class CompPasarelaPagoComponent {
    constructor(infoTokenService, utilService, crudService, listenStatusService) {
        this.infoTokenService = infoTokenService;
        this.utilService = utilService;
        this.crudService = crudService;
        this.listenStatusService = listenStatusService;
        this.responseTransa = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.repuestaBtnListo = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"](false);
        this.isLoaderTransaction = false;
        this.isLoadBtnPago = false;
        this.isCheckTerminos = false;
        this.isTrasctionSuccess = false;
        this.isViewAlertTerminos = false;
        this.isViewAlertEmail = false;
        this.isEmailValid = true;
        this.isRequiredEmail = false;
        this.isDisabledCheck = false; // desabilita el check de terminos
        this.dataResTransaction = null;
        this.fechaTransaction = new Date();
        this.importeTransaccion = 0;
        // repuesta
        this.responseTranaccion = {
            success: false,
            data: {}
        };
        this.listenKeyLoader = 'sys::transaction-load';
        this.listenKeyData = 'sys::transaction-response';
        this.dataClientePago = new src_app_modelos_cliente_pago_model__WEBPACK_IMPORTED_MODULE_5__["ClientePagoModel"]();
    }
    ngOnInit() {
        this.importeTransaccion = this.dataTrasa.importe;
        this.infoToken = this.infoTokenService.getInfoUs();
        this.getEmailCliente();
        localStorage.setItem('sys::btnP', '0');
    }
    // obtener datos del clienteP
    getEmailCliente() {
        const dataClient = {
            id: this.infoToken.idcliente
        };
        this.crudService.postFree(dataClient, 'transaction', 'get-email-client', false).subscribe((res) => {
            this.dataClientePago.email = res.data[0].correo ? res.data[0].correo : '';
            // this.dataClientePago.email = 'integraciones.visanet@necomplus.com'; // desarrollo
            // // this.dataClientePago.email = 'review@cybersource.com';
            // this.dataClientePago.isSaveEmail = false;
            // email // comentar si es review@cybersource.com
            this.isRequiredEmail = this.dataClientePago.email === '' ? true : false;
            this.isEmailValid = !this.isRequiredEmail;
            this.dataClientePago.isSaveEmail = this.isRequiredEmail;
            this.dataClientePago.idcliente = res.data[0].idcliente_card;
            this.dataClientePago.diasRegistrado = res.data[0].dias_registrado;
            this.dataClientePago.nombres = this.infoToken.nombres;
            // ip del client
            this.dataClientePago.ip = this.infoToken.ipCliente;
            if (!this.dataClientePago.ip) {
                this.crudService.getFree('https://api.ipify.org?format=json').subscribe((_res) => {
                    this.dataClientePago.ip = _res.ip;
                    this.infoTokenService.setLocalIpCliente(this.dataClientePago.ip);
                    this.isDisabledCheck = true;
                });
            }
            else {
                this.isDisabledCheck = true;
            }
            this.getNomApClientePago(this.dataClientePago.nombres);
        });
    }
    // dividi nombre y apellidos
    getNomApClientePago(nombres) {
        const _names = nombres.split(' ');
        let nameCliente = '';
        let apPaternoCliente = '';
        switch (_names.length) {
            case 1:
                nameCliente = _names[0];
                break;
            case 2:
                nameCliente = _names[0];
                apPaternoCliente = _names[1];
                break;
            case 3:
                nameCliente = _names[0];
                apPaternoCliente = _names[2];
                break;
            case 4:
                nameCliente = _names[0];
                apPaternoCliente = _names[2];
                break;
        }
        this.dataClientePago.nombre = this.utilService.primeraConMayusculas(nameCliente);
        this.dataClientePago.apellido = this.utilService.primeraConMayusculas(apPaternoCliente);
    }
    goPagar() {
        this.isViewAlertEmail = false;
        this.isViewAlertTerminos = false;
        this.isCheckTerminos = !this.isCheckTerminos;
        const _pase = this.isCheckTerminos && this.isEmailValid;
        if (!_pase) {
            this.isViewAlertEmail = true;
            this.isViewAlertTerminos = true; // comentar si review@cybersoruce.com
            return;
        }
        this.isLoadBtnPago = true;
        this.generarPurchasenumber();
    }
    generarPurchasenumber() {
        this.crudService.getAll('transaction', 'get-purchasenumber', false, false, false).subscribe((res) => {
            const _purchasenumber = res.data[0].purchasenumber;
            this.el_purchasenumber = _purchasenumber;
            pagar(this.importeTransaccion, _purchasenumber, this.dataClientePago);
            this.listenResponse();
            this.verificarCheckTerminos();
            this.listenStatusService.setIsBtnPagoShow(true);
            // marcar como si se dio btn pago para reload page
            localStorage.setItem('sys::btnP', '1');
        });
    }
    listenResponse() {
        this.timeListenerKeys = setTimeout(() => {
            const dataResponse = localStorage.getItem(this.listenKeyData);
            this.isLoaderTransaction = localStorage.getItem(this.listenKeyLoader) === '0' ? false : true;
            let _dataTransactionRegister;
            if (dataResponse !== 'null') {
                this.isLoadBtnPago = false;
                this.dataResTransaction = JSON.parse(dataResponse);
                this.isTrasctionSuccess = !this.dataResTransaction.error;
                if (this.isTrasctionSuccess) {
                    _dataTransactionRegister = {
                        purchaseNumber: this.dataResTransaction.order.purchaseNumber,
                        card: this.dataResTransaction.dataMap.CARD,
                        brand: this.dataResTransaction.dataMap.BRAND,
                        descripcion: this.dataResTransaction.dataMap.ACTION_DESCRIPTION,
                        status: this.dataResTransaction.dataMap.STATUS,
                        error: this.dataResTransaction.error
                    };
                    // retorna evento transaccion success
                    this.responseTranaccion.success = true;
                    this.responseTranaccion.data = _dataTransactionRegister;
                    this.emitRespuesta();
                    setTimeout(() => {
                        this.isLoaderTransaction = false;
                        // marcador si actualiza la pagina cuando ya pago
                        this.infoTokenService.setIsPagoSuccess(true);
                        return;
                    }, 1900);
                }
                else {
                    _dataTransactionRegister = {
                        purchaseNumber: this.el_purchasenumber,
                        card: this.dataResTransaction.data.CARD,
                        brand: this.dataResTransaction.data.BRAND,
                        descripcion: this.dataResTransaction.data.ACTION_DESCRIPTION,
                        status: this.dataResTransaction.data.STATUS,
                        error: this.dataResTransaction.error
                    };
                    // retorna evento transaccion success
                    this.responseTranaccion.success = false;
                    this.responseTranaccion.data = _dataTransactionRegister;
                    this.emitRespuesta();
                }
                localStorage.removeItem(this.listenKeyData);
            }
            else {
                this.listenResponse();
            }
        }, 100);
    }
    verificarCheckTerminos() {
        this.isViewAlertTerminos = this.isCheckTerminos ? false : true;
        this.isViewAlertEmail = !this.isEmailValid; // comentar si review@cybersoruce.com
    }
    verificarCorreo(el) {
        this.isEmailValid = el.checkValidity();
        this.isViewAlertEmail = !this.isEmailValid;
        this.dataClientePago.email = el.value;
    }
    emitRespuesta() {
        this.responseTransa.emit(this.responseTranaccion);
    }
    btnFinListo() {
        this.repuestaBtnListo.emit(true);
    }
};
CompPasarelaPagoComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_3__["UtilitariosService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"] },
    { type: src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"] }
];
CompPasarelaPagoComponent.propDecorators = {
    dataTrasa: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    responseTransa: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    repuestaBtnListo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompPasarelaPagoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-pasarela-pago',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-pasarela-pago.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-pasarela-pago.component.css */ "./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_3__["UtilitariosService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"],
        src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"]])
], CompPasarelaPagoComponent);



/***/ }),

/***/ "./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.css ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-plr {\r\n    padding-left: 7px;\r\n    padding-right: 7px;\r\n}\r\n\r\n.div-content-all {\r\n    top: 0px;\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n}\r\n\r\n.titulo-tpc {\r\n    background: #424242;\r\n    color: #e0e0e0;\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n}\r\n\r\n.titulo-seccion {\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n    background: blanchedalmond;\r\n}\r\n\r\n.li-item {\r\n    padding-top: 6px;\r\n    padding-bottom: 6px;\r\n    border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.div-total {\r\n    border-top: 2px dashed #9e9e9e;\r\n}\r\n\r\n.ul-total li:last-child{\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n}\r\n\r\n.countItem {\r\n    padding: 4px 7px 4px 7px;\r\n    border-radius: 90%;\r\n    line-height: 1;\r\n    font-size: 12px;\r\n    margin-top: 2px;\r\n}\r\n\r\n.countTpc{\r\n    float: right;\r\n    background: #212121;\r\n    color: #bdbdbd;\r\n}\r\n\r\n.countSeccion {\r\n  float: right;\r\n  color: #616161;\r\n  background: #ffcc80;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wZWRpZG8tZGV0YWxsZS9jb21wLXBlZGlkby1kZXRhbGxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksUUFBUTtJQUNSLHdCQUFnQjtJQUFoQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZixlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixjQUFjO0FBQ2xCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGNBQWM7RUFDZCxtQkFBbUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXBlZGlkby1kZXRhbGxlL2NvbXAtcGVkaWRvLWRldGFsbGUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtcGxyIHtcclxuICAgIHBhZGRpbmctbGVmdDogN3B4O1xyXG4gICAgcGFkZGluZy1yaWdodDogN3B4O1xyXG59XHJcblxyXG4uZGl2LWNvbnRlbnQtYWxsIHtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgcG9zaXRpb246IHN0aWNreTtcclxufVxyXG5cclxuLnRpdHVsby10cGMge1xyXG4gICAgYmFja2dyb3VuZDogIzQyNDI0MjtcclxuICAgIGNvbG9yOiAjZTBlMGUwO1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbn1cclxuXHJcbi50aXR1bG8tc2VjY2lvbiB7XHJcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDhweDtcclxuICAgIGJhY2tncm91bmQ6IGJsYW5jaGVkYWxtb25kO1xyXG59XHJcblxyXG4ubGktaXRlbSB7XHJcbiAgICBwYWRkaW5nLXRvcDogNnB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDZweDtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uZGl2LXRvdGFsIHtcclxuICAgIGJvcmRlci10b3A6IDJweCBkYXNoZWQgIzllOWU5ZTtcclxufVxyXG5cclxuLnVsLXRvdGFsIGxpOmxhc3QtY2hpbGR7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBmb250LXdlaWdodDogODAwO1xyXG59XHJcblxyXG4uY291bnRJdGVtIHtcclxuICAgIHBhZGRpbmc6IDRweCA3cHggNHB4IDdweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDkwJTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMnB4O1xyXG59XHJcblxyXG4uY291bnRUcGN7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMjEyMTIxO1xyXG4gICAgY29sb3I6ICNiZGJkYmQ7XHJcbn1cclxuXHJcbi5jb3VudFNlY2Npb24ge1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBjb2xvcjogIzYxNjE2MTtcclxuICBiYWNrZ3JvdW5kOiAjZmZjYzgwO1xyXG59XHJcbiJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.ts ***!
  \**********************************************************************************/
/*! exports provided: CompPedidoDetalleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompPedidoDetalleComponent", function() { return CompPedidoDetalleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");




let CompPedidoDetalleComponent = class CompPedidoDetalleComponent {
    constructor(crudService, miPedidoService) {
        this.crudService = crudService;
        this.miPedidoService = miPedidoService;
    }
    ngOnInit() {
        this.loadPedido();
    }
    loadPedido() {
        const _data = {
            mesa: 0,
            idsede: this.infoPedido.idsede,
            idorg: this.infoPedido.idorg,
            idpedido: this.infoPedido.idpedido
        };
        this.crudService.postFree(_data, 'pedido', 'lacuenta-zona-delivery', false)
            .subscribe(res => {
            // console.log(res);
            this._miPedido = this.miPedidoService.darFormatoPedido(res);
            // obtener subtotales bd
            this.crudService.postFree(_data, 'pedido', 'lacuenta-pedido-totales', false)
                .subscribe(arrTotal => {
                this._arrSubtotales = arrTotal.data;
            });
        });
    }
};
CompPedidoDetalleComponent.ctorParameters = () => [
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] },
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__["MipedidoService"] }
];
CompPedidoDetalleComponent.propDecorators = {
    infoPedido: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompPedidoDetalleComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-pedido-detalle',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-pedido-detalle.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-pedido-detalle.component.css */ "./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"],
        src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__["MipedidoService"]])
], CompPedidoDetalleComponent);



/***/ }),

/***/ "./src/app/componentes/comp-pide-express/comp-pide-express.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/componentes/comp-pide-express/comp-pide-express.component.css ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin: 0;\r\n}\r\n\r\n.div-content {\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.div-enviado {\r\n    text-align: center;\r\n    height: 80vh;\r\n    width: 100%;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n\r\n}\r\n\r\n.div-listo {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWV4cHJlc3MvY29tcC1waWRlLWV4cHJlc3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFNBQVM7QUFDYjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osV0FBVztJQUNYLHdCQUF1QjtJQUF2QiwrQkFBdUI7WUFBdkIsdUJBQXVCOztBQUUzQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWV4cHJlc3MvY29tcC1waWRlLWV4cHJlc3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uZGl2LWNvbnRlbnQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5kaXYtZW52aWFkbyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDgwdmg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cclxufVxyXG5cclxuLmRpdi1saXN0byB7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/comp-pide-express/comp-pide-express.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/componentes/comp-pide-express/comp-pide-express.component.ts ***!
  \******************************************************************************/
/*! exports provided: CompPideExpressComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompPideExpressComponent", function() { return CompPideExpressComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/sede-delivery.service */ "./src/app/shared/services/sede-delivery.service.ts");
/* harmony import */ var src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/calc-distancia.service */ "./src/app/shared/services/calc-distancia.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dialog-verificar-telefono/dialog-verificar-telefono.component */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
















let CompPideExpressComponent = class CompPideExpressComponent {
    constructor(infoTokenService, plazaDelivery, calcDistanceService, crudService, dialogDireccion, dialogTelefono, dialogTiempoEntrega, dialog, router, utilService, establecimientoService) {
        this.infoTokenService = infoTokenService;
        this.plazaDelivery = plazaDelivery;
        this.calcDistanceService = calcDistanceService;
        this.crudService = crudService;
        this.dialogDireccion = dialogDireccion;
        this.dialogTelefono = dialogTelefono;
        this.dialogTiempoEntrega = dialogTiempoEntrega;
        this.dialog = dialog;
        this.router = router;
        this.utilService = utilService;
        this.establecimientoService = establecimientoService;
        this.lasCiudad = '';
        this.importe_pagar = 3;
        this.isLoading = false;
        this.isEnviado = false;
        this.isCalculandoDistancia = false;
        this.isShowFinalize = false;
        this.isTiempoEntregaValid = true;
        this.systemOS = '';
        this.msjErrorDir = '';
        this.isFormValid = false;
        this.isFormValidDos = false;
    }
    ngOnInit() {
        this.systemOS = this.utilService.getOS();
        this.msjErrorDir = '';
        this.infoToken = this.infoTokenService.getInfoUs();
        this.direccionClienteIni = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_2__["DeliveryDireccionCliente"]();
        this.direccionClienteIni.titulo = 'Seleccione una direccion *';
        this.direccionClienteIni.direccion = '';
        this.direccionClienteIni.referencia = '';
        this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(false);
        this.datosFormUno = {};
        this.datosFormUno.descripcion_paquete = '';
        this.datosFormUno.telefono = this.infoToken.telefono;
        this.direccionA = this.direccionClienteIni;
        this.direccionB = this.direccionClienteIni;
        // this.getTiempoEntrega();
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_14__["TiempoEntregaModel"]();
        this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';
        this.tiempoEntregaSelected.value = '';
        this.tiempoEntregaSelected.modificado = false;
        this.tiempoEntregaSelected.valid = false;
        this.isTiempoEntregaValid = false;
        this.getDatosSede();
    }
    getTiempoEntrega() {
        const horanow = new Date().getHours();
        if (this.laPlazaDelivery.options.s_hfin) {
            const hFin = this.laPlazaDelivery.options.s_hfin.split(':')[0];
            this.isTiempoEntregaValid = horanow <= parseInt(hFin, 0);
        }
        if (this.tiempoEntregaSelected.modificado) {
            this.isTiempoEntregaValid = true;
            return;
        }
        if (!this.isTiempoEntregaValid) {
            this.tiempoEntregaSelected.descripcion = 'Programa la entrega';
            this.tiempoEntregaSelected.value = '';
            this.tiempoEntregaSelected.modificado = false;
            this.tiempoEntregaSelected.valid = true;
            this.isTiempoEntregaValid = false;
        }
        else {
            this.tiempoEntregaSelected.descripcion = 'Lo antes posible';
            this.tiempoEntregaSelected.value = '10 a 15 Minutos';
            this.tiempoEntregaSelected.modificado = false;
            this.tiempoEntregaSelected.valid = true;
            this.isTiempoEntregaValid = true;
        }
    }
    // obtener los datos de la sede segun direccion de entrega
    // toma como referencia el centro de la ciudad para calcular la distancia
    getDatosSede() {
        if (!this.direccionA.ciudad) {
            return;
        }
        if (this.direccionA.ciudad === this.lasCiudad) {
            this.calcularDistanciaEntrega();
            this.setDiasHoraEstablecimineto();
            this.getTiempoEntrega();
            return;
        }
        this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionA.ciudad)
            .subscribe((res) => {
            this.laPlazaDelivery = res;
            this.lasCiudad = this.laPlazaDelivery.ciudad;
            this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;
            this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;
            this.calcularDistanciaEntrega();
            this.setDiasHoraEstablecimineto();
            this.getTiempoEntrega();
        });
    }
    // para el tiempo programado
    setDiasHoraEstablecimineto() {
        this.laPlazaDelivery.hora_ini = this.laPlazaDelivery.options.s_hini;
        this.laPlazaDelivery.hora_fin = this.laPlazaDelivery.options.s_hfin;
        this.laPlazaDelivery.dias_atienden = this.laPlazaDelivery.options.s_dias;
        this.laPlazaDelivery.pwa_delivery_habilitar_pedido_programado = 1;
        this.laPlazaDelivery.tiempo_aprox_entrega = this.laPlazaDelivery.options.s_tiempo_aprox;
        this.establecimientoService.set(this.laPlazaDelivery);
    }
    vehiculoSelected(val) {
        this.datosFormUno.vehiculo = val;
        this.validFormUno();
        this.calcCostoServicio();
    }
    textChanged(val) {
        this.datosFormUno.descripcion_paquete = val;
        this.validFormUno();
    }
    validFormUno() {
        this.isFormValid = this.datosFormUno.vehiculo && this.datosFormUno.descripcion_paquete !== '';
    }
    validFormDos() {
        this.isFormValidDos = this.isFormValid;
        this.isFormValidDos = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos;
        this.isFormValidDos = !this.direccionA.ciudad ? false : this.isFormValidDos;
        this.isFormValidDos = !this.direccionB.ciudad ? false : this.isFormValidDos;
        this.isFormValidDos = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false;
        // this.isFormValidDos = !this.isCalculandoDistancia;
        this.isFormValidDos = this.isFormValidDos && !this.isCalculandoDistancia;
    }
    openDialogMetodoPago() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            importeTotalPagar: 3
        };
        const dialogLoading = this.dialog.open(_dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_9__["DialogMetodoPagoComponent"], _dialogConfig);
        dialogLoading.afterClosed().subscribe((result) => {
            this.metodoPagoSelected = result;
            this.validFormDos();
        });
    }
    openDialogsendSMS() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogConfig"]();
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = 'my-full-screen-dialog';
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            idcliente: this.infoTokenService.infoUsToken.idcliente,
            numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'
        };
        const dialogRefTelefono = this.dialogTelefono.open(_dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_10__["DialogVerificarTelefonoComponent"], _dialogConfig);
        dialogRefTelefono.afterClosed().subscribe((result) => {
            if (result.verificado) {
                this.infoToken.telefono = result.numberphone;
                this.infoTokenService.setTelefono(result.numberphone);
                this.datosFormUno.telefono = this.infoToken.telefono;
                this.validFormDos();
                // this.verifyClientService.setTelefono(result.numberphone);
            }
        });
    }
    openDialogTiempoEntrega() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogConfig"]();
        // _dialogConfig.width = '480px';
        // _dialogConfig.disableClose = false;
        // _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        const dialogTpC = this.dialogTiempoEntrega.open(_dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_13__["DialogTiempoEntregaComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            if (result) {
                this.infoTokenService.setTiempoEntrega(result);
                this.tiempoEntregaSelected = result;
                this.isTiempoEntregaValid = true;
                // this.verificarMontoMinimo();
            }
        });
    }
    openDialogDireccion(op) {
        const _DdialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialogConfig"]();
        _DdialogConfig.disableClose = true;
        _DdialogConfig.hasBackdrop = true;
        _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],
            _DdialogConfig.data = {
                isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false,
                isFromComercio: true,
            };
        // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';
        const dialogRef = this.dialogDireccion.open(_dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_11__["DialogSelectDireccionComponent"], _DdialogConfig);
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
            this.msjErrorDir = '';
            if (op === 0) {
                this.direccionA = data;
            }
            else {
                this.direccionB = data;
            }
            this.getDatosSede();
            this.validFormDos();
        });
    }
    calcularDistanciaEntrega() {
        if (!this.direccionA.ciudad || !this.direccionB.ciudad) {
            return;
        }
        if (this.direccionA.ciudad.toLocaleLowerCase() !== this.direccionB.ciudad.toLocaleLowerCase()) {
            // el servicio no esta disponible en esta ubicacion
            this.direccionA.codigo = null;
            this.msjErrorDir = 'Servicio no disponible en esta dirección.';
            return;
        }
        const _dirB = this.laPlazaDelivery;
        // pasamos las coordenadas de la direccion b
        _dirB.latitude = this.direccionB.latitude;
        _dirB.longitude = this.direccionB.longitude;
        this.isCalculandoDistancia = true;
        this.validFormDos();
        this.calcDistanceService.calculateRoute(this.direccionA, _dirB, false);
        // .subscribe((res: any) => {
        setTimeout(() => {
            this.laPlazaDelivery = _dirB;
            this.isCalculandoDistancia = false;
            this.setDiasHoraEstablecimineto();
            this.validFormDos();
            this.calcCostoServicio();
        }, 1600);
        // });
    }
    calcCostoServicio() {
        if (!this.laPlazaDelivery) {
            return;
        }
        const costo_distancia = this.laPlazaDelivery.c_servicio - this.laPlazaDelivery.c_minimo;
        this.importe_pagar = this.laPlazaDelivery.options.costo_express + costo_distancia + this.datosFormUno.vehiculo.costo_adicional;
    }
    enviarPedidoExpress() {
        try {
            this.isLoading = true;
            this.isEnviado = false;
            this.datosFormUno.importe_pagar = this.importe_pagar;
            this.datosFormUno.idcliente = this.infoToken.idcliente;
            this.datosFormUno.direccionA = this.direccionA;
            this.datosFormUno.direccionB = this.direccionB;
            this.datosFormUno.metodoPago = this.metodoPagoSelected;
            this.datosFormUno.tiempoEntrega = this.tiempoEntregaSelected;
            this.datosFormUno.ciudad = this.laPlazaDelivery.ciudad;
            this.datosFormUno.distancia_km = this.laPlazaDelivery.distancia_km;
            this.datosFormUno.distancia_mt = this.laPlazaDelivery.distancia_mt;
            this.datosFormUno.systemOS = this.systemOS;
            this.datosFormUno.is_express = 1;
        }
        catch (error) {
            console.log(error);
        }
        const _dataSend = {
            dataInfo: this.datosFormUno
        };
        this.crudService.postFree(_dataSend, 'delivery', 'set-pedido-mandado', false)
            .subscribe(res => {
            setTimeout(() => {
                this.isLoading = false;
                this.isEnviado = true;
            }, 1500);
        });
    }
    goZona() {
        this.router.navigate(['./zona-delivery/establecimientos']);
    }
    goNext() {
        this.isShowFinalize = !this.isShowFinalize;
        const divcontent = document.getElementById('contentmaster');
        divcontent.scrollTop = 0;
    }
};
CompPideExpressComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] },
    { type: src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_4__["SedeDeliveryService"] },
    { type: src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_5__["CalcDistanciaService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_6__["CrudHttpService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_15__["EstablecimientoService"] }
];
CompPideExpressComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-pide-express',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-pide-express.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-express/comp-pide-express.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-pide-express.component.css */ "./src/app/componentes/comp-pide-express/comp-pide-express.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"],
        src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_4__["SedeDeliveryService"],
        src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_5__["CalcDistanciaService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_6__["CrudHttpService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_15__["EstablecimientoService"]])
], CompPideExpressComponent);



/***/ }),

/***/ "./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.css":
/*!*********************************************************************************************!*\
  !*** ./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.css ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin: 0;\r\n}\r\n\r\n.div-content {\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.div-enviado {\r\n    text-align: center;\r\n    height: 80vh;\r\n    width: 100%;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n\r\n}\r\n\r\n.div-listo {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1waWRlLWxvLXF1ZS1xdWllcmFzL2NvbXAtcGlkZS1sby1xdWUtcXVpZXJhcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixXQUFXO0lBQ1gsd0JBQXVCO0lBQXZCLCtCQUF1QjtZQUF2Qix1QkFBdUI7O0FBRTNCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXBpZGUtbG8tcXVlLXF1aWVyYXMvY29tcC1waWRlLWxvLXF1ZS1xdWllcmFzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJwIHtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmRpdi1jb250ZW50IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiA1MDBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcblxyXG4uZGl2LWVudmlhZG8ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiA4MHZoO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHJcbn1cclxuXHJcbi5kaXYtbGlzdG8ge1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.ts ***!
  \********************************************************************************************/
/*! exports provided: CompPideLoQueQuierasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompPideLoQueQuierasComponent", function() { return CompPideLoQueQuierasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dialog-verificar-telefono/dialog-verificar-telefono.component */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts");
/* harmony import */ var src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/sede-delivery.service */ "./src/app/shared/services/sede-delivery.service.ts");
/* harmony import */ var src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/calc-distancia.service */ "./src/app/shared/services/calc-distancia.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
















let CompPideLoQueQuierasComponent = class CompPideLoQueQuierasComponent {
    constructor(infoTokenService, plazaDelivery, calcDistanceService, crudService, dialogDireccion, dialogTelefono, dialogTiempoEntrega, dialog, router, utilService, establecimientoService) {
        this.infoTokenService = infoTokenService;
        this.plazaDelivery = plazaDelivery;
        this.calcDistanceService = calcDistanceService;
        this.crudService = crudService;
        this.dialogDireccion = dialogDireccion;
        this.dialogTelefono = dialogTelefono;
        this.dialogTiempoEntrega = dialogTiempoEntrega;
        this.dialog = dialog;
        this.router = router;
        this.utilService = utilService;
        this.establecimientoService = establecimientoService;
        this.lasCiudad = '';
        this.importe_pagar = 4;
        this.isLoading = false;
        this.isEnviado = false;
        this.isExpress = false; // entrega
        this.isCalculandoDistanciaA = false;
        this.isShowFinalize = false;
        this.systemOS = '';
        this.msjErrorDir = '';
        this.isFormValid = false;
        this.isFormValidDos = false;
        this.isTiempoEntregaValid = true;
    }
    ngOnInit() {
        this.systemOS = this.utilService.getOS();
        this.msjErrorDir = '';
        this.infoToken = this.infoTokenService.getInfoUs();
        this.direccionClienteIni = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_2__["DeliveryDireccionCliente"]();
        this.direccionClienteIni.titulo = 'Seleccione una direccion *';
        this.direccionClienteIni.direccion = '';
        this.direccionClienteIni.referencia = '';
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__["TiempoEntregaModel"]();
        this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';
        this.tiempoEntregaSelected.value = '';
        this.tiempoEntregaSelected.modificado = false;
        this.tiempoEntregaSelected.valid = false;
        this.isTiempoEntregaValid = false;
        this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(false);
        this.datosFormUno = {};
        this.datosFormUno.que_compramos = '';
        this.datosFormUno.telefono = this.infoToken.telefono;
        this.direccionCliente = this.infoToken.direccionEnvioSelected ? this.infoToken.direccionEnvioSelected : this.direccionClienteIni;
        this.scrollTopInit();
        this.getDatosSede();
    }
    getTiempoEntrega() {
        const horanow = new Date().getHours();
        if (this.laPlazaDelivery.options.s_hfin) {
            const hFin = this.laPlazaDelivery.options.s_hfin.split(':')[0];
            this.isTiempoEntregaValid = horanow <= parseInt(hFin, 0);
        }
        if (this.tiempoEntregaSelected.modificado) {
            this.isTiempoEntregaValid = true;
            return;
        }
        if (!this.isTiempoEntregaValid) {
            this.tiempoEntregaSelected.descripcion = 'Programa la entrega';
            this.tiempoEntregaSelected.value = '';
            this.tiempoEntregaSelected.modificado = false;
            this.tiempoEntregaSelected.valid = true;
            // this.isTiempoEntregaValid = false;
        }
        else {
            this.tiempoEntregaSelected.descripcion = 'Lo antes posible';
            this.tiempoEntregaSelected.value = '10 a 15 Minutos';
            this.tiempoEntregaSelected.modificado = false;
            this.tiempoEntregaSelected.valid = true;
            // this.isTiempoEntregaValid = true;
        }
    }
    // obtener los datos de la sede segun direccion de entrega
    // toma como referencia el centro de la ciudad para calcular la distancia
    getDatosSede() {
        if (!this.direccionCliente.ciudad) {
            return;
        }
        if (this.direccionCliente.ciudad === this.lasCiudad) {
            this.getTiempoEntrega();
            this.calcularDistanciaEntrega();
            this.setDiasHoraEstablecimineto();
            return;
        }
        this.plazaDelivery.loadDatosPlazaByCiudad(this.direccionCliente.ciudad)
            .subscribe((res) => {
            this.laPlazaDelivery = res;
            this.lasCiudad = this.laPlazaDelivery.ciudad;
            this.laPlazaDelivery.latitude = this.laPlazaDelivery.centro.lat;
            this.laPlazaDelivery.longitude = this.laPlazaDelivery.centro.lon;
            this.calcularDistanciaEntrega();
            this.setDiasHoraEstablecimineto();
            this.getTiempoEntrega();
        });
    }
    vehiculoSelected(val) {
        this.datosFormUno.vehiculo = val;
        this.validFormUno();
        this.calcCostoServicio();
    }
    costoSelected(val) {
        this.datosFormUno.costo_producto = val;
        this.validFormUno();
    }
    textChanged(val) {
        this.datosFormUno.que_compramos = val;
        this.validFormUno();
    }
    validFormUno() {
        this.isFormValid = this.datosFormUno.vehiculo && this.datosFormUno.costo_producto && this.datosFormUno.que_compramos !== '';
        // this.isFormValid = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValid;
        // this.isFormValid = !this.direccionCliente.codigo ? false : this.isFormValid;
        // this.isFormValid = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValid : false;
    }
    validFormDos() {
        this.isFormValidDos = this.isFormValid;
        this.isFormValidDos = !this.metodoPagoSelected.idtipo_pago ? false : this.isFormValidDos;
        this.isFormValidDos = !this.direccionCliente.ciudad ? false : this.isFormValidDos;
        this.isFormValidDos = this.datosFormUno.telefono.trim().length >= 5 ? this.isFormValidDos : false;
        this.isFormValidDos = this.isFormValidDos && !this.isCalculandoDistanciaA;
    }
    openDialogMetodoPago() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            importeTotalPagar: 3
        };
        const dialogLoading = this.dialog.open(_dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_6__["DialogMetodoPagoComponent"], _dialogConfig);
        dialogLoading.afterClosed().subscribe((result) => {
            this.metodoPagoSelected = result;
            this.validFormDos();
        });
    }
    openDialogTiempoEntrega() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        // _dialogConfig.width = '480px';
        // _dialogConfig.disableClose = false;
        // _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        const dialogTpC = this.dialogTiempoEntrega.open(_dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_15__["DialogTiempoEntregaComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            if (result) {
                this.infoTokenService.setTiempoEntrega(result);
                this.tiempoEntregaSelected = result;
                this.isTiempoEntregaValid = true;
                // this.verificarMontoMinimo();
            }
        });
    }
    openDialogsendSMS() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = 'my-full-screen-dialog';
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            idcliente: this.infoTokenService.infoUsToken.idcliente,
            numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'
        };
        const dialogRefTelefono = this.dialogTelefono.open(_dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_7__["DialogVerificarTelefonoComponent"], _dialogConfig);
        dialogRefTelefono.afterClosed().subscribe((result) => {
            if (result.verificado) {
                this.infoToken.telefono = result.numberphone;
                this.infoTokenService.setTelefono(result.numberphone);
                this.datosFormUno.telefono = this.infoToken.telefono;
                this.validFormDos();
                // this.verifyClientService.setTelefono(result.numberphone);
            }
        });
    }
    openDialogDireccion() {
        const _DdialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        _DdialogConfig.disableClose = true;
        _DdialogConfig.hasBackdrop = true;
        _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],
            _DdialogConfig.data = {
                isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false,
                isFromComercio: true,
            };
        // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';
        const dialogRef = this.dialogDireccion.open(_dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_5__["DialogSelectDireccionComponent"], _DdialogConfig);
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
            this.msjErrorDir = '';
            this.direccionCliente = data;
            this.getDatosSede();
            this.validFormDos();
        });
    }
    calcularDistanciaEntrega() {
        this.isCalculandoDistanciaA = true;
        if (this.direccionCliente.ciudad.toLocaleLowerCase() !== this.laPlazaDelivery.ciudad.toLocaleLowerCase()) {
            // el servicio no esta disponible en esta ubicacion
            this.direccionCliente.codigo = null;
            this.msjErrorDir = 'Servicio no disponible en esta dirección.';
            return;
        }
        this.calcDistanceService.calculateRoute(this.direccionCliente, this.laPlazaDelivery, false);
        // .subscribe((res: DeliveryEstablecimiento) => {
        setTimeout(() => {
            this.isCalculandoDistanciaA = false;
            this.laPlazaDelivery = this.laPlazaDelivery;
            // this.laPlazaDelivery = res;
            // _suscription.unsubscribe();
            this.validFormDos();
            this.calcCostoServicio();
        }, 1600);
        // });
    }
    calcCostoServicio() {
        if (!this.laPlazaDelivery) {
            return;
        }
        const costo_distancia = this.laPlazaDelivery.c_servicio - this.laPlazaDelivery.c_minimo;
        this.importe_pagar = this.laPlazaDelivery.options.costo_mandado + costo_distancia + this.datosFormUno.vehiculo.costo_adicional;
    }
    enviarPedidoLoQ() {
        try {
            this.isLoading = true;
            this.isEnviado = false;
            this.datosFormUno.importe_pagar = this.importe_pagar;
            this.datosFormUno.idcliente = this.infoToken.idcliente;
            this.datosFormUno.direccionCliente = this.direccionCliente;
            this.datosFormUno.metodoPago = this.metodoPagoSelected;
            this.datosFormUno.ciudad = this.laPlazaDelivery.ciudad;
            this.datosFormUno.tiempoEntrega = this.tiempoEntregaSelected;
            this.datosFormUno.distancia_km = this.laPlazaDelivery.distancia_km;
            this.datosFormUno.distancia_mt = this.laPlazaDelivery.distancia_mt;
            this.datosFormUno.systemOS = this.systemOS;
            this.datosFormUno.is_express = 0;
        }
        catch (error) {
            console.log(error);
        }
        const _dataSend = {
            dataInfo: this.datosFormUno
        };
        this.crudService.postFree(_dataSend, 'delivery', 'set-pedido-mandado', false)
            .subscribe(res => {
            setTimeout(() => {
                this.isLoading = false;
                this.isEnviado = true;
            }, 1500);
        });
    }
    goZona() {
        this.router.navigate(['./zona-delivery/establecimientos']);
    }
    goNext() {
        this.isShowFinalize = !this.isShowFinalize;
        this.scrollTopInit();
    }
    scrollTopInit() {
        try {
            const divcontent = document.getElementById('contentmaster');
            divcontent.scrollTop = 0;
        }
        catch (error) { }
    }
    // para el tiempo programado
    setDiasHoraEstablecimineto() {
        this.laPlazaDelivery.hora_ini = this.laPlazaDelivery.options.s_hini;
        this.laPlazaDelivery.hora_fin = this.laPlazaDelivery.options.s_hfin;
        this.laPlazaDelivery.dias_atienden = this.laPlazaDelivery.options.s_dias;
        this.laPlazaDelivery.pwa_delivery_habilitar_pedido_programado = 1;
        this.laPlazaDelivery.tiempo_aprox_entrega = this.laPlazaDelivery.options.s_tiempo_aprox;
        this.establecimientoService.set(this.laPlazaDelivery);
    }
};
CompPideLoQueQuierasComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] },
    { type: src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__["SedeDeliveryService"] },
    { type: src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_9__["CalcDistanciaService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_10__["CrudHttpService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_14__["EstablecimientoService"] }
];
CompPideLoQueQuierasComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-pide-lo-que-quieras',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-pide-lo-que-quieras.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-pide-lo-que-quieras.component.css */ "./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"],
        src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__["SedeDeliveryService"],
        src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_9__["CalcDistanciaService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_10__["CrudHttpService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        _angular_router__WEBPACK_IMPORTED_MODULE_11__["Router"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_14__["EstablecimientoService"]])
], CompPideLoQueQuierasComponent);



/***/ }),

/***/ "./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.css ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n.item-propina {\r\n    padding: 5px;\r\n    border: 1px solid;\r\n    border-radius: 5px;\r\n    font-size: 12px;\r\n    background-color: white;\r\n    margin-left: 5px;\r\n}\r\n\r\n.propina-selected {\r\n    background-color: black;\r\n    color: white;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC1wcm9waW5hLWRlbGl2ZXJ5L2NvbXAtcHJvcGluYS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtJQUNJLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXByb3BpbmEtZGVsaXZlcnkvY29tcC1wcm9waW5hLWRlbGl2ZXJ5LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLml0ZW0tcHJvcGluYSB7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG5cclxuLnByb3BpbmEtc2VsZWN0ZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.ts ***!
  \**************************************************************************************/
/*! exports provided: CompPropinaDeliveryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompPropinaDeliveryComponent", function() { return CompPropinaDeliveryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");




let CompPropinaDeliveryComponent = class CompPropinaDeliveryComponent {
    constructor(infoTokenService, establecimientoService) {
        this.infoTokenService = infoTokenService;
        this.establecimientoService = establecimientoService;
        this.selectedPropina = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    set listSubtotales(val) {
        this._listSubtotales = val;
    }
    ngOnInit() {
        this.propinaSelected = this.infoTokenService.infoUsToken.propina;
        this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();
        this.loadPropina();
    }
    loadPropina() {
        this.listPropina = [];
        this.listPropina.push({ 'idpropina': 1, 'value': 0, 'descripcion': this.simbolo_moneda + ' 0', 'checked': true });
        this.listPropina.push({ 'idpropina': 2, 'value': 1, 'descripcion': this.simbolo_moneda + ' 1', 'checked': false });
        this.listPropina.push({ 'idpropina': 3, 'value': 2, 'descripcion': this.simbolo_moneda + ' 2', 'checked': false });
        this.listPropina.push({ 'idpropina': 4, 'value': 3, 'descripcion': this.simbolo_moneda + ' 3', 'checked': false });
        this.listPropina.push({ 'idpropina': 5, 'value': 5, 'descripcion': this.simbolo_moneda + ' 5', 'checked': false });
        this.selectedPropina.emit(this.propinaSelected);
    }
    itemCheck(item) {
        this.listPropina.map(x => x.checked = false);
        item.checked = true;
        this.propinaSelected = item;
        this.infoTokenService.setPropina(item);
        // agregar a subtotales
        const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];
        let rowPropina = this._listSubtotales.filter(x => x.id === -3)[0];
        if (!rowPropina) {
            rowPropina = {};
            rowPropina.id = -3;
            rowPropina.descripcion = 'Propina';
            rowPropina.esImpuesto = 0;
            rowPropina.visible = false;
            rowPropina.quitar = false;
            rowPropina.tachado = false;
            rowPropina.visible_cpe = false;
            rowPropina.importe = parseFloat(item.value.toString()).toFixed(2);
            this._listSubtotales.pop();
            this._listSubtotales.push(rowPropina);
            rowTotal.importe = this.getTotalSubtotales();
            this._listSubtotales.push(rowTotal);
        }
        else {
            rowPropina.importe = parseFloat(item.value.toString()).toFixed(2);
            rowTotal.importe = this.getTotalSubtotales();
        }
        // agregar al local
        localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));
        this.infoTokenService.setPropina(item);
        this.selectedPropina.emit(item);
    }
    // optienen el importe total despues de agregrar la propina
    getTotalSubtotales() {
        return this._listSubtotales.filter(x => x.descripcion !== 'TOTAL').map((x) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);
    }
};
CompPropinaDeliveryComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"] }
];
CompPropinaDeliveryComponent.propDecorators = {
    selectedPropina: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    listSubtotales: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
CompPropinaDeliveryComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-propina-delivery',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-propina-delivery.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-propina-delivery.component.css */ "./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"]])
], CompPropinaDeliveryComponent);



/***/ }),

/***/ "./src/app/componentes/comp-view-promo/comp-view-promo.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/componentes/comp-view-promo/comp-view-promo.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-content-promo {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    overflow: auto;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n    -webkit-flex-direction: row;\r\n            flex-direction: row;\r\n    -webkit-flex-wrap: nowrap;\r\n            flex-wrap: nowrap;\r\n    scrollbar-gutter: unset;\r\n}\r\n\r\n.div-promo {\r\n    min-width: 240px;\r\n}\r\n\r\n.div-promo img {\r\n    cursor: pointer;\r\n    width: 250px;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n}\r\n\r\n.div-cerrado-comercio { \r\n    position: fixed;\r\n    margin: 0 auto;\r\n    top: 60px;\r\n    background: #ffffff;\r\n    left: 100px;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n    opacity: 0.8;\r\n    color: black;\r\n    font-size: 12px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29tcC12aWV3LXByb21vL2NvbXAtdmlldy1wcm9tby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYixjQUFjO0lBQ2QsOEJBQW1CO0lBQW5CLDZCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLHlCQUFpQjtZQUFqQixpQkFBaUI7SUFDakIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixjQUFjO0lBQ2QsU0FBUztJQUNULG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9jb21wLXZpZXctcHJvbW8vY29tcC12aWV3LXByb21vLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGl2LWNvbnRlbnQtcHJvbW8ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogbm93cmFwO1xyXG4gICAgc2Nyb2xsYmFyLWd1dHRlcjogdW5zZXQ7XHJcbn1cclxuXHJcbi5kaXYtcHJvbW8ge1xyXG4gICAgbWluLXdpZHRoOiAyNDBweDtcclxufVxyXG5cclxuLmRpdi1wcm9tbyBpbWcge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5kaXYtY2VycmFkby1jb21lcmNpbyB7IFxyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICB0b3A6IDYwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgbGVmdDogMTAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBvcGFjaXR5OiAwLjg7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/comp-view-promo/comp-view-promo.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/componentes/comp-view-promo/comp-view-promo.component.ts ***!
  \**************************************************************************/
/*! exports provided: CompViewPromoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompViewPromoComponent", function() { return CompViewPromoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/config/config.const */ "./src/app/shared/config/config.const.ts");



let CompViewPromoComponent = class CompViewPromoComponent {
    constructor() {
        this.itemSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.urlRepoImg = src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_2__["URL_IMG_PROMO"];
        // imgdemo = this.urlRepoImg + '/' + '1613promo50.png';
        this.imgdemo = this.urlRepoImg;
    }
    // itemEstablecimientoSeleted: DeliveryEstablecimiento;
    set list(val) {
        this._listPromo = val;
        // console.log('listPromos', this._listPromo);
    }
    ngOnInit() {
        // console.log('listPromos', this._listPromo);
    }
    _itemSelected(item) {
        if (item.cerrado === 1 && item.pwa_delivery_habilitar_pedido_programado !== 1) {
            return;
        }
        this.itemSelected.emit(item);
    }
};
CompViewPromoComponent.ctorParameters = () => [];
CompViewPromoComponent.propDecorators = {
    list: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    itemSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
CompViewPromoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-comp-view-promo',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./comp-view-promo.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/comp-view-promo/comp-view-promo.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./comp-view-promo.component.css */ "./src/app/componentes/comp-view-promo/comp-view-promo.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CompViewPromoComponent);



/***/ }),

/***/ "./src/app/componentes/componentes.module.ts":
/*!***************************************************!*\
  !*** ./src/app/componentes/componentes.module.ts ***!
  \***************************************************/
/*! exports provided: ComponentesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentesModule", function() { return ComponentesModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
/* harmony import */ var _datos_delivery_datos_delivery_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./datos-delivery/datos-delivery.component */ "./src/app/componentes/datos-delivery/datos-delivery.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
/* harmony import */ var _core_material_material_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/material/material.module */ "./src/app/core/material/material.module.ts");
/* harmony import */ var _shared_directivas_debounce_click_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shared/directivas/debounce-click.directive */ "./src/app/shared/directivas/debounce-click.directive.ts");
/* harmony import */ var _encuesta_opcion_encuesta_opcion_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./encuesta-opcion/encuesta-opcion.component */ "./src/app/componentes/encuesta-opcion/encuesta-opcion.component.ts");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/__ivy_ngcc__/fesm2015/agm-core.js");
/* harmony import */ var _agregar_direccion_agregar_direccion_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./agregar-direccion/agregar-direccion.component */ "./src/app/componentes/agregar-direccion/agregar-direccion.component.ts");
/* harmony import */ var _item_comercio_item_comercio_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./item-comercio/item-comercio.component */ "./src/app/componentes/item-comercio/item-comercio.component.ts");
/* harmony import */ var _seleccionar_direccion_seleccionar_direccion_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./seleccionar-direccion/seleccionar-direccion.component */ "./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.ts");
/* harmony import */ var _confirmar_delivery_confirmar_delivery_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./confirmar-delivery/confirmar-delivery.component */ "./src/app/componentes/confirmar-delivery/confirmar-delivery.component.ts");
/* harmony import */ var _menu_lateral_cliente_menu_lateral_cliente_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./menu-lateral-cliente/menu-lateral-cliente.component */ "./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.ts");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dialog-verificar-telefono/dialog-verificar-telefono.component */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts");
/* harmony import */ var _dialog_tipo_comprobante_dialog_tipo_comprobante_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dialog-tipo-comprobante/dialog-tipo-comprobante.component */ "./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.ts");
/* harmony import */ var _comp_propina_delivery_comp_propina_delivery_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./comp-propina-delivery/comp-propina-delivery.component */ "./src/app/componentes/comp-propina-delivery/comp-propina-delivery.component.ts");
/* harmony import */ var _mapa_solo_mapa_solo_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mapa-solo/mapa-solo.component */ "./src/app/componentes/mapa-solo/mapa-solo.component.ts");
/* harmony import */ var _shared_directivas_directions_map_directive_directive__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../shared/directivas/directions-map-directive.directive */ "./src/app/shared/directivas/directions-map-directive.directive.ts");
/* harmony import */ var _comp_pedido_detalle_comp_pedido_detalle_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./comp-pedido-detalle/comp-pedido-detalle.component */ "./src/app/componentes/comp-pedido-detalle/comp-pedido-detalle.component.ts");
/* harmony import */ var _comp_calificacion_comp_calificacion_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./comp-calificacion/comp-calificacion.component */ "./src/app/componentes/comp-calificacion/comp-calificacion.component.ts");
/* harmony import */ var angular_star_rating__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! angular-star-rating */ "./node_modules/angular-star-rating/__ivy_ngcc__/esm2015/angular-star-rating.js");
/* harmony import */ var _dialog_calificacion_dialog_calificacion_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dialog-calificacion/dialog-calificacion.component */ "./src/app/componentes/dialog-calificacion/dialog-calificacion.component.ts");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
/* harmony import */ var _tiempo_programado_tiempo_programado_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./tiempo-programado/tiempo-programado.component */ "./src/app/componentes/tiempo-programado/tiempo-programado.component.ts");
/* harmony import */ var _comp_caja_texto_comp_caja_texto_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./comp-caja-texto/comp-caja-texto.component */ "./src/app/componentes/comp-caja-texto/comp-caja-texto.component.ts");
/* harmony import */ var _comp_op_costo_estimado_comp_op_costo_estimado_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./comp-op-costo-estimado/comp-op-costo-estimado.component */ "./src/app/componentes/comp-op-costo-estimado/comp-op-costo-estimado.component.ts");
/* harmony import */ var _comp_pide_lo_que_quieras_comp_pide_lo_que_quieras_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component */ "./src/app/componentes/comp-pide-lo-que-quieras/comp-pide-lo-que-quieras.component.ts");
/* harmony import */ var _tipo_vehiculo_tipo_vehiculo_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./tipo-vehiculo/tipo-vehiculo.component */ "./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.ts");
/* harmony import */ var _comp_pide_express_comp_pide_express_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./comp-pide-express/comp-pide-express.component */ "./src/app/componentes/comp-pide-express/comp-pide-express.component.ts");
/* harmony import */ var _comp_check_comp_check_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./comp-check/comp-check.component */ "./src/app/componentes/comp-check/comp-check.component.ts");
/* harmony import */ var _comp_ctrl_add_fast_comp_ctrl_add_fast_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./comp-ctrl-add-fast/comp-ctrl-add-fast.component */ "./src/app/componentes/comp-ctrl-add-fast/comp-ctrl-add-fast.component.ts");
/* harmony import */ var _comp_get_datos_cliente_comp_get_datos_cliente_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./comp-get-datos-cliente/comp-get-datos-cliente.component */ "./src/app/componentes/comp-get-datos-cliente/comp-get-datos-cliente.component.ts");
/* harmony import */ var _comp_pasarela_pago_comp_pasarela_pago_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./comp-pasarela-pago/comp-pasarela-pago.component */ "./src/app/componentes/comp-pasarela-pago/comp-pasarela-pago.component.ts");
/* harmony import */ var _select_ciudad_delivery_select_ciudad_delivery_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./select-ciudad-delivery/select-ciudad-delivery.component */ "./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.ts");
/* harmony import */ var _comp_datos_reserva_comp_datos_reserva_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./comp-datos-reserva/comp-datos-reserva.component */ "./src/app/componentes/comp-datos-reserva/comp-datos-reserva.component.ts");
/* harmony import */ var _comp_get_hora_comp_get_hora_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./comp-get-hora/comp-get-hora.component */ "./src/app/componentes/comp-get-hora/comp-get-hora.component.ts");
/* harmony import */ var ngx_material_timepicker__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ngx-material-timepicker */ "./node_modules/ngx-material-timepicker/__ivy_ngcc__/fesm2015/ngx-material-timepicker.js");
/* harmony import */ var _dialog_calificacion_sede_dialog_calificacion_sede_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./dialog-calificacion-sede/dialog-calificacion-sede.component */ "./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.ts");
/* harmony import */ var _dialog_nombre_cliente_dialog_nombre_cliente_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./dialog-nombre-cliente/dialog-nombre-cliente.component */ "./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.ts");
/* harmony import */ var _dialog_direccion_cliente_delivery_dialog_direccion_cliente_delivery_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component */ "./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.ts");
/* harmony import */ var _comp_list_item_pedido_cliente_comp_list_item_pedido_cliente_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component */ "./src/app/componentes/comp-list-item-pedido-cliente/comp-list-item-pedido-cliente.component.ts");
/* harmony import */ var _text_nom_cliente_text_nom_cliente_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./text-nom-cliente/text-nom-cliente.component */ "./src/app/componentes/text-nom-cliente/text-nom-cliente.component.ts");
/* harmony import */ var _dialog_config_punto_dialog_config_punto_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./dialog-config-punto/dialog-config-punto.component */ "./src/app/componentes/dialog-config-punto/dialog-config-punto.component.ts");
/* harmony import */ var _mozo_virtual_mozo_virtual_on_speech_mozo_virtual_on_speech_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component */ "./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.ts");
/* harmony import */ var _mozo_virtual_mozo_show_traduce_text_mozo_show_traduce_text_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component */ "./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.ts");
/* harmony import */ var _item_promocion_item_promocion_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./item-promocion/item-promocion.component */ "./src/app/componentes/item-promocion/item-promocion.component.ts");
/* harmony import */ var _mozo_virtual_mozo_dialog_mozo_dialog_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./mozo-virtual/mozo-dialog/mozo-dialog.component */ "./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.ts");
/* harmony import */ var _comp_view_promo_comp_view_promo_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./comp-view-promo/comp-view-promo.component */ "./src/app/componentes/comp-view-promo/comp-view-promo.component.ts");








// import { DialogUbicacionComponent } from './dialog-ubicacion/dialog-ubicacion.component';














// import { DialogDesicionComponent } from './dialog-desicion/dialog-desicion.component';
// import { DialogSelectDireccionComponent } from './dialog-select-direccion/dialog-select-direccion.component';





























let ComponentesModule = class ComponentesModule {
};
ComponentesModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [
            _datos_delivery_datos_delivery_component__WEBPACK_IMPORTED_MODULE_3__["DatosDeliveryComponent"],
            _shared_directivas_debounce_click_directive__WEBPACK_IMPORTED_MODULE_6__["DebounceClickDirective"],
            _shared_directivas_directions_map_directive_directive__WEBPACK_IMPORTED_MODULE_19__["DirectionsMapDirectiveDirective"],
            _encuesta_opcion_encuesta_opcion_component__WEBPACK_IMPORTED_MODULE_7__["EncuestaOpcionComponent"],
            _agregar_direccion_agregar_direccion_component__WEBPACK_IMPORTED_MODULE_9__["AgregarDireccionComponent"],
            _item_comercio_item_comercio_component__WEBPACK_IMPORTED_MODULE_10__["ItemComercioComponent"],
            _seleccionar_direccion_seleccionar_direccion_component__WEBPACK_IMPORTED_MODULE_11__["SeleccionarDireccionComponent"],
            _confirmar_delivery_confirmar_delivery_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmarDeliveryComponent"],
            _menu_lateral_cliente_menu_lateral_cliente_component__WEBPACK_IMPORTED_MODULE_13__["MenuLateralClienteComponent"],
            _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_14__["DialogMetodoPagoComponent"],
            _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_15__["DialogVerificarTelefonoComponent"],
            _dialog_tipo_comprobante_dialog_tipo_comprobante_component__WEBPACK_IMPORTED_MODULE_16__["DialogTipoComprobanteComponent"],
            _comp_propina_delivery_comp_propina_delivery_component__WEBPACK_IMPORTED_MODULE_17__["CompPropinaDeliveryComponent"],
            _mapa_solo_mapa_solo_component__WEBPACK_IMPORTED_MODULE_18__["MapaSoloComponent"],
            _comp_pedido_detalle_comp_pedido_detalle_component__WEBPACK_IMPORTED_MODULE_20__["CompPedidoDetalleComponent"],
            _comp_calificacion_comp_calificacion_component__WEBPACK_IMPORTED_MODULE_21__["CompCalificacionComponent"],
            _dialog_calificacion_dialog_calificacion_component__WEBPACK_IMPORTED_MODULE_23__["DialogCalificacionComponent"],
            _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_24__["DialogSelectDireccionComponent"],
            _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_25__["DialogTiempoEntregaComponent"],
            _tiempo_programado_tiempo_programado_component__WEBPACK_IMPORTED_MODULE_26__["TiempoProgramadoComponent"],
            _comp_caja_texto_comp_caja_texto_component__WEBPACK_IMPORTED_MODULE_27__["CompCajaTextoComponent"],
            _comp_op_costo_estimado_comp_op_costo_estimado_component__WEBPACK_IMPORTED_MODULE_28__["CompOpCostoEstimadoComponent"],
            _comp_pide_lo_que_quieras_comp_pide_lo_que_quieras_component__WEBPACK_IMPORTED_MODULE_29__["CompPideLoQueQuierasComponent"],
            _tipo_vehiculo_tipo_vehiculo_component__WEBPACK_IMPORTED_MODULE_30__["TipoVehiculoComponent"],
            _comp_pide_express_comp_pide_express_component__WEBPACK_IMPORTED_MODULE_31__["CompPideExpressComponent"],
            _comp_check_comp_check_component__WEBPACK_IMPORTED_MODULE_32__["CompCheckComponent"],
            _comp_ctrl_add_fast_comp_ctrl_add_fast_component__WEBPACK_IMPORTED_MODULE_33__["CompCtrlAddFastComponent"],
            _comp_get_datos_cliente_comp_get_datos_cliente_component__WEBPACK_IMPORTED_MODULE_34__["CompGetDatosClienteComponent"],
            _comp_pasarela_pago_comp_pasarela_pago_component__WEBPACK_IMPORTED_MODULE_35__["CompPasarelaPagoComponent"],
            _select_ciudad_delivery_select_ciudad_delivery_component__WEBPACK_IMPORTED_MODULE_36__["SelectCiudadDeliveryComponent"],
            _comp_datos_reserva_comp_datos_reserva_component__WEBPACK_IMPORTED_MODULE_37__["CompDatosReservaComponent"],
            _comp_get_hora_comp_get_hora_component__WEBPACK_IMPORTED_MODULE_38__["CompGetHoraComponent"],
            _dialog_calificacion_sede_dialog_calificacion_sede_component__WEBPACK_IMPORTED_MODULE_40__["DialogCalificacionSedeComponent"],
            _dialog_nombre_cliente_dialog_nombre_cliente_component__WEBPACK_IMPORTED_MODULE_41__["DialogNombreClienteComponent"],
            _dialog_direccion_cliente_delivery_dialog_direccion_cliente_delivery_component__WEBPACK_IMPORTED_MODULE_42__["DialogDireccionClienteDeliveryComponent"],
            _comp_list_item_pedido_cliente_comp_list_item_pedido_cliente_component__WEBPACK_IMPORTED_MODULE_43__["CompListItemPedidoClienteComponent"],
            _text_nom_cliente_text_nom_cliente_component__WEBPACK_IMPORTED_MODULE_44__["TextNomClienteComponent"],
            _dialog_config_punto_dialog_config_punto_component__WEBPACK_IMPORTED_MODULE_45__["DialogConfigPuntoComponent"],
            _mozo_virtual_mozo_virtual_on_speech_mozo_virtual_on_speech_component__WEBPACK_IMPORTED_MODULE_46__["MozoVirtualOnSpeechComponent"],
            _mozo_virtual_mozo_show_traduce_text_mozo_show_traduce_text_component__WEBPACK_IMPORTED_MODULE_47__["MozoShowTraduceTextComponent"],
            _item_promocion_item_promocion_component__WEBPACK_IMPORTED_MODULE_48__["ItemPromocionComponent"],
            _mozo_virtual_mozo_dialog_mozo_dialog_component__WEBPACK_IMPORTED_MODULE_49__["MozoDialogComponent"],
            _comp_view_promo_comp_view_promo_component__WEBPACK_IMPORTED_MODULE_50__["CompViewPromoComponent"],
        ],
        imports: [
            _agm_core__WEBPACK_IMPORTED_MODULE_8__["AgmCoreModule"].forRoot({
                apiKey: 'AIzaSyAknWQFyVH1RpR2OAL0vRTHTapaIpfKSqo',
                libraries: ['places']
            }),
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _core_material_material_module__WEBPACK_IMPORTED_MODULE_5__["MaterialModule"],
            angular_star_rating__WEBPACK_IMPORTED_MODULE_22__["StarRatingModule"].forRoot(),
            ngx_material_timepicker__WEBPACK_IMPORTED_MODULE_39__["NgxMaterialTimepickerModule"]
        ],
        exports: [
            _agregar_direccion_agregar_direccion_component__WEBPACK_IMPORTED_MODULE_9__["AgregarDireccionComponent"],
            _datos_delivery_datos_delivery_component__WEBPACK_IMPORTED_MODULE_3__["DatosDeliveryComponent"],
            _shared_directivas_debounce_click_directive__WEBPACK_IMPORTED_MODULE_6__["DebounceClickDirective"],
            _encuesta_opcion_encuesta_opcion_component__WEBPACK_IMPORTED_MODULE_7__["EncuestaOpcionComponent"],
            _item_comercio_item_comercio_component__WEBPACK_IMPORTED_MODULE_10__["ItemComercioComponent"],
            _seleccionar_direccion_seleccionar_direccion_component__WEBPACK_IMPORTED_MODULE_11__["SeleccionarDireccionComponent"],
            _confirmar_delivery_confirmar_delivery_component__WEBPACK_IMPORTED_MODULE_12__["ConfirmarDeliveryComponent"],
            _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_14__["DialogMetodoPagoComponent"],
            _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_15__["DialogVerificarTelefonoComponent"],
            _dialog_tipo_comprobante_dialog_tipo_comprobante_component__WEBPACK_IMPORTED_MODULE_16__["DialogTipoComprobanteComponent"],
            _comp_propina_delivery_comp_propina_delivery_component__WEBPACK_IMPORTED_MODULE_17__["CompPropinaDeliveryComponent"],
            _mapa_solo_mapa_solo_component__WEBPACK_IMPORTED_MODULE_18__["MapaSoloComponent"],
            _comp_pedido_detalle_comp_pedido_detalle_component__WEBPACK_IMPORTED_MODULE_20__["CompPedidoDetalleComponent"],
            _comp_calificacion_comp_calificacion_component__WEBPACK_IMPORTED_MODULE_21__["CompCalificacionComponent"],
            _dialog_calificacion_dialog_calificacion_component__WEBPACK_IMPORTED_MODULE_23__["DialogCalificacionComponent"],
            _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_24__["DialogSelectDireccionComponent"],
            _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_25__["DialogTiempoEntregaComponent"],
            _tiempo_programado_tiempo_programado_component__WEBPACK_IMPORTED_MODULE_26__["TiempoProgramadoComponent"],
            _comp_op_costo_estimado_comp_op_costo_estimado_component__WEBPACK_IMPORTED_MODULE_28__["CompOpCostoEstimadoComponent"],
            _comp_caja_texto_comp_caja_texto_component__WEBPACK_IMPORTED_MODULE_27__["CompCajaTextoComponent"],
            _comp_pide_lo_que_quieras_comp_pide_lo_que_quieras_component__WEBPACK_IMPORTED_MODULE_29__["CompPideLoQueQuierasComponent"],
            _comp_pide_express_comp_pide_express_component__WEBPACK_IMPORTED_MODULE_31__["CompPideExpressComponent"],
            _tipo_vehiculo_tipo_vehiculo_component__WEBPACK_IMPORTED_MODULE_30__["TipoVehiculoComponent"],
            _comp_ctrl_add_fast_comp_ctrl_add_fast_component__WEBPACK_IMPORTED_MODULE_33__["CompCtrlAddFastComponent"],
            _comp_get_datos_cliente_comp_get_datos_cliente_component__WEBPACK_IMPORTED_MODULE_34__["CompGetDatosClienteComponent"],
            _comp_pasarela_pago_comp_pasarela_pago_component__WEBPACK_IMPORTED_MODULE_35__["CompPasarelaPagoComponent"],
            _select_ciudad_delivery_select_ciudad_delivery_component__WEBPACK_IMPORTED_MODULE_36__["SelectCiudadDeliveryComponent"],
            _comp_datos_reserva_comp_datos_reserva_component__WEBPACK_IMPORTED_MODULE_37__["CompDatosReservaComponent"],
            _comp_get_hora_comp_get_hora_component__WEBPACK_IMPORTED_MODULE_38__["CompGetHoraComponent"],
            _dialog_calificacion_sede_dialog_calificacion_sede_component__WEBPACK_IMPORTED_MODULE_40__["DialogCalificacionSedeComponent"],
            _comp_list_item_pedido_cliente_comp_list_item_pedido_cliente_component__WEBPACK_IMPORTED_MODULE_43__["CompListItemPedidoClienteComponent"],
            _text_nom_cliente_text_nom_cliente_component__WEBPACK_IMPORTED_MODULE_44__["TextNomClienteComponent"],
            _dialog_config_punto_dialog_config_punto_component__WEBPACK_IMPORTED_MODULE_45__["DialogConfigPuntoComponent"],
            _mozo_virtual_mozo_virtual_on_speech_mozo_virtual_on_speech_component__WEBPACK_IMPORTED_MODULE_46__["MozoVirtualOnSpeechComponent"],
            _mozo_virtual_mozo_show_traduce_text_mozo_show_traduce_text_component__WEBPACK_IMPORTED_MODULE_47__["MozoShowTraduceTextComponent"],
            _item_promocion_item_promocion_component__WEBPACK_IMPORTED_MODULE_48__["ItemPromocionComponent"],
            _mozo_virtual_mozo_dialog_mozo_dialog_component__WEBPACK_IMPORTED_MODULE_49__["MozoDialogComponent"],
            _comp_view_promo_comp_view_promo_component__WEBPACK_IMPORTED_MODULE_50__["CompViewPromoComponent"]
            // DialogDesicionComponent
        ],
    })
], ComponentesModule);



/***/ }),

/***/ "./src/app/componentes/confirmar-delivery/confirmar-delivery.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/componentes/confirmar-delivery/confirmar-delivery.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-total {\r\n    border-top: 2px dashed #9e9e9e;\r\n}\r\n\r\n.ul-total li:last-child{\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n}\r\n\r\n.li-item {\r\n    padding-top: 6px;\r\n    padding-bottom: 6px;\r\n    border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.img-ico-entrega {\r\n    height: 22px;\r\n}\r\n\r\n.div-info {\r\n    background: antiquewhite;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.div-metodo-pago {\r\n    background: #d0f1ff;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvY29uZmlybWFyLWRlbGl2ZXJ5L2NvbmZpcm1hci1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvY29uZmlybWFyLWRlbGl2ZXJ5L2NvbmZpcm1hci1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRpdi10b3RhbCB7XHJcbiAgICBib3JkZXItdG9wOiAycHggZGFzaGVkICM5ZTllOWU7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxufVxyXG5cclxuLmxpLWl0ZW0ge1xyXG4gICAgcGFkZGluZy10b3A6IDZweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA2cHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLmltZy1pY28tZW50cmVnYSB7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbn1cclxuXHJcbi5kaXYtaW5mbyB7XHJcbiAgICBiYWNrZ3JvdW5kOiBhbnRpcXVld2hpdGU7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5kaXYtbWV0b2RvLXBhZ28ge1xyXG4gICAgYmFja2dyb3VuZDogI2QwZjFmZjtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/confirmar-delivery/confirmar-delivery.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/confirmar-delivery/confirmar-delivery.component.ts ***!
  \********************************************************************************/
/*! exports provided: ConfirmarDeliveryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmarDeliveryComponent", function() { return ConfirmarDeliveryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var _dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dialog-verificar-telefono/dialog-verificar-telefono.component */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts");
/* harmony import */ var src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");
/* harmony import */ var _dialog_tipo_comprobante_dialog_tipo_comprobante_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dialog-tipo-comprobante/dialog-tipo-comprobante.component */ "./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.ts");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/shared/services/calc-distancia.service */ "./src/app/shared/services/calc-distancia.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _dialog_direccion_cliente_delivery_dialog_direccion_cliente_delivery_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component */ "./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.ts");







// import { CrudHttpService } from 'src/app/shared/services/crud-http.service';










let ConfirmarDeliveryComponent = class ConfirmarDeliveryComponent {
    constructor(miPedidoService, infoTokenService, verifyClientService, establecimientoService, calcDistanceService, dialog, dialogTelefono, dialogTipoComprobante, dialogDireccion, dialogTiempoEntrega, utilService, dialogDireccionClienteDelivery) {
        this.miPedidoService = miPedidoService;
        this.infoTokenService = infoTokenService;
        this.verifyClientService = verifyClientService;
        this.establecimientoService = establecimientoService;
        this.calcDistanceService = calcDistanceService;
        this.dialog = dialog;
        this.dialogTelefono = dialogTelefono;
        this.dialogTipoComprobante = dialogTipoComprobante;
        this.dialogDireccion = dialogDireccion;
        this.dialogTiempoEntrega = dialogTiempoEntrega;
        this.utilService = utilService;
        this.dialogDireccionClienteDelivery = dialogDireccionClienteDelivery;
        this.isComercioCerrado = false;
        this.isComercioAceptaPedidoProgramado = false;
        this.isComercioRepartidoresPropios = false;
        this.isComercioPapayaSoloPedidosApp = false;
        this.isRecojoLocalCheked = false;
        this.isAceptaRecojoLocal = true;
        this.isValidForm = false;
        this.isTiempoEntregaValid = false;
        this.msjErrorDir = ''; //
        this.rippleColor = 'rgb(255,238,88, 0.3)';
        this.montoMinimoPedido = 10; // monto minimo del pedido
        // return for printer
        this.resData = {
            idcliente: '',
            dni: '',
            nombre: '',
            f_nac: '',
            direccion: '',
            telefono: '',
            paga_con: '',
            dato_adicional: '',
            referencia: '',
            tipoComprobante: {},
            importeTotal: 0,
            metodoPago: {},
            propina: {},
            direccionEnvioSelected: {},
            establecimiento: {},
            subTotales: {},
            pasoRecoger: false,
            costoTotalDelivery: 0,
            tiempoEntregaProgamado: {},
            solicitaCubiertos: 0
        };
        this.isComercioSolidaridad = false;
        this.titleInputDatoAdicional = 'Dato importante';
        this.valInputDatoAdicianal = '';
        this.isHabilitadoTarjeta = true; // comercios no afiliado no se acepta tarjeta por la comision que cobran, algunos comercios tambien pueden especificar que no desean pagos con tarjeta
        this.isRain = false; // si esta lloviendo
        this.listIconsEntrega = [];
        this.isCalculandoDistanciaA = false;
        this.isRestaurante = false;
        this.isCubierto = false;
        this.isReady = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.dataDelivery = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.nombreClienteValido = false;
        this.isShowNombreClienteLoginInvitado = false;
    }
    set listSubtotales(val) {
        this._listSubtotales = val;
        this.loadData();
    }
    ngOnInit() {
        this.loadData();
        const _datosEstablecieminto = this.establecimientoService.get();
        this.montoMinimoPedido = _datosEstablecieminto.pwa_delivery_importe_min;
        this.tipoComprobanteSelected = this.infoTokenService.infoUsToken.tipoComprobante;
        this.propinaSelected = this.infoTokenService.infoUsToken.propina;
        this.isShowNombreClienteLoginInvitado = this.verifyClientService.getDataClient().isLoginByInvitado || false;
        if (this.isShowNombreClienteLoginInvitado) {
            let nomClienteInvitato = this.infoTokenService.infoUsToken.nombres;
            nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;
            this.isShowNombreClienteLoginInvitado = nomClienteInvitato === '';
            this.nombreClienteValido = !this.isShowNombreClienteLoginInvitado;
        }
        else {
            // this.nombreClienteValido = true;
            let nomClienteInvitato = this.infoTokenService.infoUsToken.nombres;
            nomClienteInvitato = nomClienteInvitato.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : nomClienteInvitato;
            this.nombreClienteValido = nomClienteInvitato !== '';
        }
        this.isComercioSolidaridad = _datosEstablecieminto.pwa_delivery_comercio_solidaridad === 1;
        this.titleInputDatoAdicional = this.isComercioSolidaridad ? 'Contacto' : 'Algún dato importante?';
        this.isComercioRepartidoresPropios = _datosEstablecieminto.pwa_delivery_servicio_propio === 1;
        this.isComercioPapayaSoloPedidosApp = _datosEstablecieminto.pwa_delivery_reparto_solo_app === 1;
        // this.isRain = _datosEstablecieminto.is_rain === 1 ? true : false;
        // console.log('_datosEstablecieminto', _datosEstablecieminto);
        try {
            this.listIconsEntrega = JSON.parse(JSON.stringify(_datosEstablecieminto.icons_entrega));
        }
        catch (error) {
            this.listIconsEntrega = [];
        }
        // si no tiene la distancia, entonces no calculo el costo de entrega
        if (!this.dirEstablecimiento.distancia_km) {
            this.calcularCostoEntrega(this.direccionCliente);
        }
        this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();
    }
    getTiempoEntrega() {
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__["TiempoEntregaModel"]();
        if (this.infoTokenService.infoUsToken.tiempoEntrega) {
            this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;
            this.isTiempoEntregaValid = this.tiempoEntregaSelected.valid;
            return;
        }
        if (this.isComercioCerrado) {
            this.tiempoEntregaSelected.descripcion = 'Programa tu entrega';
            this.tiempoEntregaSelected.value = '';
            this.tiempoEntregaSelected.modificado = false;
            this.tiempoEntregaSelected.valid = false;
            this.isTiempoEntregaValid = false;
            this.tiempoEntregaSelected.iddia = new Date().getDay();
            this.infoTokenService.infoUsToken.tiempoEntrega = this.tiempoEntregaSelected;
            return;
        }
        this.tiempoEntregaSelected.descripcion = 'Lo antes posible';
        this.tiempoEntregaSelected.value = this.infoEstablecimiento.tiempo_aprox_entrega;
        this.tiempoEntregaSelected.modificado = false;
        this.tiempoEntregaSelected.valid = true;
        this.isTiempoEntregaValid = true;
    }
    loadData() {
        this.dirEstablecimiento = this.establecimientoService.get();
        this.isComercioCerrado = this.dirEstablecimiento.cerrado === 1;
        this.isComercioAceptaPedidoProgramado = this.dirEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1;
        this.direccionClienteIni = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_3__["DeliveryDireccionCliente"]();
        this.direccionClienteIni.titulo = 'Seleccione una direccion *';
        this.direccionClienteIni.direccion = '';
        this.direccionClienteIni.referencia = '';
        // metodo de pago
        this.isHabilitadoTarjeta = this.establecimientoService.get().pwa_delivery_acepta_tarjeta === 1;
        this.metodoPagoSelected = this.infoTokenService.setIniMetodoPagoSegunFiltro(this.isHabilitadoTarjeta);
        // direccion de entrega
        this.infoToken = this.infoTokenService.getInfoUs();
        // console.log('this.infoToken', this.infoToken);
        // que tenga la posibilidad de cambiar de direccion
        this.direccionCliente = this.infoToken.direccionEnvioSelected ? this.infoToken.direccionEnvioSelected : this.direccionClienteIni;
        // establecimiento seleccionado
        this.infoEstablecimiento = this.establecimientoService.get();
        this.getTiempoEntrega();
        // si es restaurante muestra opciones adicionales como la posibilidad de pedir cubiertos
        this.isRestaurante = this.infoEstablecimiento.idsede_categoria === 1;
        this.isAceptaRecojoLocal = this.infoEstablecimiento.pwa_delivery_habilitar_recojo_local === 1;
        this.resData.telefono = this.infoToken.telefono;
        this.isValidForm = this.infoToken.telefono ? this.infoToken.telefono.length >= 5 ? true : false : false;
        this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;
        if (this.isValidForm) {
            setTimeout(() => {
                this.verificarNum(this.infoToken.telefono);
            }, 500);
        }
    }
    verificarNum(telefono) {
        var _a, _b;
        // this.isValidForm = telefono.trim().length >= 5 ? true : false;
        // this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;
        // this.isReady.emit(this.isValidForm);
        this.resData.telefono = telefono;
        this.verificarFormValid();
        this.propinaSelected = this.infoTokenService.infoUsToken.propina;
        // const importeTotal = parseInt(this._listSubtotales[0].importe, 0);
        const importeTotal = this._listSubtotales[this._listSubtotales.length - 1].importe;
        const importeMetodoPago = this.metodoPagoSelected.importe ? this.metodoPagoSelected.importe : '';
        if (this.isValidForm) {
            this.resData.nombre = this.infoToken.nombres;
            this.resData.direccion = (_a = this.infoToken.direccionEnvioSelected) === null || _a === void 0 ? void 0 : _a.direccion;
            this.resData.referencia = this.utilService.addslashes((_b = this.infoToken.direccionEnvioSelected) === null || _b === void 0 ? void 0 : _b.referencia);
            this.resData.direccionEnvioSelected = this.infoToken.direccionEnvioSelected;
            this.resData.idcliente = this.infoToken.idcliente.toString();
            this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + importeMetodoPago;
            this.resData.telefono = telefono;
            this.resData.metodoPago = this.metodoPagoSelected;
            this.resData.tipoComprobante = this.tipoComprobanteSelected;
            this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;
            this.resData.establecimiento = this.infoEstablecimiento;
            this.resData.importeTotal = importeTotal;
            this.resData.subTotales = this._listSubtotales;
            this.resData.propina = this.propinaSelected;
            this.infoToken.telefono = telefono;
            this.infoTokenService.setTelefono(telefono);
            this.resData.pasoRecoger = this.isRecojoLocalCheked;
            this.resData.dato_adicional = this.valInputDatoAdicianal;
            this.resData.costoTotalDelivery = this.infoEstablecimiento.costo_total_servicio_delivery;
            this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;
            // this.infoTokenService.set();
            this.dataDelivery.emit(this.resData);
        }
        this.verificarMontoMinimo();
    }
    verificarMontoMinimo() {
        var _a, _b;
        // const importeTotal = parseInt(this._listSubtotales[0].importe, 0);
        const importeTotal = this._listSubtotales[this._listSubtotales.length - 1].importe;
        this.resData.importeTotal = importeTotal;
        // this.isValidForm = importeTotal >= this.montoMinimoPedido && this.isValidForm ? true : false;
        // this.isReady.emit(this.isValidForm);
        this.verificarFormValid();
        this.propinaSelected = this.infoTokenService.infoUsToken.propina;
        const importeMetodoPago = this.metodoPagoSelected.importe ? this.metodoPagoSelected.importe : '';
        // if ( !this.direccionCliente.codigo && !this.isRecojoLocalCheked ) { this.isValidForm = false; }
        if (this.isValidForm) {
            this.resData.nombre = this.infoToken.nombres;
            this.resData.direccion = (_a = this.infoToken.direccionEnvioSelected) === null || _a === void 0 ? void 0 : _a.direccion;
            this.resData.referencia = this.utilService.addslashes((_b = this.infoToken.direccionEnvioSelected) === null || _b === void 0 ? void 0 : _b.referencia);
            this.resData.direccionEnvioSelected = this.infoToken.direccionEnvioSelected;
            this.resData.idcliente = this.infoToken.idcliente.toString();
            this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + importeMetodoPago;
            this.resData.telefono = this.infoToken.telefono;
            this.resData.metodoPago = this.metodoPagoSelected;
            this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;
            this.resData.tipoComprobante = this.tipoComprobanteSelected;
            this.resData.establecimiento = this.infoEstablecimiento;
            this.resData.propina = this.propinaSelected;
            this.resData.importeTotal = importeTotal;
            this.resData.subTotales = this._listSubtotales;
            this.resData.pasoRecoger = this.isRecojoLocalCheked;
            this.resData.dato_adicional = this.valInputDatoAdicianal;
            this.resData.costoTotalDelivery = this.infoEstablecimiento.costo_total_servicio_delivery;
            this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;
            // this.infoToken.telefono = telefono;
            // this.infoTokenService.setTelefono(telefono);
            this.infoTokenService.set();
            this.dataDelivery.emit(this.resData);
        }
    }
    verificarFormValid() {
        // console.log('this.nombreClienteValido', this.nombreClienteValido);
        this.isValidForm = this.isTiempoEntregaValid;
        this.isValidForm = this.resData.importeTotal >= this.montoMinimoPedido && this.isValidForm ? true : false;
        this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;
        this.isValidForm = !this.direccionCliente.ciudad && !this.isRecojoLocalCheked ? false : this.isValidForm;
        this.isValidForm = this.resData.telefono.trim().length >= 5 ? this.isValidForm : false;
        this.isValidForm = this.isValidForm && !this.isCalculandoDistanciaA;
        this.isValidForm = this.isValidForm && this.nombreClienteValido;
        // if ( !this.direccionCliente.codigo && !this.isRecojoLocalCheked ) { this.isValidForm = false; }
        this.isReady.emit(this.isValidForm);
    }
    openDialogMetodoPago() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            importeTotalPagar: this._listSubtotales[this._listSubtotales.length - 1].importe
        };
        const dialogLoading = this.dialog.open(_dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_6__["DialogMetodoPagoComponent"], _dialogConfig);
        dialogLoading.afterClosed().subscribe((result) => {
            this.metodoPagoSelected = result;
            // guarda local mps metodo pago seleccionado
            localStorage.setItem('sys:mps', btoa(JSON.stringify(result)));
            this.verificarFormValid();
            // this.isValidForm = !this.metodoPagoSelected.idtipo_pago ? false : this.isValidForm;
            this.verificarMontoMinimo();
        });
    }
    openDialogTipoComprobnate() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        const dialogTpC = this.dialogTipoComprobante.open(_dialog_tipo_comprobante_dialog_tipo_comprobante_component__WEBPACK_IMPORTED_MODULE_9__["DialogTipoComprobanteComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            this.tipoComprobanteSelected = result;
        });
    }
    openDialogsendSMS() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = 'my-full-screen-dialog';
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            idcliente: this.infoTokenService.infoUsToken.idcliente,
            numberphone: this.infoTokenService.infoUsToken.telefono ? this.infoTokenService.infoUsToken.telefono : '' // '+51934746830'
        };
        const dialogRefTelefono = this.dialogTelefono.open(_dialog_verificar_telefono_dialog_verificar_telefono_component__WEBPACK_IMPORTED_MODULE_7__["DialogVerificarTelefonoComponent"], _dialogConfig);
        dialogRefTelefono.afterClosed().subscribe((result) => {
            this.isValidForm = result.verificado;
            if (result.verificado) {
                this.infoToken.telefono = result.numberphone;
                this.infoTokenService.setTelefono(result.numberphone);
                this.verifyClientService.setTelefono(result.numberphone);
                this.resData.telefono = this.infoToken.telefono;
            }
            this.verificarMontoMinimo();
        });
    }
    // cuando el recojo es en el local
    recalcularTotales() {
        // this._listSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);
        if (this.isRecojoLocalCheked) {
            // propina se vielve 0
            this.propinaSelected = { 'idpropina': 1, 'value': 0, 'descripcion': this.simbolo_moneda + ' 0', 'checked': true };
            this.infoTokenService.setPropina(this.propinaSelected);
            // recalcular subtotales
            // lista temporal para back
            this._listSubtotalesTmp = JSON.parse(JSON.stringify(this._listSubtotales));
            const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];
            this._listSubtotales = this._listSubtotales.filter(x => {
                const _idTp = isNaN(parseInt(x.id, 0)) ? 1 : x.id;
                if (_idTp >= 0 && x.descripcion !== 'TOTAL' && x.descripcion.toUpperCase() !== 'ENTREGA') {
                    return x;
                }
            });
            const _subtotal = this._listSubtotales.map((x) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);
            rowTotal.importe = _subtotal;
            this._listSubtotales.push(rowTotal);
        }
        else {
            this._listSubtotales = this._listSubtotalesTmp;
        }
        localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));
        this.infoTokenService.setPasoRecoger(this.isRecojoLocalCheked);
        this.verificarMontoMinimo();
    }
    selectedPropinaRepartidor(propina) {
        this.propinaSelected = propina;
        this.resData.propina = propina;
    }
    openDialogDireccion() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            idcliente: this.infoTokenService.infoUsToken.idcliente
        };
        const dialogDireccionCliente = this.dialogDireccionClienteDelivery.open(_dialog_direccion_cliente_delivery_dialog_direccion_cliente_delivery_component__WEBPACK_IMPORTED_MODULE_16__["DialogDireccionClienteDeliveryComponent"], _dialogConfig);
        dialogDireccionCliente.afterClosed().subscribe((data) => {
            if (!data) {
                return;
            }
            // console.log('direcion', data);
            // this.verifyClientService.setDireccionDeliverySelected(data);
            // this.setDireccion(data);
            this.msjErrorDir = '';
            this.direccionCliente = data;
            // if ( this.direccionCliente.codigo !== this.infoEstablecimiento.codigo_postal ) {
            if (this.direccionCliente.ciudad.toLocaleLowerCase() !== this.infoEstablecimiento.ciudad.toLocaleLowerCase()) {
                // el servicio no esta disponible en esta ubicacion
                // this.direccionCliente = this.direccionClienteIni;
                // this.infoToken.direccionEnvioSelected = null;
                this.direccionCliente.codigo = null;
                this.msjErrorDir = 'Servicio no disponible en esta dirección.';
                this.verificarMontoMinimo();
                return;
            }
            this.infoToken.direccionEnvioSelected = this.direccionCliente;
            // esto para poder guardar en el procedure
            this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;
            this.calcularCostoEntrega(this.direccionCliente);
        });
    }
    // anterior
    openDialogDireccion_anterior() {
        const _DdialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        _DdialogConfig.disableClose = true;
        _DdialogConfig.hasBackdrop = true;
        _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _DdialogConfig.data = {
            isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false,
            isFromComercio: true,
            idClienteBuscar: this.infoTokenService.infoUsToken.idcliente // this.resData.idcliente
        };
        // this.resData.idcliente =  this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';
        const dialogRef = this.dialogDireccion.open(_dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_10__["DialogSelectDireccionComponent"], _DdialogConfig);
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
            this.msjErrorDir = '';
            this.direccionCliente = data;
            // if ( this.direccionCliente.codigo !== this.infoEstablecimiento.codigo_postal ) {
            if (this.direccionCliente.ciudad.toLocaleLowerCase() !== this.infoEstablecimiento.ciudad.toLocaleLowerCase()) {
                // el servicio no esta disponible en esta ubicacion
                // this.direccionCliente = this.direccionClienteIni;
                // this.infoToken.direccionEnvioSelected = null;
                this.direccionCliente.codigo = null;
                this.msjErrorDir = 'Servicio no disponible en esta dirección.';
                this.verificarMontoMinimo();
                return;
            }
            this.infoToken.direccionEnvioSelected = this.direccionCliente;
            // esto para poder guardar en el procedure
            this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;
            this.calcularCostoEntrega(this.direccionCliente);
            // this.calcDistanceService.calculateRoute(<DeliveryDireccionCliente>data, this.dirEstablecimiento, false);
        });
    }
    calcularCostoEntrega(direccionCliente) {
        this.isReady.emit(false);
        this.isCalculandoDistanciaA = true;
        this.calcDistanceService.calculateRoute(direccionCliente, this.dirEstablecimiento, false);
        // .subscribe((res: any) => {
        setTimeout(() => {
            // this.dirEstablecimiento = this.dirEstablecimiento;
            this.establecimientoService.set(this.dirEstablecimiento);
            this.infoEstablecimiento.c_servicio = this.dirEstablecimiento.c_servicio;
            this.resData.costoTotalDelivery = this.dirEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;
            const _arrSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);
            localStorage.setItem('sys::st', btoa(JSON.stringify(_arrSubtotales)));
            this._listSubtotales = _arrSubtotales;
            this.isCalculandoDistanciaA = false;
            this.verificarMontoMinimo();
        }, 1500);
        // });
    }
    openDialogTiempoEntrega() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogConfig"]();
        // _dialogConfig.width = '480px';
        // _dialogConfig.disableClose = false;
        // _dialogConfig.hasBackdrop = true;
        // _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        const dialogTpC = this.dialogTipoComprobante.open(_dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_14__["DialogTiempoEntregaComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            if (result) {
                this.infoTokenService.setTiempoEntrega(result);
                this.tiempoEntregaSelected = result;
                this.isTiempoEntregaValid = true;
                this.verificarMontoMinimo();
            }
        });
    }
};
ConfirmarDeliveryComponent.ctorParameters = () => [
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_12__["MipedidoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"] },
    { type: src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_8__["VerifyAuthClientService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__["EstablecimientoService"] },
    { type: src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_11__["CalcDistanciaService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_15__["UtilitariosService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"] }
];
ConfirmarDeliveryComponent.propDecorators = {
    listSubtotales: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    isReady: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    dataDelivery: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
ConfirmarDeliveryComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-confirmar-delivery',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./confirmar-delivery.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/confirmar-delivery/confirmar-delivery.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./confirmar-delivery.component.css */ "./src/app/componentes/confirmar-delivery/confirmar-delivery.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_12__["MipedidoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"],
        src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_8__["VerifyAuthClientService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__["EstablecimientoService"],
        src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_11__["CalcDistanciaService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_15__["UtilitariosService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialog"]])
], ConfirmarDeliveryComponent);



/***/ }),

/***/ "./src/app/componentes/datos-delivery/datos-delivery.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/componentes/datos-delivery/datos-delivery.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-total {\r\n    border-top: 2px dashed #9e9e9e;\r\n}\r\n\r\n.ul-total li:last-child{\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n}\r\n\r\n.li-item {\r\n    padding-top: 6px;\r\n    padding-bottom: 6px;\r\n    border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.mat-option {\r\n    height: 20px !important;\r\n}\r\n\r\n.span-input-alert {\r\n    bottom: 20px;\r\n    position: relative;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGF0b3MtZGVsaXZlcnkvZGF0b3MtZGVsaXZlcnkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kYXRvcy1kZWxpdmVyeS9kYXRvcy1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRpdi10b3RhbCB7XHJcbiAgICBib3JkZXItdG9wOiAycHggZGFzaGVkICM5ZTllOWU7XHJcbn1cclxuXHJcbi51bC10b3RhbCBsaTpsYXN0LWNoaWxke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcclxufVxyXG5cclxuLmxpLWl0ZW0ge1xyXG4gICAgcGFkZGluZy10b3A6IDZweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA2cHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLm1hdC1vcHRpb24ge1xyXG4gICAgaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5zcGFuLWlucHV0LWFsZXJ0IHtcclxuICAgIGJvdHRvbTogMjBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/datos-delivery/datos-delivery.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/componentes/datos-delivery/datos-delivery.component.ts ***!
  \************************************************************************/
/*! exports provided: DatosDeliveryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatosDeliveryComponent", function() { return DatosDeliveryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var _dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dialog-select-direccion/dialog-select-direccion.component */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var _dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../dialog-metodo-pago/dialog-metodo-pago.component */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/services/calc-distancia.service */ "./src/app/shared/services/calc-distancia.service.ts");
/* harmony import */ var rxjs_internal_operators_startWith__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/internal/operators/startWith */ "./node_modules/rxjs/internal/operators/startWith.js");
/* harmony import */ var rxjs_internal_operators_startWith__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_startWith__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/internal/operators/map */ "./node_modules/rxjs/internal/operators/map.js");
/* harmony import */ var rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var _dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../dialog-tiempo-entrega/dialog-tiempo-entrega.component */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var src_app_shared_services_cliente_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! src/app/shared/services/cliente.service */ "./src/app/shared/services/cliente.service.ts");



















// import { MapsAPILoader } from '@agm/core';
let DatosDeliveryComponent = class DatosDeliveryComponent {
    constructor(fb, crudService, dialogDireccion, infoTokenService, miPedidoService, dialog, establecimientoService, calcDistanceService, dialogTipoComprobante, utilService, clienteService
    // private mapsAPILoader: MapsAPILoader,
    // private ngZone: NgZone,
    ) {
        this.fb = fb;
        this.crudService = crudService;
        this.dialogDireccion = dialogDireccion;
        this.infoTokenService = infoTokenService;
        this.miPedidoService = miPedidoService;
        this.dialog = dialog;
        this.establecimientoService = establecimientoService;
        this.calcDistanceService = calcDistanceService;
        this.dialogTipoComprobante = dialogTipoComprobante;
        this.utilService = utilService;
        this.clienteService = clienteService;
        this.changeStatus = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.isDataFromDNI = false; // si utilizo el dni para registrar
        this.errorDni = false;
        this.isValid = false;
        this.loadConsulta = false;
        this.isNuevoCliente = false; // si es nuevo cliente manda a guardar
        this.direccionCliente = {};
        this.isRecojoLocalCheked = false;
        this.isAceptaRecojoLocal = true;
        this.dataListClientes = [];
        this.myControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]();
        this.rippleColor = 'rgb(255,238,88, 0.3)';
        // latitude: number;
        // longitude: number;
        // address = '';
        // dataMapa: any;
        // private geoCoder;
        // return for printer
        this.resData = {
            idcliente: '',
            dni: '',
            nombre: '',
            f_nac: '',
            direccion: '',
            telefono: '',
            paga_con: '',
            dato_adicional: '',
            referencia: '',
            tipoComprobante: {},
            importeTotal: 0,
            metodoPago: {},
            propina: {},
            direccionEnvioSelected: {},
            establecimiento: {},
            subTotales: {},
            pasoRecoger: false,
            buscarRepartidor: true,
            isFromComercio: 1,
            costoTotalDelivery: 0,
            tiempoEntregaProgamado: {},
            num_verificador: '',
            solicitaCubiertos: 0
        };
        this.importeTota = 0;
        this.isShowAddDireccionMapa = true; // si esta habilitado busqueda en el mapa
        this.isCubierto = false;
    }
    set listSubtotales(val) {
        this._listSubtotales = val;
    }
    ngOnInit() {
        this.direccionCliente = {
            titulo: 'Seleccione una direccion *',
            direccion: '',
            referencia: ''
        };
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_13__["TiempoEntregaModel"]();
        // if ( this.infoTokenService.infoUsToken.tiempoEntrega ) {
        //   this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;
        //   // return;
        // } else {
        //   // this.isTiempoEntregaValid = false;
        // }
        this.tiempoEntregaSelected.descripcion = 'Programa la entrega';
        this.tiempoEntregaSelected.value = '';
        this.tiempoEntregaSelected.modificado = false;
        this.infoTokenService.setIniMetodoPago('Efectivo');
        this.metodoPagoSelected = this.infoTokenService.infoUsToken.metodoPago;
        // this.dateInfoSede = this.miPedidoService.objDatosSede.datossede[0];
        this.dirEstablecimiento = this.establecimientoService.get();
        //  this.dateInfoSede.pwa_delivery_habilitar_recojo_local
        this.isAceptaRecojoLocal = this.establecimientoService.establecimiento.pwa_delivery_habilitar_recojo_local === 1;
        this.myForm = this.fb.group({
            idcliente: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            dni: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            nombre: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            f_nac: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            // direccion: new FormControl('', [Validators.required]),
            telefono: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            // paga_con: new FormControl('', [Validators.required]),
            dato_adicional: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](''),
            num_verificador: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('')
        });
        this.myForm.statusChanges.subscribe(res => {
            this.isValid = res === 'VALID' ? true : false;
            // const dataEmit = {
            //   formIsValid: isValid,
            //   isNuevoCliente: this.isNuevoCliente,
            //   formData: this.myForm.value,
            //   direccionMapsSave: this.direccionCliente // direccion guardar en el cliente
            // };
            // setear respuest
            this.setearData();
            // this.changeStatus.emit(dataEmit);
        });
        this.infoEstablecimiento = this.establecimientoService.get();
        this.isShowAddDireccionMapa = this.infoEstablecimiento.pwa_habilitar_busqueda_mapa === 1;
        // traer todos los clientes
        // this.getAllClientes();
        this.filteredOptions = this.myControl.valueChanges
            .pipe(
        // debounceTime(400), // al poner esto no actualiza formulario
        // distinctUntilChanged(),
        Object(rxjs_internal_operators_startWith__WEBPACK_IMPORTED_MODULE_11__["startWith"])(''), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__["switchMap"])(value => {
            return this._filter(value);
        }), Object(rxjs_internal_operators_map__WEBPACK_IMPORTED_MODULE_12__["map"])(res => this.dataListClientes = res)
        // map(value => this._filter(value))
        );
    }
    setTextDirClienteNoMapa(val) {
        this.direccionCliente.direccion = this.utilService.addslashes(val);
        this.setearData();
    }
    setearData() {
        this.isValid = this.myForm.status === 'VALID' ? true : false;
        this.resData.idcliente = this.myForm.controls.idcliente.value || null;
        this.resData.dni = this.myForm.controls.dni.value;
        this.resData.nombre = this.myForm.controls.nombre.value;
        this.resData.f_nac = this.myForm.controls.f_nac.value;
        this.resData.num_verificador = this.myForm.controls.num_verificador.value;
        // this.resData.direccion = this.myForm.controls.direccion.value.toString();
        this.resData.telefono = this.myForm.controls.telefono.value;
        // this.resData.paga_con = this.myForm.controls.paga_con.value.toString();
        this.resData.importeTotal = this.getTotalPedido();
        this.resData.paga_con = this.metodoPagoSelected.descripcion + '  ' + this.metodoPagoSelected.importe || '';
        this.resData.dato_adicional = this.myForm.controls.dato_adicional.value;
        this.resData.metodoPago = this.metodoPagoSelected;
        this.resData.tipoComprobante = this.infoTokenService.getInfoUs().tipoComprobante;
        this.resData.direccionEnvioSelected = this.direccionCliente;
        this.resData.tiempoEntregaProgamado = this.tiempoEntregaSelected;
        this.resData.establecimiento = this.infoEstablecimiento;
        this.resData.referencia = this.direccionCliente.referencia === '' ? this.resData.nombre : this.utilService.addslashes(this.direccionCliente.referencia);
        this.resData.direccion = this.direccionCliente.direccion;
        this.resData.subTotales = this._listSubtotales;
        this.resData.propina = this.infoTokenService.getInfoUs().propina;
        this.resData.pasoRecoger = this.isRecojoLocalCheked;
        this.resData.buscarRepartidor = this.establecimientoService.establecimiento.pwa_delivery_servicio_propio === 0;
        this.resData.costoTotalDelivery = this.infoEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;
        this.resData.solicitaCubiertos = this.isCubierto ? 1 : 0;
        // this.resData.establecimiento = this.infoEstablecimiento;
        if (this.isShowAddDireccionMapa) {
            if (!this.direccionCliente.ciudad && !this.isRecojoLocalCheked) {
                this.isValid = false;
            }
        }
        const dataEmit = {
            formIsValid: this.isValid,
            isNuevoCliente: this.isNuevoCliente,
            formData: this.resData,
            direccionMapsSave: this.direccionCliente // direccion guardar en el cliente
        };
        this.changeStatus.emit(dataEmit);
    }
    buscarDNI() {
        this.errorDni = false;
        if (this.myForm.controls.dni.value.length < 8) {
            this.errorDni = true;
            return;
        }
        const datos = {
            documento: this.myForm.controls.dni.value
        };
        this.loadConsulta = true;
        this.isNuevoCliente = false;
        this.limpiarForm(datos.documento);
        this.isDataFromDNI = true;
        // primero consultamos en la bd
        this.crudService.postFree(datos, 'service', 'consulta-dni-ruc', true)
            .subscribe((res) => {
            const _datosBd = res.data;
            if (res.success && _datosBd.length > 0) {
                this.myForm.controls.idcliente.patchValue(_datosBd[0].idcliente);
                this.myForm.controls.nombre.patchValue(_datosBd[0].nombres);
                this.myForm.controls.f_nac.patchValue(_datosBd[0].f_nac);
                this.myForm.controls.num_verificador.patchValue('');
                this.myControl.patchValue(_datosBd[0].nombres);
                // this.myForm.controls.direccion.patchValue(_datosBd[0].direccion);
                this.myForm.controls.telefono.patchValue(_datosBd[0].telefono);
                this.loadConsulta = false;
                this.isNuevoCliente = false;
                this.errorDni = false;
                // verificar datos en el api y actualizar
                if (_datosBd[0].dni_num_verificador == null) {
                    this.clienteService.serchClienteByDni(datos.documento).subscribe((resClienteApi) => {
                        this.myForm.controls.f_nac.patchValue(resClienteApi.date_of_birthday);
                        this.myForm.controls.num_verificador.patchValue(resClienteApi.verification_code);
                    });
                }
            }
            else {
                this.crudService.getConsultaRucDni('dni', datos.documento)
                    .subscribe((_res) => {
                    if (_res.success) {
                        const _datos = _res.data;
                        const _nombre = `${_datos.name} ${_datos.first_name} ${_datos.last_name}`;
                        this.myForm.controls.idcliente.patchValue(0);
                        this.myForm.controls.nombre.patchValue(_nombre);
                        this.myForm.controls.f_nac.patchValue(_datos.date_of_birthday);
                        this.myForm.controls.num_verificador.patchValue(_datos.verification_code);
                        this.isNuevoCliente = true;
                        this.errorDni = false;
                    }
                    else {
                        this.limpiarForm(datos.documento);
                        this.isDataFromDNI = false;
                        this.errorDni = true;
                    }
                    this.loadConsulta = false;
                    this.resData.idcliente = '0';
                });
            }
            // this.isDataFromDNI = true;
        });
    }
    limpiarForm(dni) {
        this.myForm.reset();
        this.myForm.controls.dni.patchValue(dni);
    }
    openDialogDireccion() {
        // const dialogConfig = new MatDialogConfig();
        this.resData.idcliente = this.resData.idcliente !== '' ? this.resData.idcliente : this.clienteSelectBusqueda ? this.clienteSelectBusqueda.idcliente : '';
        const _DdialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        // _DdialogConfig.disableClose = false,
        _DdialogConfig.disableClose = true;
        _DdialogConfig.hasBackdrop = true;
        _DdialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'],
            _DdialogConfig.data = {
                isGuardar: this.infoTokenService.infoUsToken.idcliente ? true : false,
                isFromComercio: true,
                idClienteBuscar: this.resData.idcliente
            };
        const dialogRef = this.dialogDireccion.open(_dialog_select_direccion_dialog_select_direccion_component__WEBPACK_IMPORTED_MODULE_5__["DialogSelectDireccionComponent"], _DdialogConfig);
        dialogRef.afterClosed().subscribe(data => {
            if (!data) {
                return;
            }
            this.direccionCliente = data;
            // esto para poder guardar en el procedure
            this.direccionCliente.idcliente_pwa_direccion = this.direccionCliente.idcliente_pwa_direccion === null ? 0 : this.direccionCliente.idcliente_pwa_direccion;
            // console.log('aaaa calculateRoute');
            let c_servicio = this.calcDistanceService.calculateRoute(data, this.dirEstablecimiento, false);
            // recalcular
            setTimeout(() => {
                c_servicio = this.dirEstablecimiento.c_servicio;
                this.establecimientoService.set(this.dirEstablecimiento);
                this.infoEstablecimiento.c_servicio = c_servicio; // this.dirEstablecimiento.c_servicio;
                this.resData.costoTotalDelivery = c_servicio; // this.dirEstablecimiento.c_servicio; // this.infoEstablecimiento.costo_total_servicio_delivery;
                const _arrSubtotales = this.miPedidoService.getArrSubTotales(this.dirEstablecimiento.rulesSubTotales);
                localStorage.setItem('sys::st', btoa(JSON.stringify(_arrSubtotales)));
                this._listSubtotales = _arrSubtotales;
                this.setearData();
            }, 800);
        });
    }
    // cuando el recojo es en el local
    recalcularTotales() {
        if (this.isRecojoLocalCheked) {
            // propina se vielve 0
            // this.propinaSelected = {'idpropina': 1, 'value': 0 , 'descripcion': 'S/. 0', 'checked': true};
            // this.infoTokenService.setPropina(this.propinaSelected);
            // recalcular subtotales
            // lista temporal para back
            this._listSubtotalesTmp = JSON.parse(JSON.stringify(this._listSubtotales));
            const rowTotal = this._listSubtotales[this._listSubtotales.length - 1];
            this._listSubtotales = this._listSubtotales.filter(x => x.id >= 0 && x.descripcion !== 'TOTAL');
            const _subtotal = this._listSubtotales.map((x) => parseFloat(x.importe)).reduce((a, b) => a + b, 0);
            rowTotal.importe = _subtotal;
            this._listSubtotales.push(rowTotal);
            // quita los requerimientos y no graba al cliente cuando viene a llevar
            // this.myForm.controls.idcliente.setValidators(null);
            this.myForm.controls.telefono.setValidators(null);
        }
        else {
            // this.myForm.controls.idcliente.setValidators([Validators.required]);
            this.myForm.controls.telefono.setValidators([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
            this._listSubtotales = this._listSubtotalesTmp;
        }
        localStorage.setItem('sys::st', btoa(JSON.stringify(this._listSubtotales)));
        this.infoTokenService.setPasoRecoger(this.isRecojoLocalCheked);
        this.setearData();
        // this.verificarMontoMinimo();
    }
    openDialogMetodoPago() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        _dialogConfig.data = {
            importeTotalPagar: this._listSubtotales[this._listSubtotales.length - 1].importe,
            excluirId: 2 // id exlcluir
        };
        const dialogLoading = this.dialog.open(_dialog_metodo_pago_dialog_metodo_pago_component__WEBPACK_IMPORTED_MODULE_8__["DialogMetodoPagoComponent"], _dialogConfig);
        dialogLoading.afterClosed().subscribe((result) => {
            this.metodoPagoSelected = result;
            // this.verificarMontoMinimo();
            this.setearData();
        });
    }
    getTotalPedido() {
        return this._listSubtotales[this._listSubtotales.length - 1].importe;
    }
    // data all clientes
    // getAllClientes() {
    //   this.crudService.getAll('pedido', 'get-all-clientes', false, false, true)
    //   .subscribe((res: any) => {
    //     this.dataListClientes = res.data;
    //   });
    // }
    // getSearCliente(search: string): Observable<any[]>  {
    //   return this.establecimientoService.getClienteAutocomplete(search);
    // }
    _filter(value) {
        if (this.isDataFromDNI) {
            return rxjs__WEBPACK_IMPORTED_MODULE_16__["EMPTY"];
        }
        if (value.length < 5) {
            return rxjs__WEBPACK_IMPORTED_MODULE_16__["EMPTY"];
        }
        if (typeof value === 'object') {
            this.selectedClienteBusqueda(value);
            return rxjs__WEBPACK_IMPORTED_MODULE_16__["EMPTY"];
        }
        this.limpiarForm('');
        return this.establecimientoService.getClienteAutocomplete(value);
        // const filterValue = value.toLowerCase();
        // this.limpiarForm('');
        // return this.dataListClientes; // .filter(option => option.nombres.toLowerCase().includes(filterValue));
    }
    changeCliente($event) {
    }
    displayFn(option) {
        return option ? option.nombres : '';
    }
    selectedClienteBusqueda(cliente) {
        this.clienteSelectBusqueda = cliente;
        this.myForm.controls.idcliente.patchValue(cliente.idcliente);
        this.myForm.controls.nombre.patchValue(cliente.nombres);
        this.myForm.controls.dni.patchValue(cliente.ruc);
        // this.myForm.controls.f_nac.patchValue(cliente.f_nac);
        // this.myForm.controls.direccion.patchValue(_datosBd[0].direccion);
        this.myForm.controls.telefono.patchValue(cliente.telefono);
    }
    setNombreControl(nom) {
        this.myForm.controls.nombre.patchValue(nom);
    }
    openDialogTiempoEntrega() {
        const _dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialogConfig"]();
        _dialogConfig.width = '380px';
        _dialogConfig.disableClose = true;
        _dialogConfig.hasBackdrop = true;
        _dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        const dialogTpC = this.dialogTipoComprobante.open(_dialog_tiempo_entrega_dialog_tiempo_entrega_component__WEBPACK_IMPORTED_MODULE_14__["DialogTiempoEntregaComponent"], _dialogConfig);
        dialogTpC.afterClosed().subscribe((result) => {
            if (result) {
                // this.infoTokenService.setTiempoEntrega(result);
                this.tiempoEntregaSelected = result;
                this.setearData();
                // this.verificarMontoMinimo();
            }
        });
    }
};
DatosDeliveryComponent.ctorParameters = () => [
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_6__["InfoTockenService"] },
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_7__["MipedidoService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_9__["EstablecimientoService"] },
    { type: src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_10__["CalcDistanciaService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_17__["UtilitariosService"] },
    { type: src_app_shared_services_cliente_service__WEBPACK_IMPORTED_MODULE_18__["ClienteService"] }
];
DatosDeliveryComponent.propDecorators = {
    searchElementRef: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"], args: ['search',] }],
    changeStatus: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    listSubtotales: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
DatosDeliveryComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-datos-delivery',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./datos-delivery.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/datos-delivery/datos-delivery.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./datos-delivery.component.css */ "./src/app/componentes/datos-delivery/datos-delivery.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_6__["InfoTockenService"],
        src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_7__["MipedidoService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_9__["EstablecimientoService"],
        src_app_shared_services_calc_distancia_service__WEBPACK_IMPORTED_MODULE_10__["CalcDistanciaService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_17__["UtilitariosService"],
        src_app_shared_services_cliente_service__WEBPACK_IMPORTED_MODULE_18__["ClienteService"]
        // private mapsAPILoader: MapsAPILoader,
        // private ngZone: NgZone,
    ])
], DatosDeliveryComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.css":
/*!*********************************************************************************************!*\
  !*** ./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.css ***!
  \*********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("::ng-deep .mat-dialog-container {\r\n    padding: 0px;\r\n}\r\n\r\n.div-content-opiniones {\r\n    padding: 24px;\r\n}\r\n\r\np {\r\n    margin: 0px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWNhbGlmaWNhY2lvbi1zZWRlL2RpYWxvZy1jYWxpZmljYWNpb24tc2VkZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kaWFsb2ctY2FsaWZpY2FjaW9uLXNlZGUvZGlhbG9nLWNhbGlmaWNhY2lvbi1zZWRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxufVxyXG5cclxuLmRpdi1jb250ZW50LW9waW5pb25lcyB7XHJcbiAgICBwYWRkaW5nOiAyNHB4O1xyXG59XHJcblxyXG5wIHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.ts ***!
  \********************************************************************************************/
/*! exports provided: DialogCalificacionSedeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogCalificacionSedeComponent", function() { return DialogCalificacionSedeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");



let DialogCalificacionSedeComponent = class DialogCalificacionSedeComponent {
    constructor(data) {
        this.dataComentarios = data;
        this.listComentarios = this.dataComentarios.listCalificacion;
    }
    ngOnInit() {
    }
};
DialogCalificacionSedeComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] }
];
DialogCalificacionSedeComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-calificacion-sede',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-calificacion-sede.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-calificacion-sede.component.css */ "./src/app/componentes/dialog-calificacion-sede/dialog-calificacion-sede.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], DialogCalificacionSedeComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-calificacion/dialog-calificacion.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/componentes/dialog-calificacion/dialog-calificacion.component.css ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1jYWxpZmljYWNpb24vZGlhbG9nLWNhbGlmaWNhY2lvbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/componentes/dialog-calificacion/dialog-calificacion.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/componentes/dialog-calificacion/dialog-calificacion.component.ts ***!
  \**********************************************************************************/
/*! exports provided: DialogCalificacionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogCalificacionComponent", function() { return DialogCalificacionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");



let DialogCalificacionComponent = class DialogCalificacionComponent {
    constructor(dialogRef, data) {
        this.dialogRef = dialogRef;
        this._dataCalificado = data.dataCalificado;
    }
    ngOnInit() {
    }
};
DialogCalificacionComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] }
];
DialogCalificacionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-calificacion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-calificacion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-calificacion/dialog-calificacion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-calificacion.component.css */ "./src/app/componentes/dialog-calificacion/dialog-calificacion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object])
], DialogCalificacionComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-config-punto/dialog-config-punto.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/componentes/dialog-config-punto/dialog-config-punto.component.css ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1jb25maWctcHVudG8vZGlhbG9nLWNvbmZpZy1wdW50by5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/componentes/dialog-config-punto/dialog-config-punto.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/componentes/dialog-config-punto/dialog-config-punto.component.ts ***!
  \**********************************************************************************/
/*! exports provided: DialogConfigPuntoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogConfigPuntoComponent", function() { return DialogConfigPuntoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");





let DialogConfigPuntoComponent = class DialogConfigPuntoComponent {
    constructor(crudService, establecimientoService, infoTokenService) {
        this.crudService = crudService;
        this.establecimientoService = establecimientoService;
        this.infoTokenService = infoTokenService;
    }
    ngOnInit() {
        // cargar impresoras disponibles
        this.listImpresoras = this.establecimientoService.getImpresoras();
        this.loadCanalesConsumo();
        // cargar de localstorage
        const _puntoConfig = JSON.parse(localStorage.getItem('sys::punto'));
        if (_puntoConfig) {
            // console.log('_puntoConfig', _puntoConfig);
            this.isPuntoAutoPedidoCheck = _puntoConfig.ispunto_autopedido;
            this.selectedValueImpresora = _puntoConfig.impresora;
            this.isTomaPedidoRapido = _puntoConfig.istoma_pedido_rapido;
            this.selectedValueCanConsumo = _puntoConfig.canal_consumo;
            this.infoTokenService.setIsPuntoAutoPedido(this.isPuntoAutoPedidoCheck);
            this.infoTokenService.setIsTomaPedidoRapido(this.isTomaPedidoRapido);
        }
    }
    setConifg() {
        this.isPuntoAutoPedidoCheck = this.isTomaPedidoRapido ? false : this.isPuntoAutoPedidoCheck;
        const dataStorage = {
            istoma_pedido_rapido: this.isTomaPedidoRapido,
            canal_consumo: this.selectedValueCanConsumo,
            ispunto_autopedido: this.isPuntoAutoPedidoCheck,
            impresora: this.selectedValueImpresora
        };
        localStorage.setItem('sys::punto', JSON.stringify(dataStorage));
        // console.log('dataStorage', dataStorage);
        this.infoTokenService.setIsPuntoAutoPedido(this.isPuntoAutoPedidoCheck);
        this.infoTokenService.setIsTomaPedidoRapido(this.isTomaPedidoRapido);
        location.reload();
    }
    loadCanalesConsumo() {
        const _data = {
            idsede: this.infoTokenService.getInfoUs().idsede
        };
        this.crudService.postFree(_data, 'pedido', 'get-canales-consumo', false)
            .subscribe(res => {
            // console.log('res', res);
            this.listCanalConsumo = res.data;
        });
    }
    compareById(f1, f2) {
        return f1 && f2 && f1.idimpresora === f2.idimpresora;
    }
    compareByIdCanal(f1, f2) {
        return f1 && f2 && f1.idtipo_consumo === f2.idtipo_consumo;
    }
};
DialogConfigPuntoComponent.ctorParameters = () => [
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"] }
];
DialogConfigPuntoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-config-punto',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-config-punto.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-config-punto/dialog-config-punto.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-config-punto.component.css */ "./src/app/componentes/dialog-config-punto/dialog-config-punto.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"]])
], DialogConfigPuntoComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.css":
/*!***************************************************************************************************************!*\
  !*** ./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.css ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\r\n/* quitar mas adelante cuando actualize css */\r\n/* ::ng-deep .mat-dialog-container {\r\n    padding: 0px;\r\n    min-width: 300px;\r\n    max-width: 450px !important;\r\n} */\r\n.div-dir-content {\r\n    padding: 24px;\r\n}\r\n/* quitar mas adelante cuando actualize css */\r\n.div-txt-dir {\r\n    border-radius: 5px;\r\n    background: #ededed;\r\n    padding: 10px;\r\n}\r\n.div-txt-dir input {\r\n    width: 100%;\r\n    border: 0px;\r\n    background: transparent;\r\n    outline: none;\r\n}\r\n.item-direccion {\r\n    border-bottom: 1px solid#e4e4e4;\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    padding: 10px;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n    /* font-size: 14px; */\r\n    cursor: pointer;\r\n}\r\n.item-direccion-prediction {\r\n    border-bottom: 1px solid #e4e4e4;    \r\n    padding: 10px;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n.item-direccion-prediction p {\r\n    margin: 0;\r\n}\r\nagm-map {\r\n    height: 200px;\r\n}\r\n#map_canvas {\r\n    position: relative;\r\n}\r\n#map_canvas .centerMarker {\r\n    position: absolute;\r\n    /*url of the marker*/\r\n    background: url(\"/assets/images/marcador-de-mapa.png\") round;\r\n    /*center the marker*/    \r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 2;\r\n    /*fix offset when needed*/\r\n    margin-left: -20px;\r\n    margin-top: -44px;\r\n    /*size of the image*/\r\n    height: 45px;\r\n    width: 45px;\r\n    cursor: pointer;\r\n  }\r\n#map_canvas .centerMarker-fondo {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 1;\r\n    margin-left: -32px;\r\n    margin-top: -40px;\r\n    height: 45px;\r\n    width: 45px;\r\n    cursor: pointer;\r\n    background: deepskyblue;\r\n    border-radius: 50%;\r\n    padding: 35px;\r\n    opacity: 0.4;\r\n  }\r\n.btn-confirmar-dir {\r\n    width: 100%;\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 10px;\r\n}\r\n.input-dir {\r\n    font-weight: 600;\r\n  }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWRpcmVjY2lvbi1jbGllbnRlLWRlbGl2ZXJ5L2RpYWxvZy1kaXJlY2Npb24tY2xpZW50ZS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw2Q0FBNkM7QUFDN0M7Ozs7R0FJRztBQUNIO0lBQ0ksYUFBYTtBQUNqQjtBQUNBLDZDQUE2QztBQUU3QztJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjtBQUVBO0lBQ0ksV0FBVztJQUNYLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsYUFBYTtBQUNqQjtBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0lBQ2IsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQixlQUFlO0FBQ25CO0FBRUE7SUFDSSxnQ0FBZ0M7SUFDaEMsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixlQUFlO0FBQ25CO0FBRUE7SUFDSSxTQUFTO0FBQ2I7QUFJQTtJQUNJLGFBQWE7QUFDakI7QUFFQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG9CQUFvQjtJQUNwQiw0REFBNEQ7SUFDNUQsb0JBQW9CO0lBQ3BCLFFBQVE7SUFDUixTQUFTO0lBQ1QsVUFBVTtJQUNWLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1osV0FBVztJQUNYLGVBQWU7RUFDakI7QUFFRjtJQUNJLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsU0FBUztJQUNULFVBQVU7SUFDVixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLFlBQVk7RUFDZDtBQUVGO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUdBO0lBQ0ksZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWRpcmVjY2lvbi1jbGllbnRlLWRlbGl2ZXJ5L2RpYWxvZy1kaXJlY2Npb24tY2xpZW50ZS1kZWxpdmVyeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qIHF1aXRhciBtYXMgYWRlbGFudGUgY3VhbmRvIGFjdHVhbGl6ZSBjc3MgKi9cclxuLyogOjpuZy1kZWVwIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gICAgbWF4LXdpZHRoOiA0NTBweCAhaW1wb3J0YW50O1xyXG59ICovXHJcbi5kaXYtZGlyLWNvbnRlbnQge1xyXG4gICAgcGFkZGluZzogMjRweDtcclxufVxyXG4vKiBxdWl0YXIgbWFzIGFkZWxhbnRlIGN1YW5kbyBhY3R1YWxpemUgY3NzICovXHJcblxyXG4uZGl2LXR4dC1kaXIge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZDogI2VkZWRlZDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbi5kaXYtdHh0LWRpciBpbnB1dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogMHB4O1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4uaXRlbS1kaXJlY2Npb24ge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkI2U0ZTRlNDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIC8qIGZvbnQtc2l6ZTogMTRweDsgKi9cclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLml0ZW0tZGlyZWNjaW9uLXByZWRpY3Rpb24ge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNGU0ZTQ7ICAgIFxyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5pdGVtLWRpcmVjY2lvbi1wcmVkaWN0aW9uIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG5cclxuXHJcbmFnbS1tYXAge1xyXG4gICAgaGVpZ2h0OiAyMDBweDtcclxufVxyXG5cclxuI21hcF9jYW52YXMge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4jbWFwX2NhbnZhcyAuY2VudGVyTWFya2VyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIC8qdXJsIG9mIHRoZSBtYXJrZXIqL1xyXG4gICAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9pbWFnZXMvbWFyY2Fkb3ItZGUtbWFwYS5wbmdcIikgcm91bmQ7XHJcbiAgICAvKmNlbnRlciB0aGUgbWFya2VyKi8gICAgXHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgICAvKmZpeCBvZmZzZXQgd2hlbiBuZWVkZWQqL1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0yMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTQ0cHg7XHJcbiAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgIGhlaWdodDogNDVweDtcclxuICAgIHdpZHRoOiA0NXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiNtYXBfY2FudmFzIC5jZW50ZXJNYXJrZXItZm9uZG8ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0zMnB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTQwcHg7XHJcbiAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICB3aWR0aDogNDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJhY2tncm91bmQ6IGRlZXBza3libHVlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgcGFkZGluZzogMzVweDtcclxuICAgIG9wYWNpdHk6IDAuNDtcclxuICB9XHJcblxyXG4uYnRuLWNvbmZpcm1hci1kaXIge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDEwcHg7XHJcbn1cclxuXHJcblxyXG4uaW5wdXQtZGlyIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgfSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.ts ***!
  \**************************************************************************************************************/
/*! exports provided: DialogDireccionClienteDeliveryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogDireccionClienteDeliveryComponent", function() { return DialogDireccionClienteDeliveryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var rxjs_internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/operators/debounceTime */ "./node_modules/rxjs/internal/operators/debounceTime.js");
/* harmony import */ var rxjs_internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs_internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/operators/distinctUntilChanged */ "./node_modules/rxjs/internal/operators/distinctUntilChanged.js");
/* harmony import */ var rxjs_internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/delivery.direccion.cliente.model */ "./src/app/modelos/delivery.direccion.cliente.model.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/sede-delivery.service */ "./src/app/shared/services/sede-delivery.service.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");











let DialogDireccionClienteDeliveryComponent = class DialogDireccionClienteDeliveryComponent {
    constructor(dialogRef, data, crudService, verifyClientService, utilService, plazaDelivery) {
        this.dialogRef = dialogRef;
        this.crudService = crudService;
        this.verifyClientService = verifyClientService;
        this.utilService = utilService;
        this.plazaDelivery = plazaDelivery;
        this.direccionBuscarUpdate = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_5__["Subject"]();
        this.showSelectedDireccion = true;
        this.showBusqueda = false;
        this.countMoveMap = 0;
        this.isUsCliente = true; // si el usuario es cliente o usuario autorizado
        this.mapCenter = {};
        this.isChangeDireccion = true;
        this.loader = 0;
        this.idClienteBuscar = data.idcliente;
        this.direccionBuscarUpdate.pipe(Object(rxjs_internal_operators_debounceTime__WEBPACK_IMPORTED_MODULE_3__["debounceTime"])(400), Object(rxjs_internal_operators_distinctUntilChanged__WEBPACK_IMPORTED_MODULE_4__["distinctUntilChanged"])())
            .subscribe(value => {
            if (value.length > 5) {
                this.showBusqueda = true;
                this.getPlacesPredictionsChange(value);
            }
        });
    }
    ngOnInit() {
        this.dataCliente = new src_app_modelos_delivery_direccion_cliente_model__WEBPACK_IMPORTED_MODULE_6__["DeliveryDireccionCliente"]();
        this.loadDireccionesAgregadas();
    }
    ngAfterViewInit() {
        // this.getPlaceAutocomplete();
    }
    loadDireccionesAgregadas() {
        this.listDirecciones = [];
        const _dataClientDir = {
            idcliente: this.idClienteBuscar
        };
        this.crudService.postFree(_dataClientDir, 'delivery', 'get-direccion-cliente', false)
            .subscribe((res) => {
            const direccionGuardada = this.getDireccionStorage();
            this.listDirecciones = res.data;
            this.listDirecciones.map(d => {
                d.direccion = d.direccion.split(',')[0];
                if (direccionGuardada) {
                    d.selected = d.idcliente_pwa_direccion === direccionGuardada.idcliente_pwa_direccion;
                }
            });
            // console.log('this.listDirecciones', this.listDirecciones);
        });
    }
    getPlacesPredictionsChange(value) {
        const sessionToken = new google.maps.places.AutocompleteSessionToken();
        const options = {
            input: value,
            componentRestrictions: { country: 'pe' },
            sessionToken: sessionToken
        };
        const service = new google.maps.places.AutocompleteService();
        service.getPlacePredictions(options, (predictions, status) => {
            if (status !== google.maps.places.PlacesServiceStatus.OK || !predictions) {
                // alert(status);
                return;
            }
            this.listPredicciones = predictions;
            // predictions.forEach((prediction) => {
            //   console.log('prediction.description', prediction);
            // });
        });
    }
    goDireccionGuardada(item) {
        // console.log('item DeliveryDireccionCliente', item);
        this.dataCliente = item;
        this.cerrarDlg();
    }
    goDireccion(prediccionSelected) {
        // console.log('direccion selected', prediccionSelected);
        this.getDireccionGeocode({ placeId: prediccionSelected.place_id }, prediccionSelected);
    }
    goUbicacionActual() {
        this.getPosition().then(pos => {
            this.latitude = pos.lat;
            this.longitude = pos.lng;
            this.centerChange(pos);
            this.getDireccionGeocode({ 'location': { lat: this.mapCenter.lat, lng: this.mapCenter.lng } });
        });
    }
    getPosition() {
        return new Promise((resolve, reject) => {
            navigator.geolocation.getCurrentPosition(resp => {
                resolve({ lng: resp.coords.longitude, lat: resp.coords.latitude });
            }, err => {
                reject(err);
            });
        });
    }
    getDireccionGeocode(payload, prediccionSelected = null) {
        if (prediccionSelected) {
            this.dataCliente.direccion = prediccionSelected.structured_formatting.main_text;
            this.dataCliente.ciudad = prediccionSelected.structured_formatting.secondary_text;
        }
        const geocoder = new google.maps.Geocoder();
        geocoder
            .geocode(payload)
            .then(({ results }) => {
            // console.log('results geocoder', results);
            this.dataMapa = results[0];
            if (!prediccionSelected) {
                const _foramt_address = this.dataMapa.formatted_address.split(', ');
                this.dataCliente.direccion = _foramt_address[0];
                this.dataCliente.ciudad = _foramt_address[1];
            }
            this.latitude = results[0].geometry.location.lat();
            this.longitude = results[0].geometry.location.lng();
            this.zoom = 17;
            this.isChangeDireccion = false;
            // centrar
            this.mapCenter.lat = this.latitude;
            this.mapCenter.lng = this.longitude;
            this.countMoveMap = 0;
            this.showSelectedDireccion = false;
            this.setDireccionSelected();
            // setTimeout(() => {
            // }, 500);
        });
    }
    // mapa
    idleMap() {
        this.countMoveMap++;
    }
    centerChange(event) {
        // console.log('event center event', event);
        if (event) {
            this.mapCenter.lat = event.lat;
            this.mapCenter.lng = event.lng;
        }
    }
    clickmap() {
        this.isChangeDireccion = true;
    }
    setDireccionSelected() {
        // this.latitude = this.mapCenter.lat;
        // this.longitude = this.mapCenter.lng;
        // this.loader = 1;
        this.dataCliente.direccion = this.dataCliente.direccion;
        this.dataCliente.idcliente = this.isUsCliente ? this.verifyClientService.getDataClient().idcliente : this.idClienteBuscar;
        this.dataCliente.longitude = this.mapCenter.lng;
        this.dataCliente.latitude = this.mapCenter.lat;
        this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);
        this.dataCliente.ciudad = this.searchTypeMap('locality');
        this.dataCliente.provincia = this.searchTypeMap('administrative_area_level_2');
        this.dataCliente.departamento = this.searchTypeMap('administrative_area_level_1');
        this.dataCliente.pais = this.searchTypeMap('country');
        this.dataCliente.codigo = this.searchTypeMap('postal_code');
        // console.log('this.dataCliente', this.dataCliente);
    }
    searchTypeMap(search) {
        let rpt = '';
        this.dataMapa.address_components.map((x) => {
            x.types.map((t) => {
                if (t === search) {
                    rpt = x.long_name;
                    return rpt;
                }
            });
        });
        return rpt;
    }
    goBackEscogerDireccion() {
        this.showSelectedDireccion = true;
    }
    confirmarDireccion() {
        this.countMoveMap = 1;
        this.getDireccionGeocode({ 'location': { lat: this.mapCenter.lat, lng: this.mapCenter.lng } });
        // this.getAddress(this.mapCenter.lat, this.mapCenter.lng);
    }
    saveDireccion() {
        this.loader = 1;
        this.dataCliente.titulo = this.dataCliente.titulo || 'Casa';
        this.loader = 2;
        this.dataCliente.idcliente_pwa_direccion = null;
        // this.saveDireccionOk.emit(this.dataCliente);
        this.setBdDireccion();
    }
    setBdDireccion() {
        this.dataCliente.referencia = this.utilService.addslashes(this.dataCliente.referencia);
        this.crudService.postFree(this.dataCliente, 'cliente', 'new-direccion', false)
            .subscribe((res) => {
            setTimeout(() => {
                this.loader = 2;
                setTimeout(() => {
                    this.dataCliente.idcliente_pwa_direccion = res.data[0].idcliente_pwa_direccion;
                    this.countMoveMap = 1;
                    this.cerrarDlg();
                }, 500);
            }, 1000);
        });
    }
    setDireccionStorage() {
        localStorage.setItem('sys::dir_se', JSON.stringify(this.dataCliente));
    }
    getDireccionStorage() {
        return localStorage.getItem('sys::dir_se') ? JSON.parse(localStorage.getItem('sys::dir_se')) : null;
    }
    cerrarDlg() {
        var _a;
        // guarda direccion en el storage direccion seleccionada
        // console.log('this.dataCliente', this.dataCliente);
        const rpt_dir = this.dataCliente.direccion ? this.dataCliente : null;
        if (rpt_dir && this.dataCliente) {
            if (!((_a = this.dataCliente) === null || _a === void 0 ? void 0 : _a.options)) {
                this.plazaDelivery.loadDatosPlazaByCiudad(this.dataCliente.ciudad)
                    .subscribe((resPlaza) => {
                    this.dataCliente.options = resPlaza ? resPlaza.options : null;
                    this.setDireccionStorage();
                    this.dialogRef.close(rpt_dir);
                });
            }
            else {
                this.setDireccionStorage();
                this.dialogRef.close(rpt_dir);
            }
        }
        else {
            // const rpt_dir = this.dataCliente.direccion ? this.dataCliente : null;
            // this.dataCliente = null;
            this.setDireccionStorage();
            this.dialogRef.close(rpt_dir);
        }
    }
};
DialogDireccionClienteDeliveryComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_7__["CrudHttpService"] },
    { type: src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_10__["VerifyAuthClientService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__["UtilitariosService"] },
    { type: src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__["SedeDeliveryService"] }
];
DialogDireccionClienteDeliveryComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-direccion-cliente-delivery',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-direccion-cliente-delivery.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-direccion-cliente-delivery.component.css */ "./src/app/componentes/dialog-direccion-cliente-delivery/dialog-direccion-cliente-delivery.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_7__["CrudHttpService"],
        src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_10__["VerifyAuthClientService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__["UtilitariosService"],
        src_app_shared_services_sede_delivery_service__WEBPACK_IMPORTED_MODULE_8__["SedeDeliveryService"]])
], DialogDireccionClienteDeliveryComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-item-edit/dialog-item-edit.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/componentes/dialog-item-edit/dialog-item-edit.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("::ng-deep .mat-checkbox-layout { margin: 0px; width: 100%; position: relative;}\r\n::ng-deep .mat-checkbox-inner-container { margin-left: 0px !important; }\r\n/* quitar mas adelante cuando actualize css */\r\n/* ::ng-deep .mat-dialog-container {\r\n    padding: 0px;\r\n    min-width: 300px;\r\n    max-width: 450px !important;\r\n} */\r\n/* .custom-dialog-container .mat-dialog-container {\r\n    padding: 0px !important;\r\n    min-width: 300px;\r\n    max-width: 450px !important;\r\n}\r\n\r\n.my-dialog-orden-detalle.margen-0 .mat-dialog-container {\r\n    padding: 0px !important;\r\n    min-width: 300px;\r\n    max-width: 450px !important;\r\n  } */\r\n::ng-deep .cdk-overlay-dark-backdrop {\r\n    background: rgba(0,0,0,.52);\r\n}\r\n.item-content {\r\n    position: relative;\r\n}\r\n.i-header {\r\n    padding: 15px;\r\n    border-bottom: 1px solid lightgray;\r\n    background: #eeeeee;\r\n}\r\n.titlo-detalle {\r\n    font-size: 14px;\r\n    font-family: Ubuntu-Light;\r\n    color: #616161;\r\n    /* text-transform: lowercase; */\r\n  }\r\n.i-stock {\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    margin-right: 5px;\r\n    padding: 5px;    \r\n}\r\n.i-btn-exit {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 10px;\r\n    padding: 8px;    \r\n    line-height: 10px;\r\n    background: rgba(189,189,189,0.7);\r\n    border-radius: 4px;\r\n}\r\n.li-tachado {\r\n    text-decoration: line-through;\r\n    color: red;\r\n  }\r\n.sub-i-titulo-content {\r\n    padding-bottom: 20px;\r\n}\r\n.sub-i-titulo {\r\n    line-height: 1.2;\r\n}\r\n.borde-bajo {\r\n    border-bottom: 1px solid lightgray;\r\n}\r\n.i-body {    \r\n    /* max-height: 100vh;     */\r\n    height: -webkit-calc(100vh - 170px);\r\n    height: calc(100vh - 170px);\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    /* padding: 15px; */\r\n\r\n    /* overflow-x: hidden;\r\n    overflow-y: auto;\r\n    bottom: 150px !important;\r\n    position: fixed;\r\n    top: 50px;\r\n    width: 100%; */\r\n}\r\n.i-body.he2 {\r\n    height: -webkit-calc(100vh - 110px);\r\n    height: calc(100vh - 110px);\r\n}\r\n.txt-obligatorio {\r\n    font-size: 12px;\r\n    background: #e0e0e0;\r\n    padding: 3px;\r\n    margin-left: 5px;\r\n    border-radius: 8px;\r\n    position: relative;\r\n    float: right;\r\n    /* top: -18px; */\r\n}\r\n.mat-checkbox-layout {\r\n    margin: 0px;\r\n}\r\n.xoption {        \r\n    padding-right: 8px;\r\n    min-width: 150px;\r\n    font-size: 12px;\r\n    display: -webkit-inline-box;\r\n    display: -webkit-inline-flex;\r\n    display: inline-flex;\r\n    border-bottom: 1px solid #eeeeee;\r\n    padding-bottom: 2px;\r\n    padding-top: 2px;\r\n}\r\n.xoption .agotado {\r\n    text-decoration: line-through;\r\n    color: palevioletred;\r\n}\r\n.xoption .xprecio {\r\n    font-size: 10px;\r\n    color: #757575;\r\n}\r\n.xprecio.aling-derecha{\r\n    position: absolute;\r\n    float: right;\r\n    right: 0;\r\n}\r\n.i-footer {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    position: fixed;    \r\n    bottom: 0;\r\n    z-index: 1;\r\n    border-top: 1px solid lightgray;    \r\n    background: white;    \r\n    width: 100%;\r\n    padding: 15px;\r\n    background: #eeeeee;\r\n}\r\n.i-precio {\r\n    position: absolute;\r\n    right: 15px;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    top: 18px;\r\n}\r\n.tb-tpc tr>td {\r\n    font-size: 12px;\r\n    /* border-bottom: 1px dashed #e0e0e0; */\r\n  }\r\n.tb-tpc-one tr>td {\r\n    font-size: 12px;\r\n    border: none;\r\n  }\r\n.btn-tbl {\r\n  text-align: center;\r\n  color: white;\r\n  padding: 7px 16px 7px 16px;\r\n  font-size: 15px;\r\n  border-radius: 5px;\r\n  margin-left: 4px;\r\n  margin-bottom: 4px;\r\n}\r\n#tpc_content[disabled] {\r\n    pointer-events:none;opacity:0.43;\r\n}\r\n.estado-color-verde {\r\n  background: #43a047;\r\n  color: #e0e0e0;\r\n}\r\n.estado-color-amarillo {\r\n  background: #ffb300;\r\n  color: #424242;\r\n}\r\n.estado-color-rojo {\r\n  background: #d81b60;\r\n  color: #e0e0e0;\r\n}\r\n.img-carta {\r\n    max-width: 100%;\r\n    /* width: auto; */\r\n    /* border-radius: 3px; */\r\n    /* border: solid 1px #e0e0e0; */\r\n    /* margin-bottom: 5px; */\r\n    /* max-height: 250px; */\r\n    max-height: 40vh;\r\n    -o-object-fit: cover;\r\n       object-fit: cover;\r\n    -webkit-transition: all 0.1s;\r\n    transition: all 0.1s;\r\n}\r\n/* .img-carta:hover {\r\n    transform:scale(1.5);\r\n    z-index: 10;\r\n} */\r\n.div-tpc {\r\n    bottom: 50px;\r\n    position: fixed;\r\n    /* position: sticky;     */\r\n    /* position: absolute; */\r\n    background: white;\r\n    border-top: 1px solid #bdbdbd;\r\n}\r\n/* @media only screen and (max-width: 600px) {\r\n    .i-body {\r\n        height: auto;\r\n    }\r\n} */\r\n@media only screen and (min-width: 445px) {\r\n    .img-carta {\r\n        padding: 10px;\r\n    }\r\n\r\n    .i-footer {        \r\n        position: -webkit-sticky;        \r\n        position: sticky;    \r\n    }\r\n    \r\n    .i-body {\r\n        height: auto;\r\n        max-height: -webkit-calc(90vh - 110px);\r\n        max-height: calc(90vh - 110px);\r\n    }\r\n\r\n    .i-body.he2 {\r\n        height: auto;\r\n    }\r\n\r\n    .div-tpc {\r\n        position: relative;\r\n        bottom: 0;\r\n    }\r\n    .div-tpc-one-option {\r\n        bottom: 50px;\r\n        position: absolute;\r\n    }\r\n\r\n    .div-tpc-one-option-buttom {\r\n        padding-bottom: 80px;\r\n    }\r\n    \r\n    \r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLWl0ZW0tZWRpdC9kaWFsb2ctaXRlbS1lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQWlDLFdBQVcsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLENBQUM7QUFDOUUsMENBQTBDLDJCQUEyQixFQUFFO0FBQ3ZFLDZDQUE2QztBQUM3Qzs7OztHQUlHO0FBRUg7Ozs7Ozs7Ozs7S0FVSztBQUVMO0lBQ0ksMkJBQTJCO0FBQy9CO0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7QUFFQTtJQUNJLGFBQWE7SUFDYixrQ0FBa0M7SUFDbEMsbUJBQW1CO0FBQ3ZCO0FBRUE7SUFDSSxlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCwrQkFBK0I7RUFDakM7QUFFRjtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsU0FBUztJQUNULFlBQVk7SUFDWixpQkFBaUI7SUFDakIsaUNBQWlDO0lBQ2pDLGtCQUFrQjtBQUN0QjtBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFVBQVU7RUFDWjtBQUVGO0lBQ0ksb0JBQW9CO0FBQ3hCO0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7QUFFQTtJQUNJLGtDQUFrQztBQUN0QztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLG1DQUEyQjtJQUEzQiwyQkFBMkI7SUFDM0Isa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixtQkFBbUI7O0lBRW5COzs7OztrQkFLYztBQUNsQjtBQUVBO0lBQ0ksbUNBQTJCO0lBQTNCLDJCQUEyQjtBQUMvQjtBQUVBO0lBQ0ksZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksV0FBVztBQUNmO0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZiwyQkFBb0I7SUFBcEIsNEJBQW9CO0lBQXBCLG9CQUFvQjtJQUNwQixnQ0FBZ0M7SUFDaEMsbUJBQW1CO0lBQ25CLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLG9CQUFvQjtBQUN4QjtBQUVBO0lBQ0ksZUFBZTtJQUNmLGNBQWM7QUFDbEI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osUUFBUTtBQUNaO0FBRUE7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLGVBQWU7SUFDZixTQUFTO0lBQ1QsVUFBVTtJQUNWLCtCQUErQjtJQUMvQixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixTQUFTO0FBQ2I7QUFFQTtJQUNJLGVBQWU7SUFDZix1Q0FBdUM7RUFDekM7QUFFRjtJQUNJLGVBQWU7SUFDZixZQUFZO0VBQ2Q7QUFFRjtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osMEJBQTBCO0VBQzFCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjtBQUVBO0lBQ0ksbUJBQW1CLENBQUMsWUFBWTtBQUNwQztBQUdBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCO0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjtBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQix3QkFBd0I7SUFDeEIsK0JBQStCO0lBQy9CLHdCQUF3QjtJQUN4Qix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLG9CQUFpQjtPQUFqQixpQkFBaUI7SUFDakIsNEJBQW9CO0lBQXBCLG9CQUFvQjtBQUN4QjtBQUVBOzs7R0FHRztBQUVIO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZiwwQkFBMEI7SUFDMUIsd0JBQXdCO0lBQ3hCLGlCQUFpQjtJQUNqQiw2QkFBNkI7QUFDakM7QUFNQTs7OztHQUlHO0FBRUg7SUFDSTtRQUNJLGFBQWE7SUFDakI7O0lBRUE7UUFDSSx3QkFBZ0I7UUFBaEIsZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksWUFBWTtRQUNaLHNDQUE4QjtRQUE5Qiw4QkFBOEI7SUFDbEM7O0lBRUE7UUFDSSxZQUFZO0lBQ2hCOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLFNBQVM7SUFDYjtJQUNBO1FBQ0ksWUFBWTtRQUNaLGtCQUFrQjtJQUN0Qjs7SUFFQTtRQUNJLG9CQUFvQjtJQUN4Qjs7O0FBR0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9kaWFsb2ctaXRlbS1lZGl0L2RpYWxvZy1pdGVtLWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCAubWF0LWNoZWNrYm94LWxheW91dCB7IG1hcmdpbjogMHB4OyB3aWR0aDogMTAwJTsgcG9zaXRpb246IHJlbGF0aXZlO31cclxuOjpuZy1kZWVwIC5tYXQtY2hlY2tib3gtaW5uZXItY29udGFpbmVyIHsgbWFyZ2luLWxlZnQ6IDBweCAhaW1wb3J0YW50OyB9XHJcbi8qIHF1aXRhciBtYXMgYWRlbGFudGUgY3VhbmRvIGFjdHVhbGl6ZSBjc3MgKi9cclxuLyogOjpuZy1kZWVwIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gICAgbWF4LXdpZHRoOiA0NTBweCAhaW1wb3J0YW50O1xyXG59ICovXHJcblxyXG4vKiAuY3VzdG9tLWRpYWxvZy1jb250YWluZXIgLm1hdC1kaWFsb2ctY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50O1xyXG4gICAgbWluLXdpZHRoOiAzMDBweDtcclxuICAgIG1heC13aWR0aDogNDUwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLm15LWRpYWxvZy1vcmRlbi1kZXRhbGxlLm1hcmdlbi0wIC5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcclxuICAgIG1pbi13aWR0aDogMzAwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDQ1MHB4ICFpbXBvcnRhbnQ7XHJcbiAgfSAqL1xyXG5cclxuOjpuZy1kZWVwIC5jZGstb3ZlcmxheS1kYXJrLWJhY2tkcm9wIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjUyKTtcclxufVxyXG5cclxuLml0ZW0tY29udGVudCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5pLWhlYWRlciB7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAgIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn1cclxuXHJcbi50aXRsby1kZXRhbGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGZvbnQtZmFtaWx5OiBVYnVudHUtTGlnaHQ7XHJcbiAgICBjb2xvcjogIzYxNjE2MTtcclxuICAgIC8qIHRleHQtdHJhbnNmb3JtOiBsb3dlcmNhc2U7ICovXHJcbiAgfVxyXG5cclxuLmktc3RvY2sge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7ICAgIFxyXG59XHJcblxyXG4uaS1idG4tZXhpdCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMTBweDtcclxuICAgIHRvcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDhweDsgICAgXHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMTg5LDE4OSwxODksMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxufVxyXG5cclxuLmxpLXRhY2hhZG8ge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gIH1cclxuXHJcbi5zdWItaS10aXR1bG8tY29udGVudCB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLnN1Yi1pLXRpdHVsbyB7XHJcbiAgICBsaW5lLWhlaWdodDogMS4yO1xyXG59XHJcblxyXG4uYm9yZGUtYmFqbyB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmF5O1xyXG59XHJcblxyXG4uaS1ib2R5IHsgICAgXHJcbiAgICAvKiBtYXgtaGVpZ2h0OiAxMDB2aDsgICAgICovXHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNzBweCk7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLyogcGFkZGluZzogMTVweDsgKi9cclxuXHJcbiAgICAvKiBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgYm90dG9tOiAxNTBweCAhaW1wb3J0YW50O1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7ICovXHJcbn1cclxuXHJcbi5pLWJvZHkuaGUyIHtcclxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDExMHB4KTtcclxufVxyXG5cclxuLnR4dC1vYmxpZ2F0b3JpbyB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZTBlMGUwO1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIC8qIHRvcDogLTE4cHg7ICovXHJcbn1cclxuXHJcbi5tYXQtY2hlY2tib3gtbGF5b3V0IHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG4ueG9wdGlvbiB7ICAgICAgICBcclxuICAgIHBhZGRpbmctcmlnaHQ6IDhweDtcclxuICAgIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlZWVlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDJweDtcclxuICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbn1cclxuXHJcbi54b3B0aW9uIC5hZ290YWRvIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoO1xyXG4gICAgY29sb3I6IHBhbGV2aW9sZXRyZWQ7XHJcbn1cclxuXHJcbi54b3B0aW9uIC54cHJlY2lvIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGNvbG9yOiAjNzU3NTc1O1xyXG59XHJcblxyXG4ueHByZWNpby5hbGluZy1kZXJlY2hhe1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5pLWZvb3RlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgcG9zaXRpb246IGZpeGVkOyAgICBcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgbGlnaHRncmF5OyAgICBcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlOyAgICBcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJhY2tncm91bmQ6ICNlZWVlZWU7XHJcbn1cclxuXHJcbi5pLXByZWNpbyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMTVweDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0b3A6IDE4cHg7XHJcbn1cclxuXHJcbi50Yi10cGMgdHI+dGQge1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgLyogYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAjZTBlMGUwOyAqL1xyXG4gIH1cclxuXHJcbi50Yi10cGMtb25lIHRyPnRkIHtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9ICBcclxuXHJcbi5idG4tdGJsIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDdweCAxNnB4IDdweCAxNnB4O1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDRweDtcclxuICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbn1cclxuXHJcbiN0cGNfY29udGVudFtkaXNhYmxlZF0ge1xyXG4gICAgcG9pbnRlci1ldmVudHM6bm9uZTtvcGFjaXR5OjAuNDM7XHJcbn1cclxuXHJcblxyXG4uZXN0YWRvLWNvbG9yLXZlcmRlIHtcclxuICBiYWNrZ3JvdW5kOiAjNDNhMDQ3O1xyXG4gIGNvbG9yOiAjZTBlMGUwO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLWFtYXJpbGxvIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZiMzAwO1xyXG4gIGNvbG9yOiAjNDI0MjQyO1xyXG59XHJcblxyXG4uZXN0YWRvLWNvbG9yLXJvam8ge1xyXG4gIGJhY2tncm91bmQ6ICNkODFiNjA7XHJcbiAgY29sb3I6ICNlMGUwZTA7XHJcbn1cclxuXHJcbi5pbWctY2FydGEge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgLyogd2lkdGg6IGF1dG87ICovXHJcbiAgICAvKiBib3JkZXItcmFkaXVzOiAzcHg7ICovXHJcbiAgICAvKiBib3JkZXI6IHNvbGlkIDFweCAjZTBlMGUwOyAqL1xyXG4gICAgLyogbWFyZ2luLWJvdHRvbTogNXB4OyAqL1xyXG4gICAgLyogbWF4LWhlaWdodDogMjUwcHg7ICovXHJcbiAgICBtYXgtaGVpZ2h0OiA0MHZoO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xcztcclxufVxyXG5cclxuLyogLmltZy1jYXJ0YTpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06c2NhbGUoMS41KTtcclxuICAgIHotaW5kZXg6IDEwO1xyXG59ICovXHJcblxyXG4uZGl2LXRwYyB7XHJcbiAgICBib3R0b206IDUwcHg7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAvKiBwb3NpdGlvbjogc3RpY2t5OyAgICAgKi9cclxuICAgIC8qIHBvc2l0aW9uOiBhYnNvbHV0ZTsgKi9cclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNiZGJkYmQ7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgICAuaS1ib2R5IHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcbn0gKi9cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDQ1cHgpIHtcclxuICAgIC5pbWctY2FydGEge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmktZm9vdGVyIHsgICAgICAgIFxyXG4gICAgICAgIHBvc2l0aW9uOiBzdGlja3k7ICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuaS1ib2R5IHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgbWF4LWhlaWdodDogY2FsYyg5MHZoIC0gMTEwcHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC5pLWJvZHkuaGUyIHtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgLmRpdi10cGMge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICB9XHJcbiAgICAuZGl2LXRwYy1vbmUtb3B0aW9uIHtcclxuICAgICAgICBib3R0b206IDUwcHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgfVxyXG5cclxuICAgIC5kaXYtdHBjLW9uZS1vcHRpb24tYnV0dG9tIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogODBweDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/dialog-item-edit/dialog-item-edit.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/componentes/dialog-item-edit/dialog-item-edit.component.ts ***!
  \****************************************************************************/
/*! exports provided: DialogItemEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogItemEditComponent", function() { return DialogItemEditComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs_internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/internal/operators/takeUntil */ "./node_modules/rxjs/internal/operators/takeUntil.js");
/* harmony import */ var rxjs_internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/config/config.const */ "./src/app/shared/config/config.const.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/socket.service */ "./src/app/shared/services/socket.service.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");









// import { CrudHttpService } from 'src/app/shared/services/crud-http.service';
// import { type } from 'os';


let DialogItemEditComponent = class DialogItemEditComponent {
    constructor(miPedidoService, uttilService, infoToken, dialogRef, 
    //  private crudService: CrudHttpService,
    socketService, data, establecimientoService) {
        this.miPedidoService = miPedidoService;
        this.uttilService = uttilService;
        this.infoToken = infoToken;
        this.dialogRef = dialogRef;
        this.socketService = socketService;
        this.establecimientoService = establecimientoService;
        this._subitems_selected = []; // subitems chequeados
        this.isOptionRequeridosComplet = true; // si todos los cheks requeridos estan marcados
        this.isObjSubItems = true; // si el item tiene subitems
        this.isUsCliente = true; // si el usario es cliente o es personal autorizado
        this.isOneTipoConsumo = false; // s si solo hay un tipo de consumo sale enves del boton continuar
        this.url_img = src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_6__["URL_IMG_CARTA"];
        this.isWaitBtnMenos = false;
        this.destroyDlg$ = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.isFirstOpen = true; // controla los observables // el observable de cantidad no se ejecuta en la primera interaccion
        // this.idTpcItemResumenSelect = data.idTpcItemResumenSelect;
        // clear subitem cantidad
        this.clearSubItemOpcionesCtrlCant(data.item);
        this.item = data.item;
        this.item.cantidad = this.getCantidadItemCarta(); // trae el stock del item carta
        this.objItemTipoConsumoSelected = data.objItemTipoConsumoSelected;
        // console.log('set this.objItemTipoConsumoSelected', this.objItemTipoConsumoSelected);
        this.miPedidoService.setObjSeccionSeleced(data.seccion);
        this.miPedidoService.setobjItemTipoConsumoSelected(this.objItemTipoConsumoSelected);
        this.isOneTipoConsumo = this.objItemTipoConsumoSelected.length === 1;
        this.item.detalles = this.primerMayuscula(this.item.detalles);
        // this.miPedidoService.listenChangeCantItem();
        // console.log('this.item', this.item);
    }
    ngOnInit() {
        this.isUsCliente = this.infoToken.getInfoUs().isCliente;
        // listen cambios en el stock
        this.miPedidoService.itemStockChangeObserve$
            .pipe(Object(rxjs_internal_operators_takeUntil__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.destroyDlg$))
            .subscribe((res) => {
            // para que la ultima cantidad modificada
            if (this.isFirstOpen) {
                this.isFirstOpen = false;
                return;
            }
            if (this.item.iditem === res.iditem) {
                this.item.cantidad = res.cantidad;
            }
        });
        this.item.subitems_selected = null;
        this.item.subitems_view = null;
        // this.cocinarListSubItemsView();
        this.getSubItemsItemSelect(this.item);
        // this.compItemSumImporte();
        // this.item.subitems.map((sub: SubItem) => sub.selected = false);
        this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();
    }
    ngOnDestroy() {
        this.destroyDlg$.next(true);
        this.destroyDlg$.unsubscribe();
    }
    // reset control cantidad
    clearSubItemOpcionesCtrlCant(_item) {
        if (!_item.cantidad_seleccionada || (_item === null || _item === void 0 ? void 0 : _item.cantidad_seleccionada) === 0) {
            if (!_item.subitems) {
                return;
            }
            _item.subitems.map((i) => {
                if (i.show_cant_item === 1) {
                    i.opciones.map((o) => {
                        if ((o === null || o === void 0 ? void 0 : o.cantidad_selected) > 0) {
                            o.des = o.desIni;
                            o.precio = o.precio_first.toFixed(2);
                            o.cantidad_selected = 0;
                            o.stop_add = false;
                        }
                    });
                }
            });
        }
    }
    shoFirstChartUpperOptions(_item) {
        if (!_item.subitems) {
            return;
        }
        _item.subitems.map((i) => {
            i.opciones.map((o) => {
                o.des = this.uttilService.primeraConMayusculas(o.des.toLowerCase());
            });
        });
    }
    getCantidadItemCarta() {
        return parseInt(this.miPedidoService.findItemCarta(this.item).cantidad.toString(), 0);
    }
    // get subitems item seleccionado
    getSubItemsItemSelect(elItem) {
        // si de bodega no lleva subitems
        if (elItem.procede === 0) {
            this.isObjSubItems = false;
            this.isOptionRequeridosComplet = true;
            return;
        }
        // verificamos si ya buscamos los subitems de este item
        if (!elItem.is_search_subitems) {
            // buscamos
            // const _dataIdItem = {
            //   iditem: elItem.iditem
            // };
            // this.crudService.postFree(_dataIdItem, 'pedido', 'search-subitems-del-item', false).subscribe((res: any) => {
            this.socketService.emitRes('search-subitems-del-item', elItem.iditem).subscribe((res) => {
                // console.log('res subitems', res);
                let _resSubItems = res[0].respuesta;
                _resSubItems = typeof _resSubItems === 'string' ? JSON.parse(_resSubItems) : null;
                elItem.subitems = _resSubItems;
                elItem.is_search_subitems = true;
                this.shoFirstChartUpperOptions(elItem);
                this.cocinarListSubItemsView();
                this.compItemSumImporte();
            });
        }
        else {
            this.shoFirstChartUpperOptions(elItem);
            this.cocinarListSubItemsView();
            this.compItemSumImporte();
        }
    }
    // get subitems item seleccionado
    cocinarListSubItemsView() {
        // console.log('subitems');
        if (this.item.subitems && this.item.subitems.length > 0) {
            this.item.subitems.map((z) => {
                z.isSoloUno = z.subitem_cant_select_ini === 1 ? true : false;
                z.isObligatorio = z.subitem_required_select === 1 ? true : false;
                // z.subitem_cant_select_ini = z.subitem_cant_select;
                z.subitem_cant_select = z.subitem_cant_select === 0 ? z.opciones.length : z.subitem_cant_select;
                z.des_cant_select = z.isSoloUno ? `Solo 1` : `Hasta ${z.subitem_cant_select}`;
                z.des_cant_select = z.show_cant_item === 1 && z.subitem_cant_select_ini === 0 ? 'Seleccione' : z.des_cant_select;
                // z.isRequeridComplet = !z.isObligatorio ? true : false;
                z.opciones.map((x) => {
                    x.iditem_subitem = x.iditem_subitem;
                    x.precio_visible = x.precio === 0 ? false : true;
                    x.precio = x.precio_visible ? x.precio : 0;
                    x.cantidad_visible = isNaN(parseFloat(x.cantidad)) ? false : true;
                    // x.disabled = x.cantidad <= 0 ? true : false;
                    // x.classAgotado = x.cantidad <= 0 ? 'agotado' : '';
                    x.selected = false;
                });
            });
            this.isObjSubItems = true;
            this.item.indicaciones = '';
            this.checkOptionObligario();
        }
        else {
            this.isObjSubItems = false;
            this.isOptionRequeridosComplet = true;
        }
    }
    addSubItemCtrlCantidad(subitemContent, subItemCant) {
        subItemCant.selected = subItemCant.cantidad_selected > 0;
        if (subItemCant.cantidad_selected === 1) {
            if (parseFloat(subItemCant.precio) > subItemCant.precio_first) {
                subItemCant.precio_first = subItemCant.precio_first;
            }
            else {
                subItemCant.desIni = subItemCant.precio_first !== 0 ? subItemCant.des : subItemCant.desIni;
                subItemCant.precio_first = parseFloat(subItemCant.precio);
            }
        }
        // subItemCant.precio_first = subItemCant.cantidad_selected === 1 ? parseFloat(subItemCant.precio) > subItemCant.precio_first ? subItemCant.precio_first : parseFloat(subItemCant.precio) : subItemCant.precio_first;
        if (subItemCant.cantidad_selected > 1) {
            subItemCant.precio = subItemCant.isSuma_selected ? parseFloat(subItemCant.precio) + parseFloat(subItemCant.precio_first) : parseFloat(subItemCant.precio) - parseFloat(subItemCant.precio_first);
        }
        else {
            subItemCant.precio = subItemCant.precio_first;
        }
        subItemCant.des = subItemCant.cantidad_selected > 0 ? `${subItemCant.cantidad_selected} ${subItemCant.desIni}` : subItemCant.desIni;
        subItemCant.precio = subItemCant.precio.toFixed(2);
        // stop add
        if (subitemContent.subitem_cant_select_ini === 0) {
            subItemCant.stop_add = false;
        }
        else {
            const _cantOpciones = subitemContent.opciones.map((x) => x.cantidad_selected || 0).reduce((a, b) => a + b, 0);
            const isStopAdd = subitemContent.subitem_cant_select === _cantOpciones;
            subitemContent.opciones.map((x) => x.stop_add = isStopAdd);
        }
        // console.log('subItemCant', subItemCant);
        this.addSubItem(subitemContent, subItemCant);
    }
    addSubItem(subitemContent, subitem) {
        // chequeamos cuantos subitem estan checkes
        // console.log('aadd subitem', subitem);
        // console.log('aadd subitemContent', subitemContent);
        let listSubItemChecked = subitemContent.opciones.filter((x) => x.selected);
        let countSelectReq = listSubItemChecked.length;
        listSubItemChecked.map((_subItem, i) => {
            if (countSelectReq > subitemContent.subitem_cant_select && _subItem !== subitem) {
                _subItem.selected = false;
                countSelectReq--;
            }
        });
        // total de cheks chekeados
        listSubItemChecked = subitemContent.opciones.filter((x) => x.selected);
        const countOptionsCheks = listSubItemChecked.length;
        // quita el obligatorio
        if (subitemContent.subitem_required_select === 1) {
            if (subitemContent.show_cant_item === 1) {
                const _cantOptionsSelcted = subitemContent.opciones.map((x) => x.cantidad_selected || 0).reduce((a, b) => a + b, 0);
                subitemContent.isObligatorio = _cantOptionsSelcted === subitemContent.subitem_cant_select ? false : true;
            }
            else {
                subitemContent.isObligatorio = countOptionsCheks === subitemContent.subitem_cant_select ? false : true;
            }
        }
        // agrega las opciones seleccionadas al subitems_selected del item;
        this._subitems_selected = [];
        this.item.subitems.map((sc) => {
            sc.opciones.filter((s) => s.selected)
                .map((s) => {
                this._subitems_selected.push(s);
            });
        });
        this.item.subitems_selected = this._subitems_selected;
        this.checkOptionObligario();
        this.compItemSumImporte(true);
    }
    // chequea si todas las opciones requeridas ya estan marcadas
    checkOptionObligario() {
        let countOptionReq = 0;
        if (!this.item.subitems || this.item.subitems === null) {
            this.isOptionRequeridosComplet = true;
            return;
        }
        this.item.subitems.map(t => {
            countOptionReq = t.isObligatorio ? +1 : countOptionReq;
        });
        this.isOptionRequeridosComplet = countOptionReq === 0 ? true : false;
    }
    compItemSumImporte(fromToCheck = false) {
        if (fromToCheck) {
            let _importeChecks = 0;
            this.item.subitems.map(t => {
                t.opciones.filter(o => o.selected).map(o => {
                    _importeChecks += parseFloat(o.precio.toString());
                });
            });
            this.precioProducto = this._precioProductoIni + _importeChecks;
        }
        else {
            // si viene del btn add +
            this.precioProducto = this.getImporteTotalItem();
            this._precioProductoIni = this.precioProducto;
        }
    }
    getImporteTotalItem() {
        let rpt = 0;
        rpt = this.miPedidoService.getImporteTotalItemFromMiPedido(this.item);
        rpt = rpt === 0 ? parseFloat(this.item.precio) : rpt;
        return rpt;
    }
    addItemToDialogItem(tpcSelect, suma) {
        let paseCantSuItem = true;
        this.item.subitems_selected = this._subitems_selected;
        // agrega tipo de consumo para identificar y no sumar de otro tpc
        this.item.subitems_selected.map(subi => subi.idtipo_consumo = tpcSelect.idtipo_consumo);
        // ver si selecciono subitems y si ese subitem tiene stock disponible
        this.item.subitems_selected.map((t) => {
            if (t.cantidad !== 'ND') {
                if (parseFloat(t.cantidad.toString()) === 0) {
                    paseCantSuItem = false;
                    return;
                }
            }
        });
        if (!paseCantSuItem) {
            return;
        }
        // ver si selecciono subitems y si ese subitem tiene stock disponible
        this.miPedidoService.addItem2(tpcSelect, this.item, suma);
        tpcSelect.animar_cantidad = true;
        setTimeout(() => {
            tpcSelect.animar_cantidad = false;
        }, 500);
        this.compItemSumImporte();
        // this.item.indicaciones = this.isObjSubItems ? '' : this.item.indicaciones;
    }
    setIndicaciones(val) {
        var _a;
        this.item.indicaciones = this.uttilService.addslashes(val);
        // this.item.indicaciones = val;
        let isItemSubISelected = false;
        if (this.isObjSubItems) {
            isItemSubISelected = ((_a = this.item.subitems_selected) === null || _a === void 0 ? void 0 : _a.length) > 0;
        }
        // agrega las indicaciones si existe en mipedido y si no tienen subitems
        const _itemFromPedido = this.miPedidoService.findOnlyItemMiPedido(this.item);
        if (_itemFromPedido && !this.isObjSubItems) {
            _itemFromPedido.indicaciones = val;
        }
        if (_itemFromPedido && !isItemSubISelected) {
            _itemFromPedido.indicaciones = val;
        }
        this.miPedidoService.setLocalStoragePedido();
    }
    getEstadoStockItem(stock) {
        if (stock === 'ND' || isNaN(stock)) {
            // stock = 'ND';
            return 'verde';
        }
        else {
            const _stock = parseInt(stock, 0);
            return _stock > 10 ? 'verde' : _stock > 5 ? 'amarillo' : 'rojo';
        }
    }
    cerrarDlg() {
        this.dialogRef.close();
    }
    primerMayuscula(val) {
        return this.uttilService.primeraConMayusculas(val);
    }
};
DialogItemEditComponent.ctorParameters = () => [
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__["MipedidoService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_9__["SocketService"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_10__["EstablecimientoService"] }
];
DialogItemEditComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-item-edit',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-item-edit.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-item-edit/dialog-item-edit.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-item-edit.component.css */ "./src/app/componentes/dialog-item-edit/dialog-item-edit.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_3__["MipedidoService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
        src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_9__["SocketService"], Object, src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_10__["EstablecimientoService"]])
], DialogItemEditComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin: 0px;\r\n}\r\n\r\n.div-list-icon {\r\n    display: grid;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    grid-gap: 10px;\r\n    grid-template-columns: repeat(auto-fill, 65px);    \r\n}\r\n\r\n.div-list-icon p {\r\n    margin: 0px;\r\n}\r\n\r\n.item-option-pago {\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #9e9e9e;\r\n    border-radius: 5px;\r\n    font-size: 12px;\r\n    background-color: white;\r\n    margin-left: 5px;\r\n    -webkit-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    font-weight: 600;\r\n}\r\n\r\n.item-option-pago-selected {\r\n    /* background-color: black;\r\n    color: white; */\r\n    background-color: slategrey;\r\n    /* border: 1px solid gold; */\r\n    color: white;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLW1ldG9kby1wYWdvL2RpYWxvZy1tZXRvZG8tcGFnby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxjQUFjO0lBQ2QsY0FBYztJQUNkLDhDQUE4QztBQUNsRDs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFHQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtJQUNoQiw0QkFBb0I7SUFBcEIsb0JBQW9CO0lBQ3BCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJO21CQUNlO0lBQ2YsMkJBQTJCO0lBQzNCLDRCQUE0QjtJQUM1QixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLW1ldG9kby1wYWdvL2RpYWxvZy1tZXRvZG8tcGFnby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW46IDBweDtcclxufVxyXG5cclxuLmRpdi1saXN0LWljb24ge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBncmlkLWdhcDogMTBweDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgNjVweCk7ICAgIFxyXG59XHJcblxyXG4uZGl2LWxpc3QtaWNvbiBwIHtcclxuICAgIG1hcmdpbjogMHB4O1xyXG59XHJcblxyXG5cclxuLml0ZW0tb3B0aW9uLXBhZ28ge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbi5pdGVtLW9wdGlvbi1wYWdvLXNlbGVjdGVkIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6IHdoaXRlOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogc2xhdGVncmV5O1xyXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgZ29sZDsgKi9cclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.ts ***!
  \********************************************************************************/
/*! exports provided: DialogMetodoPagoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogMetodoPagoComponent", function() { return DialogMetodoPagoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");





let DialogMetodoPagoComponent = class DialogMetodoPagoComponent {
    constructor(dialogRef, data, infoTokenService, establecimientoService) {
        this.dialogRef = dialogRef;
        this.infoTokenService = infoTokenService;
        this.establecimientoService = establecimientoService;
        this.isMontoVisible = false;
        this.formValid = false;
        this.isFromNoComercio = false; // si no viene de comercio
        this.isHabilitadoYape = true;
        this.isHabilitadoTarjeta = true; // comercios no afiliado no se acepta tarjeta por la comision que cobran, algunos comercios tambien pueden especificar que no desean pagos con tarjeta
        this.isComercioSolidaridad = false;
        this.importeValid = false;
        this.isClientePedido = false;
        this.importeTotal = parseFloat(data.importeTotalPagar);
        this.isFromNoComercio = data.isFromComercio ? false : true; // si no viene ese dato entonces viene de un coemrico
        this.idExluir = data.excluirId;
    }
    ngOnInit() {
        this.isHabilitadoYape = this.isFromNoComercio ? true : this.establecimientoService.get().pwa_delivery_acepta_yape === 1;
        this.isHabilitadoTarjeta = this.establecimientoService.get().pwa_delivery_acepta_tarjeta === 1;
        this.isComercioSolidaridad = this.establecimientoService.get().pwa_delivery_comercio_solidaridad === 1;
        this.isClientePedido = this.infoTokenService.infoUsToken.isCliente;
        this.loadMetodoPago();
        this.itemSelected = this.infoTokenService.infoUsToken.metodoPago;
        this.itemSelected.info = this.itemSelected.info ? this.itemSelected.info : '';
        this.verificarMetodoInit();
    }
    loadMetodoPago() {
        this.listMetodoPago = [];
        this.listMetodoPago.push({ 'idtipo_pago': 2, 'descripcion': 'Tarjeta', 'checked': true, visible: this.isHabilitadoTarjeta, importe: '', img: '_tp_tarjeta.png', info: '' });
        this.listMetodoPago.push({ 'idtipo_pago': 3, 'descripcion': 'Yape', 'checked': false, visible: this.isHabilitadoYape, importe: '', img: '_tp_yape.png',
            info: 'El Yapeo debe realizarle al repartidor al momento de recibir su pedido.' });
        this.listMetodoPago.push({ 'idtipo_pago': 6, 'descripcion': 'Plin', 'checked': false, visible: this.isHabilitadoYape, importe: '', img: '_tp_plin.png',
            info: 'El Plineo debe realizarle al repartidor al momento de recibir su pedido.' });
        this.listMetodoPago.push({ 'idtipo_pago': 1, 'descripcion': 'Efectivo', 'checked': false, visible: true, importe: '', img: '_tp_efectivo.png', info: '' });
        this.listMetodoPago.push({ 'idtipo_pago': 4, 'descripcion': 'POS', 'checked': false, visible: !this.isClientePedido, importe: '', img: '_tp_pos.png', info: '' });
        this.listMetodoPago.push({ 'idtipo_pago': 5, 'descripcion': 'Trasferencia', 'checked': false, visible: !this.isClientePedido, importe: '', img: '_tp_transferencia.png', info: '' });
        this.validaCociones();
    }
    validaCociones() {
        // exlucion -- mayormente tarjeta cuando el comercio hace pedido delivery
        if (this.idExluir) {
            this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago !== this.idExluir).map(m => m);
        }
        // if ( !this.isHabilitadoYape ) {
        //   this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago !== 3 ).map(m => m);
        // }
        // exclui metodos de pago no habilitados
        this.listMetodoPago = this.listMetodoPago.filter(m => m.visible).map(m => m);
        // si es comercio solidario solo tarjeta
        if (this.isComercioSolidaridad) {
            this.listMetodoPago = this.listMetodoPago.filter(m => m.idtipo_pago === 2).map(m => m);
        }
    }
    verificarMetodoInit() {
        if (this.itemSelected.idtipo_pago === 1) {
            this.isMontoVisible = true;
            this.importeIndicado = this.itemSelected.importe.toString();
            this.verificarImporte(this.importeIndicado);
        }
        this.listMetodoPago.map(x => {
            x.checked = x.idtipo_pago === this.itemSelected.idtipo_pago ? true : false;
        });
        this.verificarValidForm();
    }
    chageItem(item) {
        this.listMetodoPago.map(x => x.checked = false);
        this.isMontoVisible = false;
        this.importeValid = false;
        this.importeIndicado = '';
        item.checked = true;
        this.itemSelected = item;
        if (item.idtipo_pago === 1) {
            this.isMontoVisible = true;
        }
        this.verificarValidForm();
    }
    verificarImporte(importe) {
        this.importeValid = parseFloat(importe) >= this.importeTotal;
        this.importeIndicado = importe;
        this.itemSelected.importe = this.importeIndicado;
        this.verificarValidForm();
    }
    verificarValidForm() {
        this.formValid = this.itemSelected.idtipo_pago !== 1 ? true : this.importeValid;
    }
    cerrarDlg() {
        this.infoTokenService.setMetodoPago(this.itemSelected);
        this.dialogRef.close(this.itemSelected);
    }
    selectedItemOptionPago(item) {
        this.listMetodoPago.map(x => x.checked = false);
        this.isMontoVisible = false;
        this.importeValid = false;
        this.importeIndicado = '';
        item.checked = true;
        this.itemSelected = item;
        if (item.idtipo_pago === 1) {
            this.isMontoVisible = true;
        }
        this.verificarValidForm();
        // this.listOpciones.map(x => x.selected = false);
        // item.selected = true;
        // this.itemSelected = item;
        // this.optionSelected.emit(this.itemSelected);
    }
};
DialogMetodoPagoComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__["EstablecimientoService"] }
];
DialogMetodoPagoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-metodo-pago',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-metodo-pago.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-metodo-pago.component.css */ "./src/app/componentes/dialog-metodo-pago/dialog-metodo-pago.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_4__["EstablecimientoService"]])
], DialogMetodoPagoComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.css ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1ub21icmUtY2xpZW50ZS9kaWFsb2ctbm9tYnJlLWNsaWVudGUuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.ts ***!
  \**************************************************************************************/
/*! exports provided: DialogNombreClienteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogNombreClienteComponent", function() { return DialogNombreClienteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");



let DialogNombreClienteComponent = class DialogNombreClienteComponent {
    constructor(dialogRef) {
        this.dialogRef = dialogRef;
        this.isValidForm = false;
    }
    ngOnInit() {
    }
    verificarNombre(val) {
        this.isValidForm = val.length > 3;
        this.nombre_cliente = val;
    }
    cerrarDlg() {
        this.dialogRef.close(this.nombre_cliente);
    }
};
DialogNombreClienteComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] }
];
DialogNombreClienteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-nombre-cliente',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-nombre-cliente.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-nombre-cliente.component.css */ "./src/app/componentes/dialog-nombre-cliente/dialog-nombre-cliente.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
], DialogNombreClienteComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.css ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy1zZWxlY3QtZGlyZWNjaW9uL2RpYWxvZy1zZWxlY3QtZGlyZWNjaW9uLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DialogSelectDireccionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogSelectDireccionComponent", function() { return DialogSelectDireccionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/listen-status.service */ "./src/app/shared/services/listen-status.service.ts");




let DialogSelectDireccionComponent = class DialogSelectDireccionComponent {
    constructor(dialogRef, listenService, data) {
        this.dialogRef = dialogRef;
        this.listenService = listenService;
        this.isShowAddDireccion = false;
        this.isGuardarDireccion = true;
        this.isGuardarDireccion = data ? data.isGuardar : true;
        this._idClienteBuscar = data ? data.idClienteBuscar : null;
    }
    ngOnInit() {
    }
    setDireccion($event) {
        this.direccionSelected = $event;
        this.listenService.setChangeDireccionDelivery(this.direccionSelected);
        this.cerrarDlg();
    }
    showAddDireccion() {
        this.isShowAddDireccion = true;
    }
    cerrarDlg() {
        this.dialogRef.close(this.direccionSelected);
    }
};
DialogSelectDireccionComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_3__["ListenStatusService"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] }
];
DialogSelectDireccionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-select-direccion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-select-direccion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-select-direccion.component.css */ "./src/app/componentes/dialog-select-direccion/dialog-select-direccion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
        src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_3__["ListenStatusService"], Object])
], DialogSelectDireccionComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.css ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-content-dialog {\r\n    /* display: flex; */\r\n\r\n    -webkit-box-align: center;\r\n\r\n    -webkit-align-items: center;\r\n\r\n            align-items: center;\r\n    \r\n    height: -webkit-calc(100% - 95px);\r\n    \r\n    height: calc(100% - 95px);\r\n    overflow: auto;\r\n\r\n\r\n}\r\n\r\n/* .xfooter-dialog {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    left: 0px;\r\n} */\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZGlhbG9nLXRpZW1wby1lbnRyZWdhL2RpYWxvZy10aWVtcG8tZW50cmVnYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUJBQW1COztJQUVuQix5QkFBbUI7O0lBQW5CLDJCQUFtQjs7WUFBbkIsbUJBQW1COztJQUVuQixpQ0FBeUI7O0lBQXpCLHlCQUF5QjtJQUN6QixjQUFjOzs7QUFHbEI7O0FBRUE7Ozs7R0FJRyIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy10aWVtcG8tZW50cmVnYS9kaWFsb2ctdGllbXBvLWVudHJlZ2EuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtY29udGVudC1kaWFsb2cge1xyXG4gICAgLyogZGlzcGxheTogZmxleDsgKi9cclxuXHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgXHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDk1cHgpO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcblxyXG5cclxufVxyXG5cclxuLyogLnhmb290ZXItZGlhbG9nIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gICAgbGVmdDogMHB4O1xyXG59ICovIl19 */");

/***/ }),

/***/ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.ts ***!
  \**************************************************************************************/
/*! exports provided: DialogTiempoEntregaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogTiempoEntregaComponent", function() { return DialogTiempoEntregaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");






let DialogTiempoEntregaComponent = class DialogTiempoEntregaComponent {
    constructor(dialogRef, establecimientoService, inforTokenService) {
        this.dialogRef = dialogRef;
        this.establecimientoService = establecimientoService;
        this.inforTokenService = inforTokenService;
        this.isComercioAceptaPedidoProgramado = false;
        this.isPersonalAutorizado = false;
        this.rippleColor = 'rgb(255,238,88, 0.3)';
        this.isHoraValid = true;
        this.dateNow = new Date();
    }
    ngOnInit() {
        this.hourNow = this.dateNow.getHours();
        this.minNow = this.dateNow.getMinutes();
        this.infoEstablecimiento = this.establecimientoService.get();
        this.isPersonalAutorizado = !this.inforTokenService.getInfoUs().isCliente;
        this.isComercioAceptaPedidoProgramado = this.infoEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1;
    }
    selectedTime($event) {
        this.tiempoEntregaSelected = $event;
    }
    timePersonalAutorizado() {
        this.isHoraValid = this.hourNow <= 24 && this.minNow <= 59;
        const _houra = this.hourNow + ':' + this.minNow;
        const _valAdd = this.dateNow.toLocaleDateString() + ' ' + _houra;
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_4__["TiempoEntregaModel"]();
        this.tiempoEntregaSelected.dia = 'Hoy';
        this.tiempoEntregaSelected.descripcion = 'Hoy';
        this.tiempoEntregaSelected.hora = _houra;
        this.tiempoEntregaSelected.value = _houra;
        this.tiempoEntregaSelected.date = _valAdd;
        this.tiempoEntregaSelected.idhora = 0;
        this.tiempoEntregaSelected.iddia = 0;
        this.tiempoEntregaSelected.modificado = true;
        this.tiempoEntregaSelected.isUsuarioAutorizado = true;
    }
    cerrarDlg() {
        this.dialogRef.close(this.tiempoEntregaSelected);
    }
};
DialogTiempoEntregaComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"] }
];
DialogTiempoEntregaComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-tiempo-entrega',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-tiempo-entrega.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-tiempo-entrega.component.css */ "./src/app/componentes/dialog-tiempo-entrega/dialog-tiempo-entrega.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"]])
], DialogTiempoEntregaComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.css ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy10aXBvLWNvbXByb2JhbnRlL2RpYWxvZy10aXBvLWNvbXByb2JhbnRlLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DialogTipoComprobanteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogTipoComprobanteComponent", function() { return DialogTipoComprobanteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");





let DialogTipoComprobanteComponent = class DialogTipoComprobanteComponent {
    constructor(dialogRef, infoTokenService, utilService) {
        this.dialogRef = dialogRef;
        this.infoTokenService = infoTokenService;
        this.utilService = utilService;
        this.datosComprobante = {
            dni: '',
            otro: ''
        };
    }
    ngOnInit() {
        this.loadTipoComprobante();
        this.itemSelected = this.infoTokenService.infoUsToken.tipoComprobante;
        this.datosComprobante.dni = this.itemSelected.dni;
        this.datosComprobante.otro = this.itemSelected.otro_dato;
        this.verificarComprobanteInit();
    }
    loadTipoComprobante() {
        this.listTipoComprobante = [];
        this.listTipoComprobante.push({ 'idtipo_comprobante': 1, 'descripcion': 'Boleta', 'checked': true });
        this.listTipoComprobante.push({ 'idtipo_comprobante': 2, 'descripcion': 'Factura', 'checked': false });
    }
    verificarComprobanteInit() {
        this.listTipoComprobante.map(x => {
            x.checked = x.idtipo_comprobante === this.itemSelected.idtipo_comprobante ? true : false;
        });
    }
    chageItem(item) {
        this.listTipoComprobante.map(x => x.checked = false);
        item.checked = true;
        this.itemSelected = item;
    }
    cerrarDlg() {
        this.itemSelected.dni = this.datosComprobante.dni;
        this.itemSelected.otro_dato = this.utilService.addslashes(this.datosComprobante.otro);
        this.infoTokenService.setTipoComprobante(this.itemSelected);
        this.dialogRef.close(this.itemSelected);
    }
};
DialogTipoComprobanteComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_4__["UtilitariosService"] }
];
DialogTipoComprobanteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-tipo-comprobante',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-tipo-comprobante.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-tipo-comprobante.component.css */ "./src/app/componentes/dialog-tipo-comprobante/dialog-tipo-comprobante.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_4__["UtilitariosService"]])
], DialogTipoComprobanteComponent);



/***/ }),

/***/ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.css":
/*!***********************************************************************************************!*\
  !*** ./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.css ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2RpYWxvZy12ZXJpZmljYXItdGVsZWZvbm8vZGlhbG9nLXZlcmlmaWNhci10ZWxlZm9uby5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: DialogVerificarTelefonoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogVerificarTelefonoComponent", function() { return DialogVerificarTelefonoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/socket.service */ "./src/app/shared/services/socket.service.ts");
/* harmony import */ var src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");






let DialogVerificarTelefonoComponent = class DialogVerificarTelefonoComponent {
    constructor(dialogRef, data, crudService, socketService, verifyClientService) {
        var _a;
        this.dialogRef = dialogRef;
        this.crudService = crudService;
        this.socketService = socketService;
        this.verifyClientService = verifyClientService;
        this.isValidForm = false;
        this.isSendSMS = false;
        this.isNumberSuccess = 0;
        this.loader = 0;
        this.isVerificacionOk = false;
        this.intentoVerificacion = 0;
        this.numSegundosActivarBtn = 15;
        this.isContandoShow = false;
        this.isClienteNoRegister = false;
        this.data = data;
        // cliente aun no definido
        // busca el cliente por el numero de telefono sino lo encuentra
        // crea un registro temporal de codigo verificacion
        if (((_a = this.data) === null || _a === void 0 ? void 0 : _a.idcliente) === -1) {
            this.isClienteNoRegister = true;
        }
    }
    ngOnInit() {
        // setTimeout(() => {
        if (!this.socketService.isSocketOpen) {
            this.infoClient = this.verifyClientService.getDataClient();
            console.log('this.infoClient', this.infoClient);
            this.socketService.connect(this.infoClient, 0, false, false);
        }
        // }, 2000);
        // respuesta del msj verificacion
        this.socketService.onMsjVerificacionResponse().subscribe((res) => {
            console.log('repuesta == ', res);
            if (res.msj) {
                this.intentoVerificacion = 0;
            } // por si quiere enviar nuevamente
            this.isNumberSuccess = res.msj ? 1 : 2;
            this.isSendSMS = true; // res.msj;
            this.isValidForm = false;
            this.isContandoShow = false;
            this.detenerContadorBtnSend();
        });
    }
    enviarCodigoSMS() {
        if (this.isClienteNoRegister) {
            this.buscarClienteTelefono();
            return;
        }
        this.sendSMS();
    }
    sendSMS() {
        this.isVerificacionOk = false;
        this.isSendSMS = false;
        this.isContandoShow = false;
        this.isNumberSuccess = 0;
        this.numSegundosActivarBtn = 15;
        // por wsp
        if (this.intentoVerificacion === 0) {
            this.data.idsocket = this.socketService.getIdSocket();
            if (!this.socketService.isSocketOpen) {
                this.socketService.connect(this.infoClient, 0, false, false);
            }
            setTimeout(() => {
                this.socketService.emit('msj-confirma-telefono', this.data);
            }, 500);
            this.isContandoShow = true;
            this.contadorActvarBtnSend();
            return;
        }
        // console.log('enviando por msj texto');
        this.contadorActvarBtnSend();
        this.crudService.postSMS(this.data, 'delivery', 'send-sms-confirmation', false)
            .subscribe(res => {
            this.isNumberSuccess = res.msj ? 1 : 2;
            this.isSendSMS = res.msj;
            this.isValidForm = false;
            this.detenerContadorBtnSend();
        });
    }
    verificarCodigoSMS(val) {
        this.loader = 1;
        // this.isVerificacionOk = true;
        // idcliente -2  verifica -1 guarda codigo tmp
        const _dataCod = {
            idcliente: this.isClienteNoRegister ? -2 : this.data.idcliente,
            codigo: val,
            numberphone: this.data.numberphone
        };
        this.crudService.postFree(_dataCod, 'delivery', 'verificar-codigo-sms', false)
            .subscribe(res => {
            this.isVerificacionOk = res.data[0].response === 1 ? true : false;
            setTimeout(() => {
                this.loader = this.isVerificacionOk ? 2 : 3;
                this.data.verificado = this.isVerificacionOk;
                // this.loader = 2;s
                if (this.isVerificacionOk) {
                    setTimeout(() => {
                        this.cerrarDlg();
                    }, 1000);
                }
            }, 1000);
        });
    }
    verificarNum(telefono) {
        this.isValidForm = telefono.trim().length >= 5 ? true : false;
        this.data.numberphone = telefono;
        this.data.verificado = false;
    }
    contadorActvarBtnSend() {
        this.isContandoShow = true;
        this.conteoInterval = setInterval(() => {
            if (this.numSegundosActivarBtn > 0) {
                this.numSegundosActivarBtn--;
            }
            else {
                this.numSegundosActivarBtn = 15;
                this.isSendSMS = true;
                this.isContandoShow = false;
                this.intentoVerificacion = 1;
                clearInterval(this.conteoInterval);
            }
        }, 1000);
    }
    detenerContadorBtnSend() {
        this.numSegundosActivarBtn = 15;
        this.isSendSMS = true;
        this.isContandoShow = false;
        clearInterval(this.conteoInterval);
    }
    buscarClienteTelefono() {
        const _dataSend = {
            telefono: this.data.numberphone
        };
        this.crudService.postFree(_dataSend, 'delivery', 'search-cliente-by-phone', false)
            .subscribe((res) => {
            console.log('cliten con telefono', res);
            this.data.isClienteTelefono = true;
            this.data.cliente = res.data.length > 0 ? res.data[0] : null;
            if (res.data.length > 0) {
                this.isClienteNoRegister = false;
                this.data.idcliente = this.data.cliente.idcliente;
            }
            this.sendSMS();
        });
    }
    cerrarDlg() {
        this.dialogRef.close(this.data);
    }
};
DialogVerificarTelefonoComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] },
    { type: src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_4__["SocketService"] },
    { type: src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_5__["VerifyAuthClientService"] }
];
DialogVerificarTelefonoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-verificar-telefono',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-verificar-telefono.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-verificar-telefono.component.css */ "./src/app/componentes/dialog-verificar-telefono/dialog-verificar-telefono.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"],
        src_app_shared_services_socket_service__WEBPACK_IMPORTED_MODULE_4__["SocketService"],
        src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_5__["VerifyAuthClientService"]])
], DialogVerificarTelefonoComponent);



/***/ }),

/***/ "./src/app/componentes/encuesta-opcion/encuesta-opcion.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/componentes/encuesta-opcion/encuesta-opcion.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".btnIco {\r\n    opacity: 0.7;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    /* width: 112px; */\r\n    -webkit-transition: -webkit-transform .2s;\r\n    transition: -webkit-transform .2s;\r\n    transition: transform .2s;\r\n    transition: transform .2s, -webkit-transform .2s; /* Animation */\r\n}\r\n\r\n.btnIco:hover {\r\n    -webkit-transform: scale(1.2);\r\n            transform: scale(1.2);\r\n    opacity: 1;\r\n}\r\n\r\n.divBtn {\r\n    display: grid;\r\n}\r\n\r\n.divBtn span {\r\n    color: #757575;\r\n}\r\n\r\n.op {\r\n    text-align: center;    \r\n    line-height: 1;\r\n}\r\n\r\n.op img {\r\n    width: 65px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvZW5jdWVzdGEtb3BjaW9uL2VuY3Vlc3RhLW9wY2lvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLHlDQUF5QjtJQUF6QixpQ0FBeUI7SUFBekIseUJBQXlCO0lBQXpCLGdEQUF5QixFQUFFLGNBQWM7QUFDN0M7O0FBRUE7SUFDSSw2QkFBcUI7WUFBckIscUJBQXFCO0lBQ3JCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy9lbmN1ZXN0YS1vcGNpb24vZW5jdWVzdGEtb3BjaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuSWNvIHtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAvKiB3aWR0aDogMTEycHg7ICovXHJcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzOyAvKiBBbmltYXRpb24gKi9cclxufVxyXG5cclxuLmJ0bkljbzpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG4uZGl2QnRuIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbn1cclxuXHJcbi5kaXZCdG4gc3BhbiB7XHJcbiAgICBjb2xvcjogIzc1NzU3NTtcclxufVxyXG5cclxuLm9wIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgICAgXHJcbiAgICBsaW5lLWhlaWdodDogMTtcclxufVxyXG5cclxuLm9wIGltZyB7XHJcbiAgICB3aWR0aDogNjVweDtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/encuesta-opcion/encuesta-opcion.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/componentes/encuesta-opcion/encuesta-opcion.component.ts ***!
  \**************************************************************************/
/*! exports provided: EncuestaOpcionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EncuestaOpcionComponent", function() { return EncuestaOpcionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let EncuestaOpcionComponent = class EncuestaOpcionComponent {
    constructor() {
        this.NextPregunta = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
    }
    xNextPregunta(item) {
        setTimeout(() => {
            this.NextPregunta.emit(item);
        }, 300);
    }
};
EncuestaOpcionComponent.ctorParameters = () => [];
EncuestaOpcionComponent.propDecorators = {
    ListOption: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    NextPregunta: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
EncuestaOpcionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-encuesta-opcion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./encuesta-opcion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/encuesta-opcion/encuesta-opcion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./encuesta-opcion.component.css */ "./src/app/componentes/encuesta-opcion/encuesta-opcion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], EncuestaOpcionComponent);



/***/ }),

/***/ "./src/app/componentes/item-comercio/item-comercio.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/componentes/item-comercio/item-comercio.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".content-comercio {\r\n    width: 335px;\r\n    margin: 5px;\r\n}\r\n\r\n.content-img-comercio {\r\n    border: 1px solid lightgray;\r\n    border-radius: 2px;\r\n    text-align: center;\r\n}\r\n\r\n.img-comercio {\r\n    max-width: 100%;\r\n    /* max-width: 330px; */\r\n    height: 115px;\r\n}\r\n\r\n.div-info-comercio {\r\n    padding-top: 15px;\r\n    margin: 0px;\r\n    line-height: 0.35em;\r\n}\r\n\r\n.div-sub-info-comercio{\r\n    /* background: #eeeeee; */\r\n    margin-top: -15px;\r\n}\r\n\r\n.div-sub-info-comercio div {\r\n    border-radius: 2px;    \r\n    font-size: 13px;\r\n    padding: 5px;    \r\n    padding-right: 15px;\r\n    padding-left: 0px;\r\n}\r\n\r\n.div-cerrado {\r\n    /* width: 100%;\r\n    background: lavenderblush;\r\n    margin-top: -200px;\r\n    opacity: 0.6;\r\n    text-align: center;     */\r\n\r\n    background: #fff0f5;\r\n    opacity: .6;\r\n    text-align: center;\r\n    top: 15px;\r\n    position: absolute;\r\n    width: 90%;\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n    height: 120px;\r\n\r\n    \r\n}\r\n\r\n.div-cerrado p {\r\n    /* font-size: 25px;\r\n    font-weight: 800;\r\n    width: 100%;\r\n    top: 10%;\r\n    position: relative; */\r\n\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    /* font-weight: 800; */\r\n    width: 100%;\r\n    /* top: 30%; */\r\n    position: relative;\r\n    margin: 0;\r\n}\r\n\r\n.div-acepta-tarjeta {\r\n    /* position: absolute;\r\n    right: 20px;\r\n    background: aliceblue;\r\n    width: 97px;\r\n    height: 25px;\r\n    border-radius: 0px 0px 0px 5px;\r\n    opacity: 0.7; */\r\n    /* background: #e0e0e0;\r\n    border-radius: 5px;\r\n    opacity: 0.7;\r\n    font-size: 10px;\r\n    padding: 5px;\r\n    border: 1px solid #9e9e9e; */\r\n\r\n    background: #eeeeee;\r\n    border-radius: 5px;\r\n    opacity: 0.7;\r\n    font-size: 10px;\r\n    padding: 4px;\r\n    border: 1px solid #757575;\r\n    color: black;\r\n    font-weight: 600;\r\n}\r\n\r\n.title-acepta-tarjeta {\r\n    position: fixed;\r\n    right: 27px;\r\n    font-size: 10px;\r\n    z-index: 1;\r\n    margin-top: 5px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvaXRlbS1jb21lcmNpby9pdGVtLWNvbWVyY2lvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztJQUNYLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0k7Ozs7NkJBSXlCOztJQUV6QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLHlCQUFtQjtJQUFuQiwyQkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLGFBQWE7OztBQUdqQjs7QUFFQTtJQUNJOzs7O3lCQUlxQjs7SUFFckIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsU0FBUztBQUNiOztBQUVBO0lBQ0k7Ozs7OzttQkFNZTtJQUNmOzs7OztnQ0FLNEI7O0lBRTVCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7SUFDZixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLGVBQWU7SUFDZixVQUFVO0lBQ1YsZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2l0ZW0tY29tZXJjaW8vaXRlbS1jb21lcmNpby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtY29tZXJjaW8ge1xyXG4gICAgd2lkdGg6IDMzNXB4O1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbn1cclxuXHJcbi5jb250ZW50LWltZy1jb21lcmNpbyB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5pbWctY29tZXJjaW8ge1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgLyogbWF4LXdpZHRoOiAzMzBweDsgKi9cclxuICAgIGhlaWdodDogMTE1cHg7XHJcbn1cclxuXHJcbi5kaXYtaW5mby1jb21lcmNpbyB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcclxuICAgIG1hcmdpbjogMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDAuMzVlbTtcclxufVxyXG5cclxuLmRpdi1zdWItaW5mby1jb21lcmNpb3tcclxuICAgIC8qIGJhY2tncm91bmQ6ICNlZWVlZWU7ICovXHJcbiAgICBtYXJnaW4tdG9wOiAtMTVweDtcclxufVxyXG5cclxuLmRpdi1zdWItaW5mby1jb21lcmNpbyBkaXYge1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4OyAgICBcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIHBhZGRpbmc6IDVweDsgICAgXHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcbn1cclxuXHJcbi5kaXYtY2VycmFkbyB7XHJcbiAgICAvKiB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQ6IGxhdmVuZGVyYmx1c2g7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjAwcHg7XHJcbiAgICBvcGFjaXR5OiAwLjY7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICAgICAqL1xyXG5cclxuICAgIGJhY2tncm91bmQ6ICNmZmYwZjU7XHJcbiAgICBvcGFjaXR5OiAuNjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRvcDogMTVweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTIwcHg7XHJcblxyXG4gICAgXHJcbn1cclxuXHJcbi5kaXYtY2VycmFkbyBwIHtcclxuICAgIC8qIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA4MDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRvcDogMTAlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAqL1xyXG5cclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAvKiBmb250LXdlaWdodDogODAwOyAqL1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICAvKiB0b3A6IDMwJTsgKi9cclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG1hcmdpbjogMDtcclxufVxyXG5cclxuLmRpdi1hY2VwdGEtdGFyamV0YSB7XHJcbiAgICAvKiBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMjBweDtcclxuICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTtcclxuICAgIHdpZHRoOiA5N3B4O1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCAwcHggNXB4O1xyXG4gICAgb3BhY2l0eTogMC43OyAqL1xyXG4gICAgLyogYmFja2dyb3VuZDogI2UwZTBlMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7ICovXHJcblxyXG4gICAgYmFja2dyb3VuZDogI2VlZWVlZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG9wYWNpdHk6IDAuNztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3NTc1NzU7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG5cclxuLnRpdGxlLWFjZXB0YS10YXJqZXRhIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHJpZ2h0OiAyN3B4O1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgei1pbmRleDogMTtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/item-comercio/item-comercio.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/componentes/item-comercio/item-comercio.component.ts ***!
  \**********************************************************************/
/*! exports provided: ItemComercioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemComercioComponent", function() { return ItemComercioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_delivery_establecimiento__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/delivery.establecimiento */ "./src/app/modelos/delivery.establecimiento.ts");
/* harmony import */ var src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/config/config.const */ "./src/app/shared/config/config.const.ts");




let ItemComercioComponent = class ItemComercioComponent {
    constructor() {
        this.isCerrado = false;
        this.isComercioAceptaPedidoProgramado = false;
        this.isTiempoProgramadoSoloDia = false; // si el pedido se programa solo para el dia
        this.isComercioReservacionesActiva = false; // si el comercio acepta reserva y ademas esta en el horario
        this.amPm = 'AM';
        this.imgComercio = '';
        this.descripcionDiaProgramado = '';
        this.horaAceptaReservas = '';
        this.itemSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        // console.log('aa');
        this.isCerrado = this.itemEstablecimiento.cerrado === 1 ? true : false;
        // this.isComercioAceptaPedidoProgramado = this.reserva ? this.reserva : this.isComercioAceptaPedidoProgramado; // si es reserva nada
        this.amPm = this.itemEstablecimiento.hora_ini ? parseInt(this.itemEstablecimiento.hora_ini.split(':')[0], 0) > 12 ? 'PM' : 'AM' : '';
        this.imgComercio = src_app_shared_config_config_const__WEBPACK_IMPORTED_MODULE_3__["URL_IMG_COMERCIO"] + this.itemEstablecimiento.pwa_delivery_img;
        // si aceptas reservas   // reserva = true = acepta reserva
        if (this.reserva) {
            // verificamos si esta dentro del horario que acepta recervas
            let _hIni = this.itemEstablecimiento.hora_ini;
            const _hFin = this.itemEstablecimiento.hora_fin;
            _hIni = this.itemEstablecimiento.pwa_acepta_reserva_desde ? this.itemEstablecimiento.pwa_acepta_reserva_desde : _hIni;
            this.horaAceptaReservas = `${_hIni} hasta las ${_hFin}`;
            this.isComercioReservacionesActiva = this.getHortaValida(_hIni, _hFin);
            return;
        }
        this.isComercioAceptaPedidoProgramado = this.itemEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1 && this.isCerrado;
        this.isTiempoProgramadoSoloDia = this.itemEstablecimiento.pwa_pedido_programado_solo_del_dia === 1;
        this.isComercioAceptaPedidoProgramado = this.isComercioAceptaPedidoProgramado && !this.isTiempoProgramadoSoloDia;
        if (this.itemEstablecimiento.pwa_delivery_habilitar_pedido_programado === 1 && !this.reserva) {
            const dateHoy = new Date();
            const hourNow = dateHoy.getHours();
            const horaIni = parseInt(this.itemEstablecimiento.hora_ini.split(':')[0], 0);
            const horaFni = parseInt(this.itemEstablecimiento.hora_fin.split(':')[0], 0);
            const diasAtiende = this.itemEstablecimiento.dias_atienden;
            const numDay = dateHoy.getDay();
            const diasSemana = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];
            let disponibleHoy = diasAtiende.indexOf(numDay.toString()) > -1 ? true : false;
            let horaDisponibleHoy = hourNow <= horaFni;
            disponibleHoy = disponibleHoy && horaDisponibleHoy;
            horaDisponibleHoy = hourNow >= horaIni && horaDisponibleHoy && disponibleHoy && this.isCerrado;
            if (horaDisponibleHoy) {
                this.isComercioAceptaPedidoProgramado = false; // no muestra
                return;
            }
            let _descripcion = 'Hoy';
            if (!disponibleHoy) {
                let countDays = 1;
                while (countDays <= 5) {
                    const numDayAdd = dateHoy.getDay() + 1;
                    dateHoy.setDate(dateHoy.getDate() + 1);
                    if (diasAtiende.indexOf(numDayAdd.toString()) > -1) {
                        _descripcion = countDays === 1 ? 'Mañana' : diasSemana[numDayAdd] + ' ' + dateHoy.getDate();
                        this.descripcionDiaProgramado = _descripcion;
                        return;
                    }
                    countDays++;
                }
            }
            this.descripcionDiaProgramado = _descripcion;
        }
    }
    getHortaValida(min, max) {
        const dateHoy = new Date();
        const hourNow = dateHoy.getHours();
        const horaIni = parseInt(min.split(':')[0], 0);
        const horaFni = parseInt(max.split(':')[0], 0);
        const rptHoraValid = hourNow <= horaFni && hourNow >= horaIni;
        // rptHoraValid = hourNow >= horaIni;
        return rptHoraValid;
    }
    _itemSelected() {
        if (this.isCerrado && !this.isComercioAceptaPedidoProgramado && !this.reserva) {
            return;
        }
        this.itemSelected.emit(this.itemEstablecimiento);
    }
};
ItemComercioComponent.ctorParameters = () => [];
ItemComercioComponent.propDecorators = {
    itemEstablecimiento: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    reserva: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    itemSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
ItemComercioComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-item-comercio',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./item-comercio.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-comercio/item-comercio.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./item-comercio.component.css */ "./src/app/componentes/item-comercio/item-comercio.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], ItemComercioComponent);



/***/ }),

/***/ "./src/app/componentes/item-promocion/item-promocion.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/componentes/item-promocion/item-promocion.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".bg-confetti-animated {\r\n    background-repeat: repeat-x;\r\n    background-position: top -10px center;\r\n    background-image: url(\"data:image/svg+xml,%3Csvg width='600' height='90' viewBox='0 0 600 90' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='42' y='-10' width='6' height='10'/%3E%3Crect x='84' y='-10' width='6' height='10'/%3E%3Crect x='126' y='-13' width='5' height='13'/%3E%3Crect x='168' y='-13' width='5' height='13'/%3E%3Crect x='210' y='-10' width='6' height='10'/%3E%3Crect x='252' y='-13' width='5' height='13'/%3E%3Crect x='294' y='-10' width='6' height='10'/%3E%3Crect x='336' y='-13' width='5' height='13'/%3E%3Crect x='378' y='-13' width='5' height='13'/%3E%3Crect x='420' y='-10' width='6' height='10'/%3E%3Crect x='462' y='-10' width='6' height='10'/%3E%3Crect x='504' y='-13' width='5' height='13'/%3E%3Crect x='546' y='-10' width='6' height='10'/%3E%3Cstyle type='text/css'%3E rect %7B opacity: 0; %7D rect:nth-child(1) %7B transform-origin: 45px 5px; transform: rotate(-145deg); animation: blast 700ms infinite ease-out; animation-delay: 88ms; animation-duration: 631ms; %7D rect:nth-child(2) %7B transform-origin: 87px 5px; transform: rotate(164deg); animation: blast 700ms infinite ease-out; animation-delay: 131ms; animation-duration: 442ms; %7D rect:nth-child(3) %7B transform-origin: 128px 6px; transform: rotate(4deg); animation: blast 700ms infinite ease-out; animation-delay: 92ms; animation-duration: 662ms; %7D rect:nth-child(4) %7B transform-origin: 170px 6px; transform: rotate(-175deg); animation: blast 700ms infinite ease-out; animation-delay: 17ms; animation-duration: 593ms; %7D rect:nth-child(5) %7B transform-origin: 213px 5px; transform: rotate(-97deg); animation: blast 700ms infinite ease-out; animation-delay: 122ms; animation-duration: 476ms; %7D rect:nth-child(6) %7B transform-origin: 255px 6px; transform: rotate(57deg); animation: blast 700ms infinite ease-out; animation-delay: 271ms; animation-duration: 381ms; %7D rect:nth-child(7) %7B transform-origin: 297px 5px; transform: rotate(-46deg); animation: blast 700ms infinite ease-out; animation-delay: 131ms; animation-duration: 619ms; %7D rect:nth-child(8) %7B transform-origin: 338px 6px; transform: rotate(-65deg); animation: blast 700ms infinite ease-out; animation-delay: 85ms; animation-duration: 668ms; %7D rect:nth-child(9) %7B transform-origin: 380px 6px; transform: rotate(13deg); animation: blast 700ms infinite ease-out; animation-delay: 128ms; animation-duration: 377ms; %7D rect:nth-child(10) %7B transform-origin: 423px 5px; transform: rotate(176deg); animation: blast 700ms infinite ease-out; animation-delay: 311ms; animation-duration: 508ms; %7D rect:nth-child(11) %7B transform-origin: 465px 5px; transform: rotate(108deg); animation: blast 700ms infinite ease-out; animation-delay: 108ms; animation-duration: 595ms; %7D rect:nth-child(12) %7B transform-origin: 506px 6px; transform: rotate(62deg); animation: blast 700ms infinite ease-out; animation-delay: 105ms; animation-duration: 375ms; %7D rect:nth-child(13) %7B transform-origin: 549px 5px; transform: rotate(16deg); animation: blast 700ms infinite ease-out; animation-delay: 149ms; animation-duration: 491ms; %7D rect:nth-child(odd) %7B fill: %2365BB5C; %7D rect:nth-child(even) %7B z-index: 1; fill: %2333AAFF; %7D rect:nth-child(4n) %7B animation-duration: 1400ms; fill: %23F23B14; %7D rect:nth-child(3n) %7B animation-duration: 1750ms; animation-delay: 700ms; %7D rect:nth-child(4n-7) %7B fill: %232A2F6A; %7D rect:nth-child(6n) %7B fill: %23FBBA23; %7D @keyframes blast %7B from %7B opacity: 0; %7D 20%25 %7B opacity: 1; %7D to %7B transform: translateY(90px); %7D %7D %3C/style%3E%3C/svg%3E%0A\");\r\n\r\n    @media (prefers-reduced-motion) {\r\n        background-image: url(\"data:image/svg+xml,%3Csvg width='574' height='60' viewBox='0 0 574 60' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect opacity='0.8' x='27.1224' y='20.0458' width='5' height='13' transform='rotate(-139 27.1224 20.0458)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='118.478' y='7.00201' width='5' height='13' transform='rotate(-38.8114 118.478 7.00201)' fill='%23FBBA23'/%3E%3Crect opacity='0.8' x='504.616' y='25.4479' width='5' height='13' transform='rotate(-60.2734 504.616 25.4479)' fill='%23F23B14'/%3E%3Crect opacity='0.6' x='538.983' y='45.555' width='5' height='13' transform='rotate(16.7826 538.983 45.555)' fill='%232A2F6A'/%3E%3Crect opacity='0.3' x='470.322' y='2.63625' width='5' height='13' transform='rotate(11.295 470.322 2.63625)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='190.295' y='4.58138' width='5' height='13' transform='rotate(27.5954 190.295 4.58138)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='234.303' y='16.3233' width='5' height='13' transform='rotate(-41.8233 234.303 16.3233)' fill='%2365BB5C'/%3E%3Crect opacity='0.6' x='369.702' y='40.9875' width='5' height='13' transform='rotate(-56.419 369.702 40.9875)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='402.121' y='31.0848' width='5' height='13' transform='rotate(-17.9234 402.121 31.0848)' fill='%23F23B14'/%3E%3Crect opacity='0.6' x='200.316' y='31.9328' width='5' height='13' transform='rotate(-15.8896 200.316 31.9328)' fill='%232A2F6A'/%3E%3Crect opacity='0.6' x='69.6745' y='23.4725' width='6' height='10' transform='rotate(70.0266 69.6745 23.4725)' fill='%2365BB5C'/%3E%3Crect opacity='0.6' x='291.945' y='7.16931' width='6' height='10' transform='rotate(30.4258 291.945 7.16931)' fill='%23FBBA23'/%3E%3Crect opacity='0.3' x='33.7754' y='38.2208' width='6' height='10' transform='rotate(38.6056 33.7754 38.2208)' fill='%23FBBA23'/%3E%3Crect opacity='0.8' x='109.752' y='31.1743' width='6' height='10' transform='rotate(28.5296 109.752 31.1743)' fill='%2333AAFF'/%3E%3Crect opacity='0.3' x='278.081' y='37.8695' width='6' height='10' transform='rotate(-26.5651 278.081 37.8695)' fill='%23F23B14'/%3E%3Crect opacity='0.8' x='416.294' y='11.5573' width='6' height='10' transform='rotate(-22.8498 416.294 11.5573)' fill='%23FBBA23'/%3E%3Crect opacity='0.3' x='354.667' y='9.32341' width='6' height='10' transform='rotate(17.7506 354.667 9.32341)' fill='%232A2F6A'/%3E%3Crect opacity='0.8' x='532.404' y='16.6372' width='6' height='10' transform='rotate(-75.3432 532.404 16.6372)' fill='%23FBBA23'/%3E%3Crect opacity='0.6' x='460.463' y='39.3557' width='6' height='10' transform='rotate(45.4982 460.463 39.3557)' fill='%2365BB5C'/%3E%3C/svg%3E\");\r\n    }\r\n}\r\n\r\n\r\n.div-promo {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n            justify-content: space-between;\r\n}\r\n\r\n\r\n.div-promo p{ margin: 0;}\r\n\r\n\r\n.img-promo {\r\n    /* margin-top: -20px;\r\n    margin-left: 8px; */\r\n    text-align: left;\r\n    width: 64px;\r\n}\r\n\r\n\r\n.info-promo {\r\n    margin-left: -1px;\r\n    max-width: 210px;\r\n}\r\n\r\n\r\n.content-importe-minimo {\r\n    border-radius: 10px;\r\n    border: 1px solid #e0e0e0;\r\n    margin-right: -20px;\r\n    background: #e1f5fe;\r\n    padding: 10px 0px 10px 0px;\r\n    width: 72px;\r\n    height: 75px;\r\n}\r\n\r\n\r\n.importe-minimo {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n}\r\n\r\n\r\n.label-promo {\r\n    width: 60px;\r\n    float: left;\r\n    position: absolute;\r\n    background: aqua;\r\n    color: aqua;\r\n    -webkit-transform: rotate(318deg);\r\n            transform: rotate(318deg);\r\n    text-align: center;\r\n    margin: -15px -40px;\r\n    /* font-size: 0px; */\r\n    padding: 10\r\npx\r\n;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvaXRlbS1wcm9tb2Npb24vaXRlbS1wcm9tb2Npb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDJCQUEyQjtJQUMzQixxQ0FBcUM7SUFDckMsbWdIQUFtZ0g7O0lBRW5nSDtRQUNJLHltRkFBeW1GO0lBQzdtRjtBQUNKOzs7QUFHQTtJQUNJLG9CQUFhO0lBQWIscUJBQWE7SUFBYixhQUFhO0lBQ2IseUJBQW1CO0lBQW5CLDJCQUFtQjtZQUFuQixtQkFBbUI7SUFDbkIseUJBQThCO0lBQTlCLHNDQUE4QjtZQUE5Qiw4QkFBOEI7QUFDbEM7OztBQUNBLGNBQWMsU0FBUyxDQUFDOzs7QUFFeEI7SUFDSTt1QkFDbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0FBQ3BCOzs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLG1CQUFtQjtJQUNuQiwwQkFBMEI7SUFDMUIsV0FBVztJQUNYLFlBQVk7QUFDaEI7OztBQUVBO0lBQ0ksb0JBQWE7SUFBYixxQkFBYTtJQUFiLGFBQWE7SUFDYix3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtBQUN2Qjs7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGlDQUF5QjtZQUF6Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixvQkFBb0I7SUFDcEI7O0FBRUo7QUFDQSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL2l0ZW0tcHJvbW9jaW9uL2l0ZW0tcHJvbW9jaW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmctY29uZmV0dGktYW5pbWF0ZWQge1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogdG9wIC0xMHB4IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzYwMCcgaGVpZ2h0PSc5MCcgdmlld0JveD0nMCAwIDYwMCA5MCcgZmlsbD0nbm9uZScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3JlY3QgeD0nNDInIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nODQnIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nMTI2JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzE2OCcgeT0nLTEzJyB3aWR0aD0nNScgaGVpZ2h0PScxMycvJTNFJTNDcmVjdCB4PScyMTAnIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nMjUyJyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzI5NCcgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDcmVjdCB4PSczMzYnIHk9Jy0xMycgd2lkdGg9JzUnIGhlaWdodD0nMTMnLyUzRSUzQ3JlY3QgeD0nMzc4JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzQyMCcgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDcmVjdCB4PSc0NjInIHk9Jy0xMCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnLyUzRSUzQ3JlY3QgeD0nNTA0JyB5PSctMTMnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJy8lM0UlM0NyZWN0IHg9JzU0NicgeT0nLTEwJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcvJTNFJTNDc3R5bGUgdHlwZT0ndGV4dC9jc3MnJTNFIHJlY3QgJTdCIG9wYWNpdHk6IDA7ICU3RCByZWN0Om50aC1jaGlsZCgxKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogNDVweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKC0xNDVkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDg4bXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNjMxbXM7ICU3RCByZWN0Om50aC1jaGlsZCgyKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogODdweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKDE2NGRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTMxbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNDQybXM7ICU3RCByZWN0Om50aC1jaGlsZCgzKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMTI4cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg0ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiA5Mm1zOyBhbmltYXRpb24tZHVyYXRpb246IDY2Mm1zOyAlN0QgcmVjdDpudGgtY2hpbGQoNCkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDE3MHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoLTE3NWRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTdtczsgYW5pbWF0aW9uLWR1cmF0aW9uOiA1OTNtczsgJTdEIHJlY3Q6bnRoLWNoaWxkKDUpICU3QiB0cmFuc2Zvcm0tb3JpZ2luOiAyMTNweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKC05N2RlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTIybXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNDc2bXM7ICU3RCByZWN0Om50aC1jaGlsZCg2KSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMjU1cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg1N2RlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMjcxbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogMzgxbXM7ICU3RCByZWN0Om50aC1jaGlsZCg3KSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogMjk3cHggNXB4OyB0cmFuc2Zvcm06IHJvdGF0ZSgtNDZkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDEzMW1zOyBhbmltYXRpb24tZHVyYXRpb246IDYxOW1zOyAlN0QgcmVjdDpudGgtY2hpbGQoOCkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDMzOHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoLTY1ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiA4NW1zOyBhbmltYXRpb24tZHVyYXRpb246IDY2OG1zOyAlN0QgcmVjdDpudGgtY2hpbGQoOSkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDM4MHB4IDZweDsgdHJhbnNmb3JtOiByb3RhdGUoMTNkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDEyOG1zOyBhbmltYXRpb24tZHVyYXRpb246IDM3N21zOyAlN0QgcmVjdDpudGgtY2hpbGQoMTApICU3QiB0cmFuc2Zvcm0tb3JpZ2luOiA0MjNweCA1cHg7IHRyYW5zZm9ybTogcm90YXRlKDE3NmRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMzExbXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogNTA4bXM7ICU3RCByZWN0Om50aC1jaGlsZCgxMSkgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDQ2NXB4IDVweDsgdHJhbnNmb3JtOiByb3RhdGUoMTA4ZGVnKTsgYW5pbWF0aW9uOiBibGFzdCA3MDBtcyBpbmZpbml0ZSBlYXNlLW91dDsgYW5pbWF0aW9uLWRlbGF5OiAxMDhtczsgYW5pbWF0aW9uLWR1cmF0aW9uOiA1OTVtczsgJTdEIHJlY3Q6bnRoLWNoaWxkKDEyKSAlN0IgdHJhbnNmb3JtLW9yaWdpbjogNTA2cHggNnB4OyB0cmFuc2Zvcm06IHJvdGF0ZSg2MmRlZyk7IGFuaW1hdGlvbjogYmxhc3QgNzAwbXMgaW5maW5pdGUgZWFzZS1vdXQ7IGFuaW1hdGlvbi1kZWxheTogMTA1bXM7IGFuaW1hdGlvbi1kdXJhdGlvbjogMzc1bXM7ICU3RCByZWN0Om50aC1jaGlsZCgxMykgJTdCIHRyYW5zZm9ybS1vcmlnaW46IDU0OXB4IDVweDsgdHJhbnNmb3JtOiByb3RhdGUoMTZkZWcpOyBhbmltYXRpb246IGJsYXN0IDcwMG1zIGluZmluaXRlIGVhc2Utb3V0OyBhbmltYXRpb24tZGVsYXk6IDE0OW1zOyBhbmltYXRpb24tZHVyYXRpb246IDQ5MW1zOyAlN0QgcmVjdDpudGgtY2hpbGQob2RkKSAlN0IgZmlsbDogJTIzNjVCQjVDOyAlN0QgcmVjdDpudGgtY2hpbGQoZXZlbikgJTdCIHotaW5kZXg6IDE7IGZpbGw6ICUyMzMzQUFGRjsgJTdEIHJlY3Q6bnRoLWNoaWxkKDRuKSAlN0IgYW5pbWF0aW9uLWR1cmF0aW9uOiAxNDAwbXM7IGZpbGw6ICUyM0YyM0IxNDsgJTdEIHJlY3Q6bnRoLWNoaWxkKDNuKSAlN0IgYW5pbWF0aW9uLWR1cmF0aW9uOiAxNzUwbXM7IGFuaW1hdGlvbi1kZWxheTogNzAwbXM7ICU3RCByZWN0Om50aC1jaGlsZCg0bi03KSAlN0IgZmlsbDogJTIzMkEyRjZBOyAlN0QgcmVjdDpudGgtY2hpbGQoNm4pICU3QiBmaWxsOiAlMjNGQkJBMjM7ICU3RCBAa2V5ZnJhbWVzIGJsYXN0ICU3QiBmcm9tICU3QiBvcGFjaXR5OiAwOyAlN0QgMjAlMjUgJTdCIG9wYWNpdHk6IDE7ICU3RCB0byAlN0IgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDkwcHgpOyAlN0QgJTdEICUzQy9zdHlsZSUzRSUzQy9zdmclM0UlMEFcIik7XHJcblxyXG4gICAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uKSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0nNTc0JyBoZWlnaHQ9JzYwJyB2aWV3Qm94PScwIDAgNTc0IDYwJyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzI3LjEyMjQnIHk9JzIwLjA0NTgnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMTM5IDI3LjEyMjQgMjAuMDQ1OCknIGZpbGw9JyUyM0YyM0IxNCcvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzExOC40NzgnIHk9JzcuMDAyMDEnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMzguODExNCAxMTguNDc4IDcuMDAyMDEpJyBmaWxsPSclMjNGQkJBMjMnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC44JyB4PSc1MDQuNjE2JyB5PScyNS40NDc5JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoLTYwLjI3MzQgNTA0LjYxNiAyNS40NDc5KScgZmlsbD0nJTIzRjIzQjE0Jy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNTM4Ljk4MycgeT0nNDUuNTU1JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoMTYuNzgyNiA1MzguOTgzIDQ1LjU1NSknIGZpbGw9JyUyMzJBMkY2QScvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjMnIHg9JzQ3MC4zMjInIHk9JzIuNjM2MjUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgxMS4yOTUgNDcwLjMyMiAyLjYzNjI1KScgZmlsbD0nJTIzMzNBQUZGJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMTkwLjI5NScgeT0nNC41ODEzOCcgd2lkdGg9JzUnIGhlaWdodD0nMTMnIHRyYW5zZm9ybT0ncm90YXRlKDI3LjU5NTQgMTkwLjI5NSA0LjU4MTM4KScgZmlsbD0nJTIzRjIzQjE0Jy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuOCcgeD0nMjM0LjMwMycgeT0nMTYuMzIzMycgd2lkdGg9JzUnIGhlaWdodD0nMTMnIHRyYW5zZm9ybT0ncm90YXRlKC00MS44MjMzIDIzNC4zMDMgMTYuMzIzMyknIGZpbGw9JyUyMzY1QkI1QycvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjYnIHg9JzM2OS43MDInIHk9JzQwLjk4NzUnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtNTYuNDE5IDM2OS43MDIgNDAuOTg3NSknIGZpbGw9JyUyMzMzQUFGRicvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjMnIHg9JzQwMi4xMjEnIHk9JzMxLjA4NDgnIHdpZHRoPSc1JyBoZWlnaHQ9JzEzJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMTcuOTIzNCA0MDIuMTIxIDMxLjA4NDgpJyBmaWxsPSclMjNGMjNCMTQnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC42JyB4PScyMDAuMzE2JyB5PSczMS45MzI4JyB3aWR0aD0nNScgaGVpZ2h0PScxMycgdHJhbnNmb3JtPSdyb3RhdGUoLTE1Ljg4OTYgMjAwLjMxNiAzMS45MzI4KScgZmlsbD0nJTIzMkEyRjZBJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNjkuNjc0NScgeT0nMjMuNDcyNScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDcwLjAyNjYgNjkuNjc0NSAyMy40NzI1KScgZmlsbD0nJTIzNjVCQjVDJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nMjkxLjk0NScgeT0nNy4xNjkzMScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDMwLjQyNTggMjkxLjk0NSA3LjE2OTMxKScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMzMuNzc1NCcgeT0nMzguMjIwOCcgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDM4LjYwNTYgMzMuNzc1NCAzOC4yMjA4KScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuOCcgeD0nMTA5Ljc1MicgeT0nMzEuMTc0Mycgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDI4LjUyOTYgMTA5Ljc1MiAzMS4xNzQzKScgZmlsbD0nJTIzMzNBQUZGJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuMycgeD0nMjc4LjA4MScgeT0nMzcuODY5NScgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKC0yNi41NjUxIDI3OC4wODEgMzcuODY5NSknIGZpbGw9JyUyM0YyM0IxNCcvJTNFJTNDcmVjdCBvcGFjaXR5PScwLjgnIHg9JzQxNi4yOTQnIHk9JzExLjU1NzMnIHdpZHRoPSc2JyBoZWlnaHQ9JzEwJyB0cmFuc2Zvcm09J3JvdGF0ZSgtMjIuODQ5OCA0MTYuMjk0IDExLjU1NzMpJyBmaWxsPSclMjNGQkJBMjMnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC4zJyB4PSczNTQuNjY3JyB5PSc5LjMyMzQxJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcgdHJhbnNmb3JtPSdyb3RhdGUoMTcuNzUwNiAzNTQuNjY3IDkuMzIzNDEpJyBmaWxsPSclMjMyQTJGNkEnLyUzRSUzQ3JlY3Qgb3BhY2l0eT0nMC44JyB4PSc1MzIuNDA0JyB5PScxNi42MzcyJyB3aWR0aD0nNicgaGVpZ2h0PScxMCcgdHJhbnNmb3JtPSdyb3RhdGUoLTc1LjM0MzIgNTMyLjQwNCAxNi42MzcyKScgZmlsbD0nJTIzRkJCQTIzJy8lM0UlM0NyZWN0IG9wYWNpdHk9JzAuNicgeD0nNDYwLjQ2MycgeT0nMzkuMzU1Nycgd2lkdGg9JzYnIGhlaWdodD0nMTAnIHRyYW5zZm9ybT0ncm90YXRlKDQ1LjQ5ODIgNDYwLjQ2MyAzOS4zNTU3KScgZmlsbD0nJTIzNjVCQjVDJy8lM0UlM0Mvc3ZnJTNFXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLmRpdi1wcm9tbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG4uZGl2LXByb21vIHB7IG1hcmdpbjogMDt9XHJcblxyXG4uaW1nLXByb21vIHtcclxuICAgIC8qIG1hcmdpbi10b3A6IC0yMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDsgKi9cclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICB3aWR0aDogNjRweDtcclxufVxyXG5cclxuLmluZm8tcHJvbW8ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xcHg7XHJcbiAgICBtYXgtd2lkdGg6IDIxMHB4O1xyXG59XHJcblxyXG4uY29udGVudC1pbXBvcnRlLW1pbmltbyB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDtcclxuICAgIG1hcmdpbi1yaWdodDogLTIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZTFmNWZlO1xyXG4gICAgcGFkZGluZzogMTBweCAwcHggMTBweCAwcHg7XHJcbiAgICB3aWR0aDogNzJweDtcclxuICAgIGhlaWdodDogNzVweDtcclxufVxyXG5cclxuLmltcG9ydGUtbWluaW1vIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sYWJlbC1wcm9tbyB7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYmFja2dyb3VuZDogYXF1YTtcclxuICAgIGNvbG9yOiBhcXVhO1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzE4ZGVnKTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbjogLTE1cHggLTQwcHg7XHJcbiAgICAvKiBmb250LXNpemU6IDBweDsgKi9cclxuICAgIHBhZGRpbmc6IDEwXHJcbnB4XHJcbjtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/item-promocion/item-promocion.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/componentes/item-promocion/item-promocion.component.ts ***!
  \************************************************************************/
/*! exports provided: ItemPromocionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemPromocionComponent", function() { return ItemPromocionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_promo_cocinar_promo_show_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/promo/cocinar-promo-show.service */ "./src/app/shared/services/promo/cocinar-promo-show.service.ts");




let ItemPromocionComponent = class ItemPromocionComponent {
    constructor(cocinarPromocionService, establecimientoService) {
        this.cocinarPromocionService = cocinarPromocionService;
        this.establecimientoService = establecimientoService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.diasActivo = '';
        this.isAbierto = false;
        this.animateBloqueo = false;
        this.iconGifPromo = '';
        this.showInfoPromo = false;
    }
    ngOnInit() {
        // console.log('promo', this.promo);
        this.isAbierto = this.promo.abierto === 1;
        this.ItemPromoheader = this.promo.parametros.header;
        this.ItemPromoBody = this.promo.parametros.body;
        this.diasActivo = this.cocinarPromocionService.showDiasSemana(this.ItemPromoBody.dias_semana);
        this.iconGifPromo = `assets/images/${this.ItemPromoheader.icon}`;
        this.isAbierto = this.promo.abierto === 1;
        this.simbolo_moneda = this.establecimientoService.getSimboloMoneda();
    }
    clickPromo() {
        // if ( this.cocinarPromocionService.consultarPromoAbierto(this.promo) ) {
        if (this.validarIngresoPromo()) {
            this.isAbierto = true;
            this.selected.emit(this.promo);
        }
    }
    validarIngresoPromo() {
        let paseAbierto = false;
        let importeMinimoPromo = null;
        if (this.promo.abierto === 1) {
            paseAbierto = true;
            // validamos si tiene importe minimo de consumo
            importeMinimoPromo = this.ItemPromoBody.importe_consumo_min;
            if (importeMinimoPromo) {
                const importePedido = this.cocinarPromocionService.getImportePedido();
                // console.log('importePedido', importePedido);
                if (importePedido >= importeMinimoPromo) {
                    paseAbierto = true;
                }
                else {
                    paseAbierto = false;
                }
            }
        }
        if (!paseAbierto) {
            this.isAbierto = false;
            this.animateBloqueo = true;
            setTimeout(() => {
                this.showInfoPromo = importeMinimoPromo && this.promo.abierto === 1 ? true : false;
                this.animateBloqueo = false;
                if (this.showInfoPromo) {
                    setTimeout(() => { this.showInfoPromo = false; }, 6000);
                }
            }, 300);
        }
        return paseAbierto;
    }
};
ItemPromocionComponent.ctorParameters = () => [
    { type: src_app_shared_services_promo_cocinar_promo_show_service__WEBPACK_IMPORTED_MODULE_3__["CocinarPromoShowService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"] }
];
ItemPromocionComponent.propDecorators = {
    promo: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    selected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
ItemPromocionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-item-promocion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./item-promocion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/item-promocion/item-promocion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./item-promocion.component.css */ "./src/app/componentes/item-promocion/item-promocion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_promo_cocinar_promo_show_service__WEBPACK_IMPORTED_MODULE_3__["CocinarPromoShowService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"]])
], ItemPromocionComponent);



/***/ }),

/***/ "./src/app/componentes/mapa-solo/mapa-solo.component.css":
/*!***************************************************************!*\
  !*** ./src/app/componentes/mapa-solo/mapa-solo.component.css ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("agm-map {\r\n    height: 230px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbWFwYS1zb2xvL21hcGEtc29sby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21hcGEtc29sby9tYXBhLXNvbG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImFnbS1tYXAge1xyXG4gICAgaGVpZ2h0OiAyMzBweDtcclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/mapa-solo/mapa-solo.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/componentes/mapa-solo/mapa-solo.component.ts ***!
  \**************************************************************/
/*! exports provided: MapaSoloComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapaSoloComponent", function() { return MapaSoloComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let MapaSoloComponent = class MapaSoloComponent {
    constructor() {
        this.displayDirections = true;
        this.zoom = 13;
    }
    ngOnInit() {
        this.zoom = 13;
    }
};
MapaSoloComponent.ctorParameters = () => [];
MapaSoloComponent.propDecorators = {
    origin: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    destination: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
MapaSoloComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mapa-solo',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./mapa-solo.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mapa-solo/mapa-solo.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./mapa-solo.component.css */ "./src/app/componentes/mapa-solo/mapa-solo.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], MapaSoloComponent);



/***/ }),

/***/ "./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.css ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21lbnUtbGF0ZXJhbC1jbGllbnRlL21lbnUtbGF0ZXJhbC1jbGllbnRlLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.ts ***!
  \************************************************************************************/
/*! exports provided: MenuLateralClienteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuLateralClienteComponent", function() { return MenuLateralClienteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let MenuLateralClienteComponent = class MenuLateralClienteComponent {
    constructor() { }
    ngOnInit() {
    }
};
MenuLateralClienteComponent.ctorParameters = () => [];
MenuLateralClienteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-menu-lateral-cliente',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./menu-lateral-cliente.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./menu-lateral-cliente.component.css */ "./src/app/componentes/menu-lateral-cliente/menu-lateral-cliente.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], MenuLateralClienteComponent);



/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.css":
/*!********************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.css ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".content-btn {\r\n    border-radius: 50%;\r\n    background: #302855;\r\n    width: 30px;\r\n    line-height: 30px;\r\n    color: white;\r\n    text-align: center;\r\n    margin: auto;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tZGlhbG9nL21vem8tZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tZGlhbG9nL21vem8tZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGVudC1idG4ge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgYmFja2dyb3VuZDogIzMwMjg1NTtcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbn1cclxuIl19 */");

/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.ts ***!
  \*******************************************************************************/
/*! exports provided: MozoDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MozoDialogComponent", function() { return MozoDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");



let MozoDialogComponent = class MozoDialogComponent {
    constructor(dialogRef) {
        this.dialogRef = dialogRef;
    }
    ngOnInit() {
    }
};
MozoDialogComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"] }
];
MozoDialogComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mozo-dialog',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./mozo-dialog.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./mozo-dialog.component.css */ "./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
], MozoDialogComponent);



/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.css":
/*!******************************************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.css ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".footer-btn-go-lista {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    width: 100%;  \r\n    text-align: center;  \r\n    background: #d3d3d3;\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n    padding: 13px;\r\n    z-index: 100;\r\n    font-weight: 400;\r\n    border-top: 3px solid #3f78b5;\r\n  }\r\n  \r\n  .footer-btn-go-lista .content {\r\n    background: #3f51b5;\r\n    color: white;\r\n    width: 85%;\r\n    font-size: 14px;\r\n    border-radius: 5px 5px 0px 0px;\r\n    padding: 10px;\r\n    font-weight: 100;\r\n    margin-top: 10px;\r\n  \r\n    display: -webkit-box;\r\n  \r\n    display: -webkit-flex;\r\n  \r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n    -webkit-justify-content: space-between;\r\n            justify-content: space-between;\r\n    -webkit-box-align: center;\r\n    -webkit-align-items: center;\r\n            align-items: center;\r\n  }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tc2hvdy10cmFkdWNlLXRleHQvbW96by1zaG93LXRyYWR1Y2UtdGV4dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLHdCQUF1QjtJQUF2QiwrQkFBdUI7WUFBdkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLDZCQUE2QjtFQUMvQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osVUFBVTtJQUNWLGVBQWU7SUFDZiw4QkFBOEI7SUFDOUIsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixnQkFBZ0I7O0lBRWhCLG9CQUFhOztJQUFiLHFCQUFhOztJQUFiLGFBQWE7SUFDYix5QkFBOEI7SUFBOUIsc0NBQThCO1lBQTlCLDhCQUE4QjtJQUM5Qix5QkFBbUI7SUFBbkIsMkJBQW1CO1lBQW5CLG1CQUFtQjtFQUNyQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL21vem8tdmlydHVhbC9tb3pvLXNob3ctdHJhZHVjZS10ZXh0L21vem8tc2hvdy10cmFkdWNlLXRleHQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb290ZXItYnRuLWdvLWxpc3RhIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7ICBcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgIFxyXG4gICAgYmFja2dyb3VuZDogI2QzZDNkMztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEzcHg7XHJcbiAgICB6LWluZGV4OiAxMDA7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgYm9yZGVyLXRvcDogM3B4IHNvbGlkICMzZjc4YjU7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb290ZXItYnRuLWdvLWxpc3RhIC5jb250ZW50IHtcclxuICAgIGJhY2tncm91bmQ6ICMzZjUxYjU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aWR0aDogODUlO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwcHggMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiAxMDA7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIFxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: MozoShowTraduceTextComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MozoShowTraduceTextComponent", function() { return MozoShowTraduceTextComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var src_app_shared_services_speech_spech_totext_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/speech/spech-totext.service */ "./src/app/shared/services/speech/spech-totext.service.ts");
/* harmony import */ var src_app_shared_services_speech_speech_data_provider_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/speech/speech-data-provider.service */ "./src/app/shared/services/speech/speech-data-provider.service.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");







let MozoShowTraduceTextComponent = class MozoShowTraduceTextComponent {
    constructor(spechTotextService, speechDataProviderService, utilitariosSerivce) {
        this.spechTotextService = spechTotextService;
        this.speechDataProviderService = speechDataProviderService;
        this.utilitariosSerivce = utilitariosSerivce;
        this.destroy$ = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.isShowTxtTraduce = false;
        this.isShowCheck = false;
        this.countTimeClose = null;
        this.textTranscript = '';
    }
    ngOnInit() {
        this.spechTotextService.listenOnTraduce$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroy$))
            .subscribe(res => {
            // console.log('traduciendo', res);
            if (res) {
                this.isShowTxtTraduce = res;
            }
            clearInterval(this.countTimeClose);
            this.activeCloseBanner();
        });
        this.spechTotextService.speechTexResponse$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroy$))
            .subscribe((data) => {
            if (!data) {
                return;
            }
            this.txtResults = data;
            this.textTranscript = this.txtResults[0].alternatives[0].transcript;
            this.isShowCheck = false;
            // console.log('this.txtResults', this.txtResults);
        });
        this.speechDataProviderService.commandAceptado$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["takeUntil"])(this.destroy$))
            .subscribe((codAceptado) => {
            // console.log('codAceptado', codAceptado);
            if (codAceptado > 0) {
                setTimeout(() => {
                    this.isShowCheck = true;
                }, 100);
                const timeBeep = setInterval(() => {
                    if (codAceptado <= 0) {
                        clearInterval(timeBeep);
                        return;
                    }
                    this.utilitariosSerivce.beep();
                    codAceptado--;
                }, 100);
            }
        });
    }
    activeCloseBanner() {
        let countClose = 0;
        this.countTimeClose = setInterval(() => {
            if (countClose > 4) {
                this.isShowTxtTraduce = false;
                clearInterval(this.countTimeClose);
            }
            countClose++;
        }, 1000);
    }
};
MozoShowTraduceTextComponent.ctorParameters = () => [
    { type: src_app_shared_services_speech_spech_totext_service__WEBPACK_IMPORTED_MODULE_4__["SpechTotextService"] },
    { type: src_app_shared_services_speech_speech_data_provider_service__WEBPACK_IMPORTED_MODULE_5__["SpeechDataProviderService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"] }
];
MozoShowTraduceTextComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mozo-show-traduce-text',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./mozo-show-traduce-text.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./mozo-show-traduce-text.component.css */ "./src/app/componentes/mozo-virtual/mozo-show-traduce-text/mozo-show-traduce-text.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_speech_spech_totext_service__WEBPACK_IMPORTED_MODULE_4__["SpechTotextService"],
        src_app_shared_services_speech_speech_data_provider_service__WEBPACK_IMPORTED_MODULE_5__["SpeechDataProviderService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"]])
], MozoShowTraduceTextComponent);



/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.css":
/*!******************************************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.css ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".content-btn {\r\n    border-radius: 50%;\r\n    background: #5363bf;\r\n}\r\n\r\n.content-btn.on {\r\n    background: #2a3785;\r\n    font-size: 20px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tdmlydHVhbC1vbi1zcGVlY2gvbW96by12aXJ0dWFsLW9uLXNwZWVjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25CIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvbW96by12aXJ0dWFsL21vem8tdmlydHVhbC1vbi1zcGVlY2gvbW96by12aXJ0dWFsLW9uLXNwZWVjaC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQtYnRuIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJhY2tncm91bmQ6ICM1MzYzYmY7XHJcbn1cclxuXHJcbi5jb250ZW50LWJ0bi5vbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMmEzNzg1O1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.ts ***!
  \*****************************************************************************************************/
/*! exports provided: MozoVirtualOnSpeechComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MozoVirtualOnSpeechComponent", function() { return MozoVirtualOnSpeechComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/speech/comand-analizer.service */ "./src/app/shared/services/speech/comand-analizer.service.ts");




let MozoVirtualOnSpeechComponent = class MozoVirtualOnSpeechComponent {
    constructor(comandAnalizerService, establecimientoService) {
        this.comandAnalizerService = comandAnalizerService;
        this.establecimientoService = establecimientoService;
        this.isGrabando = false;
    }
    ngOnInit() {
        // si no esta habilitado
        if (this.establecimientoService.get().speech_disabled === 0) {
            return;
        }
        this.comandAnalizerService.getComands();
    }
    goClickBtn() {
        if (this.isGrabando) {
            this.stopRecording();
        }
        else {
            this.startRecording();
        }
    }
    startRecording() {
        this.comandAnalizerService.startRecording();
        this.isGrabando = true;
    }
    stopRecording() {
        this.comandAnalizerService.stopRecording();
        this.isGrabando = false;
    }
};
MozoVirtualOnSpeechComponent.ctorParameters = () => [
    { type: src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_3__["ComandAnalizerService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"] }
];
MozoVirtualOnSpeechComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-mozo-virtual-on-speech',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./mozo-virtual-on-speech.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./mozo-virtual-on-speech.component.css */ "./src/app/componentes/mozo-virtual/mozo-virtual-on-speech/mozo-virtual-on-speech.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_3__["ComandAnalizerService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"]])
], MozoVirtualOnSpeechComponent);



/***/ }),

/***/ "./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.css ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p {\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.li-item {\r\n    border-bottom: solid 1px lightgray;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvc2VsZWNjaW9uYXItZGlyZWNjaW9uL3NlbGVjY2lvbmFyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvc2VsZWNjaW9uYXItZGlyZWNjaW9uL3NlbGVjY2lvbmFyLWRpcmVjY2lvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbn1cclxuXHJcbi5saS1pdGVtIHtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCBsaWdodGdyYXk7XHJcbn1cclxuIl19 */");

/***/ }),

/***/ "./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.ts ***!
  \**************************************************************************************/
/*! exports provided: SeleccionarDireccionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SeleccionarDireccionComponent", function() { return SeleccionarDireccionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");





let SeleccionarDireccionComponent = class SeleccionarDireccionComponent {
    constructor(data, crudService, verifyClientService) {
        this.data = data;
        this.crudService = crudService;
        this.verifyClientService = verifyClientService;
        this.direccionSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        this.infoClienteLogueado = this.verifyClientService.getDataClient();
        this.idClienteDirecciones = this.idClienteBuscar ? this.idClienteBuscar : this.infoClienteLogueado.idcliente;
        // console.log(this.infoClienteLogueado);
        this.loadDireccion();
        // console.log('load direcciones');
    }
    loadDireccion() {
        // si es 0 no cliente nuevo
        this.listDirecciones = [];
        if (!this.idClienteDirecciones || this.idClienteDirecciones.toString() === '0') {
            return;
        }
        const _dataClientDir = {
            idcliente: this.idClienteDirecciones
        };
        // console.log(_dataClientDir);
        this.crudService.postFree(_dataClientDir, 'delivery', 'get-direccion-cliente', false)
            .subscribe((res) => {
            // console.log('direcciones', res);
            this.listDirecciones = res.data;
            // console.log('this.listDirecciones', this.listDirecciones);
            if (this.idClienteBuscar) {
                return;
            }
            // si solo hay una direccion selecciona
            // if (this.listDirecciones.length === 1 && this.infoClienteLogueado.direccionEnvioSelected === null ) {
            // this.direccionSelected.emit(this.listDirecciones[0]);
            // }
        });
    }
    selected(item) {
        this.direccionSelected.emit(item);
    }
};
SeleccionarDireccionComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_4__["MAT_DIALOG_DATA"],] }] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] },
    { type: src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__["VerifyAuthClientService"] }
];
SeleccionarDireccionComponent.propDecorators = {
    direccionSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    idClienteBuscar: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
SeleccionarDireccionComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-seleccionar-direccion',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./seleccionar-direccion.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./seleccionar-direccion.component.css */ "./src/app/componentes/seleccionar-direccion/seleccionar-direccion.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object, src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"],
        src_app_shared_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__["VerifyAuthClientService"]])
], SeleccionarDireccionComponent);



/***/ }),

/***/ "./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.css ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudGVzL3NlbGVjdC1jaXVkYWQtZGVsaXZlcnkvc2VsZWN0LWNpdWRhZC1kZWxpdmVyeS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.ts ***!
  \****************************************************************************************/
/*! exports provided: SelectCiudadDeliveryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectCiudadDeliveryComponent", function() { return SelectCiudadDeliveryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");



let SelectCiudadDeliveryComponent = class SelectCiudadDeliveryComponent {
    constructor(crudService) {
        this.crudService = crudService;
        this.cuidadSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        this.loadCiudades();
    }
    loadCiudades() {
        this.crudService.getAll('delivery', 'get-ciudades-delivery', false, false, false)
            .subscribe((res) => {
            console.log('res', res);
            this.listCiudadesServicio = res.data;
            if (this.isOnlyReserva) {
                this.listCiudadesServicio = this.listCiudadesServicio.filter(s => s.isreserva === 1);
            }
        });
    }
    selectedCiudad(item) {
        this.cuidadSelected.emit(item);
    }
};
SelectCiudadDeliveryComponent.ctorParameters = () => [
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] }
];
SelectCiudadDeliveryComponent.propDecorators = {
    isOnlyReserva: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    cuidadSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
SelectCiudadDeliveryComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-select-ciudad-delivery',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./select-ciudad-delivery.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./select-ciudad-delivery.component.css */ "./src/app/componentes/select-ciudad-delivery/select-ciudad-delivery.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"]])
], SelectCiudadDeliveryComponent);



/***/ }),

/***/ "./src/app/componentes/text-nom-cliente/text-nom-cliente.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/componentes/text-nom-cliente/text-nom-cliente.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".text-nom-cliente {\r\n    font-size: 20px;\r\n    text-align: center;\r\n}\r\n\r\n.div-text-nombre {\r\n    background: #cce8ff;\r\n    border-radius: 5px;\r\n    padding: 10px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGV4dC1ub20tY2xpZW50ZS90ZXh0LW5vbS1jbGllbnRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixhQUFhO0FBQ2pCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvdGV4dC1ub20tY2xpZW50ZS90ZXh0LW5vbS1jbGllbnRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1ub20tY2xpZW50ZSB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5kaXYtdGV4dC1ub21icmUge1xyXG4gICAgYmFja2dyb3VuZDogI2NjZThmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/componentes/text-nom-cliente/text-nom-cliente.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/componentes/text-nom-cliente/text-nom-cliente.component.ts ***!
  \****************************************************************************/
/*! exports provided: TextNomClienteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextNomClienteComponent", function() { return TextNomClienteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");



let TextNomClienteComponent = class TextNomClienteComponent {
    constructor(infoTokenService) {
        this.infoTokenService = infoTokenService;
        this.isNombreValid = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.isValidNombre = false;
    }
    ngOnInit() {
        this.infoCliente = this.infoTokenService.getInfoUs();
        this.nombreCliente = this.infoCliente.nombres;
        this.saveNomCliente(this.nombreCliente);
        // this.isValidNombre = this.nombreCliente !== '';
        // this.isNombreValid.emit(this.isValidNombre);
        // console.log('this.infoCliente txt nombre', this.infoCliente);
    }
    saveNomCliente(value) {
        value = value.toLocaleLowerCase().indexOf('invitado') > -1 ? '' : value;
        this.infoTokenService.setNombres(value);
        this.infoCliente = this.infoTokenService.getInfoUs();
        this.nombreCliente = this.infoCliente.nombres;
        this.isValidNombre = this.nombreCliente !== '';
        this.isNombreValid.emit(this.isValidNombre);
        // console.log('this.infoCliente txt nombre A', this.infoCliente);
    }
};
TextNomClienteComponent.ctorParameters = () => [
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"] }
];
TextNomClienteComponent.propDecorators = {
    sizeTextBg: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    isNombreValid: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
TextNomClienteComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-text-nom-cliente',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./text-nom-cliente.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/text-nom-cliente/text-nom-cliente.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./text-nom-cliente.component.css */ "./src/app/componentes/text-nom-cliente/text-nom-cliente.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_2__["InfoTockenService"]])
], TextNomClienteComponent);



/***/ }),

/***/ "./src/app/componentes/tiempo-programado/tiempo-programado.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/componentes/tiempo-programado/tiempo-programado.component.css ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".div-list {\r\n    max-height: 80vh !important;\r\n    overflow: auto;\r\n}\r\n\r\n.tfs-11 {\r\n    font-size: 12px !important;\r\n}\r\n\r\n.mat-list-option {\r\n    height: 20px;\r\n  }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGllbXBvLXByb2dyYW1hZG8vdGllbXBvLXByb2dyYW1hZG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDJCQUEyQjtJQUMzQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksMEJBQTBCO0FBQzlCOztBQUVBO0lBQ0ksWUFBWTtFQUNkIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50ZXMvdGllbXBvLXByb2dyYW1hZG8vdGllbXBvLXByb2dyYW1hZG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXYtbGlzdCB7XHJcbiAgICBtYXgtaGVpZ2h0OiA4MHZoICFpbXBvcnRhbnQ7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxufVxyXG5cclxuLnRmcy0xMSB7XHJcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1hdC1saXN0LW9wdGlvbiB7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgfSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/tiempo-programado/tiempo-programado.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/componentes/tiempo-programado/tiempo-programado.component.ts ***!
  \******************************************************************************/
/*! exports provided: TiempoProgramadoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TiempoProgramadoComponent", function() { return TiempoProgramadoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");





let TiempoProgramadoComponent = class TiempoProgramadoComponent {
    constructor(establecimientoService, infoTokenService) {
        this.establecimientoService = establecimientoService;
        this.infoTokenService = infoTokenService;
        this.tiempoProgramado = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.listDia = [];
        this.listHora = [];
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_3__["TiempoEntregaModel"]();
        this.isTiempoProgramadoSoloDia = false; // si el pedido se programa solo para el dia
        this.dateHoy = new Date();
        this.dateNow = new Date();
    }
    ngOnInit() {
        // console.log('aaa');
        this.infoEstablecimiento = this.establecimientoService.get();
        this.isTiempoProgramadoSoloDia = this.infoEstablecimiento.pwa_pedido_programado_solo_del_dia === 1;
        this.getDia();
        this.tiempoEntregaSelected = this.infoTokenService.infoUsToken.tiempoEntrega;
        this.findTimeList();
    }
    findTimeList() {
        var _a;
        // console.log('time');
        // if( !this.tiempoEntregaSelected ) { return; }
        if (((_a = this.tiempoEntregaSelected) === null || _a === void 0 ? void 0 : _a.iddia) !== undefined) {
            this.selectedIni = this.listDia[0]; // this.listDia.filter(d => d.numDay === this.tiempoEntregaSelected.iddia)[0];
            this.seletecDay = this.selectedIni;
            this.listHora = this.selectedIni.hours;
            this.listDia.map(d => {
                d.hours.map(h => h.selected = false);
            });
            this.listHora.map(h => h.selected = false);
            const _h = this.listHora.filter(h => h.hora === this.tiempoEntregaSelected.idhora)[0];
            if (_h) {
                _h.selected = true;
            }
            // this.listHora.filter(h => h.hora === this.tiempoEntregaSelected.idhora)[0].selected = true;
        }
    }
    getDia() {
        const horaIni = parseInt(this.infoEstablecimiento.hora_ini.split(':')[0], 0);
        const horaFni = parseInt(this.infoEstablecimiento.hora_fin.split(':')[0], 0);
        const diasSemana = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];
        const numDay = this.dateHoy.getDay();
        const hourNow = this.dateHoy.getHours();
        const minNow = this.dateHoy.getMinutes();
        // console.log('numDay', numDay);
        const horaDisponibleHoy = hourNow <= horaFni;
        this.listDia = [];
        let countDays = 1;
        const _numDay = diasSemana[this.dateHoy.getDay()];
        if (horaDisponibleHoy) {
            const _lisHours = this.hourSow(hourNow, horaIni, horaFni, true);
            this.listDia.push({ numDay: 0, descripcion: 'Hoy', date: this.dateNow.toLocaleDateString(), hours: _lisHours });
        }
        // si solo se puede programar el pedido en el dia
        if (!this.isTiempoProgramadoSoloDia) {
            while (countDays <= 3) {
                const _lisHours = this.hourSow(hourNow, horaIni, horaFni, false);
                let numDayAdd = this.dateHoy.getDay() + 1;
                numDayAdd = numDayAdd > 6 ? numDayAdd - 7 : numDayAdd;
                this.dateHoy.setDate(this.dateHoy.getDate() + 1);
                const dateAdd = this.dateHoy.toLocaleDateString();
                const _descripcion = countDays === 1 ? 'Mañana' : diasSemana[numDayAdd] + ' ' + this.dateHoy.getDate();
                const _dayBus = numDayAdd;
                const isAdd = this.infoEstablecimiento.dias_atienden.indexOf(_dayBus.toString()) > -1;
                if (isAdd) {
                    this.listDia.push({ numDay: countDays, descripcion: _descripcion, date: dateAdd, hours: _lisHours });
                }
                countDays++;
            }
        }
        this.selectedIni = this.listDia[0];
        this.seletecDay = this.selectedIni;
        this.listHora = this.selectedIni.hours;
    }
    hourSow(horaNow, horaIni, horaFin, isHoy = false) {
        const listHoursShow = [];
        let loAntesPosible = false;
        let _itemHour = {};
        let hours = isHoy ? horaNow >= horaIni ? horaNow : horaIni : horaIni;
        // for (hours; horaIni <= horaFin; hours++) {
        while (hours < horaFin) {
            if (horaNow >= horaIni && isHoy && !loAntesPosible) {
                _itemHour = { hora: 8, descripcion: 'Lo mas antes posible: ' + this.infoEstablecimiento.tiempo_aprox_entrega, selected: true };
                loAntesPosible = true;
            }
            else {
                _itemHour = { hora: hours, descripcion: hours + ':00 - ' + hours + ':30', selected: false };
            }
            hours++;
            listHoursShow.push(_itemHour);
        }
        // console.log('listHoursShow', listHoursShow);
        return listHoursShow;
    }
    selectedDay(selectedDay) {
        // console.log('daySelected', selectedDay);
        this.seletecDay = selectedDay.value;
        this.listHora = selectedDay.value.hours;
    }
    selectHour(rowHour) {
        // this.listHora.map(h => h.selected = false);
        this.listDia.map(d => {
            d.hours.map(h => h.selected = false);
        });
        rowHour.selected = true;
        this.tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_3__["TiempoEntregaModel"]();
        const _valAdd = this.seletecDay.date + ' ' + rowHour.descripcion.split(' - ')[0];
        // console.log('_valAdd', _valAdd);
        this.tiempoEntregaSelected.dia = this.seletecDay.descripcion;
        this.tiempoEntregaSelected.descripcion = this.seletecDay.descripcion;
        this.tiempoEntregaSelected.hora = rowHour.descripcion;
        this.tiempoEntregaSelected.value = rowHour.descripcion;
        this.tiempoEntregaSelected.date = _valAdd;
        this.tiempoEntregaSelected.idhora = rowHour.hora;
        this.tiempoEntregaSelected.iddia = this.seletecDay.numDay;
        this.tiempoEntregaSelected.modificado = true;
        if (rowHour.descripcion.indexOf('Lo mas antes posible') > -1) {
            this.tiempoEntregaSelected.modificado = false;
        }
        this.tiempoProgramado.emit(this.tiempoEntregaSelected);
    }
    compareObjects(o1, o2) {
        return o1.descripcion === o2.descripcion && o1.numDay === o2.numDay;
    }
};
TiempoProgramadoComponent.ctorParameters = () => [
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"] }
];
TiempoProgramadoComponent.propDecorators = {
    tiempoProgramado: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
TiempoProgramadoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-tiempo-programado',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./tiempo-programado.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tiempo-programado/tiempo-programado.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./tiempo-programado.component.css */ "./src/app/componentes/tiempo-programado/tiempo-programado.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"]])
], TiempoProgramadoComponent);



/***/ }),

/***/ "./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("p { margin: 0; }\r\n\r\n.content-op {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    width: 100%;\r\n    -webkit-box-pack: center;\r\n    -webkit-justify-content: center;\r\n            justify-content: center;\r\n    margin-top: 15px;\r\n}\r\n\r\n.item-propina {\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #9e9e9e;\r\n    border-radius: 5px;\r\n    font-size: 12px;\r\n    background-color: white;\r\n    margin-left: 5px;\r\n    min-width: 90px;\r\n    -webkit-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.propina-selected {\r\n    /* background-color: black;\r\n    color: white; */\r\n    background-color: slategrey;\r\n    /* border: 1px solid gold; */\r\n    color: white;\r\n\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50ZXMvdGlwby12ZWhpY3Vsby90aXBvLXZlaGljdWxvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxTQUFTLEVBQUU7O0FBRWY7SUFDSSxvQkFBYTtJQUFiLHFCQUFhO0lBQWIsYUFBYTtJQUNiLFdBQVc7SUFDWCx3QkFBdUI7SUFBdkIsK0JBQXVCO1lBQXZCLHVCQUF1QjtJQUN2QixnQkFBZ0I7QUFDcEI7O0FBR0E7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLDRCQUFvQjtJQUFwQixvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSTttQkFDZTtJQUNmLDJCQUEyQjtJQUMzQiw0QkFBNEI7SUFDNUIsWUFBWTs7QUFFaEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRlcy90aXBvLXZlaGljdWxvL3RpcG8tdmVoaWN1bG8uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInAgeyBtYXJnaW46IDA7IH1cclxuXHJcbi5jb250ZW50LW9wIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxufVxyXG5cclxuXHJcbi5pdGVtLXByb3BpbmEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5ZTllOWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBtaW4td2lkdGg6IDkwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcclxufVxyXG5cclxuLnByb3BpbmEtc2VsZWN0ZWQge1xyXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7ICovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBzbGF0ZWdyZXk7XHJcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCBnb2xkOyAqL1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG5cclxufSJdfQ== */");

/***/ }),

/***/ "./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.ts ***!
  \**********************************************************************/
/*! exports provided: TipoVehiculoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipoVehiculoComponent", function() { return TipoVehiculoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");



let TipoVehiculoComponent = class TipoVehiculoComponent {
    constructor(crudService) {
        this.crudService = crudService;
        this.optionSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.listVehiculo = null;
    }
    ngOnInit() {
        // console.log('selectedFirst', this.selectedFirst);
        this.selectedFirst = this.selectedFirst ? this.selectedFirst : true;
        this.loadTipoVehiculo();
    }
    loadTipoVehiculo() {
        this.crudService.getAll('delivery', 'get-tipo-vehiculo', false, false, false)
            .subscribe((res) => {
            // console.log(res);
            this.listVehiculo = res.data;
            if (this.selectedFirst) {
                this.selectedItem(this.listVehiculo[0]);
            }
        });
    }
    selectedItem(item) {
        this.listVehiculo.map(x => x.selected = false);
        item.selected = true;
        this.itemSelected = item;
        this.optionSelected.emit(this.itemSelected);
    }
};
TipoVehiculoComponent.ctorParameters = () => [
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] }
];
TipoVehiculoComponent.propDecorators = {
    optionSelected: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    selectedFirst: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
TipoVehiculoComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-tipo-vehiculo',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./tipo-vehiculo.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./tipo-vehiculo.component.css */ "./src/app/componentes/tipo-vehiculo/tipo-vehiculo.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"]])
], TipoVehiculoComponent);



/***/ }),

/***/ "./src/app/core/core.module.ts":
/*!*************************************!*\
  !*** ./src/app/core/core.module.ts ***!
  \*************************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js");
/* harmony import */ var _shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _layout_main_layout_main_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout-main/layout-main.component */ "./src/app/core/layout-main/layout-main.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./material/material.module */ "./src/app/core/material/material.module.ts");
/* harmony import */ var _tool_bar_tool_bar_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tool-bar/tool-bar.component */ "./src/app/core/tool-bar/tool-bar.component.ts");
/* harmony import */ var _progress_time_limit_progress_time_limit_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./progress-time-limit/progress-time-limit.component */ "./src/app/core/progress-time-limit/progress-time-limit.component.ts");
/* harmony import */ var _shared_services_http_config_interceptor_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared/services/http-config-interceptor.service */ "./src/app/shared/services/http-config-interceptor.service.ts");
/* harmony import */ var _componentes_componentes_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../componentes/componentes.module */ "./src/app/componentes/componentes.module.ts");












let CoreModule = class CoreModule {
};
CoreModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [
            _layout_main_layout_main_component__WEBPACK_IMPORTED_MODULE_5__["LayoutMainComponent"],
            _tool_bar_tool_bar_component__WEBPACK_IMPORTED_MODULE_8__["ToolBarComponent"],
            _progress_time_limit_progress_time_limit_component__WEBPACK_IMPORTED_MODULE_9__["ProgressTimeLimitComponent"]
        ],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
            _material_material_module__WEBPACK_IMPORTED_MODULE_7__["MaterialModule"],
            _componentes_componentes_module__WEBPACK_IMPORTED_MODULE_11__["ComponentesModule"]
        ],
        exports: [
            _material_material_module__WEBPACK_IMPORTED_MODULE_7__["MaterialModule"],
            _tool_bar_tool_bar_component__WEBPACK_IMPORTED_MODULE_8__["ToolBarComponent"],
            _progress_time_limit_progress_time_limit_component__WEBPACK_IMPORTED_MODULE_9__["ProgressTimeLimitComponent"]
        ],
        providers: [
            _shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"],
            { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HTTP_INTERCEPTORS"], useClass: _shared_services_http_config_interceptor_service__WEBPACK_IMPORTED_MODULE_10__["HttpConfigInterceptorService"], multi: true }
        ]
    })
], CoreModule);



/***/ }),

/***/ "./src/app/core/layout-main/layout-main.component.css":
/*!************************************************************!*\
  !*** ./src/app/core/layout-main/layout-main.component.css ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvbGF5b3V0LW1haW4vbGF5b3V0LW1haW4uY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/core/layout-main/layout-main.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/core/layout-main/layout-main.component.ts ***!
  \***********************************************************/
/*! exports provided: LayoutMainComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutMainComponent", function() { return LayoutMainComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let LayoutMainComponent = class LayoutMainComponent {
    constructor() { }
    ngOnInit() {
    }
};
LayoutMainComponent.ctorParameters = () => [];
LayoutMainComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-layout-main',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./layout-main.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/layout-main/layout-main.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./layout-main.component.css */ "./src/app/core/layout-main/layout-main.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], LayoutMainComponent);



/***/ }),

/***/ "./src/app/core/material/material.module.ts":
/*!**************************************************!*\
  !*** ./src/app/core/material/material.module.ts ***!
  \**************************************************/
/*! exports provided: MaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialModule", function() { return MaterialModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/input.js");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/tabs.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/button.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/progress-bar */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/progress-bar.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/toolbar.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/checkbox.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/snack-bar.js");
/* harmony import */ var _angular_material_stepper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/stepper */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/stepper.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/expansion.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/card.js");
/* harmony import */ var _angular_material_radio__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/radio */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/radio.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/tooltip.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/sidenav.js");
/* harmony import */ var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/autocomplete */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/autocomplete.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/select.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/list.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/form-field.js");
/* harmony import */ var _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/slide-toggle */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/slide-toggle.js");



// material





















// import {MatSidenavModule} from '@angular/material/sidenav';
// import { MatTooltipModule } from '@angular/material/tooltip';
let MaterialModule = class MaterialModule {
};
MaterialModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
            _angular_material_core__WEBPACK_IMPORTED_MODULE_7__["MatRippleModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__["MatIconModule"],
            _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
            _angular_material_tabs__WEBPACK_IMPORTED_MODULE_5__["MatTabsModule"],
            _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
            _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_9__["MatToolbarModule"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__["MatDialogModule"],
            _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_11__["MatCheckboxModule"],
            _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_12__["MatSnackBarModule"],
            _angular_material_stepper__WEBPACK_IMPORTED_MODULE_13__["MatStepperModule"],
            _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionModule"],
            _angular_material_card__WEBPACK_IMPORTED_MODULE_15__["MatCardModule"],
            _angular_material_radio__WEBPACK_IMPORTED_MODULE_16__["MatRadioModule"],
            _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_17__["MatTooltipModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__["MatSidenavModule"],
            _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_19__["MatAutocompleteModule"],
            _angular_material_select__WEBPACK_IMPORTED_MODULE_20__["MatSelectModule"],
            _angular_material_list__WEBPACK_IMPORTED_MODULE_21__["MatListModule"],
            _angular_material_form_field__WEBPACK_IMPORTED_MODULE_22__["MatFormFieldModule"],
            _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_23__["MatSlideToggleModule"],
        ],
        exports: [
            _angular_material_button__WEBPACK_IMPORTED_MODULE_6__["MatButtonModule"],
            _angular_material_core__WEBPACK_IMPORTED_MODULE_7__["MatRippleModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_3__["MatIconModule"],
            _angular_material_input__WEBPACK_IMPORTED_MODULE_4__["MatInputModule"],
            _angular_material_tabs__WEBPACK_IMPORTED_MODULE_5__["MatTabsModule"],
            _angular_material_progress_bar__WEBPACK_IMPORTED_MODULE_8__["MatProgressBarModule"],
            _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_9__["MatToolbarModule"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__["MatDialogModule"],
            _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_11__["MatCheckboxModule"],
            _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_12__["MatSnackBarModule"],
            _angular_material_stepper__WEBPACK_IMPORTED_MODULE_13__["MatStepperModule"],
            _angular_material_expansion__WEBPACK_IMPORTED_MODULE_14__["MatExpansionModule"],
            _angular_material_card__WEBPACK_IMPORTED_MODULE_15__["MatCardModule"],
            _angular_material_radio__WEBPACK_IMPORTED_MODULE_16__["MatRadioModule"],
            _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_17__["MatTooltipModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_18__["MatSidenavModule"],
            _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_19__["MatAutocompleteModule"],
            _angular_material_select__WEBPACK_IMPORTED_MODULE_20__["MatSelectModule"],
            _angular_material_list__WEBPACK_IMPORTED_MODULE_21__["MatListModule"],
            _angular_material_form_field__WEBPACK_IMPORTED_MODULE_22__["MatFormFieldModule"],
            _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_23__["MatSlideToggleModule"],
        ]
    })
], MaterialModule);



/***/ }),

/***/ "./src/app/core/progress-time-limit/progress-time-limit.component.css":
/*!****************************************************************************!*\
  !*** ./src/app/core/progress-time-limit/progress-time-limit.component.css ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvcHJvZ3Jlc3MtdGltZS1saW1pdC9wcm9ncmVzcy10aW1lLWxpbWl0LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/core/progress-time-limit/progress-time-limit.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/core/progress-time-limit/progress-time-limit.component.ts ***!
  \***************************************************************************/
/*! exports provided: ProgressTimeLimitComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressTimeLimitComponent", function() { return ProgressTimeLimitComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_timer_limit_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/timer-limit.service */ "./src/app/shared/services/timer-limit.service.ts");



let ProgressTimeLimitComponent = class ProgressTimeLimitComponent {
    constructor(timerLimitService) {
        this.timerLimitService = timerLimitService;
    }
    ngOnInit() {
    }
};
ProgressTimeLimitComponent.ctorParameters = () => [
    { type: src_app_shared_services_timer_limit_service__WEBPACK_IMPORTED_MODULE_2__["TimerLimitService"] }
];
ProgressTimeLimitComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-progress-time-limit',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./progress-time-limit.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/progress-time-limit/progress-time-limit.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./progress-time-limit.component.css */ "./src/app/core/progress-time-limit/progress-time-limit.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_timer_limit_service__WEBPACK_IMPORTED_MODULE_2__["TimerLimitService"]])
], ProgressTimeLimitComponent);



/***/ }),

/***/ "./src/app/core/tool-bar/tool-bar.component.css":
/*!******************************************************!*\
  !*** ./src/app/core/tool-bar/tool-bar.component.css ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".example-icon {\r\n    padding: 0 14px;\r\n  }\r\n  \r\n.example-spacer {\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex: 1 1 auto;\r\n            flex: 1 1 auto;\r\n  }\r\n  \r\n.example-ripple-container {\r\n    cursor: pointer;\r\n    text-align: center;\r\n  \r\n    width: 40px;\r\n    height: 40px;\r\n\r\n    line-height: 40px;\r\n    -webkit-flex-shrink: 0;\r\n            flex-shrink: 0;\r\n    line-height: 40px;\r\n    border-radius: 50%;\r\n    \r\n  \r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n  \r\n    -webkit-user-drag: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n  \r\n.text-busqueda {\r\n  border: none;\r\n  outline: none;\r\n}\r\n  \r\n.toolbar-busqueda {\r\n  background: white;\r\n}\r\n  \r\n.nom-comercio {\r\n  max-width: 70%;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtFQUNqQjs7QUFFRjtJQUNJLG1CQUFjO0lBQWQsc0JBQWM7WUFBZCxjQUFjO0VBQ2hCOztBQUVBO0lBQ0UsZUFBZTtJQUNmLGtCQUFrQjs7SUFFbEIsV0FBVztJQUNYLFlBQVk7O0lBRVosaUJBQWlCO0lBQ2pCLHNCQUFjO1lBQWQsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixrQkFBa0I7OztJQUdsQixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixxQkFBcUI7O0lBRXJCLHVCQUF1QjtJQUN2Qix3Q0FBd0M7RUFDMUM7O0FBRUY7RUFDRSxZQUFZO0VBQ1osYUFBYTtBQUNmOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsY0FBYztFQUNkLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvY29yZS90b29sLWJhci90b29sLWJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4YW1wbGUtaWNvbiB7XHJcbiAgICBwYWRkaW5nOiAwIDE0cHg7XHJcbiAgfVxyXG4gIFxyXG4uZXhhbXBsZS1zcGFjZXIge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgfVxyXG5cclxuICAuZXhhbXBsZS1yaXBwbGUtY29udGFpbmVyIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG5cclxuICAgIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIFxyXG4gIFxyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuICBcclxuICAgIC13ZWJraXQtdXNlci1kcmFnOiBub25lO1xyXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICB9XHJcblxyXG4udGV4dC1idXNxdWVkYSB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi50b29sYmFyLWJ1c3F1ZWRhIHtcclxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuLm5vbS1jb21lcmNpbyB7XHJcbiAgbWF4LXdpZHRoOiA3MCU7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/core/tool-bar/tool-bar.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/tool-bar/tool-bar.component.ts ***!
  \*****************************************************/
/*! exports provided: myCustomTooltipDefaults, ToolBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "myCustomTooltipDefaults", function() { return myCustomTooltipDefaults; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolBarComponent", function() { return ToolBarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/shared/services/navigator-link.service */ "./src/app/shared/services/navigator-link.service.ts");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_pages_pedido_resumen_pedido_dialog_reset_dialog_reset_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component */ "./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.ts");
/* harmony import */ var src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/shared/services/mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/shared/services/listen-status.service */ "./src/app/shared/services/listen-status.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/shared/services/info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/shared/services/utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/tooltip.js");
/* harmony import */ var src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/shared/services/crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var src_app_componentes_dialog_config_punto_dialog_config_punto_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/componentes/dialog-config-punto/dialog-config-punto.component */ "./src/app/componentes/dialog-config-punto/dialog-config-punto.component.ts");
/* harmony import */ var src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/shared/services/establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/shared/services/speech/comand-analizer.service */ "./src/app/shared/services/speech/comand-analizer.service.ts");















const myCustomTooltipDefaults = {
    showDelay: 500,
    hideDelay: 1000,
    touchendHideDelay: 500,
};
let ToolBarComponent = class ToolBarComponent {
    // isBuqueda=
    constructor(miPedidoService, 
    // private socketService: SocketService,
    navigatorService, dialog, listenStatusService, renderer, infoTokenService, utilitariosSerivce, crudService, establecimientoService, comandAnalizerService) {
        this.miPedidoService = miPedidoService;
        this.navigatorService = navigatorService;
        this.dialog = dialog;
        this.listenStatusService = listenStatusService;
        this.renderer = renderer;
        this.infoTokenService = infoTokenService;
        this.utilitariosSerivce = utilitariosSerivce;
        this.crudService = crudService;
        this.establecimientoService = establecimientoService;
        this.comandAnalizerService = comandAnalizerService;
        this.isBusqueda = false;
        this.rippleColor = 'rgba(238,238,238,0.2)';
        this.rippleColorBusqueda = 'rgba(238,238,238,0.9)';
        this.rippleColorPlomo = 'rgba(158,158,158,0.5)';
        this.isClienteDelivery = false;
        this.isCliente = false;
        this.isSpeechVoiceAcivado = false;
        this.isActiveMozoVoz = false;
        this.nomSede = '';
    }
    ngOnInit() {
        // console.log('establecimientoService', this.establecimientoService.get());
        this.isSpeechVoiceAcivado = this.establecimientoService.get().speech_disabled === 1;
        this.listenStatusService.isBusqueda$.subscribe(res => {
            this.isBusqueda = res;
            // console.log('liste isBusqueda', res);
        });
        this.listenStatusService.hayDatosSede$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["filter"])(res => res === true)).subscribe(res => {
            this.getNomSede();
        });
        this.isClienteDelivery = this.infoTokenService.isDelivery();
        this.isCliente = this.infoTokenService.isCliente();
        this.idSedeCartaVirtual = this.infoTokenService.infoUsToken.idsede;
        this.isActiveMozoVoz = this.isSpeechVoiceAcivado && this.isCliente && !this.isClienteDelivery;
        this.getLinkSharedCarta();
    }
    getNomSede() {
        this.nomSede = this.miPedidoService.objDatosSede.datossede[0].sedenombre;
    }
    getLinkSharedCarta() {
        const _dataSend = {
            idsede: this.idSedeCartaVirtual
        };
        this.crudService.postFree(_dataSend, 'delivery', 'get-shared-url-carta', false)
            .subscribe((res) => {
            this.urlSharedCartaVirtual = res.data[0].qr_delivery;
        });
    }
    activaBusqueda() {
        this.navigatorService.setPageActive('carta');
        this.navigatorService.addLink('carta-i-');
        this.listenStatusService.setIsBusqueda();
        setTimeout(() => {
            if (!this.txtBuscar) {
                return;
            }
            this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();
            this.txtBuscar.nativeElement.value = this.getStorageBusqueda();
            // this.renderer.selectRootElement(this.txtBuscar.nativeElement).value('aaaaaa');
        }, 300);
    }
    buscarCharAhora(charFind) {
        // console.log(charFind);
        this.listenStatusService.setCharBusqueda(charFind);
        this.setStorageBusqueda(charFind);
    }
    setStorageBusqueda(charFind) {
        window.localStorage.setItem('sys::find', charFind);
    }
    getStorageBusqueda() {
        return window.localStorage.getItem('sys::find') || '';
    }
    clearTextBuqueda() {
        this.renderer.selectRootElement(this.txtBuscar.nativeElement).focus();
        this.txtBuscar.nativeElement.value = '';
        window.localStorage.setItem('sys::find', '');
    }
    cerrarSession() {
        const dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogConfig"]();
        dialogConfig.data = { idMjs: 1 };
        const dialogReset = this.dialog.open(src_app_pages_pedido_resumen_pedido_dialog_reset_dialog_reset_component__WEBPACK_IMPORTED_MODULE_4__["DialogResetComponent"], dialogConfig);
        dialogReset.afterClosed().subscribe(result => {
            if (result) {
                this.stopRecordingToolbar();
                this.miPedidoService.resetAllNewPedido();
                this.miPedidoService.cerrarSession();
                // this.socketService.closeConnection();
                // this.navigatorService.cerrarSession();
                this.infoTokenService.cerrarSession();
            }
        });
    }
    goBackOutEstablecimiento() {
        const dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogConfig"]();
        dialogConfig.data = { idMjs: 2 };
        const dialogReset = this.dialog.open(src_app_pages_pedido_resumen_pedido_dialog_reset_dialog_reset_component__WEBPACK_IMPORTED_MODULE_4__["DialogResetComponent"], dialogConfig);
        dialogReset.afterClosed().subscribe(result => {
            if (result) {
                this.miPedidoService.resetAllNewPedido();
                this.miPedidoService.cerrarSession();
                // this.socketService.closeConnection();
                // this.navigatorService.cerrarSession();
                this.infoTokenService.cerrarSession();
            }
        });
    }
    sharedCarta() {
        console.log('this.urlSharedCartaVirtual', this.urlSharedCartaVirtual);
        this.utilitariosSerivce.sharedNative(this.urlSharedCartaVirtual, this.nomSede);
    }
    configPunto() {
        const dialogConfig = new _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogConfig"]();
        // dialogConfig.panelClass = 'dialog-item-edit';
        dialogConfig.panelClass = ['my-dialog-orden-detalle', 'my-dialog-scrool'];
        this.dialog.open(src_app_componentes_dialog_config_punto_dialog_config_punto_component__WEBPACK_IMPORTED_MODULE_12__["DialogConfigPuntoComponent"], dialogConfig);
    }
    stopRecordingToolbar() {
        this.comandAnalizerService.stopRecording();
    }
};
ToolBarComponent.ctorParameters = () => [
    { type: src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_5__["MipedidoService"] },
    { type: src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_2__["NavigatorLinkService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialog"] },
    { type: src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"] },
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"] },
    { type: src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"] },
    { type: src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__["UtilitariosService"] },
    { type: src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_11__["CrudHttpService"] },
    { type: src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_13__["EstablecimientoService"] },
    { type: src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_14__["ComandAnalizerService"] }
];
ToolBarComponent.propDecorators = {
    txtBuscar: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"], args: ['txtBuscar',] }]
};
ToolBarComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-tool-bar',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./tool-bar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/core/tool-bar/tool-bar.component.html")).default,
        providers: [
            { provide: _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_10__["MAT_TOOLTIP_DEFAULT_OPTIONS"], useValue: myCustomTooltipDefaults }
        ],
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./tool-bar.component.css */ "./src/app/core/tool-bar/tool-bar.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [src_app_shared_services_mipedido_service__WEBPACK_IMPORTED_MODULE_5__["MipedidoService"],
        src_app_shared_services_navigator_link_service__WEBPACK_IMPORTED_MODULE_2__["NavigatorLinkService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialog"],
        src_app_shared_services_listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"],
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["Renderer2"],
        src_app_shared_services_info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"],
        src_app_shared_services_utilitarios_service__WEBPACK_IMPORTED_MODULE_9__["UtilitariosService"],
        src_app_shared_services_crud_http_service__WEBPACK_IMPORTED_MODULE_11__["CrudHttpService"],
        src_app_shared_services_establecimiento_service__WEBPACK_IMPORTED_MODULE_13__["EstablecimientoService"],
        src_app_shared_services_speech_comand_analizer_service__WEBPACK_IMPORTED_MODULE_14__["ComandAnalizerService"]])
], ToolBarComponent);



/***/ }),

/***/ "./src/app/modelos/DataTransaccion.ts":
/*!********************************************!*\
  !*** ./src/app/modelos/DataTransaccion.ts ***!
  \********************************************/
/*! exports provided: DataTransaccion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTransaccion", function() { return DataTransaccion; });
class DataTransaccion {
}


/***/ }),

/***/ "./src/app/modelos/GetFormDatosCliente.ts":
/*!************************************************!*\
  !*** ./src/app/modelos/GetFormDatosCliente.ts ***!
  \************************************************/
/*! exports provided: GetFormDatosCliente */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetFormDatosCliente", function() { return GetFormDatosCliente; });
class GetFormDatosCliente {
}


/***/ }),

/***/ "./src/app/modelos/categoria.model.ts":
/*!********************************************!*\
  !*** ./src/app/modelos/categoria.model.ts ***!
  \********************************************/
/*! exports provided: CategoriaModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CategoriaModel", function() { return CategoriaModel; });
class CategoriaModel {
}


/***/ }),

/***/ "./src/app/modelos/cliente.pago.model.ts":
/*!***********************************************!*\
  !*** ./src/app/modelos/cliente.pago.model.ts ***!
  \***********************************************/
/*! exports provided: ClientePagoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientePagoModel", function() { return ClientePagoModel; });
class ClientePagoModel {
}


/***/ }),

/***/ "./src/app/modelos/datos.calificado.model.ts":
/*!***************************************************!*\
  !*** ./src/app/modelos/datos.calificado.model.ts ***!
  \***************************************************/
/*! exports provided: DatosCalificadoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatosCalificadoModel", function() { return DatosCalificadoModel; });
class DatosCalificadoModel {
}


/***/ }),

/***/ "./src/app/modelos/delivery.direccion.cliente.model.ts":
/*!*************************************************************!*\
  !*** ./src/app/modelos/delivery.direccion.cliente.model.ts ***!
  \*************************************************************/
/*! exports provided: DeliveryDireccionCliente */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeliveryDireccionCliente", function() { return DeliveryDireccionCliente; });
class DeliveryDireccionCliente {
}


/***/ }),

/***/ "./src/app/modelos/delivery.establecimiento.ts":
/*!*****************************************************!*\
  !*** ./src/app/modelos/delivery.establecimiento.ts ***!
  \*****************************************************/
/*! exports provided: DeliveryEstablecimiento */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeliveryEstablecimiento", function() { return DeliveryEstablecimiento; });
class DeliveryEstablecimiento {
}


/***/ }),

/***/ "./src/app/modelos/estado.pedido.model.ts":
/*!************************************************!*\
  !*** ./src/app/modelos/estado.pedido.model.ts ***!
  \************************************************/
/*! exports provided: EstadoPedidoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EstadoPedidoModel", function() { return EstadoPedidoModel; });
class EstadoPedidoModel {
}


/***/ }),

/***/ "./src/app/modelos/from.valid.rpt.model.ts":
/*!*************************************************!*\
  !*** ./src/app/modelos/from.valid.rpt.model.ts ***!
  \*************************************************/
/*! exports provided: FormValidRptModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormValidRptModel", function() { return FormValidRptModel; });
class FormValidRptModel {
    constructor() {
        this.isTpcLocal = false;
        this.isTpcSoloLLevar = false;
        this.isTpcSoloDelivery = false;
        this.isTpcSoloOther = false;
        this.isRequiereMesa = false;
    }
}


/***/ }),

/***/ "./src/app/modelos/item.model.ts":
/*!***************************************!*\
  !*** ./src/app/modelos/item.model.ts ***!
  \***************************************/
/*! exports provided: ItemModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemModel", function() { return ItemModel; });
class ItemModel {
    constructor() {
        this.precio_total = 0; // preciounitario * cantidad
        this.precio_antes = null; // precio antes del descuento
        this.cantidad_seleccionada_x_tpc = 0; // cantidad seleccionada por tipo cosnumo
        this.cantidad_descontado = 0; // cantidad que se decuenta por reglas de carta
        this.itemtiposconsumo = []; // para la vista -> listItemsPedido
        this.subitems_selected = []; // subitems seleccionados
        this.subitems_view = []; // subitems vista y guardar pedido detalle
    }
}


/***/ }),

/***/ "./src/app/modelos/item.tipoconsumo.model.ts":
/*!***************************************************!*\
  !*** ./src/app/modelos/item.tipoconsumo.model.ts ***!
  \***************************************************/
/*! exports provided: ItemTipoConsumoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemTipoConsumoModel", function() { return ItemTipoConsumoModel; });
class ItemTipoConsumoModel {
}


/***/ }),

/***/ "./src/app/modelos/metodo.pago.model.ts":
/*!**********************************************!*\
  !*** ./src/app/modelos/metodo.pago.model.ts ***!
  \**********************************************/
/*! exports provided: MetodoPagoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetodoPagoModel", function() { return MetodoPagoModel; });
class MetodoPagoModel {
}


/***/ }),

/***/ "./src/app/modelos/parametrosCompHora.ts":
/*!***********************************************!*\
  !*** ./src/app/modelos/parametrosCompHora.ts ***!
  \***********************************************/
/*! exports provided: ParametrosCompHora */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParametrosCompHora", function() { return ParametrosCompHora; });
class ParametrosCompHora {
}


/***/ }),

/***/ "./src/app/modelos/pedido.model.ts":
/*!*****************************************!*\
  !*** ./src/app/modelos/pedido.model.ts ***!
  \*****************************************/
/*! exports provided: PedidoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PedidoModel", function() { return PedidoModel; });
class PedidoModel {
    constructor() {
        this.tipoconsumo = [];
    }
}


/***/ }),

/***/ "./src/app/modelos/propina.model.ts":
/*!******************************************!*\
  !*** ./src/app/modelos/propina.model.ts ***!
  \******************************************/
/*! exports provided: PropinaModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropinaModel", function() { return PropinaModel; });
class PropinaModel {
}


/***/ }),

/***/ "./src/app/modelos/seccion.model.ts":
/*!******************************************!*\
  !*** ./src/app/modelos/seccion.model.ts ***!
  \******************************************/
/*! exports provided: SeccionModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SeccionModel", function() { return SeccionModel; });
class SeccionModel {
    constructor() {
        this.descuento = null;
        this.items = [];
    }
}


/***/ }),

/***/ "./src/app/modelos/send.data.tts.ts":
/*!******************************************!*\
  !*** ./src/app/modelos/send.data.tts.ts ***!
  \******************************************/
/*! exports provided: SendDataTTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SendDataTTS", function() { return SendDataTTS; });
class SendDataTTS {
}


/***/ }),

/***/ "./src/app/modelos/socket.client.model.ts":
/*!************************************************!*\
  !*** ./src/app/modelos/socket.client.model.ts ***!
  \************************************************/
/*! exports provided: SocketClientModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocketClientModel", function() { return SocketClientModel; });
class SocketClientModel {
}


/***/ }),

/***/ "./src/app/modelos/subitems.view.model.ts":
/*!************************************************!*\
  !*** ./src/app/modelos/subitems.view.model.ts ***!
  \************************************************/
/*! exports provided: SubItemsView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubItemsView", function() { return SubItemsView; });
class SubItemsView {
}


/***/ }),

/***/ "./src/app/modelos/tiempo.entrega.model.ts":
/*!*************************************************!*\
  !*** ./src/app/modelos/tiempo.entrega.model.ts ***!
  \*************************************************/
/*! exports provided: TiempoEntregaModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TiempoEntregaModel", function() { return TiempoEntregaModel; });
class TiempoEntregaModel {
}


/***/ }),

/***/ "./src/app/modelos/tipo.comprobante.model.ts":
/*!***************************************************!*\
  !*** ./src/app/modelos/tipo.comprobante.model.ts ***!
  \***************************************************/
/*! exports provided: TipoComprobanteModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipoComprobanteModel", function() { return TipoComprobanteModel; });
class TipoComprobanteModel {
}


/***/ }),

/***/ "./src/app/modelos/tipoconsumo.model.ts":
/*!**********************************************!*\
  !*** ./src/app/modelos/tipoconsumo.model.ts ***!
  \**********************************************/
/*! exports provided: TipoConsumoModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipoConsumoModel", function() { return TipoConsumoModel; });
class TipoConsumoModel {
    constructor() {
        this.secciones = [];
    }
}


/***/ }),

/***/ "./src/app/modelos/usuario.token.model.ts":
/*!************************************************!*\
  !*** ./src/app/modelos/usuario.token.model.ts ***!
  \************************************************/
/*! exports provided: UsuarioTokenModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsuarioTokenModel", function() { return UsuarioTokenModel; });
class UsuarioTokenModel {
}


/***/ }),

/***/ "./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.css ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlZGlkby9yZXN1bWVuLXBlZGlkby9kaWFsb2ctcmVzZXQvZGlhbG9nLXJlc2V0LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.ts ***!
  \************************************************************************************/
/*! exports provided: DialogResetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogResetComponent", function() { return DialogResetComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");



let DialogResetComponent = class DialogResetComponent {
    constructor(data) {
        this.msj = '';
        // console.log('data dialog', data);
        const idMsj = data ? data.idMjs : 0;
        switch (idMsj) {
            case 0:
                this.msj = 'Confirma que desea de borrar el pedido actual?';
                break;
            case 1:
                this.msj = 'Confirma que desea salir?';
                break;
            case 2:
                this.msj = 'Solo puede hacer un pedido por establecimiento a la vez. Confirma que desea salir?';
                break;
        }
    }
    ngOnInit() {
    }
};
DialogResetComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"],] }] }
];
DialogResetComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-dialog-reset',
        template: Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! raw-loader!./dialog-reset.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.html")).default,
        styles: [Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"])(__webpack_require__(/*! ./dialog-reset.component.css */ "./src/app/pages/pedido/resumen-pedido/dialog-reset/dialog-reset.component.css")).default]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [Object])
], DialogResetComponent);



/***/ }),

/***/ "./src/app/shared/config/config.const.ts":
/*!***********************************************!*\
  !*** ./src/app/shared/config/config.const.ts ***!
  \***********************************************/
/*! exports provided: URL_SERVER, URL_SERVER_SOCKET, URL_SERVER_SOCKET_SPEECH, URL_SERVER_FILE_AUDIO_SPEECH, URL_IMG_CARTA, URL_IMG_PROMO, URL_IMG_COMERCIO, VAPID_PUBLIC, VIEW_APP_MOZO, URL_CONSULTA_RUC_DNI, TOKEN_CONSULTA, TOKEN_SMS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_SERVER", function() { return URL_SERVER; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_SERVER_SOCKET", function() { return URL_SERVER_SOCKET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_SERVER_SOCKET_SPEECH", function() { return URL_SERVER_SOCKET_SPEECH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_SERVER_FILE_AUDIO_SPEECH", function() { return URL_SERVER_FILE_AUDIO_SPEECH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_IMG_CARTA", function() { return URL_IMG_CARTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_IMG_PROMO", function() { return URL_IMG_PROMO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_IMG_COMERCIO", function() { return URL_IMG_COMERCIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VAPID_PUBLIC", function() { return VAPID_PUBLIC; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VIEW_APP_MOZO", function() { return VIEW_APP_MOZO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "URL_CONSULTA_RUC_DNI", function() { return URL_CONSULTA_RUC_DNI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOKEN_CONSULTA", function() { return TOKEN_CONSULTA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOKEN_SMS", function() { return TOKEN_SMS; });
// pruebas
// export const URL_SERVER = 'http://localhost:5819/v3/'; // desarrollo
// export const URL_SERVER_SOCKET = 'http://localhost:5819'; // desarrollo
// export const URL_SERVER_SOCKET_SPEECH = 'http://localhost:1337'; //
// export const URL_SERVER_FILE_AUDIO_SPEECH = 'http://localhost:1337/resources/'; //
// export const URL_IMG_CARTA = 'http://192.168.1.64/restobar/file/'; // imagenes de la carta
// export const URL_IMG_PROMO = 'http://192.168.1.64/restobar/repositorio/img_promo'; // imagenes de promosiones
// export const URL_IMG_COMERCIO = 'http://192.168.1.64/restobar/print/logo/';
// export const VAPID_PUBLIC = 'BC7ietauZE99Hx9HkPyuGVr8jaYETyEJgH-gLaYIsbORYobppt9dX49_K_wubDqphu1afi7XrM6x1zAp4kJh_wU';
// export const VAPID_PUBLIC = 'BOiwO8PftVFo8MrQfp3oAv4KbVtFdZAQojGKgzyxMCPgiNhg8PySbOSlkxDqd3iKA4J1GhzwFiCIGKmXRiKZM_0';
// export const URL_CONSULTA_RUC_DNI = 'http://apifacturalo_a.test:8080/api/services/'; // consulta dni o ruc
// produccion
const URL_SERVER = 'https://app.restobar.papaya.com.pe/api.pwa/v3'; // produccion
const URL_SERVER_SOCKET = 'https://app.restobar.papaya.com.pe/'; // produccion
const URL_SERVER_SOCKET_SPEECH = 'https://app.restobar.papaya.com.pe/';
const URL_SERVER_FILE_AUDIO_SPEECH = 'https://app.restobar.papaya.com.pe/speech/resources/'; //
const URL_IMG_CARTA = '//restobar.papaya.com.pe/file/'; // web
const URL_IMG_PROMO = '//restobar.papaya.com.pe/repositorio/img_promo'; // imagenes de promosiones
// export const URL_IMG_CARTA = 'https://restobar.papaya.com.pe/file/'; // capacitor
const URL_IMG_COMERCIO = '//restobar.papaya.com.pe/print/logo/';
const VAPID_PUBLIC = 'BOiwO8PftVFo8MrQfp3oAv4KbVtFdZAQojGKgzyxMCPgiNhg8PySbOSlkxDqd3iKA4J1GhzwFiCIGKmXRiKZM_0';
const VIEW_APP_MOZO = false; // true = app solo mozo
const URL_CONSULTA_RUC_DNI = 'https://apifac.papaya.com.pe/api/services/'; // consulta dni o ruc
const TOKEN_CONSULTA = 'tLKbDncvyKIPcgdVAGqt7rmy7W9mU9cnbawpZdc7JJv7l6h9cU'; // token de prueba
const TOKEN_SMS = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoicGFwYXlhLXNtcyIsImlhdCI6MTAwMDIwMDAzMDAwfQ.bKnTHEEGW_SustFir-40ZAYcHtfIo7Gyjq7c2onsAj0'; // token de prueba
// export const URL_SERVER_SOCKET = '/'; // produccion


/***/ }),

/***/ "./src/app/shared/directivas/debounce-click.directive.ts":
/*!***************************************************************!*\
  !*** ./src/app/shared/directivas/debounce-click.directive.ts ***!
  \***************************************************************/
/*! exports provided: DebounceClickDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebounceClickDirective", function() { return DebounceClickDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/operators/throttleTime */ "./node_modules/rxjs/internal/operators/throttleTime.js");
/* harmony import */ var rxjs_internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_3__);



// import { debounceTime } from 'rxjs/internal/operators/debounceTime';

let DebounceClickDirective = class DebounceClickDirective {
    constructor() {
        this.debounceTime = 300;
        this.debounceClick = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.clicks = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
    }
    ngOnInit() {
        this.subscription = this.clicks.pipe(Object(rxjs_internal_operators_throttleTime__WEBPACK_IMPORTED_MODULE_3__["throttleTime"])(this.debounceTime)).subscribe((e) => {
            this.debounceClick.emit(e);
        });
    }
    ngOnDestroy() {
        if (this.subscription) {
            this.subscription.unsubscribe();
        }
    }
    clickEvent(event) {
        event.preventDefault();
        event.stopPropagation();
        this.clicks.next(event);
    }
};
DebounceClickDirective.ctorParameters = () => [];
DebounceClickDirective.propDecorators = {
    debounceTime: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    debounceClick: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    clickEvent: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"], args: ['click', ['$event'],] }]
};
DebounceClickDirective = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
        selector: '[appDebounceClick]'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], DebounceClickDirective);



/***/ }),

/***/ "./src/app/shared/directivas/directions-map-directive.directive.ts":
/*!*************************************************************************!*\
  !*** ./src/app/shared/directivas/directions-map-directive.directive.ts ***!
  \*************************************************************************/
/*! exports provided: DirectionsMapDirectiveDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionsMapDirectiveDirective", function() { return DirectionsMapDirectiveDirective; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/__ivy_ngcc__/fesm2015/agm-core.js");



let DirectionsMapDirectiveDirective = class DirectionsMapDirectiveDirective {
    // We inject AGM's google maps api wrapper that handles the communication with the Google Maps Javascript
    constructor(gmapsApi) {
        this.gmapsApi = gmapsApi;
    }
    ngOnInit() {
        this.drawDirectionsRoute();
    }
    drawDirectionsRoute() {
        this.gmapsApi.getNativeMap().then(map => {
            if (!this.directionsRenderer) {
                // if you already have a marker at the coordinate location on the map, use suppressMarkers option
                // suppressMarkers prevents google maps from automatically adding a marker for you
                this.directionsRenderer = new google.maps.DirectionsRenderer({ suppressMarkers: true });
            }
            const directionsRenderer = this.directionsRenderer;
            if (this.showDirection && this.destination) {
                const directionsService = new google.maps.DirectionsService;
                directionsRenderer.setMap(map);
                directionsService.route({
                    origin: { lat: this.origin.latitude, lng: this.origin.longitude },
                    destination: { lat: this.destination.latitude, lng: this.destination.longitude },
                    waypoints: [],
                    optimizeWaypoints: true,
                    travelMode: 'DRIVING'
                }, (response, status) => {
                    if (status === 'OK') {
                        directionsRenderer.setDirections(response);
                        // If you'll like to display an info window along the route
                        // middleStep is used to estimate the midpoint on the route where the info window will appear
                        // const middleStep = (response.routes[0].legs[0].steps.length / 2).toFixed();
                        // const infowindow2 = new google.maps.InfoWindow();
                        // infowindow2.setContent(`${response.routes[0].legs[0].distance.text} <br> ${response.routes[0].legs[0].duration.text}  `);
                        // infowindow2.setPosition(response.routes[0].legs[0].steps[middleStep].end_location);
                        // infowindow2.open(map);
                    }
                    else {
                        console.log('Directions request failed due to ' + status);
                    }
                });
            }
        });
    }
    ngOnChanges(changes) {
        if (changes.origin || changes.showDirection) {
            // this checks if the show directions input changed, if so the directions are removed
            // else we redraw the directions
            if (changes.showDirection && !changes.showDirection.currentValue) {
                if (this.directionsRenderer !== undefined) { // check this value is not undefined
                    this.directionsRenderer.setDirections({ routes: [] });
                    return;
                }
            }
            else {
                this.drawDirectionsRoute();
            }
        }
    }
};
DirectionsMapDirectiveDirective.ctorParameters = () => [
    { type: _agm_core__WEBPACK_IMPORTED_MODULE_2__["GoogleMapsAPIWrapper"] }
];
DirectionsMapDirectiveDirective.propDecorators = {
    origin: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    destination: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }],
    showDirection: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"] }]
};
DirectionsMapDirectiveDirective = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
        selector: '[appDirectionsMapDirective]'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_agm_core__WEBPACK_IMPORTED_MODULE_2__["GoogleMapsAPIWrapper"]])
], DirectionsMapDirectiveDirective);



/***/ }),

/***/ "./src/app/shared/guards/auth.guard.ts":
/*!*********************************************!*\
  !*** ./src/app/shared/guards/auth.guard.ts ***!
  \*********************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth.service */ "./src/app/shared/services/auth.service.ts");
/* harmony import */ var _services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");
/* harmony import */ var _services_info_token_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/info-token.service */ "./src/app/shared/services/info-token.service.ts");





// import { InfoTockenService } from '../services/info-token.service';
let AuthGuard = class AuthGuard {
    constructor(authService, verifyClientService, infoTokenService) {
        this.authService = authService;
        this.verifyClientService = verifyClientService;
        this.infoTokenService = infoTokenService;
    }
    // canActivate(
    //   next: ActivatedRouteSnapshot,
    //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {
    //   return true;
    // }
    canActivate() {
        const us = this.authService.getLoggedStatus();
        const infoToken = this.infoTokenService.getInfoUs();
        const res = infoToken.isCliente ? infoToken.isDelivery || infoToken.isReserva ? true : this.verifyClientService.getIsQrSuccess() && us : us;
        // if ( us )
        return res;
    }
};
AuthGuard.ctorParameters = () => [
    { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] },
    { type: _services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_3__["VerifyAuthClientService"] },
    { type: _services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"] }
];
AuthGuard = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"],
        _services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_3__["VerifyAuthClientService"],
        _services_info_token_service__WEBPACK_IMPORTED_MODULE_4__["InfoTockenService"]])
], AuthGuard);



/***/ }),

/***/ "./src/app/shared/guards/cliente-profile-guards.ts":
/*!*********************************************************!*\
  !*** ./src/app/shared/guards/cliente-profile-guards.ts ***!
  \*********************************************************/
/*! exports provided: ClienteProfileGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClienteProfileGuard", function() { return ClienteProfileGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/verify-auth-client.service */ "./src/app/shared/services/verify-auth-client.service.ts");



let ClienteProfileGuard = class ClienteProfileGuard {
    constructor(verifyClientService) {
        this.verifyClientService = verifyClientService;
    }
    // canActivate(
    //   next: ActivatedRouteSnapshot,
    //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {
    //   return true;
    // }
    canActivate() {
        // console.log('llega canActivate', this.verifyClientService.getIsQrSuccess());
        return this.verifyClientService.isLogin() || this.verifyClientService.getIsLoginByDNI();
    }
};
ClienteProfileGuard.ctorParameters = () => [
    { type: _services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__["VerifyAuthClientService"] }
];
ClienteProfileGuard = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_services_verify_auth_client_service__WEBPACK_IMPORTED_MODULE_2__["VerifyAuthClientService"]])
], ClienteProfileGuard);



/***/ }),

/***/ "./src/app/shared/services/auth.service.ts":
/*!*************************************************!*\
  !*** ./src/app/shared/services/auth.service.ts ***!
  \*************************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _auth0_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth0.service */ "./src/app/shared/services/auth0.service.ts");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");




let AuthService = class AuthService {
    constructor(crudService, auth) {
        this.crudService = crudService;
        this.auth = auth;
        this.isLoggedStatus = false;
    }
    setLoggedStatus(value) {
        this.isLoggedStatus = value;
    }
    // verfica la existencia del token
    getLoggedStatus() {
        const token = localStorage.getItem('::token');
        const rpt = !!token ? true : false;
        this.isLoggedStatus = rpt;
        return rpt;
    }
    getUserLogged(usuario) {
        return this.crudService.loginUsuarioAutorizado(usuario);
    }
    setLocalToken(token) {
        localStorage.setItem('::token', token);
        // guardo tambien la hora que esta iniciando session
        const ms_tieme_init_session = new Date().getTime();
        localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());
    }
    setLocalTokenAuth(token) {
        localStorage.setItem('::token:auth', token);
    }
    getLocalToken() {
        return localStorage.getItem('::token');
    }
    setLocalUsuario(usuario) {
        localStorage.setItem('::us', JSON.stringify(usuario));
    }
    verifyToken() {
        return this.crudService.verificarToken();
    }
    loggedOutUser() {
        localStorage.removeItem('::token');
        localStorage.removeItem('::us');
        if (this.getLoggedStatus()) {
            this.auth.logout();
        }
        // localStorage.clear();
        this.setLoggedStatus(false);
    }
};
AuthService.ctorParameters = () => [
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] },
    { type: _auth0_service__WEBPACK_IMPORTED_MODULE_2__["Auth0Service"] }
];
AuthService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"],
        _auth0_service__WEBPACK_IMPORTED_MODULE_2__["Auth0Service"]])
], AuthService);



/***/ }),

/***/ "./src/app/shared/services/auth0.service.ts":
/*!**************************************************!*\
  !*** ./src/app/shared/services/auth0.service.ts ***!
  \**************************************************/
/*! exports provided: Auth0Service */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Auth0Service", function() { return Auth0Service; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @auth0/auth0-spa-js */ "./node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.js");
/* harmony import */ var _auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");






let Auth0Service = class Auth0Service {
    constructor(router) {
        this.router = router;
        // Create an observable of Auth0 instance of client
        this.auth0Client$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(_auth0_auth0_spa_js__WEBPACK_IMPORTED_MODULE_2___default()({
            domain: 'dev-m48s1pe2.auth0.com',
            client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',
            redirect_uri: `${window.location.origin}/callback-auth`
        })).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["share"])(), // Every subscription receives the same shared value
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(err => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])(err)));
        // Create a local property for login status
        this.loggedIn = null;
        // handleRedirectCallback$ = this.auth0Client$.pipe(
        //   concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))
        // );
        this.handleRedirectCallback$ = this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])((client) => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.handleRedirectCallback(this.urlFromAuth))));
        this.isAuthenticated$ = this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["delay"])(500), // add delay to pipe
        Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["switchMap"])((client) => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.isAuthenticated())), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(res => this.loggedIn = res));
        // Create subject and public observable of user profile data
        this.userProfileSubject$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.userProfile$ = this.userProfileSubject$.asObservable();
        // 01022022 avisar al callback-auth
        this.userProfileChangeSubject$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.userProfileChange$ = this.userProfileChangeSubject$.asObservable();
        // On initial load, check authentication state with authorization server
        // Set up local auth streams if user is already authenticated
        this.localAuthSetup();
        // Handle redirect from Auth0 login
        this.handleAuthCallback();
    }
    // When calling, options can be passed if desired
    // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser
    getUser$(options) {
        // console.log('change userProfileSubject');
        return this.auth0Client$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])((client) => Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["from"])(client.getUser(options))), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(user => this.userProfileSubject$.next(user)));
    }
    localAuthSetup() {
        // This should only be called on app initialization
        // Set up local authentication streams
        const checkAuth$ = this.isAuthenticated$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])((loggedIn) => {
            if (loggedIn) {
                // If authenticated, get user and set in app
                // NOTE: you could pass options here if needed
                return this.getUser$();
            }
            // If not authenticated, return stream that emits 'false'
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(loggedIn);
        }));
        checkAuth$.subscribe();
    }
    login(redirectPath = '/', proveedor) {
        // A desired redirect path can be passed to login method
        // (e.g., from a route guard)
        // Ensure Auth0 client instance exists
        this.auth0Client$.subscribe((client) => {
            // Call method to log in
            client.loginWithRedirect({
                connection: proveedor,
                redirect_uri: `${window.location.origin}/callback-auth`,
                appState: { target: redirectPath }
            });
        });
    }
    handleAuthCallback() {
        // Call when app reloads after user logs in with Auth0
        this.urlFromAuth = window.location.href;
        const params = window.location.search;
        if (params.includes('code=') && params.includes('state=')) {
            let targetRoute; // Path to redirect to after login processsed
            const authComplete$ = this.handleRedirectCallback$.pipe(
            // Have client, now call method to handle auth callback redirect
            Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(cbRes => {
                // Get and set target redirect route from callback results
                targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["concatMap"])(() => {
                // Redirect callback complete; get user and login status
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])([
                    this.getUser$(),
                    this.isAuthenticated$
                ]);
            }));
            // Subscribe to authentication completion observable
            // Response will be an array of user and login status
            authComplete$.subscribe(([user, loggedIn]) => {
                // Redirect to target route after callback processing
                // console.log('targetRoute', targetRoute);
                this.router.navigate([targetRoute]);
            });
        }
    }
    logout() {
        // Ensure Auth0 client instance exists
        this.auth0Client$.subscribe((client) => {
            // Call method to log out
            client.logout({
                client_id: 'kSs64dcx34Fo7HpDLYkE3gQH0v2MtcdR',
                returnTo: `${window.location.origin}`
            });
        });
    }
};
Auth0Service.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] }
];
Auth0Service = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
], Auth0Service);



/***/ }),

/***/ "./src/app/shared/services/calc-distancia.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/shared/services/calc-distancia.service.ts ***!
  \***********************************************************/
/*! exports provided: CalcDistanciaService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalcDistanciaService", function() { return CalcDistanciaService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _establecimiento_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var geolocation_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! geolocation-utils */ "./node_modules/geolocation-utils/lib/index.js");
/* harmony import */ var geolocation_utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(geolocation_utils__WEBPACK_IMPORTED_MODULE_4__);





let CalcDistanciaService = class CalcDistanciaService {
    constructor(estableciminetoService) {
        this.estableciminetoService = estableciminetoService;
        this.directionsService = new google.maps.DirectionsService();
        // private directionsDisplay = new google.maps.DirectionsRenderer();
        this.origin = {};
        this.destination = {};
    }
    // para cacular al visualizar estableciminetos
    calculateRouteNoApi(dirCliente, dirEstablecimiento, buscarEnCache = true) {
        let c_servicio = 0;
        c_servicio = dirEstablecimiento.c_minimo;
        const c_km = dirEstablecimiento.c_km; // costo x km adicional
        dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;
        dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;
        dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;
        dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;
        let km = 0;
        const distanciaMetros = Object(geolocation_utils__WEBPACK_IMPORTED_MODULE_4__["distanceTo"])({ lat: dirEstablecimiento.latitude, lon: dirEstablecimiento.longitude }, { lat: dirCliente.latitude, lon: dirCliente.longitude });
        const inKm = distanciaMetros / 1000;
        dirEstablecimiento.distancia_mt = distanciaMetros.toString();
        dirEstablecimiento.distancia_km = (inKm).toFixed(2);
        km = Math.ceil(inKm);
        c_servicio = this.calCostoDistancia(dirEstablecimiento, inKm);
        // console.log('establecimeinto', dirEstablecimiento.nombre);
        // console.log('km distancia', km);
        // console.log('metros distancia', distanciaMetros);
        // if ( km > 1 ) {
        //   // const kmAddicionales = km / 0.5
        //   const kmMenos = km > 2 ? 0 : 1; // si es mayor a 2 no resta
        //   c_servicio = (( km - kmMenos ) * c_km) + c_servicio;
        //   dirEstablecimiento.c_servicio = c_servicio;
        //   // console.log('c_servicio', c_servicio);
        //   // return c_servicio;
        // }
        dirEstablecimiento.c_servicio = c_servicio;
        return c_servicio;
    }
    calculateRoute(dirCliente, dirEstablecimiento, buscarEnCache = true) {
        // console.log('calcular google');
        // return new Observable(observer => {
        let c_servicio = 0;
        // si tiene repartidores propios y no esta suscrito al servicio de calcular distancia
        // if ( dirEstablecimiento.pwa_delivery_servicio_propio === 1 && dirEstablecimiento.pwa_delivery_hablitar_calc_costo_servicio === 0) {
        // c_servicio = 0;
        // } else {
        c_servicio = dirEstablecimiento.c_minimo;
        const c_km = dirEstablecimiento.c_km; // costo x km adicional
        dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;
        dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;
        dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;
        dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;
        // // no google
        // // calculamos la distancia - return metros
        // let km = 0;
        // const distanciaMetros = distanceTo({lat: dirEstablecimiento.latitude, lon: dirEstablecimiento.longitude}, {lat: dirCliente.latitude, lon: dirCliente.longitude});
        // const inKm = distanciaMetros / 1000;
        // dirEstablecimiento.distancia_km = (inKm).toFixed(2);
        // km = Math.ceil(inKm);
        // // console.log('establecimeinto', dirEstablecimiento.nombre);
        // // console.log('km distancia', km);
        // // console.log('metros distancia', distanciaMetros);
        // if ( km > 1 ) {
        //   // const kmAddicionales = km / 0.5
        //   const kmMenos = km > 2 ? 0 : 1; // si es mayor a 2 no resta
        //   c_servicio = (( km - kmMenos ) * c_km) + c_servicio;
        //   dirEstablecimiento.c_servicio = c_servicio;
        //   // console.log('c_servicio', c_servicio);
        //   // return c_servicio;
        // }
        // buscamos primero la direccion del cliente en cache
        // console.log('buscarEnCache', buscarEnCache);
        if (buscarEnCache) {
            const _establecimientoCacheado = this.estableciminetoService.getFindDirClienteCacheEstableciemto(dirCliente, dirEstablecimiento);
            if (_establecimientoCacheado) {
                // console.log('from calcDistance cache', _establecimientoCacheado);
                dirEstablecimiento.distancia_km = _establecimientoCacheado.distancia_km;
                dirEstablecimiento.c_servicio = this.calCostoDistancia(dirEstablecimiento, _establecimientoCacheado.distancia_km);
                // si el costo del delivery es mayor a 15 lo vuelve a calcular
                if (dirEstablecimiento.c_servicio <= 15) {
                    return dirEstablecimiento.c_servicio;
                }
            }
        }
        // // con google // //
        //  // cordenadas
        this.origin = {
            lat: dirCliente.latitude, lng: dirCliente.longitude
        };
        // console.log('this.origin', this.origin);
        this.destination = {
            lat: dirEstablecimiento.latitude, lng: dirEstablecimiento.longitude
        };
        const request = {
            origin: this.origin,
            destination: this.destination,
            travelMode: google.maps.TravelMode.DRIVING
        };
        let km = 0;
        this.directionsService.route(request, (result, status) => {
            if (status === 'OK') {
                // this.directionsRenderer.setDirections(result);
                km = result.routes[0].legs[0].distance.value;
                const _kmReal = km / 1000;
                dirEstablecimiento.distancia_mt = km.toString();
                dirEstablecimiento.distancia_km = (_kmReal).toFixed(2);
                dirEstablecimiento.isCalcApiGoogle = true;
                // km = parseInt((km / 1000).toFixed(), 0);
                c_servicio = this.calCostoDistancia(dirEstablecimiento, _kmReal);
                dirEstablecimiento.c_servicio = c_servicio;
                // km = Math.ceil(_kmReal); // lo redondea
                // if ( km > 2 ) {
                //   // const kmMenos = _kmReal > 1.5 ? 0 : 1; // si es mayor a 2 no resta
                //   c_servicio = (( km - 1 ) * c_km) + c_servicio;
                //   dirEstablecimiento.c_servicio = c_servicio;
                //   // return c_servicio;
                // }
                // cachear direccion establecimineto
                const listCache = [];
                listCache.push(dirEstablecimiento);
                // guardar lista en cache
                const establecimientoToCache = {
                    idcliente_pwa_direccion: dirCliente.idcliente_pwa_direccion,
                    listEstablecimientos: listCache
                };
                this.estableciminetoService.setEstableciminetosCache(establecimientoToCache);
                // console.log('km from calculateRoute', km);
                // console.log(result.routes[0].legs[0]);
                // console.log('c_servicio', c_servicio);
                // console.log('dirEstablecimiento', dirEstablecimiento);
                // return c_servicio;
                // callback(c_servicio);
            }
        });
        // }
        // // con google // //
        setTimeout(() => {
            dirEstablecimiento.c_servicio = c_servicio;
            return c_servicio;
        }, 500);
        dirEstablecimiento.c_servicio = c_servicio;
        return c_servicio;
        // });
    }
    calculateRouteObserver(dirCliente, dirEstablecimiento, buscarEnCache = true) {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            let c_servicio = 0;
            c_servicio = dirEstablecimiento.c_minimo;
            const c_km = dirEstablecimiento.c_km; // costo x km adicional
            dirEstablecimiento.latitude = typeof dirEstablecimiento.latitude === 'string' ? parseFloat(dirEstablecimiento.latitude) : dirEstablecimiento.latitude;
            dirEstablecimiento.longitude = typeof dirEstablecimiento.longitude === 'string' ? parseFloat(dirEstablecimiento.longitude) : dirEstablecimiento.longitude;
            dirCliente.latitude = typeof dirCliente.latitude === 'string' ? parseFloat(dirCliente.latitude) : dirCliente.latitude;
            dirCliente.longitude = typeof dirCliente.longitude === 'string' ? parseFloat(dirCliente.longitude) : dirCliente.longitude;
            if (buscarEnCache) {
                const _establecimientoCacheado = this.estableciminetoService.getFindDirClienteCacheEstableciemto(dirCliente, dirEstablecimiento);
                if (_establecimientoCacheado) {
                    // console.log('from calcDistance cache', _establecimientoCacheado);
                    dirEstablecimiento.distancia_km = _establecimientoCacheado.distancia_km;
                    dirEstablecimiento.c_servicio = this.calCostoDistancia(dirEstablecimiento, _establecimientoCacheado.distancia_km);
                    // console.log('rpt a', dirEstablecimiento);
                    observer.next(dirEstablecimiento);
                    return;
                }
            }
            // // con google // //
            //  // cordenadas
            this.origin = {
                lat: dirCliente.latitude, lng: dirCliente.longitude
            };
            // console.log('this.origin', this.origin);
            this.destination = {
                lat: dirEstablecimiento.latitude, lng: dirEstablecimiento.longitude
            };
            const request = {
                origin: this.origin,
                destination: this.destination,
                travelMode: google.maps.TravelMode.DRIVING
            };
            let km = 0;
            // console.log('calculando.. 1');
            this.directionsService.route(request, (result, status) => {
                if (status === 'OK') {
                    // this.directionsRenderer.setDirections(result);
                    km = result.routes[0].legs[0].distance.value;
                    const _kmReal = km / 1000;
                    dirEstablecimiento.distancia_mt = km.toString();
                    dirEstablecimiento.distancia_km = (_kmReal).toFixed(2);
                    dirEstablecimiento.isCalcApiGoogle = true;
                    // km = parseInt((km / 1000).toFixed(), 0);
                    c_servicio = this.calCostoDistancia(dirEstablecimiento, _kmReal);
                    dirEstablecimiento.c_servicio = c_servicio;
                    // console.log('calculando.. 3');
                    // cachear direccion establecimineto
                    const listCache = [];
                    listCache.push(dirEstablecimiento);
                    // guardar lista en cache
                    const establecimientoToCache = {
                        idcliente_pwa_direccion: dirCliente.idcliente_pwa_direccion,
                        listEstablecimientos: listCache
                    };
                    this.estableciminetoService.setEstableciminetosCache(establecimientoToCache);
                    // console.log('rpt b', dirEstablecimiento);
                    observer.next(dirEstablecimiento);
                }
            });
        });
    }
    // distancia_km > tambien del elemento cacheado
    calCostoDistancia(dirEstablecimiento, distancia_km) {
        // console.log('distancia_km', distancia_km);
        const km = Math.ceil(distancia_km); // lo redondea
        const c_km = parseFloat(dirEstablecimiento.c_km.toString()); // costo x km adicional // puede variar
        let c_servicio = parseFloat(dirEstablecimiento.c_minimo.toString()); // puede variar
        let menosKm = 0;
        menosKm = km > 2 ? 2 : menosKm;
        menosKm = km > 4 ? 0 : menosKm; // si es mayor o igual  a 4 kilometros entonce no resta
        if (km > 2) {
            c_servicio = ((km - menosKm) * c_km) + c_servicio;
            dirEstablecimiento.c_servicio = c_servicio;
        }
        // console.log('calculando.. 4');
        return c_servicio;
    }
    // regla x km adicional
    // private reglaKm() {
    // }
    // retorna true si esta cerca
    calcDistancia(coordOrigen, coordDetino) {
        const center = { lat: coordDetino.latitude, lon: coordDetino.longitude };
        const radius = 75; // meters
        return Object(geolocation_utils__WEBPACK_IMPORTED_MODULE_4__["insideCircle"])({ lat: coordOrigen.latitude, lon: coordOrigen.longitude }, center, radius); // false
    }
    // calcula la lluvia
    // calcula la distanca del establecimiento al ingresar a la carta para asegurar lo cacula con api google
    calcCostoEntregaApiGoogleRain(direccionCliente, dirEstablecimiento) {
        if (!direccionCliente) {
            return;
        }
        // buscamos en cache
        const _establecimientoCache = this.estableciminetoService.getFindDirClienteCacheEstableciemto(direccionCliente, dirEstablecimiento);
        if (_establecimientoCache) {
            if (!_establecimientoCache.isCalcApiGoogle) {
                _establecimientoCache.isCalcApiGoogle = true;
                this.calculateRoute(direccionCliente, _establecimientoCache, false);
            }
            else {
                this.calculateRoute(direccionCliente, dirEstablecimiento, false);
            }
        }
    }
};
CalcDistanciaService.ctorParameters = () => [
    { type: _establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"] }
];
CalcDistanciaService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_establecimiento_service__WEBPACK_IMPORTED_MODULE_2__["EstablecimientoService"]])
], CalcDistanciaService);



/***/ }),

/***/ "./src/app/shared/services/cliente.service.ts":
/*!****************************************************!*\
  !*** ./src/app/shared/services/cliente.service.ts ***!
  \****************************************************/
/*! exports provided: ClienteService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClienteService", function() { return ClienteService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__);




let ClienteService = class ClienteService {
    constructor(crudService) {
        this.crudService = crudService;
    }
    serchClienteByDni(numdni) {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.crudService.getConsultaRucDni('dni', numdni)
                .subscribe((_res) => {
                if (_res.success) {
                    observer.next(_res.data);
                }
                else {
                    observer.next(null);
                }
            });
        });
    }
};
ClienteService.ctorParameters = () => [
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] }
];
ClienteService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"]])
], ClienteService);



/***/ }),

/***/ "./src/app/shared/services/crud-http.service.ts":
/*!******************************************************!*\
  !*** ./src/app/shared/services/crud-http.service.ts ***!
  \******************************************************/
/*! exports provided: CrudHttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CrudHttpService", function() { return CrudHttpService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js");
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _config_config_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/config.const */ "./src/app/shared/config/config.const.ts");





let CrudHttpService = class CrudHttpService {
    constructor(httpClient, infoTockenService) {
        this.httpClient = httpClient;
        this.infoTockenService = infoTockenService;
    }
    // conOrg, conSede FILTRAN SI NO SE ESPECIFICA POR ORG Y SEDE
    getAll(controller, evento, conOrg = true, conSede = true, token = true) {
        const url = this.setUrlFiltros(controller, evento, conOrg, conSede);
        const header = token ? this.getHeaderHttpClientForm() : null;
        return this.httpClient.get(url, { headers: header });
    }
    getTimeNow() {
        const url = this.setUrlFiltros('estadistica', 'getFechaNow', false, false);
        const header = null;
        return this.httpClient.get(url, { headers: header });
    }
    // numeropagina: numero pagina a mostrar
    // rows: cantidad de filas o registros a mostrar
    // filter: filtros de busqueda para la paginacion // se adjunta a org y sede
    // orden: nombre del campo por el cual se ordenara
    // ordendireccion: default ASC
    paginacion(controller, evento, pagenumber, rows, filter, orden, ordendireccion = null, conOrg = true, conSede = true) {
        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);
        // console.log('url', url);
        const params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]({
            fromObject: {
                pagenumber: pagenumber.toString(),
                rows: rows.toString(),
                orden: orden,
                ordendireccion: ordendireccion || ''
            }
        });
        return this.httpClient.get(url, { params: params });
    }
    // enviar idorg o idsede o idusuario vacios, el back end los llenara
    create(datos, controller, evento = 'create') {
        const url = this.setUrl(controller, evento);
        const header = this.getHeaderHttpClientForm();
        return this.httpClient.post(url, datos, { headers: header });
    }
    // enviar idorg o idsede o idusuario vacios, el back end los llenara
    update(datos, id, controller, evento = 'update') {
        const url = this.setUrl(controller, evento) + '/' + id.toString();
        const header = this.getHeaderHttpClientForm();
        return this.httpClient.put(url, datos, { headers: header });
    }
    // enviar idorg o idsede o idusuario vacios, el back end los llenara
    postFree(datos, controller, evento = 'update', conToken = true) {
        const url = this.setUrl(controller, evento);
        const header = conToken ? this.getHeaderHttpClientForm() : this.getHeaderHttpClientFormNoToken();
        return this.httpClient.post(url, datos, { headers: header });
    }
    // enviar mensaje SMS de seguridad
    postSMS(datos, controller, evento, conTokenSMS = true) {
        const url = this.setUrl(controller, evento);
        const header = conTokenSMS ? this.getHeaderHttpClientFormSMS() : this.getHeaderHttpClientFormNoToken();
        return this.httpClient.post(url, datos, { headers: header });
    }
    getFree(url) {
        return this.httpClient.get(url);
    }
    // consulta ruc o dni
    getConsultaRucDni(controller, number) {
        const url = `${_config_config_const__WEBPACK_IMPORTED_MODULE_4__["URL_CONSULTA_RUC_DNI"]}${controller}/${number}`;
        const header = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('Content-Type', 'application/json')
            .set('Authorization', `Bearer ${_config_config_const__WEBPACK_IMPORTED_MODULE_4__["TOKEN_CONSULTA"]}`);
        return this.httpClient.get(url, { headers: header });
    }
    getFilterBy(controller, evento, filter, conOrg = true, conSede = true) {
        const url = this.setUrlFiltros(controller, evento, conOrg, conSede, filter);
        return this.httpClient.get(url);
    }
    getById(id, controller, evento) {
        const url = this.setUrlFiltros(controller, evento, false, false, id);
        return this.httpClient.get(url);
    }
    // login manda los datos en json
    loginUsuarioAutorizado(datos) {
        const url = this.setUrl('login-usuario-autorizado', '');
        const header = this.getHeaderHttpClientFormNoToken();
        return this.httpClient.post(url, datos, { headers: header });
    }
    verificarToken() {
        const url = this.setUrl('verificarToken', '');
        const header = this.getHeaderHttpClientForm();
        return this.httpClient.post(url, { headers: header });
    }
    refreshToken() {
        const _jwt = this.infoTockenService.getInfoUs();
        const _data = {
            nomusuario: _jwt.usuario,
            pass: atob(_jwt.pass)
        };
        const url = this.setUrl('login-usuario-autorizado', '');
        const header = this.getHeaderHttpClientFormNoToken();
        return this.httpClient.post(url, _data, { headers: header });
    }
    setUrl(controller, evento) {
        const url = `${_config_config_const__WEBPACK_IMPORTED_MODULE_4__["URL_SERVER"]}/${controller}/${evento}`;
        return url;
    }
    setUrlFiltros(controller, evento, conOrg, conSede, filter = '') {
        const getSede = conSede ? this.setInfoSedeToken() : '';
        const getOrg = conOrg ? this.setInfoOrgToken() : '';
        const getOperador = (conOrg && conSede) ? '~y~' : '';
        const filterOrgSede = `${getSede + getOperador + getOrg}`;
        let getFilter = filterOrgSede === '' ? filter : filter === '' ? '' : `~y~${filter}`;
        getFilter = '/' + filterOrgSede + getFilter;
        const url = `${_config_config_const__WEBPACK_IMPORTED_MODULE_4__["URL_SERVER"]}/${controller}/${evento}${getFilter}`;
        return url;
    }
    setInfoSedeToken() {
        return 'idsede:eq:' + this.infoTockenService.getInfoSedeToken();
    }
    setInfoOrgToken() {
        return 'idorg:eq:' + this.infoTockenService.getInfoSedeToken();
    }
    getHeaderHttpClientForm() {
        const headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('Content-Type', 'application/json')
            .set('Authorization', this.infoTockenService.getTokenAuth());
        return headers;
    }
    getHeaderHttpClientFormSMS() {
        const headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('Content-Type', 'application/json')
            .set('Authorization', _config_config_const__WEBPACK_IMPORTED_MODULE_4__["TOKEN_SMS"]);
        return headers;
    }
    getHeaderHttpClientFormNoToken() {
        const headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]()
            .set('Content-Type', 'application/json');
        return headers;
    }
};
CrudHttpService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] },
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] }
];
CrudHttpService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
        _info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"]])
], CrudHttpService);



/***/ }),

/***/ "./src/app/shared/services/establecimiento.service.ts":
/*!************************************************************!*\
  !*** ./src/app/shared/services/establecimiento.service.ts ***!
  \************************************************************/
/*! exports provided: EstablecimientoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EstablecimientoService", function() { return EstablecimientoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_delivery_establecimiento__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/delivery.establecimiento */ "./src/app/modelos/delivery.establecimiento.ts");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");





let EstablecimientoService = class EstablecimientoService {
    constructor(crudService) {
        this.crudService = crudService;
        this.keyStorage = 'sys::ed';
    }
    set(_establecimiento) {
        localStorage.setItem(this.keyStorage, btoa(JSON.stringify(_establecimiento)));
    }
    get() {
        let _establecimiento = new src_app_modelos_delivery_establecimiento__WEBPACK_IMPORTED_MODULE_2__["DeliveryEstablecimiento"];
        const _isExist = localStorage.getItem(this.keyStorage);
        _establecimiento = _isExist ? JSON.parse(atob(_isExist)) : _establecimiento;
        return _establecimiento;
    }
    setRulesSubtotales(val) {
        this.establecimiento = this.get();
        this.establecimiento.rulesSubTotales = val;
        this.set(this.establecimiento);
    }
    setCostoSercioDelivery(val) {
        this.establecimiento = this.get();
        this.establecimiento.costo_total_servicio_delivery = val;
        this.set(this.establecimiento);
    }
    setImpresoras(val) {
        this.establecimiento = this.get();
        this.establecimiento.impresoras = val;
        this.set(this.establecimiento);
    }
    getImpresoras() {
        this.establecimiento = this.get();
        return this.establecimiento.impresoras;
    }
    getSimboloMoneda() {
        this.establecimiento = this.get();
        return this.establecimiento.simbolo_moneda;
    }
    // al iniciar el usuario
    loadEstablecimientoById(id) {
        const _dataSend = {
            idsede: id
        };
        // console.log('get-establecimientos _dataSend', _dataSend);
        this.crudService.postFree(_dataSend, 'delivery', 'get-establecimientos', false)
            .subscribe(res => {
            // console.log('get-establecimientos', res);
            this.establecimiento = res.data[0];
            this.set(this.establecimiento);
        });
    }
    // busca la direccion del cliente en el cache de establecimientos
    // para devolver el costo de entrega
    getFindDirClienteCacheEstableciemto(direccionCliente, dirEstablecimiento) {
        let _establecimientoEnCache = null;
        if (!direccionCliente) {
            return _establecimientoEnCache;
        } // puede que sea para consumir en el local o llevar
        let listEsblecimientosCache = this.getEstableciminetosCache();
        listEsblecimientosCache = listEsblecimientosCache.filter(e => e.idcliente_pwa_direccion === direccionCliente.idcliente_pwa_direccion)[0];
        if (listEsblecimientosCache) {
            listEsblecimientosCache = listEsblecimientosCache ? listEsblecimientosCache.listEstablecimientos : [];
            _establecimientoEnCache = listEsblecimientosCache.filter(e => e.idsede === dirEstablecimiento.idsede)[0];
        }
        // console.log('establecimiento cacheado', _establecimientoEnCache);
        return _establecimientoEnCache;
    }
    getEstableciminetosCache() {
        const listEsblecimientosCache = localStorage.getItem('sys:ech');
        return listEsblecimientosCache ? JSON.parse(atob(listEsblecimientosCache)) : [];
    }
    setEstableciminetosCache(list) {
        // const _establecimientoCache = this.getEstableciminetosCache();
        const establecimientosCache = this.getEstableciminetosCache();
        const findEstablecimiento = establecimientosCache.filter(e => e.idcliente_pwa_direccion === list.idcliente_pwa_direccion)[0];
        if (findEstablecimiento) {
            list.listEstablecimientos.map(e => {
                let isExistEstablecimiento = findEstablecimiento.listEstablecimientos.filter(x => x.idsede === e.idsede)[0];
                if (isExistEstablecimiento) {
                    isExistEstablecimiento = e;
                }
                else {
                    findEstablecimiento.listEstablecimientos.push(e);
                }
            });
            list.listEstablecimientos = findEstablecimiento.listEstablecimientos;
        }
        else {
            establecimientosCache.push(list);
        }
        localStorage.setItem('sys:ech', btoa(JSON.stringify(establecimientosCache)));
    }
    // trae las ultima comision
    getComsionEntrega() {
        const _dirEstablecimineto = this.get();
        if (_dirEstablecimineto.pwa_delivery_hablitar_calc_costo_servicio === 1) {
            const _dataSend = {
                codigo_postal: _dirEstablecimineto.codigo_postal
            };
            this.crudService.postFree(_dataSend, 'pedido', 'get-last-comsion-entrega-sede', false)
                .subscribe(res => {
                if (res.data.length === 0) {
                    return;
                }
                const _data = res.data[0];
                _dirEstablecimineto.c_minimo = _data.c_minimo;
                _dirEstablecimineto.c_km = _data.c_km;
                this.set(_dirEstablecimineto);
                // console.log(res);
            });
        }
    }
    getClienteAutocomplete(search) {
        const _dataSend = { buscar: search };
        return new rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"](observer => {
            this.crudService.postFree(_dataSend, 'pedido', 'get-find-cliente-by-name', true)
                .subscribe((res) => {
                observer.next(res.data);
            });
        });
    }
    // trae los ultimos pedidos que falta calificar
    getComerciosXCalifcar(idcliente) {
        const _dataSend = { idcliente: idcliente };
        return new rxjs__WEBPACK_IMPORTED_MODULE_4__["Observable"](observer => {
            this.crudService.postFree(_dataSend, 'delivery', 'get-comercio-x-calificar', false)
                .subscribe((res) => {
                observer.next(res.data);
            });
        });
    }
    setRegisterScanQr(_sede, _canal, _idscan = 0) {
        const _dataSend = {
            idsede: _sede,
            canal: _canal,
            idscan: _idscan
        };
        this.crudService.postFree(_dataSend, 'pedido', 'register-scan', false)
            .subscribe((res) => {
            // console.log('register-scan',  res);
            this.setLocalIdScanQr(res.data[0].idscanqr);
        });
    }
    setLocalIdScanQr(id) {
        localStorage.setItem('sys::scan', id.toString());
    }
    getLocalIdScanQr() {
        const _id = localStorage.getItem('sys::scan') || '0';
        return parseInt(_id, 0);
    }
};
EstablecimientoService.ctorParameters = () => [
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] }
];
EstablecimientoService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"]])
], EstablecimientoService);



/***/ }),

/***/ "./src/app/shared/services/http-config-interceptor.service.ts":
/*!********************************************************************!*\
  !*** ./src/app/shared/services/http-config-interceptor.service.ts ***!
  \********************************************************************/
/*! exports provided: HttpConfigInterceptorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpConfigInterceptorService", function() { return HttpConfigInterceptorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/shared/services/auth.service.ts");






let HttpConfigInterceptorService = class HttpConfigInterceptorService {
    constructor(authService, crudService) {
        this.authService = authService;
        this.crudService = crudService;
    }
    intercept(request, next) {
        return next.handle(request)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])((err, caught) => {
            if (err instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"] && err.status === 401) {
                // si es error 401 de autentificacion es decir token caducadado
                // lo refresquea
                this.crudService.refreshToken().subscribe(res => {
                    this.authService.setLocalToken(res.token);
                    this.authService.setLoggedStatus(true);
                });
            }
            throw err;
        }));
    }
};
HttpConfigInterceptorService.ctorParameters = () => [
    { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] },
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"] }
];
HttpConfigInterceptorService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"],
        _crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"]])
], HttpConfigInterceptorService);



/***/ }),

/***/ "./src/app/shared/services/info-token.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/shared/services/info-token.service.ts ***!
  \*******************************************************/
/*! exports provided: InfoTockenService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoTockenService", function() { return InfoTockenService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var src_app_modelos_usuario_token_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/modelos/usuario.token.model */ "./src/app/modelos/usuario.token.model.ts");
/* harmony import */ var src_app_modelos_metodo_pago_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/metodo.pago.model */ "./src/app/modelos/metodo.pago.model.ts");
/* harmony import */ var src_app_modelos_tipo_comprobante_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/modelos/tipo.comprobante.model */ "./src/app/modelos/tipo.comprobante.model.ts");
/* harmony import */ var src_app_modelos_propina_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modelos/propina.model */ "./src/app/modelos/propina.model.ts");
/* harmony import */ var src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/tiempo.entrega.model */ "./src/app/modelos/tiempo.entrega.model.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");








let InfoTockenService = class InfoTockenService {
    constructor(
    // private miPedidoService: MipedidoService,
    router) {
        this.router = router;
        this.converToJSON();
    }
    getInfoUs() {
        this.verificarContunuarSession();
        this.getLocalIpCliente();
        return this.infoUsToken;
    }
    saveToken(token) {
        localStorage.setItem('::token', token);
        // guardo tambien la hora que esta iniciando session
        const ms_tieme_init_session = new Date().getTime();
        localStorage.setItem('sys::numtis', ms_tieme_init_session.toString());
    }
    getInfoSedeToken() {
        // const token = jwt.decode(this.getToken());
        this.verificarContunuarSession();
        return this.infoUsToken.idsede.toString();
        // return '1';
    }
    getInfoOrgToken() {
        this.verificarContunuarSession();
        return this.infoUsToken.idorg.toString();
    }
    getInfoNomSede() {
        this.verificarContunuarSession();
        return localStorage.getItem('sys::s');
    }
    isCliente() {
        this.verificarContunuarSession();
        return this.infoUsToken.isCliente;
    }
    isSoloLlevar() {
        this.verificarContunuarSession();
        return this.infoUsToken.isSoloLLevar;
    }
    isDelivery() {
        this.verificarContunuarSession();
        return this.infoUsToken.isDelivery;
    }
    isReserva() {
        this.verificarContunuarSession();
        return this.infoUsToken.isReserva;
    }
    isPuntoAutoPedido() {
        // this.verificarContunuarSession();
        return this.infoUsToken.isPuntoAutoPedido;
    }
    isTomaPedidoRapido() {
        // this.verificarContunuarSession();
        return this.infoUsToken.isTomaPedidoRapido || false;
    }
    isUsuarioAutorizado() {
        var _a;
        // this.verificarContunuarSession();
        return ((_a = this.infoUsToken) === null || _a === void 0 ? void 0 : _a.isUsuarioAutorizado) || false;
    }
    getLocalIpCliente() {
        this.verificarContunuarSession();
        if (this.infoUsToken) {
            this.infoUsToken.ipCliente = localStorage.getItem('sys::it') || '';
            return this.infoUsToken.ipCliente;
        }
    }
    setLocalIpCliente(val) {
        localStorage.setItem('sys::it', val);
    }
    setIsPagoSuccess(val) {
        this.infoUsToken.isPagoSuccess = val;
        this.set();
    }
    setSocketId(val) {
        // this.infoUsToken.socketId = this.infoUsToken.socketId ? this.infoUsToken.socketId : val;
        if (this.infoUsToken) {
            this.infoUsToken.socketId = val;
            this.set();
        }
    }
    // para el confirmar pago si es clienteDelivery
    setOrderDelivery(_order, _importes) {
        this.infoUsToken.orderDelivery = btoa(_order);
        this.infoUsToken.importeDelivery = btoa(_importes);
        // const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;
        // localStorage.setItem('::token', _token);
        this.set();
    }
    setTelefono(val) {
        this.infoUsToken.telefono = val;
        this.set();
    }
    setMetodoPago(metodo) {
        this.infoUsToken.metodoPago = metodo;
        this.set();
    }
    setTipoComprobante(comprobante) {
        this.infoUsToken.tipoComprobante = comprobante;
        this.set();
    }
    setPropina(propina) {
        this.infoUsToken.propina = propina;
        this.set();
    }
    setPasoRecoger(val) {
        this.infoUsToken.pasoRecoger = val;
        this.set();
    }
    setTiempoEntrega(val) {
        this.infoUsToken.tiempoEntrega = val;
        this.set();
    }
    setIniMetodoPago(descripcion = 'Tarjeta') {
        const metodoPagoInit = new src_app_modelos_metodo_pago_model__WEBPACK_IMPORTED_MODULE_3__["MetodoPagoModel"];
        metodoPagoInit.idtipo_pago = descripcion === 'Tarjeta' ? 2 : 1;
        metodoPagoInit.descripcion = descripcion;
        metodoPagoInit.importe = '0';
        metodoPagoInit.checked = true;
        this.setMetodoPago(metodoPagoInit);
    }
    setIniMetodoPagoSegunFiltro(isAceptaTarjeta) {
        const metodoPagoInit = new src_app_modelos_metodo_pago_model__WEBPACK_IMPORTED_MODULE_3__["MetodoPagoModel"];
        if (isAceptaTarjeta) {
            metodoPagoInit.idtipo_pago = 2;
            metodoPagoInit.descripcion = 'Tarjeta';
            metodoPagoInit.importe = '0';
            metodoPagoInit.checked = true;
        }
        this.setMetodoPago(metodoPagoInit);
        return metodoPagoInit;
        // if ( isAceptaYape ) {
        //   metodoPagoInit.idtipo_pago = 3;
        //   metodoPagoInit.descripcion = 'Yape';
        //   metodoPagoInit.importe = '0';
        //   metodoPagoInit.checked = true;
        //   this.setMetodoPago( metodoPagoInit );
        //   return metodoPagoInit;
        // }
        // metodoPagoInit.idtipo_pago = 1;
        // metodoPagoInit.descripcion = 'Efectivo';
        // metodoPagoInit.importe = '0';
        // metodoPagoInit.checked = true;
        // this.setMetodoPago( metodoPagoInit );
        // return metodoPagoInit;
        // this.setMetodoPago( metodoPagoInit );
        // return metodoPagoInit;
    }
    setMetodoPagoSelected(metodo) {
        this.infoUsToken.metodoPagoSelected = metodo;
        this.set();
    }
    setIniTipoComprobante() {
        const tipoComprobanteInit = new src_app_modelos_tipo_comprobante_model__WEBPACK_IMPORTED_MODULE_4__["TipoComprobanteModel"];
        tipoComprobanteInit.idtipo_comprobante = 1;
        tipoComprobanteInit.descripcion = 'Boleta';
        tipoComprobanteInit.checked = true;
        this.setTipoComprobante(tipoComprobanteInit);
    }
    setIniPropina() {
        const prpinaInt = new src_app_modelos_propina_model__WEBPACK_IMPORTED_MODULE_5__["PropinaModel"];
        prpinaInt.idpropina = 1;
        prpinaInt.value = 0;
        prpinaInt.descripcion = 'S/. 0';
        prpinaInt.checked = true;
        this.setPropina(prpinaInt);
    }
    setIniTiempoEntrega() {
        const tiempoEntregaSelected = new src_app_modelos_tiempo_entrega_model__WEBPACK_IMPORTED_MODULE_6__["TiempoEntregaModel"]();
        tiempoEntregaSelected.descripcion = 'Programa la entrega';
        tiempoEntregaSelected.value = '';
        tiempoEntregaSelected.modificado = false;
        this.setTiempoEntrega(tiempoEntregaSelected);
    }
    setNombres(val) {
        this.infoUsToken.nombres = val;
        this.set();
    }
    setIsUsLoggedIn(val) {
        this.infoUsToken.isUsLoggedIn = val;
        this.set();
    }
    setOtro(val) {
        this.infoUsToken.otro = val;
        this.set();
    }
    // setea en sotrage el id del cliente despues de hacer un pedido para llamar en mis ordenes
    setIdCliente(id = null) {
        var _a;
        id = id ? id : ((_a = this.infoUsToken) === null || _a === void 0 ? void 0 : _a.idcliente) || null;
        localStorage.setItem('sys::ic-orden', btoa(id.toString()));
    }
    setIsPuntoAutoPedido(val) {
        this.infoUsToken.isPuntoAutoPedido = val;
        this.set();
    }
    setIsTomaPedidoRapido(val) {
        this.infoUsToken.isTomaPedidoRapido = val;
        this.set();
    }
    setIsUsuarioAutorizacion(val) {
        this.infoUsToken.isUsuarioAutorizado = val;
        this.set();
    }
    setIsAvtiveMozoVoz(val) {
        this.infoUsToken.isActiveMozoVoz = val;
        this.set();
    }
    getIsAvtiveMozoVoz() {
        return this.infoUsToken.isActiveMozoVoz;
    }
    // id cliente del ultimo
    getIdCliente() {
        const _id = localStorage.getItem('sys::ic-orden');
        return _id ? atob(_id) : null;
    }
    // guarda en el local storage
    set() {
        const _token = `eyCJ9.${btoa(JSON.stringify(this.infoUsToken))}`;
        localStorage.setItem('::token', _token);
    }
    //
    getToken() { return localStorage.getItem('::token'); }
    getTokenAuth() { return localStorage.getItem('::token:auth'); }
    converToJSON() {
        if (localStorage.getItem('::token')) {
            let _token = JSON.parse(atob(localStorage.getItem('::token').split('.')[1]));
            // si existe idcliente, setea al usuario
            if (_token === null || _token === void 0 ? void 0 : _token.idcliente) {
                const _newUs = new src_app_modelos_usuario_token_model__WEBPACK_IMPORTED_MODULE_2__["UsuarioTokenModel"]();
                _newUs.isCliente = true;
                _newUs.idcliente = _token.idcliente;
                _newUs.idorg = _token.idorg;
                _newUs.idsede = _token.idsede;
                _newUs.nombres = _token.datalogin ? _token.datalogin.name : _token.nombres;
                _newUs.idusuario = 0;
                _newUs.usuario = 'cliente';
                _newUs.numMesaLector = _token.numMesaLector;
                _newUs.ipCliente = _token.ipCliente;
                _newUs.isSoloLLevar = _token.isSoloLLevar;
                _newUs.isDelivery = _token.isDelivery;
                _newUs.isReserva = _token.isReserva;
                _newUs.isRetiroCash = _token.isRetiroCash;
                _newUs.direccionEnvioSelected = _token.direccionEnvioSelected;
                _newUs.tiempoEntrega = _token.tiempoEntrega;
                _newUs.telefono = _token.telefono;
                _newUs.orderDelivery = _token.orderDelivery;
                _newUs.importeDelivery = _token.importeDelivery;
                _newUs.isPagoSuccess = _token.isPagoSuccess;
                _newUs.metodoPago = _token.metodoPago;
                _newUs.tipoComprobante = _token.tipoComprobante;
                _newUs.propina = _token.propina;
                _newUs.socketId = _token.socketId;
                _newUs.otro = _token.otro;
                _newUs.pasoRecoger = _token.pasoRecoger;
                _newUs.isUsLoggedIn = false;
                // _newUs.isUsuarioAutorizado = false;
                this.infoUsToken = _newUs;
                // agregar el metodo pago prederteminado tarjeta // valores iniciales
                if (!this.infoUsToken.metodoPago) {
                    this.setIniMetodoPago();
                    this.setIniTipoComprobante();
                    this.setIniPropina();
                    this.setPasoRecoger(false);
                } // this.setIniTiempoEntrega();
            }
            else {
                _token = _token ? _token : new src_app_modelos_usuario_token_model__WEBPACK_IMPORTED_MODULE_2__["UsuarioTokenModel"]();
                this.infoUsToken = typeof (_token === null || _token === void 0 ? void 0 : _token.usuario) === 'object' ? _token.usuario : _token;
                // this.infoUsToken = <UsuarioTokenModel>_token;
                // inicializa valores
                this.setIniMetodoPago();
                this.setIniTipoComprobante();
                this.setIniPropina();
                this.setPasoRecoger(false); // this.setIniTiempoEntrega();
                // this.infoUsToken.isCliente = false;
                // this.infoUsToken.isUsuarioAutorizado = true;
            }
        }
        else {
            this.infoUsToken = null;
        }
    }
    cerrarSession() {
        try {
            if (!this.infoUsToken.isDelivery) {
                // no quitamos token para que pueda consultar sus pedidos
                // localStorage.removeItem('::token');
                // localStorage.removeItem('token');
                localStorage.removeItem('sys::numtis');
            }
        }
        catch (error) {
            console.log(error);
        }
        // borra datos del storage del pedido
        this.removeStoragePedido();
        // al momento de confirmar pedido envia a cerrar session, solo debe borrar los datos del pedido
        // localStorage.removeItem('sys::rules');
        // localStorage.removeItem('sys::status');
        // localStorage.removeItem('sys::st');
        // localStorage.removeItem('sys::ed');
        // localStorage.removeItem('sys::transaction-response');
        // localStorage.removeItem('sys::transaction-load');
        // localStorage.removeItem('data');
        // localStorage.removeItem('sys::tpm');
    }
    // borra datos del storage del pedido
    removeStoragePedido() {
        localStorage.removeItem('sys::rules');
        localStorage.removeItem('sys::status');
        localStorage.removeItem('sys::st');
        localStorage.removeItem('sys::ed');
        localStorage.removeItem('sys::transaction-response');
        localStorage.removeItem('sys::transaction-load');
        localStorage.removeItem('data');
    }
    // cerrar toda la sesssion
    cerrarSessionGoIni() {
        // this.cerrarSession();
        localStorage.clear();
        this.router.navigate(['../']);
    }
    // verifica el tiempo de inactividad para cerrar session
    // cerrar session despues de 3:20 => ( 12000 sec )horas inciadas
    verificarContunuarSession() {
        // si no existe token cierra
        if (!this.infoUsToken) {
            // trata de recuperar el token desde tpm
            const isUsTmp = localStorage.getItem('sys::tpm');
            if (isUsTmp) {
                localStorage.setItem('::token', 'eyCJ9.' + isUsTmp);
                this.converToJSON();
                return;
            }
            this.cerrarSessionGoIni();
        }
        if (!this.infoUsToken || !this.infoUsToken.isCliente || !this.infoUsToken.isDelivery) { // si es usuario autorizado no cuenta tiempo
            return true;
        }
        if (this.infoUsToken.isDelivery) {
            // si es delivery no cierra session
            return true;
        }
        let numTis = parseInt(localStorage.getItem('sys::numtis'), 0);
        let continueSession = this.infoUsToken.isDelivery ? this.infoUsToken.isDelivery : !isNaN(numTis);
        if (!continueSession) {
            this.cerrarSession();
            // this.miPedidoService.cerrarSession();
            return continueSession;
        }
        if (isNaN(numTis)) {
            localStorage.setItem('sys::numtis', new Date().getTime().toString());
        }
        numTis = isNaN(numTis) ? new Date().getTime() : numTis;
        const ms_now = new Date().getTime();
        const ms = ms_now - numTis;
        const sec = Math.floor((ms / 1000));
        if (sec > 10000) {
            continueSession = false;
        }
        if (!continueSession) {
            this.cerrarSession();
            // this.miPedidoService.cerrarSession();
            return continueSession;
        }
        return true;
        // const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;
    }
};
InfoTockenService.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] }
];
InfoTockenService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"]])
], InfoTockenService);



/***/ }),

/***/ "./src/app/shared/services/listen-status.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/shared/services/listen-status.service.ts ***!
  \**********************************************************/
/*! exports provided: ListenStatusService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListenStatusService", function() { return ListenStatusService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var src_app_modelos_estado_pedido_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/estado.pedido.model */ "./src/app/modelos/estado.pedido.model.ts");
/* harmony import */ var src_app_modelos_metodo_pago_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/modelos/metodo.pago.model */ "./src/app/modelos/metodo.pago.model.ts");





let ListenStatusService = class ListenStatusService {
    // observable atm cash -> pago tarjeta
    // private isDataFromCashAtmSoruce = new BehaviorSubject<any>({});
    // public isDataFromCashAtm$ = this.isDataFromCashAtmSoruce.asObservable();
    constructor() {
        // para activar la busqueda
        this.isBusquedaSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isBusqueda$ = this.isBusquedaSource.asObservable();
        // string a buscar
        this.charBuquedaSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]('');
        this.charBuqueda$ = this.charBuquedaSource.asObservable();
        // hay items en la busqueda - se encontro cuenta
        this.hayCuentaBusquedaSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.hayCuentaBusqueda$ = this.hayCuentaBusquedaSource.asObservable();
        // datos de la sede estan disponible
        this.hayDatosSedeSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.hayDatosSede$ = this.hayDatosSedeSource.asObservable();
        // si es cliente usuario
        this.isUsuarioClienteSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isUsuarioCliente$ = this.isUsuarioClienteSource.asObservable();
        // estado del pedido enviado por el cliente
        this.estadoPedidoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new src_app_modelos_estado_pedido_model__WEBPACK_IMPORTED_MODULE_3__["EstadoPedidoModel"]());
        this.estadoPedido$ = this.estadoPedidoSource.asObservable();
        // hay pedido en el storage, si es cliente usuario no cargar al cuenta.
        this.hayPedidoPendienteSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.hayPedidoPendiente$ = this.hayPedidoPendienteSource.asObservable();
        // form pagar la cuenta
        this.isPagePagarCuentaShowSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isPagePagarCuentaShow$ = this.isPagePagarCuentaShowSource.asObservable();
        // si el boton de pago ha sido visible // recargamos la pagina al volver a ingresar
        this.isBtnPagoShowSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isBtnPagoShow$ = this.isBtnPagoShowSource.asObservable();
        // notifica el pago correcto para enviar el pedido cuando es solo para llevar
        this.isPagoSuccesSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isPagoSucces$ = this.isPagoSuccesSource.asObservable();
        this.isChangeDireccionDeliverySource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.isChangeDireccionDelivery$ = this.isChangeDireccionDeliverySource.asObservable();
        // notifica salir del establecimeinto cuando es cliente delivery goback
        this.isOutEstablecimientoDeliverySource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isOutEstablecimientoDelivery$ = this.isOutEstablecimientoDeliverySource.asObservable();
        // si es visible el footer de zona delivery
        this.isShowFooterZonaDeliverySource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](true);
        this.isShowFooterZonaDelivery$ = this.isShowFooterZonaDeliverySource.asObservable();
        this.isLoaderSendPedidoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isLoaderSendPedido$ = this.isLoaderSendPedidoSource.asObservable();
        this.isLoaderCartaSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isLoaderCarta$ = this.isLoaderCartaSource.asObservable();
        // observable del metodo de pago seleccionado
        this.elMetodoPagoSelectedSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new src_app_modelos_metodo_pago_model__WEBPACK_IMPORTED_MODULE_4__["MetodoPagoModel"]());
        this.elMetodoPagoSelected$ = this.elMetodoPagoSelectedSource.asObservable();
        // observable page show atm
        this.numberPageShowAtmSoruce = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](0);
        this.numberPageShowAtm$ = this.numberPageShowAtmSoruce.asObservable();
    }
    setIsBusqueda() {
        if (!this.isBusquedaSource.value) {
            setTimeout(() => {
                this.isBusquedaSource.next(true);
            }, 250);
        }
        else {
            this.isBusquedaSource.next(false);
        }
    }
    setCharBusqueda(charFind) {
        this.charBuquedaSource.next(charFind);
    }
    setHayCuentaBuesqueda(value) {
        this.hayCuentaBusquedaSource.next(value);
    }
    setHayDatosSede(value) {
        this.hayDatosSedeSource.next(value);
    }
    setIsUsuarioCliente(value) {
        this.isUsuarioClienteSource.next(value);
    }
    setEstadoPedido(value) {
        this.estadoPedidoSource.next(value);
    }
    setHayPedidoPendiente(value) {
        this.hayPedidoPendienteSource.next(value);
    }
    setIsPagePagarCuentaShow(value) {
        this.isPagePagarCuentaShowSource.next(value);
    }
    setIsBtnPagoShow(value) {
        this.isBtnPagoShowSource.next(value);
    }
    setPagoSuccess(value) {
        this.isPagoSuccesSource.next(value);
    }
    setChangeDireccionDelivery(value) {
        this.isChangeDireccionDeliverySource.next(value);
    }
    setIsOutEstablecimientoDelivery(value) {
        this.isOutEstablecimientoDeliverySource.next(value);
    }
    setIsShowFooterZonaDelivery(value) {
        this.isShowFooterZonaDeliverySource.next(value);
    }
    setLoaderSendPedido(value) {
        this.isLoaderSendPedidoSource.next(value);
    }
    setLoaderCarta(value) {
        this.isLoaderCartaSource.next(value);
    }
    setMetodoPagoSelected(metodoSelected) {
        this.elMetodoPagoSelectedSource.next(metodoSelected);
    }
    setNumberShowPageAtm(num) {
        this.numberPageShowAtmSoruce.next(num);
    }
};
ListenStatusService.ctorParameters = () => [];
ListenStatusService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], ListenStatusService);



/***/ }),

/***/ "./src/app/shared/services/mipedido.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/shared/services/mipedido.service.ts ***!
  \*****************************************************/
/*! exports provided: MipedidoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MipedidoService", function() { return MipedidoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var src_app_modelos_item_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/item.model */ "./src/app/modelos/item.model.ts");
/* harmony import */ var src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/modelos/pedido.model */ "./src/app/modelos/pedido.model.ts");
/* harmony import */ var src_app_modelos_categoria_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modelos/categoria.model */ "./src/app/modelos/categoria.model.ts");
/* harmony import */ var src_app_modelos_seccion_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/seccion.model */ "./src/app/modelos/seccion.model.ts");
/* harmony import */ var src_app_modelos_tipoconsumo_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/modelos/tipoconsumo.model */ "./src/app/modelos/tipoconsumo.model.ts");
/* harmony import */ var _storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./storage.service */ "./src/app/shared/services/storage.service.ts");
/* harmony import */ var _socket_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./socket.service */ "./src/app/shared/services/socket.service.ts");
/* harmony import */ var _timer_limit_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./timer-limit.service */ "./src/app/shared/services/timer-limit.service.ts");
/* harmony import */ var _navigator_link_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./navigator-link.service */ "./src/app/shared/services/navigator-link.service.ts");
/* harmony import */ var _utilitarios_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _listen_status_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./listen-status.service */ "./src/app/shared/services/listen-status.service.ts");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/snack-bar.js");
/* harmony import */ var src_app_modelos_from_valid_rpt_model__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/modelos/from.valid.rpt.model */ "./src/app/modelos/from.valid.rpt.model.ts");
/* harmony import */ var src_app_modelos_subitems_view_model__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! src/app/modelos/subitems.view.model */ "./src/app/modelos/subitems.view.model.ts");
/* harmony import */ var _establecimiento_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _promo_cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./promo/cocinar-descuentos-promo.service */ "./src/app/shared/services/promo/cocinar-descuentos-promo.service.ts");








// import { MAX_MINUTE_ORDER } from '../config/config.const';
// servicios













// import { distinctUntilChanged } from 'rxjs/internal/operators/distinctUntilChanged';
// import { takeUntil } from 'rxjs/internal/operators/takeUntil';
let MipedidoService = class MipedidoService {
    constructor(storageService, socketService, timerLimitService, navigatorService, _snackBar, utilesService, listenStatusService, establecimientoService, // datos del estableciento // clienteSelivery
    crudService, infoTokenService, cocinarDescuentosPromoService) {
        this.storageService = storageService;
        this.socketService = socketService;
        this.timerLimitService = timerLimitService;
        this.navigatorService = navigatorService;
        this._snackBar = _snackBar;
        this.utilesService = utilesService;
        this.listenStatusService = listenStatusService;
        this.establecimientoService = establecimientoService;
        this.crudService = crudService;
        this.infoTokenService = infoTokenService;
        this.cocinarDescuentosPromoService = cocinarDescuentosPromoService;
        this.miPedidoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]());
        this.miPedidoObserver$ = this.miPedidoSource.asObservable();
        // la carta observable
        // private laCartaObjSource = new BehaviorSubject<any>({});
        // public laCartaObj$ = this.laCartaObjSource.asObservable();
        // number tab Mi Pedido
        this.countItemsSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](0);
        this.countItemsObserve$ = this.countItemsSource.asObservable();
        // observable que se modifco cantidad - stock de algun producto
        // si es que esta en resumen de pedido dialog -- actualize stock
        this.itemStockChangeSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new src_app_modelos_item_model__WEBPACK_IMPORTED_MODULE_3__["ItemModel"]());
        this.itemStockChangeObserve$ = this.itemStockChangeSource.asObservable();
        this.isPreAvisoVisible = false;
        this.listItemsPedido = [];
        this.miPedido = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]();
        this.mpObjNewItemTiposConsumo = [];
        this.mpObjSeccionSelected = new src_app_modelos_seccion_model__WEBPACK_IMPORTED_MODULE_6__["SeccionModel"]();
        this.time = new Date();
        // pwa_delivery_importe_min = 10; // delivery / el importe minimo por pedido
        this.pwa_delivery_servicio_propio = false; // delivery / si el comercio tiene propio repartidores
        this.deliveryCanItemsInOrder = 0; // cantidad de productos en el pedido // solo para delivery
        this.deliveryArrConstantes = {
            cantItemsScala: 0,
            costoScala: 0
        };
    }
    // cuando obtenemos la cuenta
    setObjMiPedido(obj) {
        this.miPedido = obj;
        this.miPedidoSource.next(this.miPedido);
    }
    resetObjMiPedido() {
        this.miPedido = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]();
        this.miPedidoSource.next(this.miPedido);
    }
    setObjCarta(res) {
        // console.log('carta', res);
        // esto lo manda desde carta component
        this.objCarta = {};
        // setTimeout(() => {
        this.objCarta = {
            'carta': null,
            'bodega': null,
            'promociones': null,
            'recomendados': null
        };
        this.objCarta.carta = res[0].carta;
        this.objCarta.bodega = res[0].bodega;
        this.objCarta.promociones = res[0].promociones;
        // colocamos la bodega en todas las cartas
        let _carta = this.objCarta.carta;
        const _bodega = this.objCarta.bodega;
        if (_bodega) {
            // si no hay carta solo productos
            if (!this.objCarta.carta) {
                // const newCarta = new CartaModel;
                const newCategoria = new src_app_modelos_categoria_model__WEBPACK_IMPORTED_MODULE_5__["CategoriaModel"];
                newCategoria.des = 'Productos';
                newCategoria.detalle = '';
                newCategoria.hora_fin = '';
                newCategoria.hora_ini = '';
                newCategoria.idcarta = 0;
                newCategoria.idcategoria = 0;
                newCategoria.secciones = [];
                _carta = [];
                _carta.push(newCategoria);
                _carta.map((c) => {
                    _bodega.map((bs) => {
                        c.secciones.push(bs);
                    });
                });
                this.objCarta.carta = _carta;
                return;
            }
            _carta.map((c) => {
                _bodega.map((bs) => {
                    c.secciones.push(bs);
                });
            });
        }
        const _itemsRecomendacion = [];
        _carta.map((c) => {
            c.secciones.map((s) => {
                const _itemsSeccionRecomendados = s.items.filter(x => x.is_recomendacion === '1');
                if (_itemsSeccionRecomendados) {
                    _itemsSeccionRecomendados.map(i => _itemsRecomendacion.push(i));
                }
            });
        });
        if (_itemsRecomendacion.length > 0) {
            this.objCarta.recomendados = _itemsRecomendacion;
        }
        // chequear si hay recomendaciones
        // this.laCartaObjSource.next(this.objCarta);
        // console.log('objCartaCarta', this.objCarta);
        // }, 1000);
    }
    getObjCarta() {
        return this.objCarta;
    }
    getObjCartaLibery() {
        return JSON.parse(JSON.stringify(this.objCarta));
    }
    // aplicar descuentos a la carta
    setObjCartaDescuentos(objDescuento) {
        this.infoTokenService.infoUsToken.isHayDescuento = false;
        if (objDescuento.length === 0) {
            return;
        }
        if (objDescuento[0].solo_app === 1 && !this.infoTokenService.infoUsToken.isCliente) {
            return;
        }
        this.infoTokenService.infoUsToken.isHayDescuento = true;
        let _dsc = 0;
        // let precio_ahora = 0;
        objDescuento.map((d) => {
            switch (d.tipo) {
                case 0: // items
                    this.objCarta.carta.map((c) => {
                        c.secciones.map((s) => {
                            const _i = s.items.filter((i) => i.iditem.toString() === d.id)[0];
                            if (_i) {
                                _dsc = d.porcentaje;
                                _i.iddescuento = d.idsede_descuento;
                                this.aplicarDescuentoImte(_i, _dsc);
                                return false;
                            }
                        });
                    });
                    break;
                case 1: // secciones
                    _dsc = d.porcentaje;
                    this.objCarta.carta.map((c) => {
                        c.secciones.map((s) => {
                            if (s.idseccion.toString() === d.id) {
                                s.descuento = _dsc + '%';
                                s.iddescuento = d.idsede_descuento;
                                s.items.map((i) => {
                                    this.aplicarDescuentoImte(i, _dsc);
                                });
                            }
                        });
                    });
                    break;
                case 2: // producto
                    _dsc = d.porcentaje;
                    this.objCarta.bodega.map((s) => {
                        const _i = s.items.filter((i) => i.iditem.toString() === d.id)[0];
                        if (_i) {
                            _dsc = d.porcentaje;
                            _i.iddescuento = d.idsede_descuento;
                            this.aplicarDescuentoImte(_i, _dsc);
                            return false;
                        }
                    });
                    break;
                case 3: // producto familia
                    _dsc = d.porcentaje;
                    this.objCarta.bodega.map((s) => {
                        if (s.idseccion.toString() === d.id) {
                            s.descuento = _dsc + '%';
                            s.iddescuento = d.idsede_descuento;
                            s.items.map((i) => {
                                this.aplicarDescuentoImte(i, _dsc);
                            });
                        }
                    });
                    break;
            }
        });
        // console.log('this.objCarta descuento', this.objCarta);
    }
    aplicarDescuentoImte(i, _dsc) {
        const _pItem = parseFloat(i.precio);
        const precio_ahora = Math.round(_pItem - (_pItem * (_dsc / 100)));
        i.precio_antes = i.precio;
        i.precio = precio_ahora.toString();
        i.precio_default = precio_ahora;
        i.precio_unitario = precio_ahora.toString();
    }
    getIdsDescuentos() {
        let _idDsc;
        const listIds = [];
        this.miPedido.tipoconsumo.map((tp) => {
            tp.secciones.map((s) => {
                _idDsc = s.iddescuento;
                if (_idDsc) {
                    if (!listIds.filter(a => a.id === _idDsc)[0]) {
                        listIds.push({ id: _idDsc });
                    }
                }
                // en items
                s.items.map((i) => {
                    _idDsc = s.iddescuento;
                    if (_idDsc) {
                        if (!listIds.filter(a => a.id === _idDsc)[0]) {
                            listIds.push({ id: _idDsc });
                        }
                    }
                });
            });
        });
        return listIds;
    }
    getMiPedido() {
        if (this.miPedido.tipoconsumo.length === 0) {
            if (this.storageService.isExistKey('sys::order::all')) {
                this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));
            }
        }
        // this.miPedidoSource.next(this.miPedido);
        return this.miPedido;
    }
    // setea los tipos de consumo del item seleccionado para sumar las cantidaddes seleccionadas
    setobjItemTipoConsumoSelected(_objItemTipoConsumoSelected) {
        // this.mpObjItemTipoConsumoSelected = JSON.parse(JSON.stringify(_objItemTipoConsumoSelected));
        this.mpObjItemTipoConsumoSelected = _objItemTipoConsumoSelected;
    }
    // los tipos de consumo
    setObjNewItemTiposConsumo(val) {
        this.mpObjNewItemTiposConsumo = val;
    }
    getObjNewItemTiposConsumo() {
        return this.mpObjNewItemTiposConsumo;
    }
    // seteamos seccion seleccionada menos items[]; para que no se forme el bucle
    setObjSeccionSeleced(seccion) {
        this.mpObjSeccionSelected = new src_app_modelos_seccion_model__WEBPACK_IMPORTED_MODULE_6__["SeccionModel"]();
        this.mpObjSeccionSelected.des = seccion.des;
        this.mpObjSeccionSelected.idimpresora = seccion.idimpresora;
        this.mpObjSeccionSelected.idimpresora_otro = seccion.idimpresora_otro;
        this.mpObjSeccionSelected.idseccion = seccion.idseccion;
        this.mpObjSeccionSelected.sec_orden = seccion.sec_orden;
        this.mpObjSeccionSelected.ver_stock_cero = seccion.ver_stock_cero;
        this.mpObjSeccionSelected.iddescuento = seccion.iddescuento;
        this.mpObjSeccionSelected.descuento = seccion.descuento;
    }
    getObjSeccionSeleced() {
        return this.mpObjSeccionSelected;
    }
    // obtener el DELIVERY_CANTIDAD_ITEMS_ESCALA // solo si es cliente delivery
    getDeliveryConstCantEscala() {
        // recuperar del storage
        const _arrItemScala = localStorage.getItem('sys::ICS');
        if (_arrItemScala) {
            this.deliveryArrConstantes = JSON.parse(atob(_arrItemScala));
        }
        else {
            this.crudService.getAll('pedido', 'get-const-delivery-items-escala', false, false, false)
                .subscribe((res) => {
                this.deliveryArrConstantes = {
                    cantItemsScala: res.data[0].value,
                    costoScala: res.data[1].value
                };
                // = parseInt(res.data[0][0].value, 0);
                // console.log('deliveryItemsScala', res);
                localStorage.setItem('sys::ICS', btoa(JSON.stringify(this.deliveryArrConstantes)));
            });
        }
    }
    // suma cantidad seleccionada
    // idTpcItemResumenSelect tipo consumo del item al modificar desde resumen, si el tpc es diferente al seleccionado en el dialog entonces no suma al item
    addItem2(tipoconsumo, item, signo = 0, idTpcItemResumenSelect = null) {
        // let sumTotalTpcSelected = this.totalItemTpcSelected();
        // console.log('add item', item);
        // console.log('add item tipoconsumo', tipoconsumo);
        // el item que viene es de carta o del resumen
        // buscamos el item en la carta para el stock
        // de esta manera manejamos una sola cantidad
        // idTpcItemResumenSelect si viene del resumen dialog
        // let cantItem = idTpcItemResumenSelect ? parseInt(this.findItemCarta(item).cantidad.toString(), 0) : parseInt(item.cantidad.toString(), 0);
        let cantItem = parseInt(item.cantidad.toString(), 0);
        const sumar = signo === 0 ? true : false;
        if (cantItem <= 0 && sumar) {
            return;
        }
        let cantSeleccionada = tipoconsumo.cantidad_seleccionada || 0;
        cantSeleccionada += sumar ? 1 : -1;
        if (cantSeleccionada < 0) {
            return;
        }
        if (item.isporcion !== 'ND') {
            cantItem += sumar ? -1 : 1;
            cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;
            cantItem = cantItem < 0 || cantSeleccionada < 0 ? 0 : cantItem;
        }
        cantSeleccionada = cantSeleccionada < 0 ? 0 : cantSeleccionada;
        tipoconsumo.cantidad_seleccionada = cantSeleccionada;
        // listItemsPedido -> para el local storage recuperar y resetear
        // const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];
        // let sumTotalTpcSelected = 1;
        // if (itemInList) {
        //   sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;
        //   itemInList.cantidad_seleccionada = sumTotalTpcSelected;
        // } else {
        //   this.listItemsPedido.push(item);
        // }
        // item
        // sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;
        // actualizar cantidades en item carta
        // item.cantidad_seleccionada = sumTotalTpcSelected;
        // item.cantidad = cantItem;
        // json pedido
        const _tipoconsumo = JSON.parse(JSON.stringify(tipoconsumo));
        const itemInPedido = this.findItemMiPedido(_tipoconsumo, this.mpObjSeccionSelected, item, sumar);
        itemInPedido.cantidad = cantItem;
        // actualizar cantidades en item carta
        if (idTpcItemResumenSelect) {
            // console.log('idTpcItemResumenSelect addItem2', item);
            item = this.findItemCarta(item);
        }
        // item = idTpcItemResumenSelect ? this.findItemCarta(item) : item;
        // emitir item modificado
        item.sumar = sumar;
        item.subitems_selected = itemInPedido.subitems_selected;
        item.subitems_view = itemInPedido.subitems_view;
        // listItemsPedido -> para el local storage recuperar y resetear
        const itemInList = this.findItemListPedido(item); // <ItemModel>this.listItemsPedido.filter( x => x.iditem === item.iditem )[0];
        let sumTotalTpcSelected = 1;
        if (itemInList) {
            // por momentos pierde referencia al tipo de consumo, para evitar eso
            if (!itemInList.itemtiposconsumo) {
                itemInList.itemtiposconsumo = this.mpObjItemTipoConsumoSelected;
            }
            sumTotalTpcSelected = this.totalItemTpcSelected(itemInList.itemtiposconsumo) || 0;
            itemInList.cantidad_seleccionada = sumTotalTpcSelected;
            itemInList.subitems_selected = itemInPedido.subitems_selected;
            itemInList.subitems_view = sumTotalTpcSelected === 0 ? [] : itemInPedido.subitems_view;
        }
        else {
            this.listItemsPedido.push(item);
        }
        item.cantidad_seleccionada = sumTotalTpcSelected;
        // if (item.isporcion !== 'ND') { item.cantidad = cantItem; } // la cantidad lo envia el socket
        // comunica el cambio de stock en el item carta
        this.itemStockChangeSource.next(item);
        // hora que comienza a realizar el pedido
        this.setLocalStorageHora();
        // guardamos el pedido en local // por si se actualiza
        this.setLocalStoragePedido();
        // emitir item modificado
        // item.sumar = sumar;
        // item.subitems_selected = itemInPedido.subitems_selected;
        // item.subitems_view = itemInPedido.subitems_view;
        this.socketService.emit('itemModificado', item);
        // console.log('listItemsPedido', this.listItemsPedido);
        // console.log('mipedido', this.miPedido);
        // console.log('itemModificado en add', item);
        // console.log('itemModificado en add', JSON.stringify(item));
        this.listenStatusService.setHayPedidoPendiente(true);
        // item.subitems_selected = null;
        // itemInPedido.subitems_selected = null;
        // item.subitems_view = null;
        // 070521 quitamos no hay caso mantenerlo
        // this.playTimerLimit();
    }
    totalItemTpcSelected(_arrTpc) {
        return _arrTpc.map((x) => x.cantidad_seleccionada || 0).reduce((a, b) => a + b, 0);
    }
    // cantidad seleccionada y precio
    addCantItemMiPedido(elItem, cantidad_seleccionada) {
        const cantSeleccionadaTPC = cantidad_seleccionada;
        let precioTotal = cantSeleccionadaTPC * parseFloat(elItem.precio_unitario);
        // total subitems
        // sumar el total
        // const totalSubItems = elItem.subitems_selected ? elItem.subitems_selected.map((subIt: SubItem) => subIt.precio * subIt.cantidad_seleccionada).reduce((a, b) => a + b , 0) : 0;
        const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt) => subIt.precio).reduce((a, b) => a + b, 0) : 0;
        precioTotal += totalSubItems;
        elItem.cantidad_seleccionada = cantSeleccionadaTPC;
        // elItem.precio_total = precioTotal + totalSubItems;
        // elItem.precio_print = precioTotal + totalSubItems;
        // revisa si aplica promo a este item
        if (elItem.ispromo) {
            precioTotal = this.cocinarDescuentosPromoService.reviewPromoApplyItem(elItem, precioTotal) || precioTotal;
        }
        elItem.precio_total = precioTotal;
        elItem.precio_print = precioTotal;
        // elItem.precio_total_calc = precioTotal;
    }
    // agrega el precio sumado con los subitems si los hay del item mipedido
    addPrecioItemMiPedido(elItem) {
        const totalSubItems = elItem.subitems_view ? elItem.subitems_view.map((subIt) => subIt.precio).reduce((a, b) => a + b, 0) : 0;
        let precioTotal = elItem.cantidad_seleccionada * parseFloat(elItem.precio_unitario);
        precioTotal += totalSubItems;
        // revisa si aplica promo a este item
        if (elItem.ispromo) {
            precioTotal = this.cocinarDescuentosPromoService.reviewPromoApplyItem(elItem, precioTotal) || precioTotal;
        }
        elItem.precio_total = precioTotal;
        elItem.precio_print = precioTotal;
    }
    // agrega a subitem_selected -> lista de subitems seleccionados
    addItemSubItemMiPedido(elItem, itemCarta, sumar, tipoConsumo) {
        // console.log('indicaciones');
        if (elItem.subitems) {
            // elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];
            // subitemsviews
            if (elItem.subitems.length === 0) {
                return;
            }
            const newSubItemView = new src_app_modelos_subitems_view_model__WEBPACK_IMPORTED_MODULE_16__["SubItemsView"]();
            newSubItemView.id = '';
            newSubItemView.des = '';
            newSubItemView.listDes = [];
            newSubItemView.cantidad_seleccionada = 0;
            newSubItemView.precio = 0;
            newSubItemView.indicaciones = '';
            newSubItemView.subitems = [];
            if (elItem.subitems_selected && elItem.subitems_selected.length > 0) {
                elItem.subitems_selected.map((x) => {
                    newSubItemView.id += x.iditem_subitem.toString();
                    newSubItemView.listDes.push(this.utilesService.primeraConMayusculas(x.des.toLowerCase()));
                    newSubItemView.cantidad_seleccionada = 1;
                    newSubItemView.precio += parseFloat(x.precio.toString());
                    // newSubItemView.indicaciones += x.indicaciones === undefined ? '' :  ' (' + x.indicaciones + ')';
                    newSubItemView.subitems.push(x);
                    newSubItemView.idtipo_consumo = x.idtipo_consumo;
                });
                newSubItemView.des = newSubItemView.listDes.join(', ');
                newSubItemView.des += elItem.indicaciones === undefined || elItem.indicaciones === '' ? '' : ', (' + elItem.indicaciones + ')';
                elItem.indicaciones = '';
                elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];
                // agregamos para que no sume de otro tpc
                // && subView.idtipo_consumo === tipoConsumo.idtipo_consumo
                const isExistInTipoConsumo = elItem.subitems_view.filter((subView) => subView.idtipo_consumo === tipoConsumo.idtipo_consumo)[0];
                if (!isExistInTipoConsumo) {
                    elItem.subitems_view = [];
                }
                const isExistSubItemView = elItem.subitems_view.filter((subView) => subView.id === newSubItemView.id)[0];
                if (isExistSubItemView) {
                    if (sumar) {
                        isExistSubItemView.indicaciones += newSubItemView.indicaciones;
                        isExistSubItemView.cantidad_seleccionada += 1;
                        isExistSubItemView.precio += newSubItemView.precio;
                        isExistSubItemView.des = newSubItemView.des;
                    }
                    else {
                        // resta
                        this.restarCantSubItemView(elItem, isExistSubItemView);
                    }
                }
                else {
                    // si no existe
                    // isExistSubItemView.indicaciones = newSubItemView.indicaciones;
                    if (sumar) {
                        // elItem.subitems_view = [];
                        elItem.subitems_view.push(newSubItemView);
                    }
                    else {
                        // si es restar y no existe en la lista quita el ultimo
                        this.restarCantSubItemView(elItem, null);
                    }
                }
                this.addPrecioItemMiPedido(elItem);
            }
            else {
                // si no tiene ningun suitem seleccionado y ademas es restar y ademas que la cantidad es igual al los subtviews
                // entonces agarra al primer subview y comienza a restar
                if (!sumar) {
                    if (!(elItem === null || elItem === void 0 ? void 0 : elItem.subitems_view)) {
                        return;
                    }
                    if ((elItem === null || elItem === void 0 ? void 0 : elItem.subitems_view.length) === 0) {
                        return;
                    }
                    this.restarCantSubItemView(elItem, null);
                }
            }
            // let _subItemExist: SubItem;
            // elItem.subitems.filter((x: SubItem) => x.selected).map((subItem: SubItem) => {
            //   elItem.subitems_selected = elItem.subitems_selected ? elItem.subitems_selected : [];
            //   _subItemExist = elItem.subitems_selected.filter((subIt: SubItem) => subIt === subItem)[0];
            //   if ( _subItemExist ) {
            //     _subItemExist.cantidad_seleccionada++;
            //     _subItemExist.indicaciones = elItem.indicaciones || '';
            //     // _subItemExist.precio += subItem.precio;
            //   } else {
            //     subItem.indicaciones = elItem.indicaciones || '';
            //     subItem.cantidad_seleccionada = 1;
            //     elItem.subitems_selected.push(subItem);
            //   }
            // });
            // // subitemsviews
            // if (elItem.subitems.length === 0 ) { return; }
            // const newSubItemView: SubItemsView = new SubItemsView();
            // newSubItemView.id = 0;
            // newSubItemView.des = '';
            // newSubItemView.cantidad_seleccionada = 0;
            // newSubItemView.precio = 0;
            // newSubItemView.indicaciones = '';
            // newSubItemView.subitems = [];
            // if ( elItem.subitems_selected ) {
            //   elItem.subitems_selected.map((x: SubItem) => {
            //     newSubItemView.id += x.iditem_subitem;
            //     newSubItemView.des += x.des + ' ';
            //     newSubItemView.cantidad_seleccionada = 1;
            //     newSubItemView.precio += x.precio;
            //     newSubItemView.indicaciones += x.indicaciones === '' ? '' :  x.indicaciones  + '. ';
            //     newSubItemView.subitems.push(x);
            //   });
            //   // itemCarta para sacar los indicadores
            //   itemCarta.indicaciones = '';
            //   elItem.indicaciones = '';
            //   elItem.subitems_view = elItem.subitems_view ? elItem.subitems_view : [];
            //   const isExistSubItemView = elItem.subitems_view.filter((subView: SubItemsView) => subView.id === newSubItemView.id)[0];
            //   if ( isExistSubItemView ) {
            //     if ( sumar ) {
            //       isExistSubItemView.indicaciones += newSubItemView.indicaciones;
            //       isExistSubItemView.cantidad_seleccionada += 1;
            //       isExistSubItemView.precio += newSubItemView.precio;
            //     } else {
            //       // resta
            //       this.restarCantSubItemView(elItem, isExistSubItemView);
            //     }
            //   } else {
            //     // isExistSubItemView.indicaciones = newSubItemView.indicaciones;
            //     if ( sumar ) {
            //       elItem.subitems_view.push(newSubItemView);
            //     } else {
            //       // si es restar y no existe en la lista quita el ultimo
            //       this.restarCantSubItemView(elItem, null);
            //     }
            //   }
            // } else {
            //   this.restarCantSubItemView(elItem, null);
            // }
            // sumar importe total con los subitems
            // this.addPrecioItemMiPedido(elItem);
        }
    }
    restarCantSubItemView(_elItem, isExistSubItemView = null) {
        if (isExistSubItemView) {
            // si existe subitemview
            const precioDescontar = isExistSubItemView.precio / isExistSubItemView.cantidad_seleccionada;
            isExistSubItemView.cantidad_seleccionada -= 1;
            isExistSubItemView.precio -= precioDescontar;
            isExistSubItemView.precio = isExistSubItemView.precio < 0 ? 0 : isExistSubItemView.precio;
            if (isExistSubItemView.cantidad_seleccionada <= 0) {
                // borrar el item
                _elItem.subitems_view = _elItem.subitems_view.filter((subView) => subView.cantidad_seleccionada > 0);
            }
        }
        else {
            // si no envia o no existe el subitemview a restar toma el ultimo
            const lentSubItemView = _elItem.subitems_view.length;
            const _SubItemView = _elItem.subitems_view[lentSubItemView - 1];
            const precioDescontar = _SubItemView.precio / _SubItemView.cantidad_seleccionada;
            _SubItemView.cantidad_seleccionada--;
            _SubItemView.precio -= precioDescontar;
            if (_SubItemView.cantidad_seleccionada <= 0) {
                // borrar el item
                _elItem.subitems_view = _elItem.subitems_view.filter((subView) => subView.cantidad_seleccionada > 0);
            }
            // para restar en el back end
            _elItem.subitems_selected = _SubItemView.subitems;
        }
    }
    // del socket nuevo item from monitoreo stock
    addItemInCarta(newItem) {
        // console.log('addItemInCarta', newItem);
        const newItemFind = this.findItemCarta(newItem);
        if (newItemFind) { // update
            // console.log('update');
            newItemFind.cantidad = newItemFind.cantidad;
        }
        else { // agrega a la carta
            // console.log('add in carta');
            this.objCarta.carta.map((cat) => {
                cat.secciones
                    .filter((sec) => sec.idseccion === newItem.idseccion)
                    .map((sec) => {
                    sec.items.push(newItem);
                });
            });
        }
        // this.laCartaObjSource.next(this.objCarta.carta);
        // console.log('item new add in carta', this.objCarta.carta);
    }
    // actualizar las cantidades despues de connectar
    // setUpdateCantAfterReconnect( arrObj: any ) {
    //   arrObj.carta.map((cat: CategoriaModel) => {
    //     cat.secciones.map((sec: SeccionModel) => {
    //       sec.items.filter((x: ItemModel) => x.indicaciones )
    //             .map((i: ItemModel) => {
    //               const itemCartaUpdate = this.findItemCarta(i);
    //               itemCartaUpdate.cantidad = i.cantidad;
    //             });
    //     });
    //   });
    // }
    // <---------- Busquedas ------> //
    // buscar item en listItemsPedido
    findItemFromArr(arrFind, item) {
        return arrFind.filter((x) => x.iditem === item.iditem)[0];
    }
    // buscar item en listItemsPedido
    findItemListPedido(item) {
        return this.listItemsPedido.filter((x) => x.iditem === item.iditem)[0];
    }
    // buscar item en carta y limpiar las indicaciones y subitems_seleceted
    // en nuevo pedido
    findItemCartaAndClearIndicaciones() {
        this.objCarta.carta.map((cat) => {
            cat.secciones.map((sec) => {
                sec.items.map(x => x.is_visible_control_last_add = false);
                sec.items.filter((x) => x.indicaciones)
                    .map((x) => x.indicaciones = '');
                sec.items.filter((x) => x.subitems_selected)
                    .map((x) => x.subitems_selected = null);
                sec.items.filter((x) => x.subitems_view)
                    .map((x) => x.subitems_view = null);
            });
        });
        // this.laCartaObjSource.next(this.objCarta);
    }
    // buscar item en la carta
    findItemCarta(item) {
        let rpt;
        this.objCarta.carta.map((cat) => {
            cat.secciones.map((sec) => {
                const _rpt = sec.items.filter((x) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];
                if (_rpt) {
                    rpt = _rpt;
                    return rpt;
                }
            });
        });
        return rpt;
    }
    // buscar item en la carta x idItem
    findItemCartaByIdCartaLista(id) {
        let rpt;
        this.objCarta.carta.map((cat) => {
            cat.secciones.map((sec) => {
                const _rpt = sec.items.filter((x) => x.idcarta_lista.toString() === id.toString())[0];
                if (_rpt) {
                    rpt = _rpt;
                    return rpt;
                }
            });
        });
        return rpt;
    }
    // buscar subitem del item segun idproducto + idporcion
    // iditemFilter = iditem que se va a filtrar, porque ya fue actualizado
    findSubItemCartaById(idFind, iditemFilter) {
        const rptSubItem = [];
        this.objCarta.carta.map((cat) => {
            cat.secciones.map((sec) => {
                sec.items
                    .filter((item) => item.iditem.toString() !== iditemFilter)
                    .filter((item) => item.subitems)
                    .map((item) => {
                    item.subitems.map((subItemContent) => {
                        const _subItem = subItemContent.opciones.filter((x) => x.idproducto.toString() + x.idporcion.toString() === idFind)[0];
                        if (_subItem) {
                            rptSubItem.push(_subItem);
                            // console.log(item);
                            // return rptSubItem;
                        }
                    });
                });
            });
        });
        return rptSubItem;
    }
    // resetear las cantidades seleccionadas en el item carta, luego de hacer un pedido para que no se quede marcado
    resetCantidadesTpcItemCarta() {
        if (!this.objCarta) {
            return;
        }
        if (!this.objCarta.carta) {
            return;
        }
        this.objCarta.carta.map((cat) => {
            cat.secciones.map((sec) => {
                sec.items.map(x => {
                    x.indicaciones = '';
                    x.cantidad_seleccionada = 0;
                    x.itemtiposconsumo = null;
                    // return x;
                });
            });
        });
    }
    findItemSeccionCarta(idFind) {
        let rpt;
        this.objCarta.carta.map((cat) => {
            const _rpt = cat.secciones.filter((sec) => sec.idseccion === idFind)[0];
            if (_rpt) {
                rpt = _rpt;
                return;
            }
        });
        return rpt;
    }
    // bucar item en Mi pedido, update indicaciones
    findOnlyItemMiPedido(itemSearch) {
        // let rpt: ItemModel;
        // this.miPedido.tipoconsumo
        //   .map((tpc: TipoConsumoModel) => {
        //     tpc.secciones.map((sec: SeccionModel) => {
        //       rpt = sec.items.filter(i => i.idcarta_lista.toString() === itemSearch.idcarta_lista.toString())[0];
        //       if ( rpt ) { return; }
        //     });
        //   });
        // return rpt;
        return this.miPedido.tipoconsumo.map(c => c.secciones.map(s => s.items.find(i => i.idcarta_lista.toString() === itemSearch.idcarta_lista.toString())))[0].find(x => x);
    }
    // buscar o agregar item en miPedido
    findItemMiPedido(_tpc, _seccion, item, sumar) {
        let rpt;
        // let elItem = item;
        // this.addItemSubItemMiPedido(item);
        let elItem = JSON.parse(JSON.stringify(item));
        const cantSeleccionadaTPC = _tpc.cantidad_seleccionada;
        elItem.itemtiposconsumo = [];
        // elItem.indicaciones = item.indicaciones;
        this.addCantItemMiPedido(elItem, cantSeleccionadaTPC);
        const findTpc = this.miPedido.tipoconsumo.filter((x) => x.idtipo_consumo.toString() === _tpc.idtipo_consumo.toString())[0];
        if (findTpc) {
            // if (!sumar) { this.quitarTpcMiPedido(findTpc); return; }
            const findSecc = findTpc.secciones.filter((sec) => sec.idseccion === _seccion.idseccion)[0];
            if (findSecc) {
                // if (!sumar) { this.quitarTpcMiPedido(findTpc); }
                const _rpt = findSecc.items.filter((x) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];
                if (_rpt) {
                    // indicaciones
                    _rpt.indicaciones = elItem.indicaciones;
                    // actualiza subitems_selected
                    // _rpt.subitems_selected = [];
                    // _rpt.subitems_selected = elItem.subitems_selected;
                    // _rpt.subitems_view = elItem.subitems_view;
                    // this.addItemSubItemMiPedido(_rpt);
                    this.addCantItemMiPedido(_rpt, cantSeleccionadaTPC);
                    elItem = _rpt;
                    // this.addItemSubItemMiPedido(elItem);
                    // elItem.cantidad_seleccionada = this.addCantItemMiPedido(elItem.cantidad_seleccionada, sumar);
                    rpt = elItem;
                }
                else {
                    // si no existe item lo agrega
                    // elItem.cantidad_seleccionada = 0;
                    findSecc.items.push(elItem);
                    rpt = elItem;
                }
                elItem.subitems = item.subitems;
                elItem.subitems_selected = item.subitems_selected;
                this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);
                this.setCountCantItemTpcAndSeccion(findTpc, findSecc);
            }
            else {
                // si no existe seccion add
                rpt = elItem;
                // _seccion.items.push(rpt);
                const _newSeccion = JSON.parse(JSON.stringify(_seccion));
                _newSeccion.items = [];
                _newSeccion.items.push(elItem);
                findTpc.secciones = findTpc.secciones ? findTpc.secciones : [];
                findTpc.secciones.push(_newSeccion);
                // findTpc.secciones.push(_seccion);
                this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);
                this.setCountCantItemTpcAndSeccion(findTpc, _newSeccion);
            }
        }
        else {
            // si no existe tpc add
            // elItem.cantidad_seleccionada = 0;
            elItem.subitems = item.subitems;
            elItem.subitems_selected = item.subitems_selected;
            this.addItemSubItemMiPedido(elItem, item, sumar, _tpc);
            const _newSeccion = JSON.parse(JSON.stringify(_seccion));
            _newSeccion.items = [];
            _newSeccion.items.push(elItem);
            _tpc.secciones = _tpc.secciones ? _tpc.secciones : [];
            _tpc.secciones.push(_newSeccion);
            this.miPedido.tipoconsumo.push(_tpc);
            this.setCountCantItemTpcAndSeccion(_tpc, _newSeccion);
            rpt = elItem;
        }
        this.clearObjMiPedido();
        // this.miPedidoSource.next(this.miPedido);
        return rpt;
    }
    quitarTpcMiPedido(tpcFind) {
        if (tpcFind.count_items_seccion === 1) {
            this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc) => !tpcFind);
        }
    }
    quitarSeccionMiPedido(secFind) {
        if (secFind.count_items === 1) {
            this.miPedido.tipoconsumo.map((tpc) => {
                tpc.secciones.filter((sec) => !secFind);
            });
        }
    }
    // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa
    findMiPedidoIsTPCLocal() {
        let rpt = false;
        this.miPedido.tipoconsumo
            .filter(x => x.titulo === 'LOCAL')
            .map((t) => {
            rpt = t.secciones.filter((s) => s.count_items > 0)[0] ? true : false;
        });
        return rpt;
    }
    // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa
    findMiPedidoIsTPCDelivery() {
        let rpt = false;
        this.miPedido.tipoconsumo
            .filter(x => x.descripcion.toUpperCase() === 'DELIVERY')
            .map((t) => {
            rpt = t.secciones.filter((s) => s.count_items > 0)[0] ? true : false;
        });
        return rpt;
    }
    // busca si en el pedido hay para consumir en el local y si es asi, exigir numero de mesa
    findMiPedidoIsTPCLLevar() {
        let rpt = false;
        this.miPedido.tipoconsumo
            .filter(x => x.descripcion.toUpperCase().indexOf('LLEVAR'))
            .map((t) => {
            rpt = t.secciones.filter((s) => s.count_items > 0)[0] ? true : false;
        });
        return rpt;
    }
    // recorre los tipos de consumo y devuelve un arr de requerimientos
    findEvaluateTPCMiPedido() {
        const rptArr = new src_app_modelos_from_valid_rpt_model__WEBPACK_IMPORTED_MODULE_15__["FormValidRptModel"]();
        let sumTpcReqMesa = 0;
        this.miPedido.tipoconsumo
            .filter((t) => t.count_items_seccion > 0)
            .map((t) => {
            if (t.titulo === 'LOCAL') {
                rptArr.isTpcLocal = true;
                sumTpcReqMesa++;
            }
            if (t.descripcion.toUpperCase().indexOf('LLEVAR') > -1) {
                rptArr.isTpcSoloLLevar = true;
                sumTpcReqMesa++;
            }
            if (t.descripcion.toUpperCase().indexOf('DELIVERY') > -1) {
                rptArr.isTpcSoloDelivery = true;
            }
            rptArr.isRequiereMesa = rptArr.isTpcLocal ? true : false;
            rptArr.isTpcSoloLLevar = sumTpcReqMesa === 1 && rptArr.isTpcSoloLLevar ? true : false;
        });
        return rptArr;
    }
    // busca la seccion por idimpresora -- para mandar imprimir
    findSeccionInMipedidoByPrint(idPrintSearch) {
        let secRpt;
        this.miPedido.tipoconsumo
            .map((tpc) => {
            secRpt = tpc.secciones.filter((s) => s.idimpresora === idPrintSearch);
        });
        return secRpt;
    }
    findIsHayItems() {
        return this.setCountTotalImtesPedido() > 0 ? true : false;
    }
    // quita los items, secciones, tpc con cantidad 0
    clearObjMiPedido() {
        // limpia los tipos de consumo con items = 0
        this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.filter((tpc) => tpc.count_items_seccion > 0);
        if (this.miPedido.tipoconsumo.length === 0) {
            this.miPedido = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]();
            // console.log('mi pedido clear', this.miPedido);
            this.miPedidoSource.next(this.miPedido);
            return;
        }
        // limpia las secciones con items = 0
        this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc) => {
            tpc.secciones = tpc.secciones.filter((sec) => sec.count_items > 0);
            return tpc;
        });
        // limpia las item con cantidad_seleccionada = 0
        this.miPedido.tipoconsumo = this.miPedido.tipoconsumo.map((tpc) => {
            tpc.secciones = tpc.secciones.map((sec) => {
                sec.items = sec.items.filter((item) => item.cantidad_seleccionada > 0);
                return sec;
            });
            return tpc;
        });
        // console.log('mi pedido clear', this.miPedido);
        this.miPedidoSource.next(this.miPedido);
    }
    // <---------- Busquedas ------> //
    // cuenta la cantidad de items en seccion
    setCountCantItemTpcAndSeccion(_tpc, _seccion) {
        const countItemsSeccion = _seccion.items.map((i) => i.cantidad_seleccionada).reduce((a, b) => a + b, 0);
        _seccion.count_items = countItemsSeccion;
        const countSeccionTpc = _tpc.secciones.map((s) => s.count_items).reduce((a, b) => a + b, 0);
        _tpc.count_items_seccion = countSeccionTpc;
        this.setCountTotalImtesPedido();
    }
    // <------ storage ---- > ///
    setCountTotalImtesPedido() {
        const countTotal = this.miPedido.tipoconsumo.map((t) => t.count_items_seccion).reduce((a, b) => a + b, 0);
        this.countItemsSource.next(countTotal);
        return countTotal;
    }
    setLocalStorageHora() {
        if (this.storageService.isExistKey('sys::h')) {
            return;
        }
        const hora = `${this.time.getHours()}:${this.time.getMinutes()}:${this.time.getSeconds()}`;
        this.storageService.set('sys::h', hora.toString());
    }
    setLocalStoragePedido() {
        // console.log('local storage pedido');
        this.storageService.set('sys::order', btoa(JSON.stringify(this.listItemsPedido)));
        this.storageService.set('sys::order::all', btoa(JSON.stringify(this.miPedido)));
    }
    clearPedidoIsLimitTime() {
        if (!this.storageService.isExistKey('sys::order')) {
            return;
        }
        // if ( !this.storageService.isExistKey('sys::h') ) { return; }
        this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));
        this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));
        // if (this.isTimeLimit()) {
        //   // si el tiempo limite fue superado mandamos a restablecer carta
        //   // nuevo pdido
        //   this.socketService.emit('resetPedido', this.listItemsPedido);
        //   this.updatePedidoFromClear();
        //   // this.resetAllNewPedido();
        // }
    }
    // resetear stock
    resetAllNewPedido() {
        // _mipedidoVista = _mipedidoVista ? _mipedidoVista : this.listItemsPedido;
        this.socketService.emit('resetPedido', this.listItemsPedido);
        // this.updatePedidoFromClear();
        this.prepareNewPedido();
    }
    // nuevo pedido // sin recuperar stock // cuando el envio fue exitoso
    prepareNewPedido() {
        // this.updatePedidoFromClear();
        this.resetTpcCarta();
        // this.findItemCartaAndClearIndicaciones();
        // valor en blanco para nuevo pedido
        this.storageService.clear('sys::h');
        this.storageService.clear('sys::order');
        this.storageService.clear('sys::order::all');
        this.storageService.clear('sys::tcount'); // timer count
        this.storageService.clear('sys::tnum'); // timer count
        this.storageService.clear('sys::mps'); // metodo de pago seleccionado por el cliente
        // this.listItemsPedido = [];
        this.miPedido = null;
        this.miPedido = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]();
        this.miPedidoSource.next(this.miPedido);
        this.countItemsSource.next(0);
        this.listenStatusService.setHayPedidoPendiente(false);
        this.stopTimerLimit();
        // this.getOnlyCarta();
        // this.
        // console.log('antes new', this.listItemsPedido);
    }
    // pide la carta nuevamente / despues de mandar el pedido o despues de reconectar
    getOnlyCarta() {
        this.socketService.emit('getOnlyCarta', null);
    }
    // reset cantidades en vista tipos de consumo
    resetTpcCarta() {
        try {
            this.listItemsPedido.map((item) => {
                item.indicaciones = '';
                if (!item.itemtiposconsumo) {
                    return;
                }
                item.itemtiposconsumo = null;
                // item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {
                //   tpc.cantidad_seleccionada = 0;
                // });
                // console.log('resetTpcCarta', item);
                const _item = this.findItemCarta(item);
                _item.indicaciones = '';
                _item.cantidad_seleccionada = 0;
                // _item.cantidad_selected = 0;
                _item.itemtiposconsumo = null;
                // _item.itemtiposconsumo.map((tpc: ItemTipoConsumoModel) => {
                //   tpc.cantidad_seleccionada = 0;
                _item.is_visible_control_last_add = false;
                // });
            });
        }
        catch (error) {
            // console.log(error);
        }
        this.resetCantidadesTpcItemCarta();
        // this.laCartaObjSource.next(this.objCarta);
        this.listItemsPedido = [];
    }
    updatePedidoFromStrorage() {
        // console.log('update local storage');
        this.listenStatusService.setHayPedidoPendiente(false);
        if (!this.storageService.isExistKey('sys::order')) {
            return;
        }
        this.listenStatusService.setHayPedidoPendiente(true);
        // if ( !this.storageService.isExistKey('sys::h') ) { return; }
        this.listItemsPedido = JSON.parse(atob(this.storageService.get('sys::order')));
        this.miPedido = JSON.parse(atob(this.storageService.get('sys::order::all')));
        this.setCountTotalImtesPedido();
        this.miPedidoSource.next(this.miPedido);
        // actualizar // buscar cada item en el obj carta
        this.listItemsPedido.map((item) => {
            // if (item.isalmacen === 0) { //
            this.objCarta.carta.map((cat) => {
                cat.secciones.map((sec) => {
                    const itemUpdate = sec.items.filter((x) => x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];
                    if (itemUpdate) {
                        // itemUpdate.cantidad = item.cantidad;
                        itemUpdate.cantidad_seleccionada = item.cantidad_seleccionada;
                        itemUpdate.itemtiposconsumo = item.itemtiposconsumo;
                    }
                });
            });
            // }
        });
        // this.laCartaObjSource.next(this.objCarta);
    }
    // actualiza la carta del pedido reseteado por tiempo limite
    // solo local porque a los demas se le emite el socket
    // el socket notifica a todos incluyendo al remitente lo que hace esta funcion obsoleta
    updatePedidoFromClear() {
        // actualizar // buscar cada item en el obj carta
        if (!this.listItemsPedido) {
            return;
        }
        this.listItemsPedido.map((item) => {
            if (item.isalmacen === 0) {
                this.objCarta.carta.map((cat) => {
                    cat.secciones.map((sec) => {
                        const itemUpdate = sec.items.filter((x) => x.isporcion !== 'ND' && x.idcarta_lista.toString() === item.idcarta_lista.toString())[0];
                        if (itemUpdate) {
                            itemUpdate.cantidad = parseInt(itemUpdate.cantidad.toString(), 0) + item.cantidad_seleccionada;
                        }
                    });
                });
                // this.laCartaObjSource.next(this.objCarta);
            }
        });
        // valor en blanco para nuevo pedido
        this.prepareNewPedido();
        // this.storageService.clear('sys::h');
        // this.storageService.clear('sys::order');
        // this.storageService.clear('sys::order::all');
        // this.listItemsPedido = [];
        // this.miPedido = new PedidoModel();
        // this.miPedidoSource.next(this.miPedido);
        // this.countItemsSource.next(0);
    }
    getEstadoStockItem(stock) {
        return stock > 10 ? 'verde' : stock > 5 ? 'amarillo' : 'rojo';
    }
    // isTimeLimit(): boolean {
    //   const h2 = this.storageService.get('sys::h');
    //   const hora1 = this.time.getTime().toString().split(':');
    //   const hora2 = h2.split(':');
    //   const t1 = new Date();
    //   const t2 = new Date();
    //   // tslint:disable-next-line: radix
    //   t1.setHours(parseInt(hora2[0], 0), parseInt(hora2[1], 0), parseInt(hora2[2], 0));
    //   t2.setHours(this.time.getHours(), this.time.getMinutes(), this.time.getSeconds());
    //   const dif = t2.getTime() - t1.getTime(); // diferencia en milisegundos
    //   const difSeg = Math.floor(dif / 1000);
    //   const difMin = Math.floor(difSeg / 60);
    //   let minutos = difMin % 60; // minutos
    //   minutos = minutos < 0 ? minutos * -1 : minutos;
    //   return minutos > this.max_minute_order ? true : false;
    // }
    // <------ storage ---- > ///
    // <------ reglas de la carta ----> //
    validarReglasCarta(rules) {
        // let diferencia = 0;
        let xSecc_bus = 0;
        let xSecc_detalle = 0;
        let xCantidadBuscar = 0;
        let xCantidadBuscarSecc_detalle = 0;
        let diferencia = 0;
        let xPrecio_item_bus = 0;
        let xPrecio_mostrado = 0; // preciounitario * cantidad precio_total_cal
        // reset precio_total_calc -> precio_total;
        this.miPedido.tipoconsumo
            .map((tpc) => {
            tpc.secciones.map((z) => {
                z.items.map((n) => n.precio_total_calc = null);
            });
        });
        rules.map((regla) => {
            xSecc_bus = regla.idseccion;
            xSecc_detalle = regla.idseccion_detalle;
            xCantidadBuscar = this.countCantItemsFromSeccion(xSecc_bus);
            xCantidadBuscarSecc_detalle = this.countCantItemsFromSeccion(xSecc_detalle);
            diferencia = xCantidadBuscar - xCantidadBuscarSecc_detalle;
            diferencia = diferencia < 0 ? xCantidadBuscar : diferencia; // no valores negativos
            // console.log('diferencia reglas', diferencia);
            this.miPedido.tipoconsumo
                .map((tpc) => {
                tpc.secciones
                    .filter((z) => z.idseccion.toString() === xSecc_detalle.toString())
                    .map((z) => {
                    z.items
                        .map((n, i) => {
                        const precioUnitario_item = parseFloat(n.precio);
                        const cant_item = n.cantidad_seleccionada;
                        xPrecio_mostrado = n.precio_total_calc !== null ? n.precio_total_calc : n.precio_total;
                        xPrecio_item_bus = xPrecio_mostrado;
                        if (xCantidadBuscar >= xCantidadBuscarSecc_detalle) {
                            xPrecio_item_bus = 0;
                        }
                        else if (diferencia > 0) {
                            xPrecio_item_bus = diferencia * precioUnitario_item;
                            xPrecio_item_bus = xPrecio_mostrado - xPrecio_item_bus; // descuenta del precio que se muestra en pantalla( precio que ya fue procesado)
                            xPrecio_item_bus = xPrecio_item_bus < 0 ? 0 : xPrecio_item_bus;
                            diferencia = diferencia - cant_item < 0 ? 0 : diferencia - cant_item;
                        }
                        n.precio_total_calc = parseFloat(xPrecio_item_bus.toString()); //
                        n.precio_print = parseFloat(xPrecio_item_bus.toString()); //
                        n.cantidad_descontado = cant_item;
                    });
                });
            });
        });
    }
    countCantItemsFromSeccion(seccionSearch) {
        let sum = 0;
        this.miPedido.tipoconsumo
            .map((tpc) => {
            tpc.secciones.map((z) => {
                sum += z.items
                    .filter((x) => x.idseccion.toString() === seccionSearch.toString())
                    .map((x) => x.cantidad_seleccionada)
                    .reduce((a, b) => a + b, 0);
            });
        });
        return sum;
    }
    // devuelve cantidad item filtrando tipoconsumo y seccion
    countCantItemsFromTpcSeccion(tipoconsumo, seccionSearch) {
        let sum = 0;
        this.miPedido.tipoconsumo
            .filter((tpc) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())
            .map((tpc) => {
            tpc.secciones
                .map((z) => {
                sum += z.items
                    .filter((x) => x.idseccion.toString() === seccionSearch.toString())
                    .map((x) => x.cantidad_seleccionada)
                    .reduce((a, b) => a + b, 0);
            });
        });
        return sum;
    }
    // devuelve cantidad tipoconsumo en el pedido, es decir cuanto delivery o cuantos para llevar hay // se usa calculo total delivery app cliente
    countCantItemsFromTpc(tipoconsumo) {
        let sum = 0;
        this.miPedido.tipoconsumo
            .filter((tpc) => tpc.idtipo_consumo.toString() === tipoconsumo.toString())
            .map((tpc) => {
            tpc.secciones
                .map((z) => {
                sum += z.items
                    .map((x) => x.cantidad_seleccionada)
                    .reduce((a, b) => a + b, 0);
            });
        });
        return sum;
    }
    // devuelve cantidad tipoconsumo en el pedido buscado por descripcion, es decir cuanto delivery o cuantos para llevar hay // se usa calculo total delivery app cliente
    countCantItemsFromTpcDes(tpc_descripcion) {
        let sum = 0;
        this.miPedido.tipoconsumo
            .filter((tpc) => tpc.descripcion.toLowerCase() === tpc_descripcion.toLowerCase())
            .map((tpc) => {
            tpc.secciones
                .map((z) => {
                sum += z.items
                    .map((x) => x.cantidad_seleccionada)
                    .reduce((a, b) => a + b, 0);
            });
        });
        return sum;
    }
    // <------ reglas de la carta ---->//
    // <------ sub totales ---->//
    // isClienteDelivery = si es delivery el costo del servicio es segun calculo
    getArrSubTotales(rulesSubTotales) {
        const subTotal = this.getSubTotalMiPedido();
        let isCalcCostoServicioDelivery = this.establecimientoService.establecimiento.pwa_delivery_hablitar_calc_costo_servicio === 1;
        const isCalcCostoServicioDeliverySoloApp = this.establecimientoService.establecimiento.pwa_delivery_habilitar_calc_costo_servicio_solo_app === 1;
        const comisionFijaComercioNoAfiliado = this.establecimientoService.establecimiento.pwa_delivery_comision_fija_no_afiliado; // comision fija comercio no afiliado (plaza vea cualquier pedido la comision es 2 para la platafoma)
        const is_comercio_paga_entrega = this.establecimientoService.establecimiento.pwa_delivery_comercio_paga_entrega === 1; // si el comercio paga el costo del delivery al repartidor
        this.pwa_delivery_servicio_propio = this.establecimientoService.establecimiento.pwa_delivery_servicio_propio === 1;
        let isClienteDelivery = this.infoTokenService.infoUsToken.idusuario ? false : true; // this.establecimientoService.get().idsede ? true : false;
        // si es cliente delivery
        // si el calculo de entrega es solo para pedidos de clientes desde la aplicacion o para todos
        if (isClienteDelivery) {
            isCalcCostoServicioDelivery = isCalcCostoServicioDelivery || isCalcCostoServicioDeliverySoloApp;
        }
        let sumaTotal = subTotal;
        const arrSubtotales = [];
        let _arrSubtotales = {};
        _arrSubtotales.id = 0;
        _arrSubtotales.descripcion = 'SUB TOTAL';
        _arrSubtotales.esImpuesto = 0;
        _arrSubtotales.visible = true;
        _arrSubtotales.quitar = false;
        _arrSubtotales.tachado = false;
        _arrSubtotales.visible_cpe = true;
        _arrSubtotales.importe = parseFloat(subTotal.toString()).toFixed(2);
        arrSubtotales.push(_arrSubtotales);
        // porcentajes / impuestos / otros servicios
        const rptPorcentajes = [];
        const arrPorcentajes = rulesSubTotales.filter(x => x.tipo === 'p');
        arrPorcentajes.map(p => {
            const porcentaje = p.monto / 100;
            const isImpuesto = p.es_impuesto === 1 ? true : false;
            const isActivo = p.activo === 0 ? true : false;
            const importe = (subTotal * porcentaje).toFixed(2);
            const rpt = {};
            rpt.id = p.tipo + p.id;
            rpt.descripcion = p.descripcion;
            rpt.esImpuesto = p.es_impuesto;
            rpt.visible = true;
            rpt.quitar = false;
            rpt.tachado = false;
            rpt.visible_cpe = isImpuesto;
            // rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;
            // rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);
            // sumaTotal += parseFloat(rpt.importe);
            // implement igv 030220
            if (rpt.descripcion === 'I.G.V') {
                rpt.importe = isActivo ? porcentaje : 0;
                rptPorcentajes.push(rpt); // solo agrega importe 0 si es IGV
            }
            else {
                rpt.importe = isImpuesto ? isActivo ? importe : 0 : importe;
                rpt.importe = parseFloat(rpt.importe.toString()).toFixed(2);
                sumaTotal += parseFloat(rpt.importe);
            }
            // no muestra si tienen valor 0
            if (rpt.importe !== 0) {
                rptPorcentajes.push(rpt);
            }
        });
        // otros no porcentajes // taper // delivery
        let importeOtros = 0;
        const rptOtros = [];
        const arrOtros = rulesSubTotales.filter(x => x.tipo === 'a');
        // si es tiene idusuario es usuario autorizado no es cliente delivery  // si existe estableciiento en localstorage entonces es un clienteDelivery
        // let isClienteDelivery = this.infoTokenService.infoUsToken.idusuario ? false : true; // this.establecimientoService.get().idsede ? true : false;
        let isTieneDelivery = false; // si tiene la opcion de delivery configurado
        let isAddDelivery = true; // si agrega delivery // puede que tenga otros servicio que no sea delivery
        let addServicioDeliveryExpress = false;
        // verificar si el pedido tiene delivery
        const _countItemDelivery = this.countCantItemsFromTpcDes('delivery') + this.countCantItemsFromTpcDes('entrega') + this.countCantItemsFromTpcDes('cantidad');
        addServicioDeliveryExpress = _countItemDelivery > 0;
        importeOtros = this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo;
        arrOtros.map(p => {
            const rpt = {};
            // si es servicio delivery y si es clienteDelivery
            if ((p.descripcion.toUpperCase().indexOf('DELIVERY') > -1
                || p.descripcion.toUpperCase().indexOf('ENTREGA') > -1)
                && isClienteDelivery) {
                isAddDelivery = true;
                isTieneDelivery = true;
                // si tiene propio servicio
                p.descripcion = 'Entrega';
                if (this.pwa_delivery_servicio_propio && !isCalcCostoServicioDelivery) { // si tiene servicio propio y no esta habilitado el calculo automatico
                    importeOtros = parseFloat(p.monto);
                }
                else {
                    addServicioDeliveryExpress = true; // agrega delivery
                    isTieneDelivery = false; // para que calculo abajo
                    importeOtros = this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo;
                    // verifica si en elpedido hay delivery
                    const _cantidad = this.countCantItemsFromTpc(p.idtipo_consumo);
                    isClienteDelivery = _cantidad > 0;
                    isAddDelivery = _cantidad > 0;
                    return;
                }
            }
            else {
                // isAddDelivery = false;
                // addServicioDeliveryExpress = false;
                importeOtros = parseFloat(p.monto); // aplica a todo el pedido
            }
            // verifica si este tipo existe en el pedido
            const cantidadTipoConsumo = this.countCantItemsFromTpc(p.idtipo_consumo); // cantidad en todo el pedido
            if (cantidadTipoConsumo === 0) {
                return;
            } // si no encontro items con esos criterios
            if (p.nivel === 0) { // aplica por item
                const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion); // cantidad por seccion
                if (cantidad === 0) {
                    return;
                } // si no encontro items con esos criterios
                const _costoXCantItems = this.calcCostoCantItemsDelivery();
                importeOtros = (cantidad * parseFloat(p.monto)) + _costoXCantItems;
            }
            rpt.id = p.tipo + p.id;
            rpt.descripcion = p.descripcion;
            rpt.esImpuesto = p.es_impuesto;
            rpt.visible = true;
            rpt.quitar = true;
            rpt.tachado = false;
            rpt.visible_cpe = false;
            rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);
            sumaTotal += parseFloat(rpt.importe);
            // juntar si son del mismo tipo ej: taper - llevar, taper - delivery
            const findItem = rptOtros.filter((x) => x.descripcion === rpt.descripcion)[0];
            if (findItem) {
                findItem.importe = parseFloat(findItem.importe) + parseFloat(rpt.importe);
            }
            else {
                rptOtros.push(rpt);
            }
        });
        // si no tiene la opcion delivery y es un clienteDelivery lo agrega // o requiere el servicio de calcular distancia
        // if ( isAddDelivery && !isTieneDelivery && isClienteDelivery && (!this.pwa_delivery_servicio_propio || isCalcCostoServicioDelivery )) {
        if (addServicioDeliveryExpress) {
            // const cantidad = this.countCantItemsFromTpcSeccion(p.idtipo_consumo, p.idseccion);
            // if ( cantidad > 0 ) {
            const _costoXCantItems = this.calcCostoCantItemsDelivery();
            const costoServicio = _costoXCantItems + (this.establecimientoService.get().c_servicio || this.establecimientoService.get().c_minimo);
            const rpt = {};
            // costo del servicio mas comision fija comercio no afiliado
            const _costoServicio = costoServicio + comisionFijaComercioNoAfiliado;
            // si el comercio paga el servicio, guardamos este costo para no mostrarlo al cliente
            this.establecimientoService.setCostoSercioDelivery(_costoServicio);
            // si esta habilitado calcular el servicio de delviry y que el comercio no pague la entrega
            // entonces este item vera si el cliente
            if (!is_comercio_paga_entrega && isCalcCostoServicioDelivery) {
                rpt.id = -2;
                rpt.descripcion = 'Entrega';
                rpt.isDeliveryApp = true;
                rpt.esImpuesto = 0;
                rpt.visible = true;
                rpt.quitar = true;
                rpt.tachado = false;
                rpt.visible_cpe = false;
                rpt.importe = parseFloat(_costoServicio.toString()).toFixed(2);
                // rpt.importe = parseFloat(importeOtros.toString()).toFixed(2);
                sumaTotal += parseFloat(rpt.importe);
                rptOtros.push(rpt);
            }
            // }
        }
        // juntamos
        rptPorcentajes.map(y => arrSubtotales.push(y));
        rptOtros.map(y => arrSubtotales.push(y));
        // IGV filtramos los que no es impuesto IGV | 030220
        const rowSubTotal = arrSubtotales.filter(x => x.descripcion === 'SUB TOTAL')[0];
        const rowImporteIGV = arrSubtotales.filter(x => x.descripcion === 'I.G.V')[0];
        let _importeIGV = rowImporteIGV ? rowImporteIGV.importe : 0;
        let _importeSubTotal = rowSubTotal ? rowSubTotal.importe : 0;
        if (_importeIGV > 0) {
            _importeIGV = parseFloat((_importeSubTotal * _importeIGV).toString()).toFixed(2);
            _importeSubTotal = _importeSubTotal - _importeIGV;
            rowImporteIGV.importe = _importeIGV;
            rowSubTotal.importe = _importeSubTotal.toFixed(2);
        }
        /// IGV --->
        _arrSubtotales = {};
        _arrSubtotales.id = 0;
        _arrSubtotales.esImpuesto = 0;
        _arrSubtotales.descripcion = 'TOTAL';
        _arrSubtotales.visible = true;
        _arrSubtotales.quitar = false;
        _arrSubtotales.tachado = false;
        _arrSubtotales.visible_cpe = true;
        _arrSubtotales.importe = parseFloat(sumaTotal.toString()).toFixed(2);
        arrSubtotales.push(_arrSubtotales);
        // console.log('totales', arrSubtotales);
        return arrSubtotales;
    }
    calcCostoCantItemsDelivery() {
        let rpt = 0;
        const _cantItemScala = parseInt(this.deliveryArrConstantes.cantItemsScala.toString(), 0);
        if (_cantItemScala === 0) {
            return 0;
        }
        if (this.deliveryCanItemsInOrder > _cantItemScala) {
            const _div = this.deliveryCanItemsInOrder / _cantItemScala;
            // _div = Math.floor(_div);
            if (_div > 1) {
                rpt = Math.floor(_div) * this.deliveryArrConstantes.costoScala;
            }
        }
        else {
            rpt = 0;
        }
        return rpt;
    }
    getSubTotalMiPedido() {
        let sumSubTotal = 0;
        let cantItemOrder = 0;
        this.miPedido.tipoconsumo
            .map((tpc) => {
            tpc.secciones.map((z) => {
                sumSubTotal += z.items
                    .map((x) => {
                    cantItemOrder += x.cantidad_seleccionada;
                    return x.precio_print;
                })
                    .reduce((a, b) => a + b, 0);
            });
        });
        // cantidad total de items para calcular costo servicio delivery
        this.deliveryCanItemsInOrder = cantItemOrder;
        return sumSubTotal;
    }
    // devuelve el importe total del item de la lista mi pedido
    getImporteTotalItemFromMiPedido(item) {
        // const _itemFind = this.findOnlyItemMiPedido(item);
        // return _itemFind ? _itemFind.precio_total : 0;
        let sumSubTotal = 0;
        this.miPedido.tipoconsumo
            .map((tpc) => {
            tpc.secciones.map((z) => {
                sumSubTotal += z.items
                    .filter((x) => x.iditem === item.iditem)
                    .map((x) => x.precio_print)
                    .reduce((a, b) => a + b, 0);
            });
        });
        return sumSubTotal;
    }
    // <------ sub totales ---->//
    // <------- timer limit ----> //
    playTimerLimit() {
        this.timerLimitService.playCountTimerLimit();
    }
    stopTimerLimit() {
        this.timerLimitService.resetCountTimerLimit();
    }
    restoreTimerLimit() {
        this.timerLimitService.resetCountTimerLimit();
    }
    // <------- timer limit ----> //
    // <--------- listen change -------> //
    // escuha todos los cambios echos en las cantidades, from carta y listItemPedido ----resumen pedido
    listenChangeCantItem() {
        this.socketService.onItemModificado().subscribe((res) => {
            let _itemInCarta;
            // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)
            if (res.listItemPorcion != null) {
                res.listItemPorcion.map((x) => {
                    _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);
                    const cantidadSet = parseInt(x.cantidad, 0);
                    _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.item.cantidad.toString(), 0);
                    this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);
                });
            }
            else {
                if (!res.item) {
                    return;
                }
                res = res.item;
                // console.log('listenChangeCantItem onItemModificado', res);
                _itemInCarta = this.findItemCarta(res);
                this.setCantidadItemModificadoPwa(res, _itemInCarta);
            }
            // actualiza subitems si son porciones o productos
            // const _itemInList = this.findItemListPedido(res);
            // _itemInCarta.subitems = res.subitems;
            // actualizar cantidades subitems si existe
            // if ( res.subitems ) {
            //   // res.subitems.map((asub: SubItem) => {
            //   //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;
            //   // });
            //   res.subitems.map((subitemOp: SubItemContent) => {
            //     subitemOp.opciones.map((subitem: SubItem) => {
            //       _itemInCarta.subitems.map((s: SubItemContent) => {
            //         const itemFind = s.opciones.filter((_subItem: SubItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];
            //         if ( itemFind ) {
            //           itemFind.cantidad = subitem.cantidad;
            //         }
            //       });
            //     });
            //   });
            //   // _itemInCarta.subitems = res.subitems;
            // }
            // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);
            // this.itemStockChangeSource.next(_itemInCarta);
            // console.log('socket list', this.listItemsPedido);
        });
        this.socketService.onItemResetCant().subscribe((res) => {
            let _itemInCarta;
            // tiene lista de items en porciones compartidaas (Ej 1/8 pollo 1/4 pollo)
            if (res.listItemPorcion != null) {
                res.listItemPorcion.map((x) => {
                    _itemInCarta = this.findItemCartaByIdCartaLista(x.idcarta_lista);
                    _itemInCarta.cantidad = parseInt(x.cantidad, 0);
                    this.setCantidadItemModificadoPwa(res.item, _itemInCarta, parseInt(x.cantidad, 0), true);
                    // _itemInCarta.subitems = res.subitems;
                    this.itemStockChangeSource.next(_itemInCarta);
                });
            }
            else {
                res = res.item;
                // console.log('listenChangeCantItem onItemResetCant', res);
                _itemInCarta = this.findItemCarta(res);
                _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);
                _itemInCarta.subitems = res.subitems;
                this.itemStockChangeSource.next(_itemInCarta);
                // this.setCantidadItemModificadoPwa(res.item, _itemInCarta);
            }
            // const _itemInCarta = this.findItemCarta(res);
            // const _itemInList = this.findItemListPedido(res);
            // _itemInCarta.cantidad = Number.parseFloat(_itemInCarta.cantidad.toString()) +  Number.parseFloat(res.cantidad_reset.toString());
            // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);
            // _itemInCarta.subitems = res.subitems;
            // console.log('cant reset ', _itemInCarta);
            // this.itemStockChangeSource.next(_itemInCarta);
            // _itemInList.cantidad += res.cantidad_reset;
        });
        // from monitoreo stock - add item in carta
        this.socketService.onNuevoItemAddInCarta().subscribe((res) => {
            // console.log('onNuevoItemAddInCarta', res);
            this.addItemInCarta(res);
        });
        // tiempo limite
        this.socketService.onGetDatosSede().subscribe((res) => {
            this.objDatosSede = res[0];
            this.objDatosSede.datossede[0].longitude = parseFloat(this.objDatosSede.datossede[0].longitude);
            this.objDatosSede.datossede[0].latitude = parseFloat(this.objDatosSede.datossede[0].latitude);
            this.listenStatusService.setHayDatosSede(true);
            // nombre sede
            localStorage.setItem('sys::s', this.objDatosSede.datossede[0].nombre + '|' + this.objDatosSede.datossede[0].ciudad);
            // console.log('datos de la sede ps', this.objDatosSede);
            this.establecimientoService.setImpresoras(this.objDatosSede.impresoras);
            this.max_minute_order = res[0].datossede[0].pwa_time_limit;
            // this.pwa_delivery_importe_min = res[0].datossede[0].pwa_delivery_importe_min;
            this.pwa_delivery_servicio_propio = res[0].datossede[0].pwa_delivery_servicio_propio === 0 ? false : true;
            this.timerLimitService.maxTime = this.max_minute_order * 100;
        });
        this.timerLimitService.countdown$.subscribe((countTime) => {
            switch (countTime) {
                case 1:
                    // if ( this._snackBar._openedSnackBarRef ) {return; }
                    // this._snackBar.open(`Recuerde, ${this.max_minute_order} minutos para enviar su pedido.`, '', {
                    //   duration: 3000,
                    // });
                    this.isPreAvisoVisible = false;
                    break;
                case 80:
                    if (!this.isPreAvisoVisible) {
                        this.isPreAvisoVisible = true;
                        this._snackBar.open('Proximo a cumplir el tiempo de envio.', '', {
                            duration: 2000,
                        });
                    }
                    break;
                case 100:
                    this._snackBar.open('Tiempo agotado, debe realizar un nuevo pedido.', '', {
                        duration: 3000,
                    });
                    break;
            }
        });
        this.timerLimitService.isTimeLimitComplet$.subscribe((res) => {
            // tiempo completado // reseteamos
            if (res === true) {
                this.resetAllNewPedido();
                this.navigatorService.setPageActive('carta');
            }
        });
    }
    setCantidadItemModificadoPwa(res, _itemInCarta, cantidadSet = null, isSubItemPorcion = false) {
        // actualizar cantidades subitems si existe
        if (res.subitems && res.idcarta_lista === _itemInCarta.idcarta_lista) {
            // if ( !isReset ) {
            //   _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);
            // }
            // res.subitems.map((asub: SubItem) => {
            //   // _itemInCarta.subitems.filter((bsub: SubItem) => asub.iditem_subitem === bsub.iditem_subitem)[0].cantidad = asub.cantidad;
            // });
            if (!res.subitems) {
                res.subitems = [];
            }
            res.subitems.map((subitemOp) => {
                subitemOp.opciones.map((subitem) => {
                    if (!_itemInCarta.subitems) {
                        return;
                    }
                    _itemInCarta === null || _itemInCarta === void 0 ? void 0 : _itemInCarta.subitems.map((s) => {
                        const itemFind = s.opciones.filter((_subItem) => _subItem.iditem_subitem === parseInt(subitem.iditem_subitem.toString(), 0))[0];
                        if (itemFind) {
                            if (itemFind.cantidad !== 'ND') {
                                itemFind.cantidad = subitem.cantidad;
                                // buscar los demas items que tengan este subitem porcion o producto
                                const idFind = itemFind.idproducto.toString() + itemFind.idporcion.toString();
                                const _otherListSubItem = this.findSubItemCartaById(idFind, res.iditem.toString());
                                _otherListSubItem.map((x) => {
                                    x.cantidad = subitem.cantidad;
                                });
                            }
                        }
                    });
                });
            });
            // _itemInCarta.subitems = res.subitems;
        }
        // _itemInCarta.cantidad = parseInt(res.cantidad.toString(), 0);
        // _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);
        if (!isSubItemPorcion) {
            _itemInCarta.cantidad = cantidadSet ? cantidadSet : parseInt(res.cantidad.toString(), 0);
        }
        this.itemStockChangeSource.next(_itemInCarta);
    }
    // dar formato al pedido
    darFormatoPedido(res) {
        const _miPedidoCuenta = new src_app_modelos_pedido_model__WEBPACK_IMPORTED_MODULE_4__["PedidoModel"]();
        const c_tiposConsumo = [];
        res.data.map((tp) => {
            let hayTpc = c_tiposConsumo.filter(x => x.idtipo_consumo === tp.idtipo_consumo)[0];
            if (!hayTpc) {
                hayTpc = new src_app_modelos_tipoconsumo_model__WEBPACK_IMPORTED_MODULE_7__["TipoConsumoModel"];
                hayTpc.descripcion = tp.des_tp;
                hayTpc.idtipo_consumo = parseInt(tp.idtipo_consumo, 0);
                c_tiposConsumo.push(hayTpc);
            }
        });
        c_tiposConsumo.map((tp) => {
            res.data
                .filter((_tp) => _tp.idtipo_consumo === tp.idtipo_consumo)
                .map((_s, i) => {
                // let haySeccion = !tp.secciones ? null : tp.secciones.filter((s: SeccionModel) => s.idseccion.toString() === _s.idseccion.toString())[0];
                let haySeccion = tp.secciones.filter((s) => s.idseccion.toString() === _s.idseccion.toString())[0];
                if (!haySeccion) {
                    haySeccion = new src_app_modelos_seccion_model__WEBPACK_IMPORTED_MODULE_6__["SeccionModel"];
                    haySeccion.idseccion = _s.idseccion.toString();
                    haySeccion.des = _s.des_seccion;
                    haySeccion.sec_orden = _s.sec_orden;
                    haySeccion.ver_stock_cero = 0;
                    tp.count_items_seccion = i + 1;
                    tp.secciones.push(haySeccion);
                }
            });
        });
        // items
        c_tiposConsumo.map((tp) => {
            tp.secciones.map((s) => {
                res.data
                    .filter((_tp) => _tp.idtipo_consumo.toString() === tp.idtipo_consumo.toString() && _tp.idseccion.toString() === s.idseccion.toString())
                    .map((_i, i) => {
                    const hayItem = new src_app_modelos_item_model__WEBPACK_IMPORTED_MODULE_3__["ItemModel"];
                    hayItem.des = _i.descripcion;
                    hayItem.detalles = '';
                    hayItem.iditem = _i.iditem;
                    hayItem.idcarta_lista = _i.idcarta_lista;
                    hayItem.idseccion = _i.idseccion;
                    hayItem.isalmacen = _i.isalmacen;
                    hayItem.cantidad_seleccionada = parseInt(_i.cantidad, 0);
                    hayItem.precio = _i.punitario;
                    hayItem.precio_print = parseFloat(_i.ptotal);
                    hayItem.precio_total = parseFloat(_i.ptotal);
                    hayItem.procede = _i.procede === '0' ? 1 : 0;
                    hayItem.seccion = _i.des_seccion;
                    hayItem.img = _i.img;
                    hayItem.subitems_view = _i.subitems === 'null' || _i.subitems === '' || !_i.subitems ? [] : JSON.parse(_i.subitems);
                    s.count_items = i + 1;
                    s.items = s.items ? s.items : [];
                    s.items.push(hayItem);
                });
            });
        });
        _miPedidoCuenta.tipoconsumo = c_tiposConsumo;
        return _miPedidoCuenta;
    }
    printerPrecuenta(_data) {
        // console.log('precuenta');
        this.crudService.postFree(_data, 'pedido', 'printer-precuenta', true)
            .subscribe(res => {
            // console.log('send-printer-precuenta',  res.data[0].rpt);
            // enviamos impresion al socket
            const dataPrintSend = {
                detalle_json: JSON.stringify(_data.dataPrint),
                idprint_server_estructura: 1,
                tipo: 'comanda',
                descripcion_doc: 'comanda',
                nom_documento: 'comanda',
                idprint_server_detalle: res.data[0].rpt
            };
            this.socketService.emit('printerOnly', dataPrintSend);
            this.socketService.emit('notificar-impresion-precuenta', null);
        });
    }
    // cerrar session
    cerrarSession() {
        this.socketService.closeConnection();
        this.navigatorService.cerrarSession();
    }
};
MipedidoService.ctorParameters = () => [
    { type: _storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"] },
    { type: _socket_service__WEBPACK_IMPORTED_MODULE_9__["SocketService"] },
    { type: _timer_limit_service__WEBPACK_IMPORTED_MODULE_10__["TimerLimitService"] },
    { type: _navigator_link_service__WEBPACK_IMPORTED_MODULE_11__["NavigatorLinkService"] },
    { type: _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBar"] },
    { type: _utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"] },
    { type: _listen_status_service__WEBPACK_IMPORTED_MODULE_13__["ListenStatusService"] },
    { type: _establecimiento_service__WEBPACK_IMPORTED_MODULE_17__["EstablecimientoService"] },
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_18__["CrudHttpService"] },
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_19__["InfoTockenService"] },
    { type: _promo_cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_20__["CocinarDescuentosPromoService"] }
];
MipedidoService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_storage_service__WEBPACK_IMPORTED_MODULE_8__["StorageService"],
        _socket_service__WEBPACK_IMPORTED_MODULE_9__["SocketService"],
        _timer_limit_service__WEBPACK_IMPORTED_MODULE_10__["TimerLimitService"],
        _navigator_link_service__WEBPACK_IMPORTED_MODULE_11__["NavigatorLinkService"],
        _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_14__["MatSnackBar"],
        _utilitarios_service__WEBPACK_IMPORTED_MODULE_12__["UtilitariosService"],
        _listen_status_service__WEBPACK_IMPORTED_MODULE_13__["ListenStatusService"],
        _establecimiento_service__WEBPACK_IMPORTED_MODULE_17__["EstablecimientoService"],
        _crud_http_service__WEBPACK_IMPORTED_MODULE_18__["CrudHttpService"],
        _info_token_service__WEBPACK_IMPORTED_MODULE_19__["InfoTockenService"],
        _promo_cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_20__["CocinarDescuentosPromoService"]])
], MipedidoService);



/***/ }),

/***/ "./src/app/shared/services/navigator-link.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/shared/services/navigator-link.service.ts ***!
  \***********************************************************/
/*! exports provided: NavigatorLinkService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigatorLinkService", function() { return NavigatorLinkService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _listen_status_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./listen-status.service */ "./src/app/shared/services/listen-status.service.ts");

// servicio adminsitra el navigator link -- carta y resumen






let NavigatorLinkService = class NavigatorLinkService {
    constructor(router, infoTokenService, listenService) {
        this.router = router;
        this.infoTokenService = infoTokenService;
        this.listenService = listenService;
        this.disabledBack = false;
        this.resNavigatorSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]([]);
        this.resNavigatorSourceObserve$ = this.resNavigatorSource.asObservable();
        this.pageActive = 'carta';
        this.resNavigator = [];
        this.historyNavigator = [];
        this.lastUrlHistory = '';
        this.nowUrl = '';
        this.closeListenNavigator = false;
        this.listenEventNavigator();
    }
    listenEventNavigator() {
        if (this.closeListenNavigator) {
            return;
        }
        this.router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["filter"])(e => e instanceof _angular_router__WEBPACK_IMPORTED_MODULE_2__["NavigationStart"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["bufferCount"])(2, 1)).subscribe((e) => {
            // return false;
            if (this.closeListenNavigator) {
                return;
            }
            if (e !== null && e !== undefined) {
                this.nowUrl = e[0]['url'];
                // if ( this.disabledBack ) {return false; }
                if (e[1].navigationTrigger === 'popstate') {
                    // this.managerGoZonaEstablecimiento(e[0]['url'], e); // a la pagina que va
                    // desahabilitar boton back
                    if (this.disabledBack) {
                        return false;
                    }
                    const elUrl = e[0]['url'];
                    const _url = elUrl.indexOf(';') ? e[0]['url'].substr(1).split(';')[1].split('=')[1] : e[0]['url'];
                    // const _nextUrl = e[1]['url'].substr(1).split(';')[1].split('=')[1];
                    if (_url.length > 0) {
                        this.lastUrlHistory = _url; // last url -- de donde viene
                        this.managerGoBack(_url, '');
                    }
                }
                // console.log(e[0]);
            }
        });
    }
    setPageActive(_pageActive) {
        // return;
        this.pageActive = _pageActive;
        this.lastUrlHistory = _pageActive !== 'carta' ? _pageActive : this.lastUrlHistory;
        const itemHistory = this.findPageActiveInHistory(_pageActive);
        if (itemHistory) { // si existe
            this.addLink(itemHistory.url);
        }
        else {
            // this.saveHistoryPageActive(_pageActive, _pageActive);
            this.addLink(_pageActive);
        }
        this.resNavigator.pageActive = _pageActive;
        this.resNavigator.url = itemHistory ? itemHistory.url : _pageActive;
        this.resNavigatorSource.next(this.resNavigator);
    }
    saveHistoryPageActive(key, url) {
        // return;
        this.historyNavigator[key] = [];
        this.historyNavigator[key].key = key;
        this.historyNavigator[key].url = url;
    }
    findPageActiveInHistory(_key) {
        // return false;
        return Object.values(this.historyNavigator).filter(x => x.key === _key)[0];
    }
    addLink(params) {
        // return;
        this.router.navigate(['.', { state: params }]);
        this.saveHistoryPageActive(this.pageActive, params);
    }
    cerrarSession(reload = false) {
        if (this.infoTokenService.isReserva()) {
            this.router.navigate(['../home']);
            return;
        }
        if (this.infoTokenService.isDelivery()) {
            this.router.navigate(['../zona-delivery']);
            // this.router.navigate(['../home']);
        }
        else {
            this.router.navigate(['../'])
                .then(() => {
                if (reload) {
                    window.location.reload();
                }
            });
        }
    }
    // maneja los back
    // si es [mipedido-confirma] -> ['mipedido']
    // si es [mipedido, estado] -> 'carta' - > historial
    // si es [carta-i-secciones-items] -> [carta-i-secciones]
    // si es [carta-i-secciones] -> [carta-i-]
    // si es [carta-i-] -> 'carta'
    // si es [carta] -> inicio
    managerGoBack(previusUrl, nexturl) {
        // return;
        console.log('previusUrl', previusUrl);
        if (this.closeListenNavigator) {
            return;
        }
        // const _url = this.lastUrlHistory;
        let _pageActive = '';
        console.log('managerGoBack', previusUrl);
        switch (previusUrl) {
            case 'carta-i-secciones-items':
                _pageActive = 'carta';
                this.addLink('carta-i-secciones');
                break;
            case 'carta-i-secciones':
                _pageActive = 'carta';
                this.addLink('carta-i-');
                break;
            case 'carta-i-':
                _pageActive = 'carta-o-';
                this.addLink('carta-o-');
                // console.log('=========================== listo para salir');
                this.listoParaSalir();
                break;
            // case 'carta-o':
            //   _pageActive = 'carta';
            //   this.addLink('carta');
            //   console.log('listo para salir');
            //   break;
            case 'mipedido-confirma':
                _pageActive = 'mipedido';
                this.addLink('mipedido');
                break;
            case 'mipedido':
                _pageActive = 'carta';
                this.addLink('carta');
                this.listoParaSalir();
                // console.log('=========================== listo para salir');
                break;
            case 'estado':
                _pageActive = 'carta';
                // this.findAndApplyHistory(_pageActive);
                break;
            case 'carta':
                // _pageActive = '';
                // this.router.navigate(['../']);
                _pageActive = 'carta';
                break;
            case 'lanzar-encuesta':
                _pageActive = 'lanzar-encuesta';
                break;
        }
        if (_pageActive !== '') {
            this.pageActive = _pageActive;
            this.setPageActive(_pageActive);
        }
    }
    // usar router de servicio
    _router(link) {
        this.router.navigate([link]);
        return false;
    }
    __router(link) {
        this.router.navigate([link]);
        return false;
    }
    disableGoBack() {
        this.disabledBack = true;
        history.pushState(null, null, location.href);
        window.onpopstate = function () {
            history.go(1);
        };
    }
    listoParaSalir() {
        if (this.infoTokenService.isDelivery()) {
            // abrir cerrarr
            // if ( this.estadoPedidoClienteService.estadoPedido.hayPedidoCliente ) {
            this.listenService.setIsOutEstablecimientoDelivery(true);
            // }
        }
    }
    setOffListenNavigator(val) {
        this.closeListenNavigator = val;
    }
};
NavigatorLinkService.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"] },
    { type: _listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"] }
];
NavigatorLinkService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
        _info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"],
        _listen_status_service__WEBPACK_IMPORTED_MODULE_6__["ListenStatusService"]])
], NavigatorLinkService);



/***/ }),

/***/ "./src/app/shared/services/promo/cocinar-descuentos-promo.service.ts":
/*!***************************************************************************!*\
  !*** ./src/app/shared/services/promo/cocinar-descuentos-promo.service.ts ***!
  \***************************************************************************/
/*! exports provided: CocinarDescuentosPromoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CocinarDescuentosPromoService", function() { return CocinarDescuentosPromoService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let CocinarDescuentosPromoService = class CocinarDescuentosPromoService {
    constructor() { }
    aplicarDescuentoItem(i, _dsc) {
        const _pItem = parseFloat(i.precio);
        const precio_ahora = Math.round(_pItem - (_pItem * (_dsc / 100)));
        i.precio_antes = i.precio;
        i.precio = precio_ahora.toString();
        i.precio_default = precio_ahora;
        i.precio_unitario = precio_ahora.toString();
        i.ispromo_aplica = true;
    }
    // cuando es 2x1 3x2 ....
    reviewPromoApplyItem(item, _precioTotal) {
        // console.log('aplica promo', item);
        // this.resetPrecioDefaultItem(item);
        // let _precioTotal = item.precio_total;
        if (!_precioTotal) {
            return null;
        }
        if (item.ispromo) {
            const itemPromo = item.ispromo;
            let subItemPrecioUnitario = 0;
            // si el desct es al sub item
            if (itemPromo.iditem_subitem) {
                const itemSubItemSelected = item.subitems_selected.find(x => x.iditem_subitem === itemPromo.iditem_subitem);
                if (!itemSubItemSelected || !item.subitems_view) {
                    return _precioTotal;
                }
                subItemPrecioUnitario = parseFloat(itemSubItemSelected.precio.toString());
                // _precioTotal += totalSubItems;
            }
            if (itemPromo.is_nxn === 1) {
                const numPor = parseInt(itemPromo.cantidad_x, 0);
                const numCant = parseInt(itemPromo.cantidad, 0);
                const difCant = numCant - numPor;
                const cantSeleccionada = item.cantidad_seleccionada;
                // cantSeleccionada += item.sumar ? 1 : 0;
                if (cantSeleccionada >= numCant) {
                    // const isMultiplo = cantSeleccionada % numCant === 0;
                    // if ( isMultiplo ) {
                    const descPromo = parseFloat(itemPromo.porc_descuento);
                    const cantDescontar = parseInt((cantSeleccionada / numCant).toString(), 0);
                    const importeTotalDescuento = difCant * (cantDescontar * (parseFloat(item.precio_unitario) + subItemPrecioUnitario));
                    let importeDescontar = importeTotalDescuento;
                    importeDescontar = (importeDescontar * (descPromo / 100));
                    importeDescontar = importeDescontar === 0 ? importeTotalDescuento : importeDescontar;
                    _precioTotal = _precioTotal - importeDescontar;
                    // }
                    item.ispromo_aplica = true;
                }
                else {
                    item.ispromo_aplica = false;
                }
            }
            else {
                item.ispromo_aplica = true;
            }
        }
        // item.ispromo_aplica = true;
        return _precioTotal;
    }
    resetPrecioDefaultItem(i) {
        const _pItem = parseFloat(i.precio);
        i.precio_antes = i.precio;
        i.precio = i.precio_antes.toString();
        i.precio_default = i.precio_antes;
        i.precio_unitario = i.precio_antes.toString();
    }
};
CocinarDescuentosPromoService.ctorParameters = () => [];
CocinarDescuentosPromoService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], CocinarDescuentosPromoService);



/***/ }),

/***/ "./src/app/shared/services/promo/cocinar-promo-show.service.ts":
/*!*********************************************************************!*\
  !*** ./src/app/shared/services/promo/cocinar-promo-show.service.ts ***!
  \*********************************************************************/
/*! exports provided: CocinarPromoShowService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CocinarPromoShowService", function() { return CocinarPromoShowService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _mipedido_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var _socket_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../socket.service */ "./src/app/shared/services/socket.service.ts");
/* harmony import */ var _cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cocinar-descuentos-promo.service */ "./src/app/shared/services/promo/cocinar-descuentos-promo.service.ts");





let CocinarPromoShowService = class CocinarPromoShowService {
    constructor(pedidoService, socketService, cocinarDescuentosPromoService) {
        this.pedidoService = pedidoService;
        this.socketService = socketService;
        this.cocinarDescuentosPromoService = cocinarDescuentosPromoService;
    }
    iniReloadOpenPromo(_listPromos) {
        this.listPromos = _listPromos;
        this.socketService.emit('date-now-info', null);
        setInterval(() => {
            this.socketService.emit('date-now-info', null);
        }, 15000);
        this.socketService.onGetInfoDateNow()
            .subscribe((resDateNow) => {
            const dateNow = new Date(resDateNow);
            this.listPromos.map(p => {
                this.consultarPromoAbierto(p, dateNow);
            });
        });
    }
    promoFilterShow(promo, categoria) {
        const _itemsShow = [];
        this.carta = this.pedidoService.getObjCarta();
        // console.log('this.carta', this.carta);
        if (promo.items) {
            promo.lista.map(item => {
                if (!item.iditem) {
                    return;
                }
                const idItem = item.iditem.toString();
                const porc_descuento = parseFloat(item.porc_descuento);
                const _item = categoria.secciones.map(s => s.items.find(i => i.iditem.toString() === idItem)).find(x => x);
                // console.log('item promo', item);
                // const _items = categoria.secciones.find(s => s.idseccion.toString() === idItem);
                if (_item) {
                    const __item = Object.assign({}, _item);
                    __item.ispromo = item;
                    if (!item.cantidad_x) {
                        this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);
                    }
                    _itemsShow.push(__item);
                }
            });
        }
        if (promo.productos) {
            promo.lista.map(item => {
                if (!item.idproducto_stock) {
                    return;
                }
                const idItem = item.idproducto_stock.toString();
                const porc_descuento = parseFloat(item.porc_descuento);
                const _item = this.carta.bodega.map(s => s.items.find(i => i.idcarta_lista.toString() === idItem)).find(x => x);
                // const _items = categoria.secciones.find(s => s.idseccion.toString() === idItem);
                if (_item) {
                    const __item = Object.assign({}, _item);
                    __item.ispromo = item;
                    if (!item.cantidad_x) {
                        this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);
                    }
                    _itemsShow.push(__item);
                }
            });
        }
        if (promo.secciones) {
            promo.lista.map(sec => {
                const idSeccion = sec.idseccion.toString();
                const porc_descuento = parseFloat(sec.porc_descuento);
                const _items = categoria.secciones.find(s => s.idseccion.toString() === idSeccion);
                if (_items) {
                    _items.items.map((i) => {
                        const __item = Object.assign({}, i);
                        __item.ispromo = sec;
                        this.cocinarDescuentosPromoService.aplicarDescuentoItem(__item, porc_descuento);
                        _itemsShow.push(__item);
                    });
                }
            });
        }
        return _itemsShow;
    }
    getImportePedido() {
        return this.pedidoService.getSubTotalMiPedido();
    }
    consultarPromoAbierto(promo, dateNow) {
        // consulto hora y dia, si son correcto, pregunto a la bd
        // d = new Date(resDate);
        // console.log('dateNow.toLocaleTimeString()', dateNow.toLocaleTimeString());
        const day = dateNow.getDay();
        const isDayValid = promo.parametros.body.dias_semana.indexOf(day) > -1;
        // verificar hora
        let isHoursValid = false;
        const dIni = new Date();
        const dFin = new Date();
        const horaIni = promo.parametros.body.h_inicio.split(':');
        const horaFin = promo.parametros.body.h_fin.split(':');
        dIni.setHours(parseFloat(horaIni[0]));
        dIni.setMinutes(parseFloat(horaIni[1]));
        dFin.setHours(parseFloat(horaFin[0]));
        dFin.setMinutes(parseFloat(horaFin[1]));
        // const h = d.getHours();
        // const m = d.getMinutes();
        // // const time = h + ':' + m;
        // isHoursValid = h >= parseFloat(horaIni[0]) && m >= parseFloat(horaIni[1]) ? true : false;
        // isHoursValid = h <= parseFloat(horaFin[0]) && m >= parseFloat(horaFin[1]) ? true : false;
        // isHoursValid = dateNow.getTime() <= dFin.getTime();
        isHoursValid = dateNow.getTime() >= dIni.getTime() && dateNow.getTime() <= dFin.getTime();
        promo.abierto = isDayValid && isHoursValid ? 1 : 0;
        // console.log('promo abierto', promo);
        // return isDayValid && isHoursValid;
    }
    showDiasSemana(numdias) {
        const _listDD = numdias.split(',').filter(x => x !== '');
        if (_listDD.length === 7) {
            return 'Todos los dias';
        }
        let _dias = '';
        _listDD.map(d => {
            _dias += this.getDiasByNum(parseInt(d, 0)) + ', ';
        });
        _dias = _dias.slice(0, -2);
        return _dias;
    }
    getDiasByNum(num) {
        // if ( !num ) {return ''; }
        const _days = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];
        return _days[num];
    }
    // private aplicarDescuentoItem(i: ItemModel, _dsc: number) {
    //   const _pItem = parseFloat(i.precio);
    //   const precio_ahora = Math.round(_pItem - ( _pItem * ( _dsc / 100 )));
    //   i.precio_antes = i.precio;
    //   i.precio = precio_ahora.toString();
    //   i.precio_default = precio_ahora;
    //   i.precio_unitario = precio_ahora.toString();
    // }
    addZero(i) {
        if (i < 10) {
            i = `0${i}`;
        }
        return i;
    }
};
CocinarPromoShowService.ctorParameters = () => [
    { type: _mipedido_service__WEBPACK_IMPORTED_MODULE_2__["MipedidoService"] },
    { type: _socket_service__WEBPACK_IMPORTED_MODULE_3__["SocketService"] },
    { type: _cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_4__["CocinarDescuentosPromoService"] }
];
CocinarPromoShowService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_mipedido_service__WEBPACK_IMPORTED_MODULE_2__["MipedidoService"],
        _socket_service__WEBPACK_IMPORTED_MODULE_3__["SocketService"],
        _cocinar_descuentos_promo_service__WEBPACK_IMPORTED_MODULE_4__["CocinarDescuentosPromoService"]])
], CocinarPromoShowService);



/***/ }),

/***/ "./src/app/shared/services/sede-delivery.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/shared/services/sede-delivery.service.ts ***!
  \**********************************************************/
/*! exports provided: SedeDeliveryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SedeDeliveryService", function() { return SedeDeliveryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__);




let SedeDeliveryService = class SedeDeliveryService {
    constructor(crudService) {
        this.crudService = crudService;
    }
    loadDatosPlazaByCiudad(_ciudad) {
        const _dataSend = {
            ciudad: _ciudad
        };
        // console.log('_dataSend', _dataSend);
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.crudService.postFree(_dataSend, 'delivery', 'get-sede-servicio-express', false)
                .subscribe((res) => {
                // console.log(res);
                observer.next(res.data[0]);
            });
        });
    }
    getComisionAtm(_importe) {
        const _dataSend = {
            importe: _importe
        };
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.crudService.postFree(_dataSend, 'delivery', 'get-comsion-atm', false)
                .subscribe((res) => {
                // console.log(res);
                observer.next(res.data[0]);
            });
        });
    }
};
SedeDeliveryService.ctorParameters = () => [
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"] }
];
SedeDeliveryService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_crud_http_service__WEBPACK_IMPORTED_MODULE_2__["CrudHttpService"]])
], SedeDeliveryService);



/***/ }),

/***/ "./src/app/shared/services/socket.service.ts":
/*!***************************************************!*\
  !*** ./src/app/shared/services/socket.service.ts ***!
  \***************************************************/
/*! exports provided: SocketService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocketService", function() { return SocketService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/Observable */ "./node_modules/rxjs/internal/Observable.js");
/* harmony import */ var rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _config_config_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/config.const */ "./src/app/shared/config/config.const.ts");
/* harmony import */ var src_app_modelos_item_tipoconsumo_model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/modelos/item.tipoconsumo.model */ "./src/app/modelos/item.tipoconsumo.model.ts");
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js");









let SocketService = class SocketService {
    constructor(infoTockenService, router) {
        this.infoTockenService = infoTockenService;
        this.router = router;
        // private item: ItemModel;
        this.urlSocket = _config_config_const__WEBPACK_IMPORTED_MODULE_4__["URL_SERVER_SOCKET"];
        this.isSocketOpen = false;
        this.isSocketOpenReconect = false;
        // listen is socket open
        this.isSocketOpenSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](false);
        this.isSocketOpen$ = this.isSocketOpenSource.asObservable();
        this.msjConexSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"]('Cargando datos ...');
        this.msjConex$ = this.msjConexSource.asObservable();
        this.resTipoConsumo = [];
        this.verificandoConexion = false;
    }
    // _isOutCarta si esta fuera de la carta // si esta en la plataforma de deliverys estableciemientos
    // isCashAtm si esta desde cash atm
    connect(infoUser = null, opFrom = 1, _isOutCarta = false, _isCashAtm = false) {
        if (this.isSocketOpen) {
            this.infoTockenService.setSocketId(this.socket.id);
            return;
        } // para cuando se desconecta y conecta desde el celular
        // produccion
        // this.socket = io('/', {
        //   secure: true,
        //   rejectUnauthorized: false,
        //   forceNew: false
        // });
        const infToken = this.infoTockenService.infoUsToken || infoUser;
        const dataSocket = {
            idorg: infToken.idorg || 0,
            idsede: infToken.idsede || 0,
            idusuario: infToken.idusuario,
            idcliente: infToken.idcliente,
            iscliente: infToken.isCliente || false,
            isOutCarta: _isOutCarta,
            isCashAtm: _isCashAtm,
            isFromApp: opFrom,
            firts_socketid: infToken.socketId
        };
        // console.log('dataSocket', dataSocket);
        // desarrollo
        this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_2__(this.urlSocket, {
            secure: true,
            rejectUnauthorized: false,
            // forceNew: true,
            query: dataSocket
            // forceNew: true
        });
        this.listenStatusSocket(); // escucha los estado del socket
        // this.socket.on('finishLoadDataInitial', () => {
        //   // setTimeout(() => {
        //     // this.isSocketOpen = true;
        //     // this.isSocketOpenSource.next(true);
        //     this.statusConexSocket(true, '');
        //     this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta
        //   // }, 1000);
        //   console.log('conected socket finishLoadDataInitial');
        // });
        // // this.socket.on('connect', (res: any) => {
        // //   this.statusConexSocket(true, 'socket event connect');
        // // });
        // this.socket.on('connect_failed', (res: any) => {
        //   console.log('itento fallido de conexion', res);
        //   this.statusConexSocket(false, 'connect_failed');
        // });
        // this.socket.on('connect_error', (res: any) => {
        //   console.log('error de conexion', res);
        //   this.statusConexSocket(false, 'connect_error');
        // });
        // this.socket.on('disconnect', (res: any) => {
        //   console.log('disconnect');
        //   this.statusConexSocket(false, 'disconnect');
        // });
        // this.onListenSocketDisconnet();
    }
    getIdSocket() {
        return this.socket.id;
    }
    onGetCarta() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('getLaCarta', (res) => {
                observer.next(res);
            });
        });
    }
    onGetDataSedeDescuentos() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('getDataSedeDescuentos', (res) => {
                observer.next(res);
            });
        });
    }
    onGetTipoConsumo() {
        // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('getTipoConsumo', (res) => {
                // this.resTipoConsumo = res;
                observer.next(res);
            });
        });
    }
    // onGetTipoConsumo() {
    //   return this.listen('getTipoConsumo');
    // }
    // verificar para eliminar
    getDataTipoConsumo() {
        const resTPC = [];
        this.resTipoConsumo.map((t) => {
            const _objTpcAdd = new src_app_modelos_item_tipoconsumo_model__WEBPACK_IMPORTED_MODULE_5__["ItemTipoConsumoModel"]();
            _objTpcAdd.descripcion = t.descripcion;
            _objTpcAdd.idtipo_consumo = t.idtipo_consumo;
            _objTpcAdd.titulo = t.titulo;
            resTPC.push(_objTpcAdd);
        });
        return resTPC;
    }
    onItemModificado() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('itemModificado-pwa', (res) => {
                observer.next(res);
            });
        });
    }
    // onItemModificado() {
    //   return this.listen('observer');
    // }
    onNuevoItemAddInCarta() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('nuevoItemAddInCarta', (res) => {
                observer.next(res);
            });
        });
    }
    // onNuevoItemAddInCarta() {
    //   return this.listen('nuevoItemAddInCarta');
    // }
    // cuando se recupera el stock de pedido que caduco el tiempo
    onItemResetCant() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('itemResetCant-pwa', (res) => {
                observer.next(res);
            });
        });
    }
    // onItemResetCant() {
    //   return this.listen('itemResetCant');
    // }
    // load reglas de la carta y subtotales
    onReglasCarta() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('getReglasCarta', (res) => {
                observer.next(res);
            });
        });
    }
    // onReglasCarta() {
    //   return this.listen('getReglasCarta');
    // }
    // datos de la sede, impresoras
    // load reglas de la carta y subtotales
    onGetDatosSede() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('getDataSede', (res) => {
                observer.next(res);
            });
        });
    }
    // respuesta de hacer un nuevo pedido
    onGetNuevoPedido() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('nuevoPedido', (res) => {
                observer.next(res);
            });
        });
    }
    // cuando el cliente paga el pedido
    onPedidoPagado() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('pedido-pagado-cliente', (res) => {
                observer.next(res);
            });
        });
    }
    onDeliveryPedidoChangeStatus() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('repartidor-notifica-estado-pedido', (estado) => {
                observer.next(estado);
            });
        });
    }
    onDeliveryUbicacionRepartidor() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('repartidor-notifica-ubicacion', (coordenadas) => {
                observer.next(coordenadas);
            });
        });
    }
    onComercioOpenChangeFromMonitor() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('set-comercio-open-change-from-monitor', (comercioId) => {
                observer.next(comercioId);
            });
        });
    }
    // repuesta del mensaje de verificacion
    onMsjVerificacionResponse() {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('mensaje-verificacion-telefono-rpt', (data) => {
                observer.next(data);
            });
        });
    }
    // fecha ahora
    onGetInfoDateNow() {
        // if ( this.isSocketOpen ) { return new Observable(observer => {observer.next(null); }); }
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on('date-now-info', (res) => {
                // this.resTipoConsumo = res;
                observer.next(res);
            });
        });
    }
    // onDeliveryGetLastIdPedido() {
    //   return new Observable(observer => {
    //     this.socket.on('get-lastid-pedido', (res: any) => {
    //       observer.next(res);
    //     });
    //   });
    // }
    // zona delivery establecimiento
    // onGetDatosSede() {
    //   return this.listen('getDataSede');
    // }
    // onListenSocketDisconnet() {
    //   return new Observable(observer => {
    //     this.socket.on('disconnect', (res: any) => {
    //       this.isSocketOpen = false;
    //       this.isSocketOpenSource.next(false);
    //     });
    //   });
    // }
    emit(evento, data) {
        // verificar estado del socket
        this.socket.emit(evento, data);
    }
    emitRes(evento, data) {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.emit(evento, data, (res) => {
                // console.log('respuesta socket', res);
                observer.next(res);
            });
        });
    }
    listen(evento) {
        return new rxjs_internal_Observable__WEBPACK_IMPORTED_MODULE_3__["Observable"](observer => {
            this.socket.on(evento, (res) => {
                observer.next(res);
            });
        });
    }
    closeConnection() {
        try {
            this.socket.disconnect();
        }
        catch (error) { }
        // this.isSocketOpen = false;
        // this.isSocketOpenSource.next(false);
        this.statusConexSocket(false, 'disconnect');
    }
    listenStatusSocket() {
        this.socket.on('finishLoadDataInitial', () => {
            this.statusConexSocket(true, '');
            this.isSocketOpenReconect = true; // evita que cargen nuevamente las configuraciones basicas, solo carga carta
            // console.log('conected socket finishLoadDataInitial');
        });
        // estados del navigator
        window.addEventListener('focus', (event) => {
            this.verifyConexionSocket();
        });
        window.addEventListener('online', () => {
            this.showStatusConexNavigator(true, 'navigator_online');
        });
        window.addEventListener('offline', () => {
            console.log('out focus');
            this.showStatusConexNavigator(false, 'navigator_offline');
        });
        window.addEventListener('blur', () => {
            console.log('out focus');
            // this.showStatusConexNavigator(false, 'navigator_offline');
        });
        // estado del socket
        this.socket.on('connect', () => {
            // console.log('socket connect');
            this.infoTockenService.setSocketId(this.socket.id);
            this.statusConexSocket(true, 'connect');
            // verifica el tiempo de session
            if (!this.infoTockenService.verificarContunuarSession()) {
                this.closeConnection();
                this.cerrarSessionBeforeTimeSession();
                return;
            }
        });
        this.socket.on('connect_failed', (res) => {
            // console.log('itento fallido de conexion', res);
            this.statusConexSocket(false, 'connect_failed');
        });
        this.socket.on('connect_error', (res) => {
            // console.log('error de conexion', res);
            this.statusConexSocket(false, 'connect_error');
        });
        this.socket.on('disconnect', (res) => {
            // console.log('disconnect');
            this.statusConexSocket(false, 'disconnect');
        });
        // escucha la verificacion de conexion
        this.socket.on('verificar-conexion', (res) => {
            // verifica el tiempo de session
            if (!this.infoTockenService.verificarContunuarSession()) {
                this.closeConnection();
                this.cerrarSessionBeforeTimeSession();
                return;
            }
            if (res === true) {
                console.log('VERIFY CONECTION => OK');
                this.verificandoConexion = false;
                return;
            }
            // no hay conexion -- en pruebas ver comportamiento
            // console.log('VERIFY CONECTION => FALSE');
            this.closeConnection();
            this.statusConexSocket(false, 'disconnect');
            this.cerrarSessionBeforeTimeSession();
            this.connect();
            this.verificandoConexion = false;
        });
    }
    statusConexSocket(isConncet, evento) {
        this.isSocketOpen = isConncet;
        this.isSocketOpenSource.next(isConncet);
        let msj = 'Conectando datos ...';
        switch (evento) {
            case 'conected': // conectando
                msj = 'Conectando datos ...';
                break;
            case 'connect_failed': // conectando
                msj = 'Conectando datos ..';
                this.verificandoConexion = false;
                break;
            case 'connect_error': // conectando
                msj = 'Conectando datos .';
                this.verificandoConexion = false;
                break;
            case 'disconnect': // conectando
                msj = 'Restableciendo conexion ...';
                this.verificandoConexion = false;
                break;
            case 'navigator_offline': // conectando
                msj = 'Conexion cerrada -b ...';
                this.verificandoConexion = false;
                break;
            case 'navigator_online': // conectando
                msj = 'Conectando datos -b ...';
                break;
        }
        this.msjConexSource.next(msj);
    }
    showStatusConexNavigator(online, evento) {
        this.statusConexSocket(online, evento);
        // this.isSocketOpen = online;
        // this.isSocketOpenSource.next(online);
        if (online) {
            console.log('navegador conectado');
        }
        else {
            console.log('!!! navegador desconectado !!');
            this.verificandoConexion = false;
        }
    }
    // verifica el estado del socket, si esta cerrado intenta abrirlo
    verifyConexionSocket() {
        // console.log('verificando...');
        if (this.verificandoConexion) {
            return;
        }
        this.verificandoConexion = true;
        this.emit('verificar-conexion', this.socket.id);
    }
    // cierra session despues de que se comprueba que el tiempo de incio se de session supero lo establecido
    cerrarSessionBeforeTimeSession(reload = false) {
        this.router.navigate(['../']);
    }
};
SocketService.ctorParameters = () => [
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_6__["InfoTockenService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"] }
];
SocketService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_info_token_service__WEBPACK_IMPORTED_MODULE_6__["InfoTockenService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"]])
], SocketService);



/***/ }),

/***/ "./src/app/shared/services/speech/comand-analizer.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/shared/services/speech/comand-analizer.service.ts ***!
  \*******************************************************************/
/*! exports provided: ComandAnalizerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComandAnalizerService", function() { return ComandAnalizerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/__ivy_ngcc__/fesm2015/dialog.js");
/* harmony import */ var src_app_componentes_mozo_virtual_mozo_dialog_mozo_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component */ "./src/app/componentes/mozo-virtual/mozo-dialog/mozo-dialog.component.ts");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _spech_totext_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./spech-totext.service */ "./src/app/shared/services/speech/spech-totext.service.ts");
/* harmony import */ var _spech_tts_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./spech-tts.service */ "./src/app/shared/services/speech/spech-tts.service.ts");
/* harmony import */ var _speech_data_provider_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./speech-data-provider.service */ "./src/app/shared/services/speech/speech-data-provider.service.ts");










let ComandAnalizerService = class ComandAnalizerService {
    constructor(crudService, speechTTService, spechTotextService, speechDataProviderService, infoTokenService, dialog, utilitariosService
    // private spechProviderConnectService: SpechProviderConnectService,
    ) {
        // this.getComands();
        this.crudService = crudService;
        this.speechTTService = speechTTService;
        this.spechTotextService = spechTotextService;
        this.speechDataProviderService = speechDataProviderService;
        this.infoTokenService = infoTokenService;
        this.dialog = dialog;
        this.utilitariosService = utilitariosService;
        this.isMicrophoneOn = false;
        this.lastCommnad = null;
        this.lastTextoRecibido = '';
        this.lastComandOk = '';
        this.isProcessTalking = false;
        this.isTalking = false;
        this.isActive = false;
        this.keySotrageCommand = 'sys::cmdv';
        // ecucha voz to text
        this.spechTotextService.speechTexResponse$.subscribe((data) => {
            if (!data) {
                return;
            }
            // if (data[0].isFinal) {
            // console.log('response', data[0].alternatives[0].transcript);
            const _transcript = data[0].alternatives[0].transcript;
            if (this.lastComandOk !== '') {
                const _compareSimlary = this.utilitariosService.compareSimilaryText(this.lastComandOk, _transcript);
                if (_compareSimlary >= 0.79) {
                    return;
                }
            }
            // console.log('data[0].alternatives[0].transcript', _transcript);
            this.cocinarComand(_transcript);
            // }
        });
        this.speechTTService.isTalking$.subscribe((isTalkin) => {
            this.isTalking = isTalkin;
            if (this.isMicrophoneOn) {
                if (isTalkin) {
                    this.spechTotextService.stopRecording();
                }
                else {
                    this.spechTotextService.startRecording();
                }
            }
        });
        this.speechDataProviderService.isPedidoEnviado$
            .subscribe((res) => {
            if (res) {
                if (!this.isMicrophoneOn) {
                    return;
                }
                this.isTalking = false;
                this.spechTotextService.stopRecording();
            }
        });
    }
    getIsActive() {
        return this.isActive;
    }
    setIsActive(val) {
        this.isActive = val;
    }
    getComands() {
        if (!this.dataListComand) {
            this.crudService.getAll('speech', 'comandos', false, false, false)
                .subscribe((res) => {
                // console.log('comandos', res);
                this.dataListComand = res.data;
            });
        }
        else {
            // console.log('comandos dataListComand', this.dataListComand);
        }
    }
    // ============= VOZ TO TEXT ======= //
    startRecording() {
        this.isMicrophoneOn = true;
        this.spechTotextService.startRecording();
    }
    stopRecording() {
        if (!this.isMicrophoneOn) {
            return;
        }
        this.isMicrophoneOn = false;
        this.spechTotextService.stopRecording();
    }
    // ============= TTS ======= //
    cocinarComand(comand) {
        const _command = this.searchComandList(comand);
        if (_command) {
            this.lastCommnad = _command.seccion !== 'inicio' && _command.seccion !== 'finalizar_pedido' && _command.seccion !== 'carta_recomendacion' ? _command : null;
            _command.texto_recibido = comand.replace(this.lastTextoRecibido, '');
            this.analizeCommand(_command);
        }
    }
    // seccion
    searchComandList(comand) {
        let rpt = null;
        comand = comand.toLowerCase();
        if (!this.dataListComand) {
            return;
        }
        this.dataListComand.map((c) => {
            const list = c.comando.split(',');
            const res = list.find(x => {
                const patt = new RegExp(x);
                return patt.test(comand);
            });
            if (res) {
                rpt = c;
                rpt.texto_recibido = comand;
                rpt.comando_recibido = res;
            }
        });
        if (!rpt) {
            if (this.lastCommnad) {
                this.lastCommnad.texto_recibido = comand;
                rpt = this.lastCommnad;
            }
        }
        return rpt;
    }
    // buscar en text comando, despues de palabra clave o comando principal
    // searchIn array de strig separado por comas
    searchCommandStr(text_command, searchIn) {
        let commandSelected = '';
        // descomponer para hacer singular // quitamos las 's'
        // const strSingular = text_command.split(' ').map(x => x.replace(/s$/, '')).join(' ');
        searchIn.map((s) => {
            const _similitudCompare = this.utilitariosService.compareSimilaryText(text_command.trim(), s.trim());
            if (_similitudCompare > 0.78) {
                commandSelected = s;
            }
            // console.log('_similitudCompare', _similitudCompare);
            // const regexp = s + '?';
            // let arrayChar = [...text_command.matchAll(regexp) || []];
            // // console.log(regexp, array);
            // if ( arrayChar.length > 0 ) {
            //   commandSelected = s.length > commandSelected.length ? s : commandSelected;
            // } else {
            //   // busca en singular
            //   arrayChar = [...strSingular.matchAll(regexp) || []];
            //   if ( arrayChar.length > 0 ) {
            //     commandSelected = s.length > commandSelected.length ? s : commandSelected;
            //   }
            // }
        });
        return commandSelected;
    }
    analizeCommand(comand) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // let _strComandEqual = this.lastComandOk.toLowerCase().trim();
            // _strComandEqual = _strComandEqual.replace(comand.texto_recibido.toLowerCase().trim(), '');
            // if ( _strComandEqual.trim() === '' ) {return; }
            if (this.lastComandOk.toLowerCase().trim() === comand.texto_recibido.toLowerCase().trim()) {
                return;
            }
            // this.isProcessTalking = true;
            // await this.utilitariosService.delay(1000);
            // console.log('comand recibido', comand);
            // console.log('this.lastComandOk', this.lastComandOk);
            // si se esta ejecuntando un comando return;
            if (this.isTalking) {
                return;
            }
            switch (comand.seccion) {
                case 'inicio':
                    this.commandIncio(comand);
                    break;
                case 'carta':
                    this.commandCarta(comand);
                    break;
                case 'carta_recomendacion':
                    this.commandCartaRecomendacion(comand);
                    break;
                case 'navegacion':
                    this.commandNavegacion(comand);
                    break;
                case 'carta_contenido':
                    this.commandCartaContenido(comand);
                    break;
                case 'carta_item_suma':
                    this.commandCartaItemSuma(comand);
                    break;
                case 'carta_item_resta':
                    this.commandCartaItemResta(comand);
                    break;
                case 'carta_item_resetea':
                    this.commandCartaItemResetea(comand);
                    break;
                case 'finalizar_pedido':
                    this.commandFinalizarPedido(comand);
                    break;
                // case 'carta_item_indicaciones':
                //   this.commandCartaItemIndicaciones(comand);
                //   break;
            }
        });
    }
    //// INCIO
    commandIncio(command) {
        switch (command.comando) {
            case 'bienvenido':
                const nomSede = this.speechDataProviderService.getNameSede();
                // console.log('nomSede', nomSede);
                const _isCommandStorage = this.getCommandStorage(command);
                if (_isCommandStorage) {
                    if (_isCommandStorage.isTimePlay) {
                        command.text = command.texto_default.text2;
                        command.text = command.text.replace('?nomcliente', '');
                        // mostrar dialog info
                        // this.dialog.open(MozoDialogComponent);
                    }
                    else {
                        return;
                    }
                }
                else {
                    command.text = command.texto_default.text1;
                    command.text = command.text.replace('?nomsede', nomSede);
                }
                command.idsede = this.speechDataProviderService.getIdSede();
                // console.log('mensaje de bienvenido', command);
                this.speechVoice(command);
                // mostrar dialog info
                this.dialog.open(src_app_componentes_mozo_virtual_mozo_dialog_mozo_dialog_component__WEBPACK_IMPORTED_MODULE_3__["MozoDialogComponent"]);
                break;
        }
    }
    /// CARTA LEER
    commandCarta(command) {
        // leeme, dime, lee, que hay de ...(buscamos en las secciones de la carta)
        const _seccionSeleted = this.getSeccionCarta(command);
        if (_seccionSeleted.seccion) {
            const _itemsStr = this.speechDataProviderService.getItemsSeccionSelectedStr(_seccionSeleted.seccion);
            // console.log('itemSeccion', _itemsStr);
            // this.speechDataProviderService.setIsCommandAceptado(1);
            this.isCommandOk(command.texto_recibido, 1);
            const textSend = `De ${_seccionSeleted.nomSeccion}, tenemos: ${_itemsStr}`;
            this.sendTxtToVoice(command, textSend);
            this.speechDataProviderService.goNavegacionSeccionCarta(_seccionSeleted.seccion);
        }
        this.speechDataProviderService.getCarta();
    }
    commandCartaRecomendacion(command) {
        const _itemsStr = this.speechDataProviderService.getItemsRecomendadosStr();
        if (!_itemsStr) { // si no existe recomendados
            this.isCommandOk(command.texto_recibido, 1);
            this.sendTxtToVoice(command, command.texto_default.text1);
            return;
        }
        this.isCommandOk(command.texto_recibido, 1);
        const textSend = `Le recomendamos: ${_itemsStr}`;
        this.sendTxtToVoice(command, textSend);
        this.speechDataProviderService.goNavegacionItemRecomendados();
    }
    // CARTA CONTENIDO // lee contenido o detalle de los platos
    commandCartaContenido(command) {
        // console.log('comando carta contenido');
        const _itemSeleted = this.getItemCarta(command);
        if (_itemSeleted.item) {
            // console.log('_itemSeleted', _itemSeleted);
            // this.speechDataProviderService.setIsCommandAceptado(1);
            this.isCommandOk(command.texto_recibido, 1);
            const textSend = `${_itemSeleted.nomItem}:. ${_itemSeleted.item.detalles}`;
            this.sendTxtToVoice(command, textSend);
        }
    }
    // CARTA SUMA SUMA
    commandCartaItemSuma(command) {
        // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');
        // const sa1 = command.texto_recibido.toLowerCase();
        // const sa2 = command.comando_recibido.toLowerCase();
        let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);
        const rptCant = this.convertTxtToNum(_command);
        // const numCantidad = rptCant?.num || null;
        // _command = _command.replace(rptCant.numStr || '', '').trim();
        // console.log('numCantidad', numCantidad);
        // identifica numero
        if (rptCant) {
            const numCantidad = (rptCant === null || rptCant === void 0 ? void 0 : rptCant.num) || null;
            _command = _command.replace(rptCant.numStr || '', '').trim();
            const _itemSeleted = this.getItemCarta(command, _command);
            this.sendItemToPedido(_itemSeleted, numCantidad, true, command);
            // console.log('commandCartaItemSuma', _itemSeleted);
            // this.speechDataProviderService.setIsCommandAceptado(2);
            // for (let index = 0; index < numCantidad; index++) {
            //   // agrega
            //   this.sendItemToPedido(_itemSeleted, true);
            //   // this.speechDataProviderService.addItemPedido(_itemSeleted.item);
            // }
        }
    }
    // CARTA RESTA
    commandCartaItemResta(command) {
        // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');
        // const sa1 = command.texto_recibido.toLowerCase();
        // const sa2 = command.comando_recibido.toLowerCase();
        let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);
        const rptCant = this.convertTxtToNum(_command);
        if (!rptCant) {
            return;
        }
        let numCantidad = (rptCant === null || rptCant === void 0 ? void 0 : rptCant.num) || null;
        _command = _command.replace(rptCant.numStr || '', '');
        // let numCantidad = this.convertTxtToNum(_command);
        // console.log('numCantidad', numCantidad);
        // identifica numero
        const _itemSeleted = this.getItemCarta(command, _command);
        if (!_itemSeleted.item) {
            return;
        }
        // si no hay cantidad quita todo
        numCantidad = numCantidad ? numCantidad : _itemSeleted.item.cantidad_seleccionada;
        this.sendItemToPedido(_itemSeleted, numCantidad, false, command);
        // console.log('commandCartaItemResta', _itemSeleted);
        // this.speechDataProviderService.setIsCommandAceptado(1);
    }
    // CARTA RESETEA
    commandCartaItemResetea(command) {
        // let _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');
        // const sa1 = command.texto_recibido.toLowerCase();
        // const sa2 = command.comando_recibido.toLowerCase();
        let _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);
        const rptCant = this.convertTxtToNum(_command);
        if (!rptCant) {
            return;
        }
        const numCantidad = (rptCant === null || rptCant === void 0 ? void 0 : rptCant.num) || null;
        _command = _command.replace(rptCant.numStr || '', '');
        // const numCantidad = this.convertTxtToNum(_command);
        // console.log('numCantidad', numCantidad);
        // identifica numero
        const _itemSeleted = this.getItemCarta(command, _command);
        if (!_itemSeleted.item || !numCantidad) {
            return;
        }
        // quita todo
        const _numCantidadItemActual = _itemSeleted.item.cantidad_seleccionada;
        this.sendItemToPedido(_itemSeleted, _numCantidadItemActual, false, command);
        // agrega la nueva cantidad
        this.sendItemToPedido(_itemSeleted, numCantidad, true, command);
        // console.log('commandCartaItemResetea', _itemSeleted);
        // this.speechDataProviderService.setIsCommandAceptado(1);
        this.isCommandOk(command.texto_recibido, 1);
    }
    // CARTA INDICACIONES
    // commandCartaItemIndicaciones(command: SendDataTTS) {
    //   let _command = command.texto_recibido.replace(command.comando_recibido, '');
    //   const _itemSeleted = <any>this.getItemCarta(command);
    //   if (!_itemSeleted.item) {return; }
    //   _command = _command.replace(_itemSeleted.item.des, '');
    //   console.log('_command', _command);
    //   this.speechDataProviderService.setIndicaciones(_itemSeleted.item, _command);
    //   this.isCommandOk(command.texto_recibido, 1);
    // }
    // envia el item al pedido (suma o resta)
    sendItemToPedido(_itemSeleted, numCantidad, isSuma, command) {
        if (!_itemSeleted.item) {
            return;
        }
        // this.speechDataProviderService.setIsCommandAceptado(2);
        this.isCommandOk(command.texto_recibido, 2);
        _itemSeleted.isSuma = isSuma;
        for (let index = 0; index < numCantidad; index++) {
            this.speechDataProviderService.addItemPedido(_itemSeleted);
        }
    }
    // NAVEGACION
    commandNavegacion(command) {
        const _seccionSeleted = this.getSeccionCarta(command);
        if (_seccionSeleted.seccion) {
            this.speechDataProviderService.goNavegacionSeccionCarta(_seccionSeleted.seccion);
            // this.speechDataProviderService.setIsCommandAceptado(1);
            this.isCommandOk(command.texto_recibido, 1);
        }
        else {
            // puede ser ver el pedido, reresar
            // mostrar pedido, mi pedido,
            const isShowPedido = command.texto_recibido.indexOf('pedido') > -1;
            if (isShowPedido) {
                this.speechDataProviderService.goNavigacionShowMiPedido();
                this.isCommandOk(command.texto_recibido, 1);
            }
            // this.speechDataProviderService.setIsCommandAceptado(1);
            // console.log('navegacion', command);
        }
    }
    // FINALIZAR PEDIDO
    commandFinalizarPedido(command) {
        // console.log('command', command);
        if (this.speechDataProviderService.getIsPedidoValido()) {
            this.isCommandOk(command.texto_recibido, 1);
            this.speechDataProviderService.goNavigacionShowMiPedido();
            this.speechDataProviderService.setFinalizarPedido(true);
            // chequea que el cliente tenga nombres
            if (this.infoTokenService.getInfoUs().nombres === '') {
                command.text = command.texto_default.text1;
                this.speechVoice(command);
            }
            else {
                command.text = command.texto_default.text2;
                this.speechVoice(command);
            }
        }
    }
    getSeccionCarta(command) {
        // const _command = command.texto_recibido.toLowerCase().replace(command.comando_recibido.toLowerCase(), '');
        // const sa1 = command.texto_recibido.toLowerCase();
        // const sa2 = command.comando_recibido.toLowerCase();
        const _command = this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);
        // buscamos seccion en carta
        const arrSecciones = this.speechDataProviderService.getSeccionesCarta().toLowerCase().split(',');
        const _seccionCarta = this.searchCommandStr(_command, arrSecciones);
        const seccion = _seccionCarta !== '' ? this.speechDataProviderService.getISeccionSelected(_seccionCarta) : null;
        return {
            nomSeccion: _seccionCarta,
            seccion: seccion
        };
    }
    getItemCarta(command, _itemDes = null) {
        // const _command = command.texto_recibido.replace(command.comando_recibido, '');
        const _command = _itemDes ? _itemDes : this.replaceTextRecibidoComand(command.texto_recibido, command.comando_recibido);
        const arrItems = this.speechDataProviderService.getItemsCarta().toLowerCase().split(',');
        const _ItemCarta = this.searchCommandStr(_command, arrItems);
        const item = _ItemCarta !== '' ? this.speechDataProviderService.getIItemsSelected(_ItemCarta) : null;
        return {
            nomItem: _ItemCarta,
            item: item
        };
    }
    convertTxtToNum(command) {
        let num = null;
        const _strNum = 'uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez,once,doce,trece,catorce,quince,dieciseis,diecisiete,diecisiete,dieciocho,diecinueve,veinte,veintiuno,veintidos,veintitres,veinticuatro,veinticinco';
        const _strOtherOne = 'otro,un,una';
        const _intNum = '1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30';
        let numStr = '';
        command = ' ' + command;
        // 1) econtar entero en cadena
        const numRpt = command.match(/\d+/);
        num = numRpt ? numRpt[0] : null;
        if (!num) {
            // 2) busca descripcion del numero en cadena
            num = _strNum.split(',').findIndex(c => command.match(' ' + c + ' ')) + 1;
            numStr = _strNum.split(',')[num - 1];
            if (num === 0) { // no encontro
                // 3) buscamos en _strOtherOne
                num = _strOtherOne.split(',').findIndex(c => command.match(' ' + c + ' '));
                numStr = _strOtherOne.split(',')[num];
                num = num ? 1 : null;
            }
            // console.log('num1', num);
        }
        return num ? { num: num, numStr: numStr } : null;
        // return num ? num : null;
        // const patt = new RegExp(_strNum);
        // numRpt = patt.test(command);
    }
    replaceTextRecibidoComand(texto_recibido, comando_recibido) {
        const sa1 = texto_recibido.toLowerCase();
        const sa2 = comando_recibido.toLowerCase();
        return sa1.replace(sa2, '').trim();
    }
    sendTxtToVoice(commandSend, text) {
        if (this.isProcessTalking) {
            return;
        }
        this.isProcessTalking = true;
        commandSend.idsede = 1;
        commandSend.text = text;
        // console.log('commandSend', commandSend);
        this.speechTTService.convertTxtToVoice(commandSend);
        setTimeout(() => { this.isProcessTalking = false; }, 1000);
    }
    isCommandOk(command, numberBeep) {
        this.lastComandOk = command;
        this.speechDataProviderService.setIsCommandAceptado(numberBeep);
        setTimeout(() => { this.lastComandOk = ''; }, 1000);
    }
    speechVoice(command) {
        this.speechTTService.convertTxtToVoice(command);
    }
    getCommandStorage(command) {
        let commandResponse = null;
        const cmdStorage = localStorage.getItem(this.keySotrageCommand);
        const cmdStorageList = cmdStorage ? JSON.parse(cmdStorage) : null;
        if (cmdStorageList) {
            commandResponse = cmdStorageList.filter(x => x.idcomando_voz === command.idcomando_voz)[0] || null;
            if (!commandResponse) {
                this.saveCommandStorage(command);
            }
            else {
                // si existe en storage verifica el tiempparse
                const minDiffCommand = this.diffMinTimeComandStorage(commandResponse);
                commandResponse.isTimePlay = minDiffCommand > 15;
                if (commandResponse.isTimePlay) {
                    commandResponse.time = new Date().toISOString();
                    localStorage.setItem(this.keySotrageCommand, JSON.stringify(cmdStorageList));
                }
            }
        }
        else {
            this.saveCommandStorage(command);
        }
        return commandResponse;
    }
    saveCommandStorage(command) {
        const cmdStorage = localStorage.getItem(this.keySotrageCommand);
        const cmdStorageList = cmdStorage ? JSON.parse(cmdStorage) : [];
        const _newRowStorage = { idcomando_voz: command.idcomando_voz, time: new Date().toISOString() };
        cmdStorageList.push(_newRowStorage);
        localStorage.setItem(this.keySotrageCommand, JSON.stringify(cmdStorageList));
    }
    diffMinTimeComandStorage(commandStorage) {
        const _dateCommand = new Date(commandStorage.time);
        const _dateNow = new Date();
        const diff = Math.abs(_dateCommand - _dateNow);
        // const minutes = Math.floor((diff / 1000) / 60);
        return Math.floor((diff / 1000) / 60);
    }
};
ComandAnalizerService.ctorParameters = () => [
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"] },
    { type: _spech_tts_service__WEBPACK_IMPORTED_MODULE_8__["SpechTTSService"] },
    { type: _spech_totext_service__WEBPACK_IMPORTED_MODULE_7__["SpechTotextService"] },
    { type: _speech_data_provider_service__WEBPACK_IMPORTED_MODULE_9__["SpeechDataProviderService"] },
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"] },
    { type: _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"] }
];
ComandAnalizerService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_crud_http_service__WEBPACK_IMPORTED_MODULE_4__["CrudHttpService"],
        _spech_tts_service__WEBPACK_IMPORTED_MODULE_8__["SpechTTSService"],
        _spech_totext_service__WEBPACK_IMPORTED_MODULE_7__["SpechTotextService"],
        _speech_data_provider_service__WEBPACK_IMPORTED_MODULE_9__["SpeechDataProviderService"],
        _info_token_service__WEBPACK_IMPORTED_MODULE_5__["InfoTockenService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
        _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"]
        // private spechProviderConnectService: SpechProviderConnectService,
    ])
], ComandAnalizerService);



/***/ }),

/***/ "./src/app/shared/services/speech/spech-provider-connect.service.ts":
/*!**************************************************************************!*\
  !*** ./src/app/shared/services/speech/spech-provider-connect.service.ts ***!
  \**************************************************************************/
/*! exports provided: SpechProviderConnectService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpechProviderConnectService", function() { return SpechProviderConnectService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let SpechProviderConnectService = class SpechProviderConnectService {
    constructor() {
        this.speechDataEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.ttsDataEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    emit(title, payload) {
        return false;
    }
};
SpechProviderConnectService.ctorParameters = () => [];
SpechProviderConnectService.propDecorators = {
    speechDataEvent: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }],
    ttsDataEvent: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"] }]
};
SpechProviderConnectService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
    // export class SpechProviderConnectService extends Socket {
    ,
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], SpechProviderConnectService);



/***/ }),

/***/ "./src/app/shared/services/speech/spech-totext.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/shared/services/speech/spech-totext.service.ts ***!
  \****************************************************************/
/*! exports provided: SpechTotextService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpechTotextService", function() { return SpechTotextService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs_internal_operators_delay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/internal/operators/delay */ "./node_modules/rxjs/internal/operators/delay.js");
/* harmony import */ var rxjs_internal_operators_delay__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_delay__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spech-provider-connect.service */ "./src/app/shared/services/speech/spech-provider-connect.service.ts");





let SpechTotextService = class SpechTotextService {
    constructor(speechProviverConnet) {
        this.speechProviverConnet = speechProviverConnet;
        // @Output() speechTexResponse: EventEmitter<any> = new EventEmitter();
        this.speechTexResponseSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.speechTexResponse$ = this.speechTexResponseSource.asObservable().pipe(Object(rxjs_internal_operators_delay__WEBPACK_IMPORTED_MODULE_3__["delay"])(400));
        // si esta recibiendo traducciones
        this.listenOnTraduceSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.listenOnTraduce$ = this.listenOnTraduceSource.asObservable();
        this.lastTranscript = '';
        // ================= CONFIG =================
        // Stream Audio
        this.bufferSize = 2048;
        // variables
        this.audioElement = document.querySelector('audio');
        this.finalWord = false;
        // resultText = document.getElementById('ResultText');
        this.removeLastSentence = true;
        this.streamStreaming = false;
        // audioStream constraints
        this.constraints = {
            audio: true,
            video: false,
        };
        this.downsampleBuffer = function (buffer, sampleRate, outSampleRate) {
            if (outSampleRate === sampleRate) {
                return buffer;
            }
            if (outSampleRate > sampleRate) {
                throw new Error('downsampling rate show be smaller than original sample rate');
            }
            const sampleRateRatio = sampleRate / outSampleRate;
            const newLength = Math.round(buffer.length / sampleRateRatio);
            const result = new Int16Array(newLength);
            let offsetResult = 0;
            let offsetBuffer = 0;
            while (offsetResult < result.length) {
                const nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);
                let accum = 0, count = 0;
                for (let i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {
                    accum += buffer[i];
                    count++;
                }
                result[offsetResult] = Math.min(1, accum / count) * 0x7fff;
                offsetResult++;
                offsetBuffer = nextOffsetBuffer;
            }
            return result.buffer;
        };
        this.speechProviverConnet.speechDataEvent.subscribe(data => {
            this.speechData(data);
            this.listenOnTraduceSource.next(true);
        });
    }
    // connectar() {
    //   this.speechProviverConnet.connectar();
    // }
    startRecording() {
        this.initRecording();
    }
    initRecording() {
        this.speechProviverConnet.emit('startGoogleCloudStream', ''); // init socket Google Speech Connection
        this.streamStreaming = true;
        this.AudioContext = window.AudioContext;
        this.context = new AudioContext({
        // if Non-interactive, use 'playback' or 'balanced' // https://developer.mozilla.org/en-US/docs/Web/API/AudioContextLatencyCategory
        // latencyHint: 'interactive',
        });
        this.processor = this.context.createScriptProcessor(this.bufferSize, 1, 1);
        this.processor.connect(this.context.destination);
        this.context.resume();
        const handleSuccess = (stream) => {
            this.globalStream = stream;
            this.input = this.context.createMediaStreamSource(stream);
            this.input.connect(this.processor);
            this.processor.onaudioprocess = (e) => {
                // this.microphoneProcess(e);
                const left = e.inputBuffer.getChannelData(0);
                // var left16 = convertFloat32ToInt16(left); // old 32 to 16 function
                const left16 = this.downsampleBuffer(left, 44100, 16000);
                // console.log('emit audio');
                this.speechProviverConnet.emit('binaryData', left16);
            };
        };
        navigator.mediaDevices.getUserMedia(this.constraints).then(handleSuccess);
    }
    microphoneProcess(e) {
        const left = e.inputBuffer.getChannelData(0);
        // var left16 = convertFloat32ToInt16(left); // old 32 to 16 function
        const left16 = this.downsampleBuffer(left, 44100, 16000);
        this.speechProviverConnet.emit('binaryData', left16);
    }
    stopRecording() {
        // waited for FinalWord
        this.streamStreaming = false;
        this.speechProviverConnet.emit('endGoogleCloudStream', '');
        this.listenOnTraduceSource.next(false);
        const track = this.globalStream.getTracks()[0];
        track.stop();
        this.input.disconnect(this.processor);
        this.processor.disconnect(this.context.destination);
        this.context.close().then(() => {
            this.input = null;
            this.processor = null;
            this.context = null;
            this.AudioContext = null;
            // this.startButton.disabled = false;
        });
    }
    speechData(data) {
        // const dataFinal = undefined || data.results[0].isFinal;
        // console.log('api speech response from speech to text', data.results);
        // console.log(data.results);
        // this.speechTexResponse.emit(data.results);
        // if ( !dataFinal ) { return; }
        if (data.results.length === 0) {
            return;
        }
        if (this.lastTranscript === data.results[0].alternatives[0].transcript.toLowerCase()) {
            return;
        }
        // data.results[0].alternatives[0].transcript = data.results[0].alternatives[0].transcript.replace(this.lastTranscript, '').trim();
        this.speechTexResponseSource.next(data.results);
        this.lastTranscript = data.results[0].alternatives[0].transcript.toLowerCase();
        // if (dataFinal === false) {}
        // console.log('Google Speech sent final Sentence.');
        this.finalWord = true;
    }
    capitalize(s) {
        if (s.length < 1) {
            return s;
        }
        return s.charAt(0).toUpperCase() + s.slice(1);
    }
};
SpechTotextService.ctorParameters = () => [
    { type: _spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_4__["SpechProviderConnectService"] }
];
SpechTotextService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_4__["SpechProviderConnectService"]])
], SpechTotextService);



/***/ }),

/***/ "./src/app/shared/services/speech/spech-tts.service.ts":
/*!*************************************************************!*\
  !*** ./src/app/shared/services/speech/spech-tts.service.ts ***!
  \*************************************************************/
/*! exports provided: SpechTTSService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpechTTSService", function() { return SpechTTSService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spech-provider-connect.service */ "./src/app/shared/services/speech/spech-provider-connect.service.ts");
/* harmony import */ var src_app_modelos_send_data_tts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/modelos/send.data.tts */ "./src/app/modelos/send.data.tts.ts");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _config_config_const__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../config/config.const */ "./src/app/shared/config/config.const.ts");






let SpechTTSService = class SpechTTSService {
    constructor(speechProviverConnet) {
        this.speechProviverConnet = speechProviverConnet;
        this.isTalkingSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](false);
        this.isTalking$ = this.isTalkingSource.asObservable();
        this.sendDataTTS = new src_app_modelos_send_data_tts__WEBPACK_IMPORTED_MODULE_3__["SendDataTTS"]();
        this.speechProviverConnet.ttsDataEvent.subscribe((data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // console.log('respuesta audio', data);
            // const context = new AudioContext();
            // const buffer = await context.decodeAudioData(data);
            // const source = context.createBufferSource();
            // source.buffer = buffer;
            // source.connect(context.destination);
            // source.start();
            const _urlAudio = `${_config_config_const__WEBPACK_IMPORTED_MODULE_5__["URL_SERVER_FILE_AUDIO_SPEECH"]}${data}`;
            const audio = new Audio(_urlAudio);
            audio.play();
            this.isTalkingSource.next(true);
            audio.addEventListener('ended', () => {
                // console.log('finalizo hablar');
                this.isTalkingSource.next(false);
            });
        }));
    }
    // enviar txt to tts
    convertTxtToVoice(data) {
        this.speechProviverConnet.emit('tts', data);
    }
};
SpechTTSService.ctorParameters = () => [
    { type: _spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_2__["SpechProviderConnectService"] }
];
SpechTTSService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_spech_provider_connect_service__WEBPACK_IMPORTED_MODULE_2__["SpechProviderConnectService"]])
], SpechTTSService);



/***/ }),

/***/ "./src/app/shared/services/speech/speech-data-provider.service.ts":
/*!************************************************************************!*\
  !*** ./src/app/shared/services/speech/speech-data-provider.service.ts ***!
  \************************************************************************/
/*! exports provided: SpeechDataProviderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpeechDataProviderService", function() { return SpeechDataProviderService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _establecimiento_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../establecimiento.service */ "./src/app/shared/services/establecimiento.service.ts");
/* harmony import */ var _mipedido_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mipedido.service */ "./src/app/shared/services/mipedido.service.ts");
/* harmony import */ var _navigator_link_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../navigator-link.service */ "./src/app/shared/services/navigator-link.service.ts");
/* harmony import */ var _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");







let SpeechDataProviderService = class SpeechDataProviderService {
    constructor(establecimientoService, miPedidoService, navigatorLinkService, uttilService) {
        this.establecimientoService = establecimientoService;
        this.miPedidoService = miPedidoService;
        this.navigatorLinkService = navigatorLinkService;
        this.uttilService = uttilService;
        // escucha comando navegacion seccion
        this.commandNavegacionSeccionSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.commandNavegacionSeccion$ = this.commandNavegacionSeccionSource.asObservable();
        this.commandNavegacionRecomendadoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]([]);
        this.commandNavegacionRecomendado$ = this.commandNavegacionRecomendadoSource.asObservable();
        this.commandAddItemSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
        this.commandAddItem$ = this.commandAddItemSource.asObservable();
        // 1 = check 2 doble cheeck o beep
        this.commandAceptadoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](0);
        this.commandAceptado$ = this.commandAceptadoSource.asObservable();
        this.commandFinalizarPedidoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.commandFinalizarPedido$ = this.commandFinalizarPedidoSource.asObservable();
        this.commandIsShowPedidoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.commandIsShowPedido$ = this.commandIsShowPedidoSource.asObservable();
        // pedido confirmado enviado
        this.isPedidoEnviadoSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isPedidoEnviado$ = this.isPedidoEnviadoSource.asObservable();
    }
    // ===== provee datos de seccion INCIO ======= //
    getNameSede() {
        return this.establecimientoService.get().nombre;
    }
    getIdSede() {
        return this.establecimientoService.get().idsede;
    }
    // ===== provee datos de seccion CARTA ======= //
    getSeccionesCarta() {
        var _a;
        let arrSeccines = '';
        if (this.arrStringSecciones) {
            return this.arrStringSecciones;
        }
        // if ( !this.laCarta ) {this.getCarta(); }
        this.getCarta();
        arrSeccines += ((_a = this.laCarta) === null || _a === void 0 ? void 0 : _a.bodega) ? this.laCarta.bodega.map(s => s.des).join(',') || '' + ',' : '';
        arrSeccines = this.laCarta.carta.map(c => c.secciones.map(s => s.des)).join(',');
        this.arrStringSecciones = arrSeccines;
        return arrSeccines;
    }
    getItemsCarta() {
        var _a, _b;
        let arrItems = '';
        if (this.arrStringItems) {
            return this.arrStringItems;
        }
        // if ( !this.laCarta ) {this.getCarta(); }
        this.getCarta();
        arrItems += ((_a = this.laCarta) === null || _a === void 0 ? void 0 : _a.bodega) ? ((_b = this.laCarta) === null || _b === void 0 ? void 0 : _b.bodega.map(s => s.items.map(i => i.des)).join(',')) || '' + ',' : '';
        arrItems = this.laCarta.carta.map(c => c.secciones.map(s => s.items.map(i => i.des))).join(',');
        this.arrStringItems = arrItems;
        return arrItems;
    }
    getItemsSeccionSelected(nameSeccion) {
        var _a;
        let isSeccionBodega = true;
        nameSeccion = nameSeccion.toLowerCase();
        let _seccion = ((_a = this.laCarta) === null || _a === void 0 ? void 0 : _a.bodega.find(x => x.des.toLowerCase() === nameSeccion)) || null;
        if (!_seccion) {
            isSeccionBodega = false;
            _seccion = this.laCarta.carta.map(c => c.secciones.find(s => s.des.toLowerCase() === nameSeccion));
        }
        // console.log('_seccion seleted', _seccion);
        return _seccion ? isSeccionBodega ? _seccion.items.map(s => s.des).join(',') : _seccion.map(s => s.items.map(i => i.des)).join(',') || '' : '';
    }
    getItemsSeccionSelectedStr(seccion) {
        return seccion.items.filter(x => x.cantidad !== '0').map(s => s.des).join(',');
    }
    getItemsRecomendadosStr() {
        if (!this.laCarta) {
            this.getCarta();
        }
        return this.laCarta.recomendados ? this.laCarta.recomendados.map(i => i.des).join(',') : null;
    }
    getISeccionSelected(nameSeccion) {
        var _a, _b;
        // let isSeccionBodega = true;
        nameSeccion = nameSeccion.toLowerCase();
        let _seccion = ((_a = this.laCarta) === null || _a === void 0 ? void 0 : _a.bodega) ? (_b = this.laCarta) === null || _b === void 0 ? void 0 : _b.bodega.find(x => x.des.toLowerCase() === nameSeccion) : null;
        if (!_seccion) {
            // isSeccionBodega = false;
            _seccion = this.laCarta.carta.map(c => c.secciones.find(s => s.des.toLowerCase() === nameSeccion))[0];
        }
        // console.log('_seccion seleted', _seccion);
        return _seccion;
    }
    getIItemsSelected(nameItem) {
        var _a, _b;
        // let isSeccionBodega = true;
        nameItem = nameItem.toLowerCase();
        let _item = ((_a = this.laCarta) === null || _a === void 0 ? void 0 : _a.bodega) ? (_b = this.laCarta) === null || _b === void 0 ? void 0 : _b.bodega.map(x => x.items.find(i => i.des.toLowerCase() === nameItem)).find(x => x) : null;
        if (!_item) {
            // isSeccionBodega = false;
            _item = this.laCarta.carta.map(c => c.secciones.map(s => s.items.find(i => i.des.toLowerCase() === nameItem)))[0].find(x => x);
        }
        // console.log('_item seleted', _item);
        return _item;
    }
    getCarta() {
        this.laCarta = this.miPedidoService.getObjCarta();
        // console.log('this.laCarta', this.laCarta);
    }
    getIsPedidoValido() {
        const _miPedido = this.miPedidoService.getMiPedido();
        return _miPedido ? true : false;
    }
    // =========== COMANDOS NAVEGACION EN LA CARTA ==== //////////////////////////////////
    goNavegacionSeccionCarta(seccion) {
        this.commandNavegacionSeccionSource.next(seccion);
        this.goNavigacionShowCarta();
    }
    goNavegacionItemRecomendados() {
        const _recomendados = this.laCarta.recomendados;
        this.commandNavegacionRecomendadoSource.next(_recomendados);
        this.goNavigacionShowCarta();
    }
    goNavigacionShowMiPedido() {
        this.navigatorLinkService.setPageActive('mipedido');
        this.commandIsShowPedidoSource.next(true);
    }
    goNavigacionShowCarta() {
        this.navigatorLinkService.setPageActive('carta');
    }
    // goNavigacionShowPedidoConfirma() {
    //   this.navigatorLinkService.setPageActive('mipedido-confirma');
    // }
    // ============ para agregar item === //
    addItemPedido(item) {
        this.commandAddItemSource.next(item);
    }
    setIsCommandAceptado(val) {
        this.commandAceptadoSource.next(val);
    }
    setFinalizarPedido(val) {
        this.commandFinalizarPedidoSource.next(val);
    }
    setIsPedidoConfirmado() {
        this.isPedidoEnviadoSource.next(true);
    }
    // = indiciaciones
    setIndicaciones(item, val) {
        item.indicaciones = this.uttilService.addslashes(val);
        // this.item.indicaciones = val;
        // let isItemSubISelected = false;
        // if ( this.isObjSubItems ) {
        //   isItemSubISelected = this.item.subitems_selected?.length > 0;
        // }
        // agrega las indicaciones si existe en mipedido y si no tienen subitems
        const _itemFromPedido = this.miPedidoService.findOnlyItemMiPedido(item);
        if (_itemFromPedido) {
            _itemFromPedido.indicaciones = val;
        }
        // if ( _itemFromPedido && !isItemSubISelected ) {
        //   _itemFromPedido.indicaciones = val;
        // }
        this.miPedidoService.setLocalStoragePedido();
    }
};
SpeechDataProviderService.ctorParameters = () => [
    { type: _establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"] },
    { type: _mipedido_service__WEBPACK_IMPORTED_MODULE_4__["MipedidoService"] },
    { type: _navigator_link_service__WEBPACK_IMPORTED_MODULE_5__["NavigatorLinkService"] },
    { type: _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"] }
];
SpeechDataProviderService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_establecimiento_service__WEBPACK_IMPORTED_MODULE_3__["EstablecimientoService"],
        _mipedido_service__WEBPACK_IMPORTED_MODULE_4__["MipedidoService"],
        _navigator_link_service__WEBPACK_IMPORTED_MODULE_5__["NavigatorLinkService"],
        _utilitarios_service__WEBPACK_IMPORTED_MODULE_6__["UtilitariosService"]])
], SpeechDataProviderService);



/***/ }),

/***/ "./src/app/shared/services/storage.service.ts":
/*!****************************************************!*\
  !*** ./src/app/shared/services/storage.service.ts ***!
  \****************************************************/
/*! exports provided: StorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StorageService", function() { return StorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");


let StorageService = class StorageService {
    constructor() { }
    set(key, data) {
        localStorage.setItem(key, data);
    }
    get(key) {
        return localStorage.getItem(key);
    }
    isExistKey(key) {
        return localStorage.getItem(key) ? true : false;
    }
    clear(key) {
        localStorage.removeItem(key);
    }
};
StorageService.ctorParameters = () => [];
StorageService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [])
], StorageService);



/***/ }),

/***/ "./src/app/shared/services/timer-limit.service.ts":
/*!********************************************************!*\
  !*** ./src/app/shared/services/timer-limit.service.ts ***!
  \********************************************************/
/*! exports provided: TimerLimitService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimerLimitService", function() { return TimerLimitService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/internal/BehaviorSubject */ "./node_modules/rxjs/internal/BehaviorSubject.js");
/* harmony import */ var rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");




let TimerLimitService = class TimerLimitService {
    constructor(infoToken) {
        this.infoToken = infoToken;
        this.countdownTimerRef = null;
        this.init = 0;
        this.valPorcentaje = 0;
        this.isPlayTimer = false;
        this.dateNow = new Date();
        this.countdownSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](0);
        this.countdown$ = this.countdownSource.asObservable();
        this.isTimeLimitSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isTimeLimitComplet$ = this.isTimeLimitSource.asObservable();
        this.isPorgressVisibleSource = new rxjs_internal_BehaviorSubject__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](false);
        this.isPorgressVisible$ = this.isPorgressVisibleSource.asObservable();
    }
    destroy() {
        this.clearTimeout();
    }
    playCountTimerLimit() {
        if (this.infoToken.isDelivery() || this.infoToken.isReserva()) {
            return;
        } // cuando es delivery no cuenta tiempo
        if (this.isPlayTimer) {
            return;
        }
        this.isPlayTimer = true;
        this.initCount();
    }
    resetCountTimerLimit() {
        if (this.infoToken.isDelivery()) {
            return;
        } // cuando es delivery no cuenta tiempo
        if (localStorage.getItem('sys::tcount')) {
            this.isPlayTimer = true;
            this.initCount();
        }
        else {
            this.stopCountTimerLimit();
        }
    }
    initCount() {
        if (this.infoToken.isDelivery()) {
            return;
        } // cuando es delivery no cuenta tiempo
        this.valPorcentaje = 0;
        this.init = localStorage.getItem('sys::tcount') ? parseInt(localStorage.getItem('sys::tcount'), 0) : 0;
        this.isTimeLimitSource.next(false);
        this.isPorgressVisibleSource.next(true);
        this.progressCount();
    }
    progressCount() {
        let lastValPorcentaje = 0;
        if (!this.isPlayTimer) {
            return;
        }
        this.countdownTimerRef = setTimeout(() => {
            this.init = this.setTimeDate();
            this.valPorcentaje = Math.round((this.init / this.maxTime) * 100);
            // guardamos en el
            localStorage.setItem('sys::tcount', this.init.toString());
            if (this.init > this.maxTime) {
                this.init = this.maxTime;
                this.valPorcentaje = 100;
                this.countdownSource.next(this.valPorcentaje);
                this.isTimeLimitSource.next(true);
                this.stopCountTimerLimit();
            }
            else {
                // console.log('timer limit', this.valPorcentaje);
                // para que no salga la alerta de incio solo una vez
                if (lastValPorcentaje !== this.valPorcentaje) {
                    this.countdownSource.next(this.valPorcentaje);
                }
                this.progressCount();
            }
            lastValPorcentaje = this.valPorcentaje;
        }, 1000);
    }
    setTimeDate() {
        const ms_new = new Date().getTime();
        const timeAfter = localStorage.getItem('sys::tnum') ? parseInt(localStorage.getItem('sys::tnum'), 0) : ms_new;
        const ms = ms_new - timeAfter;
        const sec = Math.floor((ms / 1000));
        localStorage.setItem('sys::tnum', timeAfter.toString());
        return sec;
    }
    stopCountTimerLimit() {
        this.isPlayTimer = false;
        this.init = 0;
        this.valPorcentaje = 0;
        localStorage.removeItem('sys::tcount');
        localStorage.removeItem('sys::tnum');
        this.clearTimeout();
        this.isPorgressVisibleSource.next(false);
        this.isTimeLimitSource.next(false);
    }
    clearTimeout() {
        if (this.countdownTimerRef) {
            clearTimeout(this.countdownTimerRef);
            this.countdownTimerRef = null;
        }
    }
};
TimerLimitService.ctorParameters = () => [
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"] }
];
TimerLimitService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_info_token_service__WEBPACK_IMPORTED_MODULE_3__["InfoTockenService"]])
], TimerLimitService);



/***/ }),

/***/ "./src/app/shared/services/utilitarios.service.ts":
/*!********************************************************!*\
  !*** ./src/app/shared/services/utilitarios.service.ts ***!
  \********************************************************/
/*! exports provided: UtilitariosService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilitariosService", function() { return UtilitariosService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/clipboard */ "./node_modules/@angular/cdk/__ivy_ngcc__/fesm2015/clipboard.js");
/* harmony import */ var string_similarity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! string-similarity */ "./node_modules/string-similarity/src/index.js");
/* harmony import */ var string_similarity__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(string_similarity__WEBPACK_IMPORTED_MODULE_3__);




let UtilitariosService = class UtilitariosService {
    constructor(clipboard) {
        this.clipboard = clipboard;
    }
    primeraConMayusculas(field) {
        field = field.toLowerCase();
        return field.charAt(0).toUpperCase() + field.slice(1);
    }
    reformatDate(dateStr) {
        const dArr = dateStr.split('-'); // ex input "2010-01-18"
        return dArr[2] + '/' + dArr[1] + '/' + dArr[0]; // ex out: "18/01/10"
    }
    // optione el sistema operativo del cliente
    getOS() {
        const userAgent = window.navigator.userAgent;
        const platform = window.navigator.platform;
        const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];
        const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];
        const iosPlatforms = ['iPhone', 'iPad', 'iPod'];
        let os = null;
        if (macosPlatforms.indexOf(platform) !== -1) {
            os = 'Mac OS';
        }
        else if (iosPlatforms.indexOf(platform) !== -1) {
            os = 'iOS';
        }
        else if (windowsPlatforms.indexOf(platform) !== -1) {
            os = 'Windows';
        }
        else if (/Android/.test(userAgent)) {
            os = 'Android';
        }
        else if (!os && /Linux/.test(platform)) {
            os = 'Linux';
        }
        return os;
    }
    // remplazar caracteres especiales por ''
    addslashes(_string) {
        if (!_string) {
            return;
        }
        return _string.replace(/\\/g, '').
            replace(/\u0008/g, '\\b').
            replace(/\t/g, '').
            replace(/\n/g, '').
            replace(/\f/g, '').
            replace(/\r/g, '').
            replace(/'/g, '').
            replace(/"/g, '');
    }
    // compartir data titulo y url
    sharedNative(urlCartaVirtual, nomSede) {
        // verificar si es telfono
        const _oSUs = this.getOS();
        if (_oSUs === 'Windows' || _oSUs === 'Mac OS') {
            this.clipboard.copy(urlCartaVirtual);
            return;
        }
        if (navigator.share) {
            navigator.share({
                title: 'Carta Virutal ' + nomSede,
                url: urlCartaVirtual
            }).then(() => {
                console.log('Thanks for sharing!');
                return { mensaje: 'Copiado' };
            })
                .catch(console.error);
        }
        else {
            // fallback
        }
    }
    // reproduce sonido bepp
    beep() {
        // tslint:disable-next-line:max-line-length
        const snd = new Audio('data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=');
        snd.play();
    }
    delay(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    compareSimilaryText(s1, s2) {
        return Object(string_similarity__WEBPACK_IMPORTED_MODULE_3__["compareTwoStrings"])(s1, s2);
    }
};
UtilitariosService.ctorParameters = () => [
    { type: _angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_2__["Clipboard"] }
];
UtilitariosService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root',
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_2__["Clipboard"]])
], UtilitariosService);



/***/ }),

/***/ "./src/app/shared/services/verify-auth-client.service.ts":
/*!***************************************************************!*\
  !*** ./src/app/shared/services/verify-auth-client.service.ts ***!
  \***************************************************************/
/*! exports provided: VerifyAuthClientService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerifyAuthClientService", function() { return VerifyAuthClientService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _auth0_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth0.service */ "./src/app/shared/services/auth0.service.ts");
/* harmony import */ var _crud_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./crud-http.service */ "./src/app/shared/services/crud-http.service.ts");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/Subject */ "./node_modules/rxjs/internal/Subject.js");
/* harmony import */ var rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var src_app_modelos_socket_client_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/modelos/socket.client.model */ "./src/app/modelos/socket.client.model.ts");
/* harmony import */ var _utilitarios_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utilitarios.service */ "./src/app/shared/services/utilitarios.service.ts");
/* harmony import */ var _info_token_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./info-token.service */ "./src/app/shared/services/info-token.service.ts");
/* harmony import */ var rxjs_internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/internal/operators/shareReplay */ "./node_modules/rxjs/internal/operators/shareReplay.js");
/* harmony import */ var rxjs_internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var rxjs_internal_operators_catchError__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/internal/operators/catchError */ "./node_modules/rxjs/internal/operators/catchError.js");
/* harmony import */ var rxjs_internal_operators_catchError__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_catchError__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var rxjs_internal_operators_share__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/internal/operators/share */ "./node_modules/rxjs/internal/operators/share.js");
/* harmony import */ var rxjs_internal_operators_share__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators_share__WEBPACK_IMPORTED_MODULE_11__);








// import { Router } from '@angular/router';
// import { AuthService } from './auth.service';




let VerifyAuthClientService = class VerifyAuthClientService {
    // private subjectClientSource = new BehaviorSubject<any>(null);
    // public subjectClient$ = this.subjectClientSource.asObservable();
    constructor(auth, crudService, utilService, infoToken
    // private router: Router
    ) {
        this.auth = auth;
        this.crudService = crudService;
        this.utilService = utilService;
        this.infoToken = infoToken;
        this.subjectClient = new rxjs_internal_Subject__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.isClientValid = false;
    }
    isLogin() {
        return this.auth.loggedIn;
    }
    // en el caso de que es trunco
    setLoginOn(val) {
        this.auth.loggedIn = val;
    }
    setIdOrg(val) {
        this.clientSocket.idorg = val;
        this.setDataClient();
    }
    setIdSede(val) {
        this.clientSocket.idsede = val;
        this.setDataClient();
    }
    setMesa(val) {
        this.clientSocket.numMesaLector = val;
        this.setDataClient();
    }
    setIsSoloLLevar(val) {
        this.clientSocket.isSoloLLevar = val;
        this.setDataClient();
    }
    setQrSuccess(val) {
        this.clientSocket.isQrSuccess = val;
        this.setDataClient();
    }
    setIsDelivery(val) {
        this.clientSocket.isDelivery = val;
        this.setDataClient();
    }
    setIsReserva(val) {
        this.clientSocket.isReserva = val;
        this.setDataClient();
    }
    setIsRetiroCash(val) {
        this.clientSocket.isRetiroCash = val;
        this.setDataClient();
    }
    setDireccionDeliverySelected(val) {
        this.clientSocket.direccionEnvioSelected = val;
        this.setDataClient();
    }
    setIsLoginByDNI(val) {
        this.clientSocket.isLoginByDNI = val;
        this.setDataClient();
    }
    setIsLoginByInvitado(val) {
        this.clientSocket.isLoginByInvitado = val;
        this.setDataClient();
    }
    setIsLoginByTelefono(val) {
        this.clientSocket.isLoginByTelefono = val;
        this.setDataClient();
    }
    setTelefono(val) {
        this.clientSocket.telefono = val;
        this.setDataClient();
    }
    getIsLoginByDNI() {
        // this.getDataClient();
        if (!this.clientSocket) {
            this.getDataClient();
        }
        return this.clientSocket.isLoginByDNI || false;
    }
    getIsQrSuccess() {
        // this.getDataClient();
        if (!this.clientSocket) {
            this.getDataClient();
        }
        return this.clientSocket.isQrSuccess || false;
    }
    getIsDelivery() {
        // this.getDataClient();
        if (!this.clientSocket) {
            this.getDataClient();
        }
        return this.clientSocket.isDelivery || false;
    }
    getIsReserva() {
        // this.getDataClient();
        if (!this.clientSocket) {
            this.getDataClient();
        }
        return this.clientSocket.isReserva || false;
    }
    getIsRetiroCash() {
        // this.getDataClient();
        if (!this.clientSocket) {
            this.getDataClient();
        }
        return this.clientSocket.isRetiroCash || false;
    }
    verifyClient() {
        return new rxjs__WEBPACK_IMPORTED_MODULE_5__["Observable"](observerVerify => {
            // console.log('this.clientSocket verifyClient', this.clientSocket);
            const _infoTokenIsUsuarioAutorizado = this.infoToken.isUsuarioAutorizado();
            this.getDataClient();
            if (_infoTokenIsUsuarioAutorizado) {
                observerVerify.next(this.clientSocket);
                return;
            }
            this.registerCliente();
            // observerVerify.next(this.clientSocket);
            setTimeout(() => {
                observerVerify.next(this.clientSocket);
            }, 300);
        }).pipe(Object(rxjs_internal_operators_shareReplay__WEBPACK_IMPORTED_MODULE_9__["shareReplay"])(1));
    }
    // solo al loguear
    verifyClientLogin() {
        return new rxjs__WEBPACK_IMPORTED_MODULE_5__["Observable"](observer => {
            var _a, _b;
            let _dataClientReurn = null;
            const _infoTokenIsUsuarioAutorizado = this.infoToken.isUsuarioAutorizado();
            // console.log('_infoTokenIsUsuarioAutorizado', _infoTokenIsUsuarioAutorizado);
            // let resObservable = null;
            this.getDataClient();
            if (_infoTokenIsUsuarioAutorizado) {
                observer.next(this.clientSocket);
                return;
            }
            // resObservable = this.clientSocket;
            // verrifica si esta logueado
            if (((_a = this.clientSocket) === null || _a === void 0 ? void 0 : _a.isLoginByDNI) || ((_b = this.clientSocket) === null || _b === void 0 ? void 0 : _b.isLoginByTelefono)) {
                // verifica y registra el cliente en la bd
                this.registerCliente();
                _dataClientReurn = this.clientSocket;
                setTimeout(() => {
                    observer.next(_dataClientReurn);
                }, 200);
                return;
            }
            // setTimeout(() => {
            // this.auth.getUser$();
            this.auth.userProfile$.subscribe(resp => {
                if (!resp) {
                    if (!this.clientSocket.datalogin) {
                        _dataClientReurn = null;
                        observer.next(_dataClientReurn);
                    }
                    else {
                        this.clientSocket.isCliente = true;
                        this.setDataClient();
                        // verifica y registra el cliente en la bd
                        this.registerCliente();
                        _dataClientReurn = this.clientSocket;
                        // console.log('aaaaa');
                        setTimeout(() => {
                            // console.log('responde');
                            observer.next(_dataClientReurn);
                        }, 500);
                    }
                }
                else {
                    this.clientSocket.datalogin = resp;
                    // if ( this.clientSocket.idcliente ) {
                    this.clientSocket.isCliente = true;
                    // }
                    this.setDataClient();
                    // verifica y registra el cliente en la bd
                    this.registerCliente();
                    _dataClientReurn = this.clientSocket;
                    setTimeout(() => {
                        observer.next(_dataClientReurn);
                    }, 500);
                }
                // guarda vista demostracion para no cargar nuevamente
                //
            }, (error) => {
                console.log(error);
            }, () => { console.log('complete'); });
        }).pipe(
        // shareReplay(1),
        Object(rxjs_internal_operators_share__WEBPACK_IMPORTED_MODULE_11__["share"])(), Object(rxjs_internal_operators_catchError__WEBPACK_IMPORTED_MODULE_10__["catchError"])(err => Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["throwError"])(err)));
    }
    registerInvitado() {
        this.registerCliente();
    }
    // private returnClientNull() {
    //   this.subjectClient.next(null);
    // }
    registerCliente() {
        let idClient = 0;
        this.clientSocket.systemOS = this.utilService.getOS();
        this.crudService.postFree(this.clientSocket, 'ini', 'register-cliente-login', false).subscribe((rpt) => {
            if (!rpt.success) {
                return;
            }
            // login en backend
            idClient = rpt.data[0].idcliente;
            const nombres = rpt.data[0].nombres;
            localStorage.setItem('sys::idinv', idClient.toString()); // guarda el idivitado}
            this.clientSocket.idcliente = idClient;
            if (this.clientSocket.isLoginByInvitado) {
                this.clientSocket.datalogin.name = nombres;
                this.clientSocket.datalogin.given_name = nombres.split(' ')[0];
            }
            this.clientSocket.nombres = this.clientSocket.datalogin.name;
            this.clientSocket.usuario = this.clientSocket.datalogin.given_name;
            this.clientSocket.isCliente = true;
            this.clientSocket.telefono = rpt.data[0].telefono;
            // console.log('this.clientSocke', this.clientSocket);
            // guarda en el usuario temporal
            this.setDataClient();
            // window.localStorage.setItem('sys::tpm', JSON.stringify(this.clientSocket));
            this.subjectClient.next(this.clientSocket);
        });
    }
    setDataClient() {
        const dataClie = JSON.stringify(this.clientSocket);
        localStorage.setItem('sys::tpm', btoa(dataClie));
    }
    setLinkRedirecLogin(_link) {
        localStorage.setItem('sys::lrl', _link);
    }
    // link de redireccionamiento despues del login
    getLinkRedirecLogin() {
        let _link = localStorage.getItem('sys::lrl');
        _link = _link ? _link : '';
        return _link;
    }
    getDataClient() {
        const dataClie = localStorage.getItem('sys::tpm');
        if (!dataClie) {
            this.clientSocket = new src_app_modelos_socket_client_model__WEBPACK_IMPORTED_MODULE_6__["SocketClientModel"]();
        }
        else {
            try {
                this.clientSocket = JSON.parse(atob(dataClie));
            }
            catch (error) {
                if (this.clientSocket) {
                    if (!this.clientSocket.datalogin) {
                        this.clientSocket = new src_app_modelos_socket_client_model__WEBPACK_IMPORTED_MODULE_6__["SocketClientModel"]();
                    }
                }
                else {
                    this.clientSocket = new src_app_modelos_socket_client_model__WEBPACK_IMPORTED_MODULE_6__["SocketClientModel"]();
                }
            }
        }
        return this.clientSocket;
    }
    autoRegisterLoginByInvitado() {
        this.clientSocket.datalogin = {
            name: 'Invitado',
            given_name: 'Invitado'
        };
        const _idInvitadoStorage = localStorage.getItem('sys::idinv'); // guarda el idivitado}
        this.clientSocket.idcliente = _idInvitadoStorage ? parseInt(_idInvitadoStorage, 0) : 0;
        this.setIsLoginByDNI(false);
        this.setIsLoginByTelefono(false);
        this.setIsLoginByInvitado(true);
        this.registerInvitado();
    }
    loginOut() {
        if (!this.clientSocket.isLoginByInvitado) {
            this.auth.logout();
        }
        localStorage.removeItem('sys::tpm');
    }
    unsubscribeClient() {
        this.subjectClient.unsubscribe();
    }
};
VerifyAuthClientService.ctorParameters = () => [
    { type: _auth0_service__WEBPACK_IMPORTED_MODULE_2__["Auth0Service"] },
    { type: _crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"] },
    { type: _utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"] },
    { type: _info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"] }
];
VerifyAuthClientService = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_auth0_service__WEBPACK_IMPORTED_MODULE_2__["Auth0Service"],
        _crud_http_service__WEBPACK_IMPORTED_MODULE_3__["CrudHttpService"],
        _utilitarios_service__WEBPACK_IMPORTED_MODULE_7__["UtilitariosService"],
        _info_token_service__WEBPACK_IMPORTED_MODULE_8__["InfoTockenService"]
        // private router: Router
    ])
], VerifyAuthClientService);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: true,
    view_mozo: false // true = app solo mozo
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/__ivy_ngcc__/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! F:\projects\capacitor\pwa-app-pedido\src\main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map